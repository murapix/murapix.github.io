/* empty css                    */import"./vue.7234e199.js";import{q as Bn,C as t,ab as se,t as le,aF as $,a1 as P,aL as Ht,bv as Wn,G as Me,as as fn,_ as y,az as ei,a2 as C,J as ee,O as g,aK as Pe,a0 as H,I as De,a8 as u,a9 as a,b7 as ae,aI as dt,aG as mt,b2 as Ct,l as ze,u as wi,aD as $s,w as wt,b3 as xt,ap as Ns,aH as ui,A as ot,$ as ie,b9 as Ui,ar as Bt,bt as ur,bc as Is,T as cr,j as dr,bw as en,ay as mr,aM as Lt,aO as $e,z as nn,bo as pr,bs as fr,am as hi,H as gr,bx as br,a7 as hr,bf as vr}from"./@vue.6b211d3c.js";import{L as tn}from"./lz-string.bfbf8ec3.js";import{c as qs}from"./nanoevents.1080beb7.js";import{Y as yr}from"./vue-next-select.1947c758.js";import{D as _r}from"./vuedraggable.60c57c44.js";import{p as wr}from"./vue-textarea-autosize.35804eaf.js";import{s as kr,u as Ms}from"./vue-toastification.00c27ea8.js";import"./sortablejs.93acc2fb.js";const Sr=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}};Sr();const Cr="modulepreload",vs={},$r="./",Yn=function(n,i){return!i||i.length===0?n():Promise.all(i.map(s=>{if(s=`${$r}${s}`,s in vs)return;vs[s]=!0;const r=s.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":Cr,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((d,m)=>{c.addEventListener("load",d),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n())},Nr="./projInfo-schema.json",Ir="Universal Reconstruction",qr="An expanded reversal of Distance Incremental",Mr="universal_reconstruction",Tr="Escapee",xr="The Paper Pilot Community",Pr="https://discord.gg/WzejVAx",Fr="1.0",Ar="Revitalization",Br=!0,Er=!1,Rr=2,Or=!0,Dr=null,Lr="",jr=["root"],Ur=3600,Vr=!0,Gr="base64";var ye={$schema:Nr,title:Ir,description:qr,id:Mr,author:Tr,discordName:xr,discordLink:Pr,versionNumber:Fr,versionTitle:Ar,allowGoBack:Br,defaultShowSmall:Er,defaultDigitsShown:Rr,useHeader:Or,banner:Dr,logo:Lr,initialTabs:jr,maxTickLength:Ur,enablePausing:Vr,exportEncoding:Gr};const zr=Bn({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});var be=window.player=zr;function Vi(e){return JSON.stringify(e,(n,i)=>t(i))}var fe=(e,n)=>{const i=e.__vccOpts||e;for(const[s,r]of n)i[s]=r;return i};const Hr=["onClick"],Wr=se({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:n}){const i=le(!1),s=le(null);function r(){n("click"),s.value&&clearTimeout(s.value),i.value=!1,fn(()=>{i.value=!0,s.value=setTimeout(()=>i.value=!1,500)})}return(l,c)=>($(),P("button",{onClick:Wn(r,["stop"]),class:Me(["feedback",{activated:i.value,left:e.left}])},[Ht(l.$slots,"default",{},void 0,!0)],10,Hr))}});var ki=fe(Wr,[["__scopeId","data-v-01a1b95c"]]);const Si=e=>(dt("data-v-ac351c02"),e=e(),mt(),e),Yr={class:"error"},Xr={class:"error-title"},Kr={class:"error-details",style:{"margin-top":"-10px"}},Qr={key:0},Zr={class:"instructions"},Jr=["href"],eo=Si(()=>C("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1)),to=Si(()=>C("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)),no=Si(()=>C("br",null,null,-1)),io={key:0,style:{"margin-top":"20px"}},so=Si(()=>C("h3",null,"Other errors",-1)),ro=[so],oo={class:"error-details"},ao={key:0,style:{"margin-top":"10px"}},lo={key:1,style:{"margin-top":"10px"}},uo=se({__name:"Error",props:{errors:null},setup(e){const n=e,i=y(()=>n.errors[0]),s=y(()=>n.errors.map(c=>c.stack==null?[]:c.stack.split(`
`))),r=y(()=>n.errors.map(c=>c.cause==null?[]:(typeof c.cause=="string"?c.cause:JSON.stringify(c.cause)).split(`
`)));function l(){let c=Vi(be);switch(ye.exportEncoding){default:console.warn(`Unknown save encoding: ${ye.exportEncoding}. Defaulting to lz`);case"lz":c=tn.compressToUTF16(c);break;case"base64":c=btoa(unescape(encodeURIComponent(c)));break;case"plain":break}console.log(c);const d=document.createElement("textarea");d.value=c,document.body.appendChild(d),d.select(),d.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(d)}return ei(()=>{be.autosave=!1,be.devSpeed=0}),(c,d)=>($(),P("div",Yr,[C("h1",Xr,ee(t(i).name)+": "+ee(t(i).message),1),C("div",Kr,[t(i).cause?($(),P("div",Qr,[($(!0),P(g,null,Pe(t(r)[0],m=>($(),P("div",{key:m},ee(m),1))),128))])):H("",!0),t(i).stack?($(),P("div",{key:1,style:De(t(i).cause?"margin-top: 10px":"")},[($(!0),P(g,null,Pe(t(s)[0],m=>($(),P("div",{key:m},ee(m),1))),128))],4)):H("",!0)]),C("div",Zr,[u(" Check the console for more details, and consider sharing it with the developers on "),C("a",{href:t(ye).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,Jr),u("! "),a(ki,{onClick:l,class:"button",style:{display:"inline-flex"}},{default:ae(()=>[eo,to]),_:1}),no,e.errors.length>1?($(),P("div",io,ro)):H("",!0),($(!0),P(g,null,Pe(e.errors.slice(1),(m,p)=>($(),P("div",{key:p,style:{"margin-top":"20px"}},[C("details",oo,[C("summary",null,ee(m.name)+": "+ee(m.message),1),m.cause?($(),P("div",ao,[($(!0),P(g,null,Pe(t(r)[p+1],b=>($(),P("div",{key:b},ee(b),1))),128))])):H("",!0),m.stack?($(),P("div",lo,[($(!0),P(g,null,Pe(t(s)[p+1],b=>($(),P("div",{key:b},ee(b),1))),128))])):H("",!0)])]))),128))])]))}});var Ts=fe(uo,[["__scopeId","data-v-ac351c02"]]);class co{constructor(n){this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=n}get size(){return this.map.size}get(n){const i=this.map.get(n);if(i!==void 0)return i!==this.first&&(i===this.last?(this.last=i.prev,this.last.next=void 0):(i.prev.next=i.next,i.next.prev=i.prev),i.next=this.first,this.first.prev=i,this.first=i),i.value}set(n,i){if(this.maxSize<1)return;if(this.map.has(n))throw new Error("Cannot update existing keys in the cache");const s=new mo(n,i);for(this.first===void 0?(this.first=s,this.last=s):(s.next=this.first,this.first.prev=s,this.first=s),this.map.set(n,s);this.map.size>this.maxSize;){const r=this.last;this.map.delete(r.key),this.last=r.prev,this.last.next=void 0}}}class mo{constructor(n,i){this.next=void 0,this.prev=void 0,this.key=n,this.value=i}}const Mi=17,po=9e15,fo=Math.log10(9e15),go=1/9e15,bo=308,ho=-324,ys=5,vo=(1<<10)-1,yo=function(){const e=[];for(let i=ho+1;i<=bo;i++)e.push(Number("1e"+i));const n=323;return function(i){return e[i+n]}}(),vn=[2,Math.E,3,4,5,6,7,8,9,10],_o=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],wo=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let L=function(n){return o.fromValue_noAlloc(n)},he=function(e,n,i){return o.fromComponents(e,n,i)},Ce=function(n,i,s){return o.fromComponents_noNormalize(n,i,s)};const ln=function(n,i){const s=i+1,r=Math.ceil(Math.log10(Math.abs(n))),l=Math.round(n*Math.pow(10,s-r))*Math.pow(10,r-s);return parseFloat(l.toFixed(Math.max(s-r,0)))},Ti=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},ko=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let n=1;for(;e<10;)n=n*e,++e;e-=1;let i=.9189385332046727;i=i+(e+.5)*Math.log(e),i=i-e;const s=e*e;let r=e;return i=i+1/(12*r),r=r*s,i=i+1/(360*r),r=r*s,i=i+1/(1260*r),r=r*s,i=i+1/(1680*r),r=r*s,i=i+1/(1188*r),r=r*s,i=i+691/(360360*r),r=r*s,i=i+7/(1092*r),r=r*s,i=i+3617/(122400*r),Math.exp(i)/n},xs=.5671432904097838,_s=function(e,n=1e-10){let i,s;if(!Number.isFinite(e)||e===0)return e;if(e===1)return xs;e<10?i=0:i=Math.log(e)-Math.log(Math.log(e));for(let r=0;r<100;++r){if(s=(e*Math.exp(-i)+i*i)/(i+1),Math.abs(s-i)<n*Math.abs(s))return s;i=s}throw Error(`Iteration failed to converge: ${e.toString()}`)};function ws(e,n=1e-10){let i,s,r,l;if(!Number.isFinite(e.mag)||e.eq(o.dZero))return e;if(e.eq(o.dOne))return o.fromNumber(xs);i=o.ln(e);for(let c=0;c<100;++c){if(s=i.neg().exp(),r=i.sub(e.mul(s)),l=i.sub(r.div(i.add(1).sub(i.add(2).mul(r).div(o.mul(2,i).add(2))))),o.abs(l.sub(i)).lt(o.abs(l).mul(n)))return l;i=l}throw Error(`Iteration failed to converge: ${e.toString()}`)}const R=class{constructor(e){this.sign=0,this.mag=0,this.layer=0,e instanceof R?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let n;return this.mag===5e-324?n=5:n=this.mag/yo(e),this.sign*n}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,n,i){return new R().fromComponents(e,n,i)}static fromComponents_noNormalize(e,n,i){return new R().fromComponents_noNormalize(e,n,i)}static fromMantissaExponent(e,n){return new R().fromMantissaExponent(e,n)}static fromMantissaExponent_noNormalize(e,n){return new R().fromMantissaExponent_noNormalize(e,n)}static fromDecimal(e){return new R().fromDecimal(e)}static fromNumber(e){return new R().fromNumber(e)}static fromString(e){return new R().fromString(e)}static fromValue(e){return new R().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof R)return e;if(typeof e=="string"){const n=R.fromStringCache.get(e);return n!==void 0?n:R.fromString(e)}else return typeof e=="number"?R.fromNumber(e):R.dZero}static abs(e){return L(e).abs()}static neg(e){return L(e).neg()}static negate(e){return L(e).neg()}static negated(e){return L(e).neg()}static sign(e){return L(e).sign}static sgn(e){return L(e).sign}static round(e){return L(e).round()}static floor(e){return L(e).floor()}static ceil(e){return L(e).ceil()}static trunc(e){return L(e).trunc()}static add(e,n){return L(e).add(n)}static plus(e,n){return L(e).add(n)}static sub(e,n){return L(e).sub(n)}static subtract(e,n){return L(e).sub(n)}static minus(e,n){return L(e).sub(n)}static mul(e,n){return L(e).mul(n)}static multiply(e,n){return L(e).mul(n)}static times(e,n){return L(e).mul(n)}static div(e,n){return L(e).div(n)}static divide(e,n){return L(e).div(n)}static recip(e){return L(e).recip()}static reciprocal(e){return L(e).recip()}static reciprocate(e){return L(e).reciprocate()}static cmp(e,n){return L(e).cmp(n)}static cmpabs(e,n){return L(e).cmpabs(n)}static compare(e,n){return L(e).cmp(n)}static isNaN(e){return e=L(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=L(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,n){return L(e).eq(n)}static equals(e,n){return L(e).eq(n)}static neq(e,n){return L(e).neq(n)}static notEquals(e,n){return L(e).notEquals(n)}static lt(e,n){return L(e).lt(n)}static lte(e,n){return L(e).lte(n)}static gt(e,n){return L(e).gt(n)}static gte(e,n){return L(e).gte(n)}static max(e,n){return L(e).max(n)}static min(e,n){return L(e).min(n)}static minabs(e,n){return L(e).minabs(n)}static maxabs(e,n){return L(e).maxabs(n)}static clamp(e,n,i){return L(e).clamp(n,i)}static clampMin(e,n){return L(e).clampMin(n)}static clampMax(e,n){return L(e).clampMax(n)}static cmp_tolerance(e,n,i){return L(e).cmp_tolerance(n,i)}static compare_tolerance(e,n,i){return L(e).cmp_tolerance(n,i)}static eq_tolerance(e,n,i){return L(e).eq_tolerance(n,i)}static equals_tolerance(e,n,i){return L(e).eq_tolerance(n,i)}static neq_tolerance(e,n,i){return L(e).neq_tolerance(n,i)}static notEquals_tolerance(e,n,i){return L(e).notEquals_tolerance(n,i)}static lt_tolerance(e,n,i){return L(e).lt_tolerance(n,i)}static lte_tolerance(e,n,i){return L(e).lte_tolerance(n,i)}static gt_tolerance(e,n,i){return L(e).gt_tolerance(n,i)}static gte_tolerance(e,n,i){return L(e).gte_tolerance(n,i)}static pLog10(e){return L(e).pLog10()}static absLog10(e){return L(e).absLog10()}static log10(e){return L(e).log10()}static log(e,n){return L(e).log(n)}static log2(e){return L(e).log2()}static ln(e){return L(e).ln()}static logarithm(e,n){return L(e).logarithm(n)}static pow(e,n){return L(e).pow(n)}static pow10(e){return L(e).pow10()}static pow_base(e,n){return L(e).pow_base(n)}static root(e,n){return L(e).root(n)}static factorial(e,n){return L(e).factorial()}static gamma(e,n){return L(e).gamma()}static lngamma(e,n){return L(e).lngamma()}static exp(e){return L(e).exp()}static sqr(e){return L(e).sqr()}static sqrt(e){return L(e).sqrt()}static cube(e){return L(e).cube()}static cbrt(e){return L(e).cbrt()}static tetrate(e,n=2,i=Ce(1,0,1)){return L(e).tetrate(n,i)}static iteratedexp(e,n=2,i=Ce(1,0,1)){return L(e).iteratedexp(n,i)}static iteratedlog(e,n=10,i=1){return L(e).iteratedlog(n,i)}static layeradd10(e,n){return L(e).layeradd10(n)}static layeradd(e,n,i=10){return L(e).layeradd(n,i)}static slog(e,n=10){return L(e).slog(n)}static lambertw(e){return L(e).lambertw()}static ssqrt(e){return L(e).ssqrt()}static pentate(e,n=2,i=Ce(1,0,1)){return L(e).pentate(n,i)}static sin(e){return L(e).sin()}static cos(e){return L(e).cos()}static tan(e){return L(e).tan()}static asin(e){return L(e).asin()}static acos(e){return L(e).acos()}static atan(e){return L(e).atan()}static sinh(e){return L(e).sinh()}static cosh(e){return L(e).cosh()}static tanh(e){return L(e).tanh()}static asinh(e){return L(e).asinh()}static acosh(e){return L(e).acosh()}static atanh(e){return L(e).atanh()}static affordGeometricSeries(e,n,i,s){return this.affordGeometricSeries_core(L(e),L(n),L(i),s)}static sumGeometricSeries(e,n,i,s){return this.sumGeometricSeries_core(e,L(n),L(i),s)}static affordArithmeticSeries(e,n,i,s){return this.affordArithmeticSeries_core(L(e),L(n),L(i),L(s))}static sumArithmeticSeries(e,n,i,s){return this.sumArithmeticSeries_core(L(e),L(n),L(i),L(s))}static efficiencyOfPurchase(e,n,i){return this.efficiencyOfPurchase_core(L(e),L(n),L(i))}static randomDecimalForTesting(e){if(Math.random()*20<1)return Ce(0,0,0);const n=Math.random()>.5?1:-1;if(Math.random()*20<1)return Ce(n,0,1);const i=Math.floor(Math.random()*(e+1));let s=i===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(s=Math.trunc(s));let r=Math.pow(10,s);return Math.random()>.9&&(r=Math.trunc(r)),he(n,i,r)}static affordGeometricSeries_core(e,n,i,s){const r=n.mul(i.pow(s));return R.floor(e.div(r).mul(i.sub(1)).add(1).log10().div(i.log10()))}static sumGeometricSeries_core(e,n,i,s){return n.mul(i.pow(s)).mul(R.sub(1,i.pow(e))).div(R.sub(1,i))}static affordArithmeticSeries_core(e,n,i,s){const l=n.add(s.mul(i)).sub(i.div(2)),c=l.pow(2);return l.neg().add(c.add(i.mul(e).mul(2)).sqrt()).div(i).floor()}static sumArithmeticSeries_core(e,n,i,s){const r=n.add(s.mul(i));return e.div(2).mul(r.mul(2).plus(e.sub(1).mul(i)))}static efficiencyOfPurchase_core(e,n,i){return e.div(n).add(e.div(i))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<go)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),n=Math.sign(this.mag);if(e>=po)return this.layer+=1,this.mag=n*Math.log10(e),this;for(;e<fo&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=n*Math.pow(10,e),e=Math.abs(this.mag),n=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this.normalize(),this}fromComponents_noNormalize(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this}fromMantissaExponent(e,n){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=n+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,n){return this.fromMantissaExponent(e,n),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const n=e,i=R.fromStringCache.get(n);if(i!==void 0)return this.fromDecimal(i);e=e.replace(",","");const s=e.split("^^^");if(s.length===2){const I=parseFloat(s[0]),q=parseFloat(s[1]),E=s[1].split(";");let F=1;if(E.length===2&&(F=parseFloat(E[1]),isFinite(F)||(F=1)),isFinite(I)&&isFinite(q)){const M=R.pentate(I,q,F);return this.sign=M.sign,this.layer=M.layer,this.mag=M.mag,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}}const r=e.split("^^");if(r.length===2){const I=parseFloat(r[0]),q=parseFloat(r[1]),E=r[1].split(";");let F=1;if(E.length===2&&(F=parseFloat(E[1]),isFinite(F)||(F=1)),isFinite(I)&&isFinite(q)){const M=R.tetrate(I,q,F);return this.sign=M.sign,this.layer=M.layer,this.mag=M.mag,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}}const l=e.split("^");if(l.length===2){const I=parseFloat(l[0]),q=parseFloat(l[1]);if(isFinite(I)&&isFinite(q)){const E=R.pow(I,q);return this.sign=E.sign,this.layer=E.layer,this.mag=E.mag,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}}e=e.trim().toLowerCase();let c,d,m=e.split("pt");if(m.length===2){c=10,d=parseFloat(m[0]),m[1]=m[1].replace("(",""),m[1]=m[1].replace(")","");let I=parseFloat(m[1]);if(isFinite(I)||(I=1),isFinite(c)&&isFinite(d)){const q=R.tetrate(c,d,I);return this.sign=q.sign,this.layer=q.layer,this.mag=q.mag,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}}if(m=e.split("p"),m.length===2){c=10,d=parseFloat(m[0]),m[1]=m[1].replace("(",""),m[1]=m[1].replace(")","");let I=parseFloat(m[1]);if(isFinite(I)||(I=1),isFinite(c)&&isFinite(d)){const q=R.tetrate(c,d,I);return this.sign=q.sign,this.layer=q.layer,this.mag=q.mag,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}}const p=e.split("e"),b=p.length-1;if(b===0){const I=parseFloat(e);if(isFinite(I))return this.fromNumber(I),R.fromStringCache.size>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}else if(b===1){const I=parseFloat(e);if(isFinite(I)&&I!==0)return this.fromNumber(I),R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}const f=e.split("e^");if(f.length===2){this.sign=1,f[0].charAt(0)=="-"&&(this.sign=-1);let I="";for(let q=0;q<f[1].length;++q){const E=f[1].charCodeAt(q);if(E>=43&&E<=57||E===101)I+=f[1].charAt(q);else return this.layer=parseFloat(I),this.mag=parseFloat(f[1].substr(q+1)),this.normalize(),R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}}if(b<1)return this.sign=0,this.layer=0,this.mag=0,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this;const h=parseFloat(p[0]);if(h===0)return this.sign=0,this.layer=0,this.mag=0,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this;let N=parseFloat(p[p.length-1]);if(b>=2){const I=parseFloat(p[p.length-2]);isFinite(I)&&(N*=Math.sign(I),N+=Ti(I))}if(!isFinite(h))this.sign=p[0]==="-"?-1:1,this.layer=b,this.mag=N;else if(b===1)this.sign=Math.sign(h),this.layer=1,this.mag=N+Math.log10(Math.abs(h));else if(this.sign=Math.sign(h),this.layer=b,b===2){const I=R.mul(he(1,2,N),L(h));return this.sign=I.sign,this.layer=I.layer,this.mag=I.mag,R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}else this.mag=N;return this.normalize(),R.fromStringCache.maxSize>=1&&R.fromStringCache.set(n,R.fromDecimal(this)),this}fromValue(e){return e instanceof R?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:ln(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:ln(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=ys?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):ln(this.m,e)+"e"+ln(this.e,e):this.layer===1?ln(this.m,e)+"e"+ln(this.e,e):this.layer<=ys?(this.sign===-1?"-":"")+"e".repeat(this.layer)+ln(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+ln(this.mag,e)}abs(){return Ce(this.sign===0?0:1,this.layer,this.mag)}neg(){return Ce(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?R.dZero:this.layer===0?he(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?R.dZero:this.layer===0?he(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?R.dZero:this.layer===0?he(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?R.dZero:this.layer===0?he(this.sign,0,Math.trunc(this.mag)):this}add(e){const n=L(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer)||this.sign===0)return n;if(n.sign===0)return this;if(this.sign===-n.sign&&this.layer===n.layer&&this.mag===n.mag)return Ce(0,0,0);let i,s;if(this.layer>=2||n.layer>=2)return this.maxabs(n);if(R.cmpabs(this,n)>0?(i=this,s=n):(i=n,s=this),i.layer===0&&s.layer===0)return R.fromNumber(i.sign*i.mag+s.sign*s.mag);const r=i.layer*Math.sign(i.mag),l=s.layer*Math.sign(s.mag);if(r-l>=2)return i;if(r===0&&l===-1){if(Math.abs(s.mag-Math.log10(i.mag))>Mi)return i;{const c=Math.pow(10,Math.log10(i.mag)-s.mag),d=s.sign+i.sign*c;return he(Math.sign(d),1,s.mag+Math.log10(Math.abs(d)))}}if(r===1&&l===0){if(Math.abs(i.mag-Math.log10(s.mag))>Mi)return i;{const c=Math.pow(10,i.mag-Math.log10(s.mag)),d=s.sign+i.sign*c;return he(Math.sign(d),1,Math.log10(s.mag)+Math.log10(Math.abs(d)))}}if(Math.abs(i.mag-s.mag)>Mi)return i;{const c=Math.pow(10,i.mag-s.mag),d=s.sign+i.sign*c;return he(Math.sign(d),1,s.mag+Math.log10(Math.abs(d)))}}plus(e){return this.add(e)}sub(e){return this.add(L(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const n=L(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer))return n;if(this.sign===0||n.sign===0)return Ce(0,0,0);if(this.layer===n.layer&&this.mag===-n.mag)return Ce(this.sign*n.sign,0,1);let i,s;if(this.layer>n.layer||this.layer==n.layer&&Math.abs(this.mag)>Math.abs(n.mag)?(i=this,s=n):(i=n,s=this),i.layer===0&&s.layer===0)return R.fromNumber(i.sign*s.sign*i.mag*s.mag);if(i.layer>=3||i.layer-s.layer>=2)return he(i.sign*s.sign,i.layer,i.mag);if(i.layer===1&&s.layer===0)return he(i.sign*s.sign,1,i.mag+Math.log10(s.mag));if(i.layer===1&&s.layer===1)return he(i.sign*s.sign,1,i.mag+s.mag);if(i.layer===2&&s.layer===1){const r=he(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(he(Math.sign(s.mag),s.layer-1,Math.abs(s.mag)));return he(i.sign*s.sign,r.layer+1,r.sign*r.mag)}if(i.layer===2&&s.layer===2){const r=he(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(he(Math.sign(s.mag),s.layer-1,Math.abs(s.mag)));return he(i.sign*s.sign,r.layer+1,r.sign*r.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const n=L(e);return this.mul(n.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?R.dNaN:this.layer===0?he(this.sign,0,1/this.mag):he(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const n=L(e);return this.sign>n.sign?1:this.sign<n.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const n=L(e),i=this.mag>0?this.layer:-this.layer,s=n.mag>0?n.layer:-n.layer;return i>s?1:i<s?-1:this.mag>n.mag?1:this.mag<n.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const n=L(e);return this.sign===n.sign&&this.layer===n.layer&&this.mag===n.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const n=L(e);return this.lt(n)?n:this}min(e){const n=L(e);return this.gt(n)?n:this}maxabs(e){const n=L(e);return this.cmpabs(n)<0?n:this}minabs(e){const n=L(e);return this.cmpabs(n)>0?n:this}clamp(e,n){return this.max(e).min(n)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,n){const i=L(e);return this.eq_tolerance(i,n)?0:this.cmp(i)}compare_tolerance(e,n){return this.cmp_tolerance(e,n)}eq_tolerance(e,n){const i=L(e);if(n==null&&(n=1e-7),this.sign!==i.sign||Math.abs(this.layer-i.layer)>1)return!1;let s=this.mag,r=i.mag;return this.layer>i.layer&&(r=Ti(r)),this.layer<i.layer&&(s=Ti(s)),Math.abs(s-r)<=n*Math.max(Math.abs(s),Math.abs(r))}equals_tolerance(e,n){return this.eq_tolerance(e,n)}neq_tolerance(e,n){return!this.eq_tolerance(e,n)}notEquals_tolerance(e,n){return this.neq_tolerance(e,n)}lt_tolerance(e,n){const i=L(e);return!this.eq_tolerance(i,n)&&this.lt(i)}lte_tolerance(e,n){const i=L(e);return this.eq_tolerance(i,n)||this.lt(i)}gt_tolerance(e,n){const i=L(e);return!this.eq_tolerance(i,n)&&this.gt(i)}gte_tolerance(e,n){const i=L(e);return this.eq_tolerance(i,n)||this.gt(i)}pLog10(){return this.lt(R.dZero)?R.dZero:this.log10()}absLog10(){return this.sign===0?R.dNaN:this.layer>0?he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):he(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?R.dNaN:this.layer>0?he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):he(this.sign,0,Math.log10(this.mag))}log(e){return e=L(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?R.dNaN:this.layer===0&&e.layer===0?he(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):R.div(this.log10(),e.log10())}log2(){return this.sign<=0?R.dNaN:this.layer===0?he(this.sign,0,Math.log2(this.mag)):this.layer===1?he(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?he(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?R.dNaN:this.layer===0?he(this.sign,0,Math.log(this.mag)):this.layer===1?he(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?he(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const n=L(e),i=this,s=n;if(i.sign===0)return s.eq(0)?Ce(1,0,1):i;if(i.sign===1&&i.layer===0&&i.mag===1)return i;if(s.sign===0)return Ce(1,0,1);if(s.sign===1&&s.layer===0&&s.mag===1)return i;const r=i.absLog10().mul(s).pow10();return this.sign===-1?Math.abs(s.toNumber()%2)%2===1?r.neg():Math.abs(s.toNumber()%2)%2===0?r:R.dNaN:r}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return R.dNaN;let e=this;if(e.layer===0){const n=Math.pow(10,e.sign*e.mag);if(Number.isFinite(n)&&Math.abs(n)>=.1)return he(1,0,n);if(e.sign===0)return R.dOne;e=Ce(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?he(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?he(-e.sign,e.layer+1,-e.mag):R.dOne}pow_base(e){return L(e).pow(this)}root(e){const n=L(e);return this.pow(n.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?R.exp(R.mul(this,R.ln(this).sub(1))):R.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(Ce(1,0,24)))return R.fromNumber(ko(this.sign*this.mag));const e=this.mag-1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let s=e,r=12*s,l=1/r,c=n+l;if(c===n||(n=c,s=s*i,r=360*s,l=1/r,c=n-l,c===n))return R.exp(n);n=c,s=s*i,r=1260*s;let d=1/r;return n=n+d,s=s*i,r=1680*s,d=1/r,n=n-d,R.exp(n)}else return this.layer===1?R.exp(R.mul(this,R.ln(this).sub(1))):R.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?R.dOne:this.layer===0&&this.mag<=709.7?R.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?he(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?he(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):he(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return R.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return he(1,2,Math.log10(this.mag)-.3010299956639812);{const e=R.div(Ce(this.sign,this.layer-1,this.mag),Ce(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,n=Ce(1,0,1)){if(e===1)return R.pow(this,n);if(e===0)return new R(n);if(this.eq(R.dOne))return R.dOne;if(this.eq(-1))return R.pow(this,n);if(e===Number.POSITIVE_INFINITY){const r=this.toNumber();if(r<=1.444667861009766&&r>=.06598803584531254){if(r>1.444667861009099)return R.fromNumber(Math.E);const l=R.ln(this).neg();return l.lambertw().div(l)}else return r>1.444667861009766?R.fromNumber(Number.POSITIVE_INFINITY):R.dNaN}if(this.eq(R.dZero)){let r=Math.abs((e+1)%2);return r>1&&(r=2-r),R.fromNumber(r)}if(e<0)return R.iteratedlog(n,this,-e);n=L(n);const i=e;e=Math.trunc(e);const s=i-e;if(this.gt(R.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let r=0;r<e;++r){const l=n;if(n=this.pow(n),l.eq(n))return n}if(s!=0){const r=this.pow(n);return n.mul(1-s).add(r.mul(s))}return n}s!==0&&(n.eq(R.dOne)?this.gt(10)?n=this.pow(s):(n=R.fromNumber(R.tetrate_critical(this.toNumber(),s)),this.lt(2)&&(n=n.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?n=n.layeradd10(s):n=n.layeradd(s,this));for(let r=0;r<e;++r){if(n=this.pow(n),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(n.layer-this.layer>3)return Ce(n.sign,n.layer+(e-r-1),n.mag);if(r>1e4)return n}return n}iteratedexp(e=2,n=Ce(1,0,1)){return this.tetrate(e,n)}iteratedlog(e=10,n=1){if(n<0)return R.tetrate(e,-n,this);e=L(e);let i=R.fromDecimal(this);const s=n;n=Math.trunc(n);const r=s-n;if(i.layer-e.layer>3){const l=Math.min(n,i.layer-e.layer-3);n-=l,i.layer-=l}for(let l=0;l<n;++l){if(i=i.log(e),!isFinite(i.layer)||!isFinite(i.mag))return i.normalize();if(l>1e4)return i}return r>0&&r<1&&(e.eq(10)?i=i.layeradd10(-r):i=i.layeradd(-r,e)),i}slog(e=10,n=100){let i=.001,s=!1,r=!1,l=this.slog_internal(e).toNumber();for(let c=1;c<n;++c){const m=new R(e).tetrate(l).gt(this);if(c>1&&r!=m&&(s=!0),r=m,s?i/=2:i*=2,i=Math.abs(i)*(m?-1:1),l+=i,i===0)break}return R.fromNumber(l)}slog_internal(e=10){if(e=L(e),e.lte(R.dZero)||e.eq(R.dOne))return R.dNaN;if(e.lt(R.dOne))return this.eq(R.dOne)?R.dZero:this.eq(R.dZero)?R.dNegOne:R.dNaN;if(this.mag<0||this.eq(R.dZero))return R.dNegOne;let n=0,i=R.fromDecimal(this);if(i.layer-e.layer>3){const s=i.layer-e.layer-3;n+=s,i.layer-=s}for(let s=0;s<100;++s)if(i.lt(R.dZero))i=R.pow(e,i),n-=1;else{if(i.lte(R.dOne))return R.fromNumber(n+R.slog_critical(e.toNumber(),i.toNumber()));n+=1,i=R.log(i,e)}return R.fromNumber(n)}static slog_critical(e,n){return e>10?n-1:R.critical_section(e,n,wo)}static tetrate_critical(e,n){return R.critical_section(e,n,_o)}static critical_section(e,n,i){n*=10,n<0&&(n=0),n>10&&(n=10),e<2&&(e=2),e>10&&(e=10);let s=0,r=0;for(let c=0;c<vn.length;++c)if(vn[c]==e){s=i[c][Math.floor(n)],r=i[c][Math.ceil(n)];break}else if(vn[c]<e&&vn[c+1]>e){const d=(e-vn[c])/(vn[c+1]-vn[c]);s=i[c][Math.floor(n)]*(1-d)+i[c+1][Math.floor(n)]*d,r=i[c][Math.ceil(n)]*(1-d)+i[c+1][Math.ceil(n)]*d;break}const l=n-Math.floor(n);return s<=0||r<=0?s*(1-l)+r*l:Math.pow(e,Math.log(s)/Math.log(e)*(1-l)+Math.log(r)/Math.log(e)*l)}layeradd10(e){e=R.fromValue_noAlloc(e).toNumber();const n=R.fromDecimal(this);if(e>=1){n.mag<0&&n.layer>0?(n.sign=0,n.mag=0,n.layer=0):n.sign===-1&&n.layer==0&&(n.sign=1,n.mag=-n.mag);const i=Math.trunc(e);e-=i,n.layer+=i}if(e<=-1){const i=Math.trunc(e);if(e-=i,n.layer+=i,n.layer<0)for(let s=0;s<100;++s){if(n.layer++,n.mag=Math.log10(n.mag),!isFinite(n.mag))return n.sign===0&&(n.sign=1),n.layer<0&&(n.layer=0),n.normalize();if(n.layer>=0)break}}for(;n.layer<0;)n.layer++,n.mag=Math.log10(n.mag);return n.sign===0&&(n.sign=1,n.mag===0&&n.layer>=1&&(n.layer-=1,n.mag=1)),n.normalize(),e!==0?n.layeradd(e,10):n}layeradd(e,n){const s=this.slog(n).toNumber()+e;return s>=0?R.tetrate(n,s):Number.isFinite(s)?s>=-1?R.log(R.tetrate(n,s+1),n):R.log(R.log(R.tetrate(n,s+2),n),n):R.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return R.fromNumber(_s(this.toNumber()));if(this.layer===0)return R.fromNumber(_s(this.sign*this.mag));if(this.layer===1)return ws(this);if(this.layer===2)return ws(this);if(this.layer>=3)return Ce(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return Ce(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,n=Ce(1,0,1)){n=L(n);const i=e;e=Math.trunc(e);const s=i-e;s!==0&&(n.eq(R.dOne)?(++e,n=R.fromNumber(s)):this.eq(10)?n=n.layeradd10(s):n=n.layeradd(s,this));for(let r=0;r<e;++r){if(n=this.tetrate(n.toNumber()),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(r>10)return n}return n}sin(){return this.mag<0?this:this.layer===0?R.fromNumber(Math.sin(this.sign*this.mag)):Ce(0,0,0)}cos(){return this.mag<0?R.dOne:this.layer===0?R.fromNumber(Math.cos(this.sign*this.mag)):Ce(0,0,0)}tan(){return this.mag<0?this:this.layer===0?R.fromNumber(Math.tan(this.sign*this.mag)):Ce(0,0,0)}asin(){return this.mag<0?this:this.layer===0?R.fromNumber(Math.asin(this.sign*this.mag)):Ce(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?R.fromNumber(Math.acos(this.toNumber())):this.layer===0?R.fromNumber(Math.acos(this.sign*this.mag)):Ce(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?R.fromNumber(Math.atan(this.sign*this.mag)):R.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return R.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return R.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?Ce(Number.NaN,Number.NaN,Number.NaN):R.ln(this.add(1).div(R.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(R.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let o=R;o.fromStringCache=new co(vo);o.dZero=Ce(0,0,0);o.dOne=Ce(1,0,1);o.dNegOne=Ce(-1,0,1);o.dTwo=Ce(1,0,2);o.dTen=Ce(1,0,10);o.dNaN=Ce(Number.NaN,Number.NaN,Number.NaN);o.dInf=Ce(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);o.dNegInf=Ce(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);o.dNumberMax=he(1,0,Number.MAX_VALUE);o.dNumberMin=he(1,0,Number.MIN_VALUE);L=o.fromValue_noAlloc;he=o.fromComponents;Ce=o.fromComponents_noNormalize;o.fromMantissaExponent;o.fromMantissaExponent_noNormalize;const So={variables:{"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"15px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1,mergeAdjacent:!1,showPin:!0};var Gi=(e=>(e.Classic="classic",e))(Gi||{}),En={classic:So};const pt=qs();"fonts"in document&&(document.fonts.onloadingdone=()=>pt.emit("fontsLoaded"));var Co=Object.freeze(Object.defineProperty({__proto__:null,globalBus:pt},Symbol.toStringTag,{value:"Module"})),He=(e=>(e.standard="standard",e.thousands="thousands",e.engineering="engineering",e.scientific="scientific",e))(He||{});function Ps(e={}){return Object.assign({id:`${ye.id}-0`,name:"Default Save",tabs:ye.initialTabs.slice(),time:Date.now(),autosave:!0,timePlayed:0,keepGoing:!1,modID:ye.id,modVersion:ye.versionNumber,layers:{}},e)}const $o=le(!1);function At(e){var i;if(t($o))return(i=localStorage.getItem((e!=null?e:be).id))!=null?i:"";const n=tn.compressToUTF16(Vi(e!=null?e:be));return localStorage.setItem((e!=null?e:be).id,n),n}async function No(){qo();try{let e=localStorage.getItem(qe.active);if(e==null){await _n(Tn());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=tn.decompressFromUTF16(e);else throw"Unable to determine save encoding";const n=JSON.parse(e);if(n.modID!==ye.id){await _n(Tn());return}n.id=qe.active,await _n(n)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await _n(Tn())}}function Tn(){const e=fi(),n=Ps({id:e});return At(n),qe.saves.push(e),n}function fi(){let e,n=0;do e=`${ye.id}-${n++}`;while(localStorage.getItem(e)!=null);return e}const zi=le(!1);async function _n(e){console.info("Loading save",e),zi.value=!0;const{layers:n,removeLayer:i,addLayer:s}=await Yn(()=>Promise.resolve().then(function(){return Ul}),void 0),{fixOldSave:r,getInitialLayers:l}=await Yn(()=>Promise.resolve().then(function(){return Fg}),void 0);for(const c in n){const d=n[c];d&&i(d)}l(e).forEach(c=>s(c,e)),e=Ps(e),e.time=Date.now(),e.modVersion!==ye.versionNumber&&(r(e.modVersion,e),e.modVersion=ye.versionNumber),Object.assign(be,e),qe.active=be.id,pt.emit("onLoad")}setInterval(()=>{be.autosave&&At()},1e3);window.onbeforeunload=()=>{be.autosave&&At()};window.save=At;const Io=window.hardReset=async()=>{await _n(Tn())};window.deleteLowerSaves=()=>{const e=Object.values(qe.saves).indexOf(be.id)+1;Object.values(qe.saves).slice(e).forEach(n=>localStorage.removeItem(n)),qe.saves=qe.saves.slice(0,e)};const Xn=Bn({active:"",saves:[],showTPS:!0,theme:Gi.Classic,unthrottled:!1,alignUnits:!1,numberFormat:He.scientific,backupNumberFormat:He.scientific});Ct(Xn,e=>{const n=tn.compressToUTF16(JSON.stringify(e));localStorage.setItem(ye.id,n)},{deep:!0});var qe=window.settings=Xn;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Gi.Classic,alignUnits:!1,numberFormat:He.scientific,backupNumberFormat:He.scientific};pt.emit("loadSettings",e),Object.assign(Xn,e),Io()};function qo(){try{let e=localStorage.getItem(ye.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=tn.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const n=JSON.parse(e);typeof n=="object"&&Object.assign(Xn,n)}pt.emit("loadSettings",Xn)}catch{}}const Fs=Bn([]);function As(e){Fs.push(e)}const Bs=Bn([]);function Mo(e){Bs.push(e)}const To=Bn([]),xo=o.pow10(1e3),Hi=new o(.001),ci=o.pow10(1e4),Po=o.pow10(Number.MAX_SAFE_INTEGER),Fo=new o("eeee1000");var Wi=(e=>(e.decimal="decimal",e.total="total",e))(Wi||{});function D(e,n=ye.defaultDigitsShown,i=ye.defaultShowSmall,s=qe.numberFormat){if(e=new o(e),o.isNaN(e))return"NaN";if(e.sign<0)return`-${D(e.negate(),n,i,s)}`;if(!o.isFinite(e))return"Infinity";if(e.gte(Fo))return Es(e);if(e.gte(Po))return xn(e,n);if(e.eq(o.dZero))return 0 .toFixed(n);if(e.lt(Hi)&&i)return e=js(e),e.gte(xo)?`${D(e,n)}\u207B\xB9`:xn(e,n).replace(/([^(?:e|F)]*)$/,"-$1");if(e.gte(1e9))switch(s){case He.standard:return Rs(e,qe.backupNumberFormat,n+1,"total",e.gte(ci));case He.thousands:return Xi(e,n+1,"total",e.gte(ci));case He.engineering:return Ki(e,n+1,"total",e.gte(ci));case He.scientific:return xn(e,n,"decimal",e.gte(ci))}if(e.gte(1e3))switch(s){case He.standard:case He.thousands:case He.engineering:return Kn(e,n,"total");case He.scientific:return Kn(e,n,"decimal")}return gn(e,n)}function Q(e,n=ye.defaultShowSmall,i=qe.numberFormat){if(e=new o(e),e.gte(1e9)||e.lte(.98)&&e.neq(0)&&n)return D(e,void 0,n,i);switch(i){case He.standard:case He.thousands:return e.gte(1e4)?D(e,void 0,n,i):D(e,0,n,He.scientific);default:return D(e,0,n,i)}}function Es(e){e=new o(e);const n=e.slog();if(n.gte(1e6))return`F${D(n.floor())}`;const i=n.sub(n.floor()).pow10(),s=n.floor();return`${i.toStringWithDecimalPlaces(3)}F${Kn(s,0)}`}function Rs(e,n=qe.backupNumberFormat,i=ye.defaultDigitsShown+1,s="total",r=!1){i<3&&(i=3);const[l,c]=Ao(e,i);if(typeof c=="string"){if(r)return`1 ${c}`;switch(s){case"decimal":return`${gn(l,i)} ${c}`;case"total":return`${l.toPrecision(i)} ${c}`}}if(c.eq(0))switch(s){case"decimal":return gn(l,i);case"total":return l.toPrecision(i)}switch(n){case He.thousands:return Xi(e,i,void 0,r);case He.engineering:return Ki(e,i,void 0,r);case He.scientific:return xn(e,i-1,void 0,r)}}function Ao(e,n=ye.defaultDigitsShown+1){let[s,r]=Os(e,n);if(r.gt(1e3))return[s,r];if(r.eq(0))return[s,r];if(r.eq(1))return[s,"K"];if(r.eq(2))return[s,"M"];if(r.eq(3))return[s,"B"];const l=r.minus(1).toNumber(),c=l%10,d=Math.trunc(l%100/10),m=Math.trunc(l%1e3/100);return[s,[Yi(c),Bo(d,c),Eo(m)].join("")]}function Yi(e){switch(e){default:return"";case 1:return"U";case 2:return"D";case 3:return"T";case 4:return"Qa";case 5:return"Qi";case 6:return"Sx";case 7:return"Sp";case 8:return"Oc";case 9:return"No"}}function Bo(e,n){return e===0?"":e===1?n===0?"Dc":"D":e===2?"Vg":`${Yi(e)}g`}function Eo(e){return e===0?"":e===1?"C":`${Yi(e)}C`}function Xi(e,n=ye.defaultDigitsShown+1,i="total",s=!1){n<3&&(n=3);const[r,l]=Os(e,n,i);if(l.eq(0))switch(i){case"decimal":return gn(r);case"total":return r.toPrecision(n)}if(s)return`t${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${gn(r)}t${l.toStringWithDecimalPlaces(0)}`;case"total":return`${r.toPrecision(n)}t${l.toStringWithDecimalPlaces(0)}`}}function Os(e,n=ye.defaultDigitsShown+1,i="total"){let[s,r]=Ds(e,n,i);return[s,r.div(3)]}function Ki(e,n=ye.defaultDigitsShown+1,i="total",s=!1){n<3&&(n=3);const[r,l]=Ds(e,n,i);if(l.eq(0))switch(i){case"decimal":return gn(r);case"total":return r.toPrecision(n)}if(s)return`e${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${r.toStringWithDecimalPlaces(n)}e${l.toStringWithDecimalPlaces(0)}`;case"total":return`${r.toPrecision(n)}e${l.toStringWithDecimalPlaces(0)}`}}function Ds(e,n=ye.defaultDigitsShown+1,i="total"){let[s,r]=Ls(e,n,i);if(r.gte(Number.MAX_SAFE_INTEGER))return[s,r];const l=r.toNumber()%3;return[o.pow10(l).times(s),r.minus(l)]}const Ro=xn;function xn(e,n=ye.defaultDigitsShown,i="decimal",s=!1){let[r,l]=Ls(e,n,i);const c=l.gte(1e9)?D(l,Math.max(n,3,ye.defaultDigitsShown)):l.gte(1e4)?Kn(l,0):l.toStringWithDecimalPlaces(0);return s?`e${c}`:`${(()=>{switch(i){case"decimal":return gn(r);case"total":return r.toPrecision(n)}})()}e${c}`}function Ls(e,n=ye.defaultDigitsShown,i="decimal"){let s=o.log10(e).floor(),r=o.div(e,s.pow10());return(()=>{switch(i){case"decimal":return r.toStringWithDecimalPlaces(n);case"total":return r.toPrecision(n)}})()==="10"&&(r=o.dOne,s=s.plus(1)),[r,s]}function Kn(e,n=ye.defaultDigitsShown,i="decimal"){if(e=new o(e),e.lt(Hi))return 0 .toFixed(n);const r=(()=>{switch(i){case"decimal":return e.toStringWithDecimalPlaces(n);case"total":return e.toStringWithDecimalPlaces(Math.max(n-e.log10().floor().toNumber(),0))}})().split(".");return r[0]=r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),r.join(".")}function gn(e,n=ye.defaultDigitsShown){return e=new o(e),e.lt(Hi)?0 .toFixed(n):(e.lt(.1)&&n>0&&(n=Math.max(n,e.log10().negate().ceil().toNumber(),ye.defaultDigitsShown)),e.toStringWithDecimalPlaces(n))}const Ri=60,Oo=60,Do=24,Lo=365,Oi=Ri*Oo,Di=Oi*Do,xi=Di*Lo;function Qi(e){if(e=new o(e),e.lt(0))return`-${Qi(e.negate())}`;if(e.gt(Number.MAX_SAFE_INTEGER))return`${D(e.div(xi))}y`;e=e.toNumber();const n=Math.floor(e/xi);e-=n*xi;const i=Math.floor(e/Di);e-=i*Di;const s=Math.floor(e/Oi);e-=s*Oi;const r=Math.floor(e/Ri);e-=r*Ri;const l=e.toPrecision(2),c=String(i).padStart(3),d=String(s).padStart(2),m=String(r).padStart(2),p=l.padStart(2);return n>0?`${n}y ${c}d ${d}h`:i>0?`${c}d ${d}h ${m}m`:s>0?`${d}h ${m}m ${p}s`:r>0?`${m}m ${p}s`:`${p}s`}function jo(e,n,i){e=new o(e);let s=e.toStringWithDecimalPlaces(n);return o.gte(s,i)&&(s=o.minus(i,Math.pow(.1,n)).toStringWithDecimalPlaces(n)),s}function bt(e,n=ye.defaultDigitsShown,i=qe.numberFormat){return D(e,n,!0,i)}function js(e){const n=o.log10(e).ceil(),i=o.divide(e,n.pow10());return n.negate().pow10().times(i)}var Uo=Object.freeze(Object.defineProperty({__proto__:null,default:o,PrecisionType:Wi,format:D,formatWhole:Q,slogFormat:Es,standardNotation:Rs,thousandsNotation:Xi,engineeringNotation:Ki,exponentialFormat:Ro,scientificNotation:xn,commaFormat:Kn,regularFormat:gn,formatTime:Qi,toPlaces:jo,formatSmall:bt,invertOOM:js},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:Vo,commaFormat:Go,regularFormat:zo,format:vi,formatWhole:Sn,formatTime:Zi,toPlaces:Ho,formatSmall:Fn,invertOOM:Wo}=Uo;window.Decimal=o;window.exponentialFormat=(e,n,i)=>Vo(e,n,Wi.decimal,!i);window.commaFormat=Go;window.regularFormat=zo;window.format=vi;window.formatWhole=Sn;window.formatTime=Zi;window.toPlaces=Ho;window.formatSmall=Fn;window.invertOOM=Wo;function Us(e){let n=e.replace(/([A-Z])/g," $1");return n=n.charAt(0).toUpperCase()+n.slice(1),n}function Yo(e){return(e[0]+e.slice(1).replace(/[A-Z]/g,n=>`-${n}`)).toLowerCase()}function Qn(e){return typeof e=="function"}var Fe=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(Fe||{});const Zn=Symbol("DoNotCache");function K(e,n){const i=e[n];Qn(i)&&i.length===0&&!i[Zn]?e[n]=y(i.bind(e)):Qn(i)&&(e[n]=i.bind(e),e[n][Zn]=!0)}function et(e){return Qn(e)&&!e[Zn]&&(e=y(e)),e}const ct=Symbol("Component"),kt=Symbol("GatherProps");let Xo=0;function jt(e="feature-"){return e+Xo++}var xe=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(xe||{});function ve(e){const n=t(e);return n!==2&&n!==!1}function Yt(e){return t(e)===1}function k(e){return e[Zn]=!0,e}function Oe(e,n,i){e[n]===void 0&&i!=null&&(e[n]=i)}function Vs(e,...n){const i=[],s=r=>{Object.keys(r).forEach(l=>{const c=r[l];c!=null&&typeof c=="object"&&(n.includes(c.type)?i.push(c):!(c instanceof o)&&!ze(c)&&s(c))})};return s(e),i}var Je=window.state=wi({lastTenTicks:[],hasNaN:!1,NaNPath:[],errors:Bn([])});const Ko={class:"table"},sn=se({__name:"Column",setup(e){const n=y(()=>En[qe.theme].mergeAdjacent);return(i,s)=>($(),P("div",Ko,[C("div",{class:Me(["col",{mergeAdjacent:t(n)}])},[Ht(i.$slots,"default")],2)]))}}),Qo={class:"table"},Wt=se({__name:"Row",setup(e){const n=y(()=>En[qe.theme].mergeAdjacent);return(i,s)=>($(),P("div",Qo,[C("div",{class:Me(["row",{mergeAdjacent:t(n)}])},[Ht(i.$slots,"default")],2)]))}});function Ji(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ns(e)}function ue(e,n="span"){return typeof e=="function"?se({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${n}>${e}</${n}>`),se({template:e})):se({render:()=>({})}):e}function te(e){if(St(e))return typeof e=="function"?e():ue(e);const n=e[ct];return a(n,e[kt](),null)}function mn(...e){let n;return a(Wt,null,Ji(n=e.map(te))?n:{default:()=>[n]})}function Pi(...e){let n;return a(sn,null,Ji(n=e.map(te))?n:{default:()=>[n]})}function Pt(e){if(St(e))return typeof e=="function"?e():typeof e=="string"?a(g,null,[e]):a(e,null,null);const n=e[ct];return a(n,e[kt](),null)}function Zo(...e){let n;return a(Wt,null,Ji(n=e.map(Pt))?n:{default:()=>[n]})}function Li(e,n){return e.reduce((i,s)=>a(g,null,[i,n,s]))}function St(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[Zn]===!0}function Gs(e,n){const i=le(null),s=le(void 0);function r(d){i.value||(i.value=setInterval(c,250)),s.value=d}function l(){i.value&&(clearInterval(i.value),i.value=null)}function c(){n&&n.value?n.value():e&&e.value&&e.value(s.value)}return $s(l),{start:r,stop:l,handleHolding:c}}function es(e,n="div"){const i=wt();return xt(()=>{i.value=ue(Ie(e),n)}),i}function ti(e,n="div"){const i=wt(null);return xt(()=>{const s=Ie(e);i.value=s==""||s==null?null:ue(s,n)}),i}function Ie(e){return t(t(e))}function ne(...e){return e.includes(Object)||e.push(Object),e}function Jo(e){return Object.keys(e).reduce((n,i)=>(n[Yo(i)]=e[i],n),{})}const ea=se({__name:"Context",emits:["updateNodes"],setup(e,{emit:n}){var b;const i=le({}),s=new ResizeObserver(d),r=le(null);ei(()=>{const f=r.value;f!=null&&s.observe(f)});let l=!0,c=le((b=r.value)==null?void 0:b.getBoundingClientRect());function d(){l&&(l=!1,fn(()=>{var f;c.value=(f=r.value)==null?void 0:f.getBoundingClientRect(),Object.values(i.value).filter(h=>h).forEach(h=>h.rect=h.element.getBoundingClientRect()),n("updateNodes",i.value),l=!0}))}pt.on("fontsLoaded",d);const m={attributes:!1,childList:!0,subtree:!1};ui(ts,(f,h)=>{const N=new MutationObserver(()=>p(f));N.observe(h,m),i.value[f]={element:h,observer:N,rect:h.getBoundingClientRect()},d()}),ui(ns,f=>{var h;(h=i.value[f])==null||h.observer.disconnect(),i.value[f]=void 0,d()}),ui(is,i),ui(ss,c);function p(f){const h=i.value[f];h!=null&&(h.rect=h.element.getBoundingClientRect(),n("updateNodes",i.value))}return(f,h)=>($(),P(g,null,[Ht(f.$slots,"default",{},void 0,!0),C("div",{ref_key:"resizeListener",ref:r,class:"resize-listener"},null,512)],64))}});var zs=fe(ea,[["__scopeId","data-v-2b1dc1bc"]]);const ta=["onPointerdown"],na={class:"modal-wrapper"},ia={class:"modal-container"},sa={class:"modal-header"},ra={class:"modal-body"},oa={class:"modal-footer"},aa=C("div",{class:"modal-default-flex-grow"},null,-1),rn=se({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const r=ot(e),l=y(()=>t(r.modelValue)||d.value);function c(){i("update:modelValue",!1)}const d=le(!1),m=le(null),p=y(()=>{var b,f;return(f=(b=m.value)==null?void 0:b.nodes)!=null?f:null});return n({isOpen:l,nodes:p}),(b,f)=>($(),ie(cr,{to:"#modal-root"},[a(Is,{name:"modal",onBeforeEnter:f[0]||(f[0]=h=>d.value=!0),onAfterLeave:f[1]||(f[1]=h=>d.value=!1)},{default:ae(()=>[Ui(C("div",Bt({class:"modal-mask",onPointerdown:Wn(c,["self"])},b.$attrs),[C("div",na,[C("div",ia,[C("div",sa,[Ht(b.$slots,"header",{shown:t(l)},()=>[u(" default header ")])]),C("div",ra,[a(zs,{ref_key:"contextRef",ref:m},{default:ae(()=>[Ht(b.$slots,"body",{shown:t(l)},()=>[u(" default body ")])]),_:3},512)]),C("div",oa,[Ht(b.$slots,"footer",{shown:t(l)},()=>[C("div",{class:"modal-default-footer"},[aa,C("button",{class:"button modal-default-button",onClick:c}," Close ")])])])])])],16,ta),[[ur,e.modelValue]])]),_:3})]))}}),Hs=o.ln(10);function gi(e){return e}function Un(e,...n){const i=n.find(s=>Z(s));return i==null?(console.error("Could not invert due to no input being a variable"),0):i.invert(e)}function la(e,n){return Z(n)?n.invert(o.neg(e)):(console.error("Could not invert due to no input being a variable"),0)}function ua(e,n){return Z(n)?n.isIntegrable()?_.neg(n.getIntegralFormula(e)):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function ca(e){return _.neg(e)}function da(e,n,i){return Z(n)?n.invert(o.sub(e,tt(i))):Z(i)?i.invert(o.sub(e,tt(n))):(console.error("Could not invert due to no input being a variable"),0)}function ma(e,n,i){var s,r;if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=n.getIntegralFormula(e);return _.times(i,(s=n.innermostVariable)!=null?s:0).add(l)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=i.getIntegralFormula(e);return _.times(n,(r=i.innermostVariable)!=null?r:0).add(l)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function pa(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.add(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.add(s,n)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function fa(e,n,i){return Z(n)?n.invert(o.add(e,tt(i))):Z(i)?i.invert(o.sub(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ga(e,n,i){var s,r;if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=n.getIntegralFormula(e);return _.sub(l,_.times(i,(s=n.innermostVariable)!=null?s:0))}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=i.getIntegralFormula(e);return _.times(n,(r=i.innermostVariable)!=null?r:0).sub(l)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ba(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.sub(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.sub(s,n)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ha(e,n,i){return Z(n)?n.invert(o.div(e,tt(i))):Z(i)?i.invert(o.div(e,tt(n))):(console.error("Could not invert due to no input being a variable"),0)}function va(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.times(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.times(s,n)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ya(e,n,i){return Z(n)?_.div(e,i):Z(i)?_.div(e,n):(console.error("Could not apply substitution due to no input being a variable"),_.constant(0))}function _a(e,n,i){return Z(n)?n.invert(o.mul(e,tt(i))):Z(i)?i.invert(o.div(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function wa(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.div(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.div(n,s)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ka(e,n,i){return Z(n)?_.mul(e,i):Z(i)?_.mul(e,n):(console.error("Could not apply substitution due to no input being a variable"),_.constant(0))}function Sa(e,n){return Z(n)?n.invert(o.recip(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ca(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.ln(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function $a(e,n){return Z(n)?n.invert(o.pow10(e)):(console.error("Could not invert due to no input being a variable"),0)}function Na(e){return o.ln(e).sub(1).times(e).div(Hs)}function Ia(e,n){if(Z(n)){const i=Hs.times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function qa(e,n){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e)],evaluate:Na,invert:Ia}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function Ma(e,n,i){return Z(n)?n.invert(o.pow(tt(i),e)):Z(i)?i.invert(o.root(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function Ta(e,n){return o.ln(e).sub(1).times(e).div(o.ln(n))}function xa(e,n,i){if(Z(n)){const s=o.ln(tt(i)).times(e);return n.invert(s.div(s.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Pa(e,n,i){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e),i],evaluate:Ta,invert:xa}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function Fa(e,n){return Z(n)?n.invert(o.pow(2,e)):(console.error("Could not invert due to no input being a variable"),0)}function Aa(e){return o.ln(e).sub(1).times(e).div(o.ln(2))}function Ba(e,n){if(Z(n)){const i=o.ln(2).times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ea(e,n){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e)],evaluate:Aa,invert:Ba}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function Ra(e,n){return Z(n)?n.invert(o.exp(e)):(console.error("Could not invert due to no input being a variable"),0)}function Oa(e){return o.ln(e).sub(1).times(e)}function Da(e,n){return Z(n)?n.invert(o.div(e,o.div(e,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function La(e,n){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e)],evaluate:Oa,invert:Da}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function ja(e,n,i){return Z(n)?n.invert(o.root(e,tt(i))):Z(i)?i.invert(o.ln(e).div(o.ln(tt(n)))):(console.error("Could not invert due to no input being a variable"),0)}function Ua(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e),r=_.add(i,1);return _.pow(s,r).div(r)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.pow(n,s).div(_.ln(n))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Va(e,n){return Z(n)?n.invert(o.root(e,10)):(console.error("Could not invert due to no input being a variable"),0)}function Ga(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.pow10(i).div(_.ln(10))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function za(e,n,i){return Z(n)?n.invert(o.ln(e).div(o.ln(tt(i)))):Z(i)?i.invert(o.root(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function Ha(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.pow(i,s).div(_.ln(i))}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e),r=_.add(n,1);return _.pow(s,r).div(r)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Wa(e,n,i){return Z(n)?n.invert(o.root(e,o.recip(tt(i)))):Z(i)?i.invert(o.ln(tt(n)).div(o.ln(e))):(console.error("Could not invert due to no input being a variable"),0)}function Ya(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.pow(s,_.recip(i).add(1)).times(i).div(_.add(i,1))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Xa(e,n){return Z(n)?n.invert(o.ln(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ka(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.exp(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Qa(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const s=o.minabs(n,1e308).toNumber();return o.tetrate(e,s,i)}function Za(e,n,i,s){return Z(n)?n.invert(o.ssqrt(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ja(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const s=o.minabs(n,1e308).toNumber();return o.iteratedexp(e,s,new o(i))}function el(e,n,i,s){return Z(n)?n.invert(o.iteratedlog(e,Math.E,o.minabs(1e308,tt(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function tl(e,n=10,i=2){const s=o.minabs(i,1e308).toNumber();return o.iteratedlog(e,n,s)}function nl(e,n=10){const i=o.minabs(n,1e308).toNumber();return o.slog(e,i)}function il(e,n,i){return Z(n)?n.invert(o.tetrate(e,o.minabs(1e308,tt(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function sl(e,n,i){const s=o.minabs(n,1e308).toNumber();return o.layeradd(e,s,i)}function rl(e,n,i,s){return Z(n)?n.invert(o.layeradd(e,o.minabs(1e308,tt(i)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function ol(e,n){return Z(n)?n.invert(o.pow(Math.E,e).times(e)):(console.error("Could not invert due to no input being a variable"),0)}function al(e,n){return Z(n)?n.invert(o.tetrate(e,2)):(console.error("Could not invert due to no input being a variable"),0)}function ll(e,n,i){const s=o.minabs(n,1e308).toNumber();return o.pentate(e,s,i)}function ul(e,n){return Z(n)?n.invert(o.asin(e)):(console.error("Could not invert due to no input being a variable"),0)}function cl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cos(i).neg()}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function dl(e,n){return Z(n)?n.invert(o.acos(e)):(console.error("Could not invert due to no input being a variable"),0)}function ml(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.sin(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function pl(e,n){return Z(n)?n.invert(o.atan(e)):(console.error("Could not invert due to no input being a variable"),0)}function fl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cos(i).ln().neg()}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function gl(e,n){return Z(n)?n.invert(o.sin(e)):(console.error("Could not invert due to no input being a variable"),0)}function bl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.asin(i).times(i).add(_.sqrt(_.sub(1,_.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function hl(e,n){return Z(n)?n.invert(o.cos(e)):(console.error("Could not invert due to no input being a variable"),0)}function vl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.acos(i).times(i).sub(_.sqrt(_.sub(1,_.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function yl(e,n){return Z(n)?n.invert(o.tan(e)):(console.error("Could not invert due to no input being a variable"),0)}function _l(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.atan(i).times(i).sub(_.ln(_.pow(i,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function wl(e,n){return Z(n)?n.invert(o.asinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function kl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cosh(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Sl(e,n){return Z(n)?n.invert(o.acosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Cl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.sinh(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function $l(e,n){return Z(n)?n.invert(o.atanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Nl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cosh(i).ln()}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Il(e,n){return Z(n)?n.invert(o.sinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function ql(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.asinh(i).times(i).sub(_.pow(i,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Ml(e,n){return Z(n)?n.invert(o.cosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Tl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.acosh(i).times(i).sub(_.add(i,1).sqrt().times(_.sub(i,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function xl(e,n){return Z(n)?n.invert(o.tanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Pl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.atanh(i).times(i).add(_.sub(1,_.pow(i,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Rn(e){return(n,i)=>new _({inputs:[n,i],evaluate:e,invert:gi})}function Z(e){return e instanceof Ze&&e.hasVariable()}function tt(e,n){return e instanceof Ze?e.evaluate(n):t(e)}function Fl(){return _.pow(this,2).div(2)}function Al(){return this}const rt=class{constructor(e){this.negate=this.neg,this.negated=this.neg,this.sgn=this.sign,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mul,this.times=this.mul,this.divide=this.div,this.divideBy=this.div,this.dividedBy=this.div,this.reciprocal=this.recip,this.reciprocate=this.recip,this.logarithm=this.log;let n;"inputs"in e&&(e.inputs=e.inputs.map(i=>typeof i=="object"&&Qt in i?i[Qt]:i)),"variable"in e?(typeof e.variable=="object"&&Qt in e.variable&&(e.variable=e.variable[Qt]),n=this.setupVariable(e)):"evaluate"in e?n=this.setupFormula(e):n=this.setupConstant(e),this.inputs=n.inputs,this.internalVariables=n.internalVariables,this.innermostVariable=n.innermostVariable,this.internalEvaluate=n.internalEvaluate,this.internalInvert=n.internalInvert,this.internalIntegrate=n.internalIntegrate,this.internalIntegrateInner=n.internalIntegrateInner,this.applySubstitution=n.applySubstitution}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:Fl,internalIntegrateInner:Al,applySubstitution:gi}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){var h,N;const{inputs:n,evaluate:i,invert:s,integrate:r,integrateInner:l,applySubstitution:c}=e,d=n.reduce((I,q)=>I+(q instanceof rt?q.internalVariables:0),0),m=n.find(I=>I instanceof rt&&I.hasVariable()),p=d===1?m==null?void 0:m.innermostVariable:void 0,b=(h=m==null?void 0:m.isInvertible())!=null?h:!1,f=(N=m==null?void 0:m.isIntegrable())!=null?N:!1;return{inputs:n,internalEvaluate:i,internalInvert:b?s:void 0,internalIntegrate:f?r:void 0,internalIntegrateInner:l,applySubstitution:c,innermostVariable:p,internalVariables:d}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var n,i,s;return(s=(i=(n=this.internalEvaluate)==null?void 0:n.call(this,...this.inputs.map(r=>tt(r,e))))!=null?i:this.hasVariable()?e:null)!=null?s:tt(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((n,i)=>n instanceof rt&&e.inputs[i]instanceof rt?n.equals(e.inputs[i]):!(n instanceof rt)&&!(e.inputs[i]instanceof rt)&&o.eq(t(n),t(e.inputs[i])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new _({inputs:[e]})}static variable(e){return new _({variable:e})}static step(e,n,i){const s=i(_.variable(0)),r=et(n);function l(d){return o.lt(d,t(r))?d:o.add(s.evaluate(o.sub(d,t(r))),t(r))}function c(d,m){return Z(m)&&s.isInvertible()?(o.gt(d,t(r))&&(d=o.add(s.invert(o.sub(d,t(r))),t(r))),m.invert(d)):(console.error("Could not invert due to no input being a variable"),0)}return new _({inputs:[e],evaluate:l,invert:s.isInvertible()&&s.hasVariable()?c:void 0})}static if(e,n,i,s){const r=le(0),l=_.variable(r),c=i(l),d=s==null?void 0:s(l),m=et(n);function p(f){return t(m)?(r.value=f,c.evaluate()):d?(r.value=f,d.evaluate()):f}function b(f,h){return!Z(h)||!c.isInvertible()||d!=null&&!d.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):t(m)?h.invert(c.invert(f)):d?h.invert(d.invert(f)):h.invert(f)}return new _({inputs:[e],evaluate:p,invert:c.isInvertible()&&c.hasVariable()?b:void 0})}static conditional(e,n,i,s){return _.if(e,n,i,s)}static abs(e){return new _({inputs:[e],evaluate:o.abs})}static neg(e){return new _({inputs:[e],evaluate:o.neg,invert:la,applySubstitution:ca,integrate:ua})}static sign(e){return new _({inputs:[e],evaluate:o.sign})}static round(e){return new _({inputs:[e],evaluate:o.round,invert:Un})}static floor(e){return new _({inputs:[e],evaluate:o.floor,invert:Un})}static ceil(e){return new _({inputs:[e],evaluate:o.ceil,invert:Un})}static trunc(e){return new _({inputs:[e],evaluate:o.trunc,invert:Un})}static add(e,n){return new _({inputs:[e,n],evaluate:o.add,invert:da,integrate:ma,integrateInner:pa,applySubstitution:gi})}static sub(e,n){return new _({inputs:[e,n],evaluate:o.sub,invert:fa,integrate:ga,integrateInner:ba,applySubstitution:gi})}static mul(e,n){return new _({inputs:[e,n],evaluate:o.mul,invert:ha,integrate:va,applySubstitution:ya})}static div(e,n){return new _({inputs:[e,n],evaluate:o.div,invert:_a,integrate:wa,applySubstitution:ka})}static recip(e){return new _({inputs:[e],evaluate:o.recip,invert:Sa,integrate:Ca})}static clamp(e,n,i){return new _({inputs:[e,n,i],evaluate:o.clamp,invert:Un})}static pLog10(e){return new _({inputs:[e],evaluate:o.pLog10})}static absLog10(e){return new _({inputs:[e],evaluate:o.absLog10})}static log10(e){return new _({inputs:[e],evaluate:o.log10,invert:$a,integrate:qa})}static log(e,n){return new _({inputs:[e,n],evaluate:o.log,invert:Ma,integrate:Pa})}static log2(e){return new _({inputs:[e],evaluate:o.log2,invert:Fa,integrate:Ea})}static ln(e){return new _({inputs:[e],evaluate:o.ln,invert:Ra,integrate:La})}static pow(e,n){return new _({inputs:[e,n],evaluate:o.pow,invert:ja,integrate:Ua})}static pow10(e){return new _({inputs:[e],evaluate:o.pow10,invert:Va,integrate:Ga})}static pow_base(e,n){return new _({inputs:[e,n],evaluate:o.pow_base,invert:za,integrate:Ha})}static root(e,n){return new _({inputs:[e,n],evaluate:o.root,invert:Wa,integrate:Ya})}static factorial(e){return new _({inputs:[e],evaluate:o.factorial})}static gamma(e){return new _({inputs:[e],evaluate:o.gamma})}static lngamma(e){return new _({inputs:[e],evaluate:o.lngamma})}static exp(e){return new _({inputs:[e],evaluate:o.exp,invert:Xa,integrate:Ka})}static sqr(e){return _.pow(e,2)}static sqrt(e){return _.root(e,2)}static cube(e){return _.pow(e,3)}static cbrt(e){return _.root(e,3)}static tetrate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new _({inputs:[e,n,i],evaluate:Qa,invert:Za})}static iteratedexp(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new _({inputs:[e,n,i],evaluate:Ja,invert:el})}static iteratedlog(e,n=10,i=1){return new _({inputs:[e,n,i],evaluate:tl})}static slog(e,n=10){return new _({inputs:[e,n],evaluate:nl,invert:il})}static layeradd10(e,n){return new _({inputs:[e,n],evaluate:o.layeradd10})}static layeradd(e,n,i=10){return new _({inputs:[e,n,i],evaluate:sl,invert:rl})}static lambertw(e){return new _({inputs:[e],evaluate:o.lambertw,invert:ol})}static ssqrt(e){return new _({inputs:[e],evaluate:o.ssqrt,invert:al})}static pentate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new _({inputs:[e,n,i],evaluate:ll})}static sin(e){return new _({inputs:[e],evaluate:o.sin,invert:gl,integrate:cl})}static cos(e){return new _({inputs:[e],evaluate:o.cos,invert:hl,integrate:ml})}static tan(e){return new _({inputs:[e],evaluate:o.tan,invert:yl,integrate:fl})}static asin(e){return new _({inputs:[e],evaluate:o.asin,invert:ul,integrate:bl})}static acos(e){return new _({inputs:[e],evaluate:o.acos,invert:dl,integrate:vl})}static atan(e){return new _({inputs:[e],evaluate:o.atan,invert:pl,integrate:_l})}static sinh(e){return new _({inputs:[e],evaluate:o.sinh,invert:Il,integrate:kl})}static cosh(e){return new _({inputs:[e],evaluate:o.cosh,invert:Ml,integrate:Cl})}static tanh(e){return new _({inputs:[e],evaluate:o.tanh,invert:xl,integrate:Nl})}static asinh(e){return new _({inputs:[e],evaluate:o.asinh,invert:wl,integrate:ql})}static acosh(e){return new _({inputs:[e],evaluate:o.acosh,invert:Sl,integrate:Tl})}static atanh(e){return new _({inputs:[e],evaluate:o.atanh,invert:$l,integrate:Pl})}step(e,n){return _.step(this,e,n)}if(e,n,i){return _.if(this,e,n,i)}conditional(e,n,i){return _.if(this,e,n,i)}abs(){return _.abs(this)}neg(){return _.neg(this)}sign(){return _.sign(this)}round(){return _.round(this)}floor(){return _.floor(this)}ceil(){return _.ceil(this)}trunc(){return _.trunc(this)}add(e){return _.add(this,e)}sub(e){return _.sub(this,e)}mul(e){return _.mul(this,e)}div(e){return _.div(this,e)}recip(){return _.recip(this)}max(e){return _.max(this,e)}min(e){return _.min(this,e)}maxabs(e){return _.maxabs(this,e)}minabs(e){return _.minabs(this,e)}clamp(e,n){return _.clamp(this,e,n)}clampMin(e){return _.clampMin(this,e)}clampMax(e){return _.clampMax(this,e)}pLog10(){return _.pLog10(this)}absLog10(){return _.absLog10(this)}log10(){return _.log10(this)}log(e){return _.log(this,e)}log2(){return _.log2(this)}ln(){return _.ln(this)}pow(e){return _.pow(this,e)}pow10(){return _.pow10(this)}pow_base(e){return _.pow_base(this,e)}root(e){return _.root(this,e)}factorial(){return _.factorial(this)}gamma(){return _.gamma(this)}lngamma(){return _.lngamma(this)}exp(){return _.exp(this)}sqr(){return _.pow(this,2)}sqrt(){return _.root(this,2)}cube(){return _.pow(this,3)}cbrt(){return _.root(this,3)}tetrate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return _.tetrate(this,e,n)}iteratedexp(e=2,n=o.fromComponents_noNormalize(1,0,1)){return _.iteratedexp(this,e,n)}iteratedlog(e=10,n=1){return _.iteratedlog(this,e,n)}slog(e=10){return _.slog(this,e)}layeradd10(e){return _.layeradd10(this,e)}layeradd(e,n){return _.layeradd(this,e,n)}lambertw(){return _.lambertw(this)}ssqrt(){return _.ssqrt(this)}pentate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return _.pentate(this,e,n)}sin(){return _.sin(this)}cos(){return _.cos(this)}tan(){return _.tan(this)}asin(){return _.asin(this)}acos(){return _.acos(this)}atan(){return _.atan(this)}sinh(){return _.sinh(this)}cosh(){return _.cosh(this)}tanh(){return _.tanh(this)}asinh(){return _.asinh(this)}acosh(){return _.acosh(this)}atanh(){return _.atanh(this)}};let Ze=rt;Ze.negate=rt.neg;Ze.negated=rt.neg;Ze.sgn=rt.sign;Ze.plus=rt.add;Ze.subtract=rt.sub;Ze.minus=rt.sub;Ze.multiply=rt.mul;Ze.times=rt.mul;Ze.divide=rt.div;Ze.divideBy=rt.div;Ze.dividedBy=rt.div;Ze.reciprocal=rt.recip;Ze.reciprocate=rt.recip;Ze.max=Rn(o.max);Ze.min=Rn(o.min);Ze.minabs=Rn(o.minabs);Ze.maxabs=Rn(o.maxabs);Ze.clampMin=Rn(o.clampMin);Ze.clampMax=Rn(o.clampMax);Ze.logarithm=rt.log;class _ extends Ze{invert(n){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,n,...this.inputs):this.inputs.length===1&&this.hasVariable()?n:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(n){return this.isIntegrable()?this.getIntegralFormula().evaluate(n):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(n){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(n)}calculateConstantOfIntegration(){const n=this.getIntegralFormula().evaluate(1),i=o.add(this.evaluate(0),this.evaluate(1)).div(2);return o.sub(i,n)}getIntegralFormula(n){if(this.integralFormula!=null&&n==null)return this.integralFormula;if(n==null){if(this.applySubstitution==null){if(n=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),_.constant(0);let i=this.internalIntegrate.call(this,n,...this.inputs);n.forEach(s=>i=s(i)),this.integralFormula=i}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),_.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),_.constant(0)):(n.push(i=>this.applySubstitution.call(this,i,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,n,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,n,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),_.constant(0)))}}function Bl(e,n,i=!0,s,r=o.dInf){const l=et(i),c=et(s),d=et(r);return y(()=>{var h,N,I,q;const m=t(d);if(o.eq(m,1))return o.gte(n.value,e.evaluate())?o.dOne:o.dZero;const p=t(l),b=(h=t(c))!=null?h:p?10:0;let f=0;if(o.gt(m,b)){if(!e.isInvertible())return console.error("Cannot calculate max affordable of non-invertible formula with more maxBulkAmount than directSum"),0;if(p){if(!e.isIntegralInvertible())return console.error("Cannot calculate max affordable of formula with non-invertible integral"),0;f=o.floor(e.invertIntegral(o.add(n.value,e.evaluateIntegral()))).sub((N=t(e.innermostVariable))!=null?N:0)}else f=o.floor(e.invert(n.value))}if(f=o.clampMax(f,m),b>0){const E=f;f=o.sub(f,b).clampMin(0);let F;for(p?F=Zt(e,f,!0,0):F=e.evaluate(o.add((I=t(e.innermostVariable))!=null?I:0,f));o.lt(f,m)&&o.lt(f,Number.MAX_SAFE_INTEGER)&&o.add(E,1).gte(f);){const M=e.evaluate(f.add((q=t(e.innermostVariable))!=null?q:0));if(o.add(F,M).lte(n.value))f=f.add(1),F=o.add(F,M);else break}}return f})}function Zt(e,n,i=!0,s){var m;if(o.eq(n,1))return e.evaluate();const r=(m=t(e.innermostVariable))!=null?m:0;let l=o.add(n,r);const c=l;s!=null||(s=i?10:0),l=l.sub(s).clampMin(r);let d=0;if(o.gt(n,s)){if(!e.isInvertible())return console.error("Cannot calculate cost with indirect sum of non-invertible formula"),0;if(i){if(!e.isIntegrable())return console.error("Cannot calculate cost with cumulative cost of non-integrable formula"),0;if(d=o.sub(e.evaluateIntegral(l),e.evaluateIntegral()),c.gt(1e308))return o.add(d,o.sub(c,l).times(e.evaluate(l)))}else if(d=e.evaluate(l),l=l.add(1),c.gt(1e308))return o.sub(c,l).add(1).times(d)}for(let p=l.toNumber();p<c.toNumber();p++)d=o.add(d,e.evaluate(p));return d}const pn=Symbol("PersistentState"),Xt=Symbol("DefaultValue"),yi=Symbol("StackTrace"),_i=Symbol("Deleted"),Qt=Symbol("NonPersistent"),wn=Symbol("SaveDataPath"),zt=Symbol("SkipPersistence");function El(){var e,n;return(n=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(i=>i.trim()).join(`
`))!=null?n:""}function ks(e,n){var i;o.isNaN(n)&&(Je.hasNaN||(be.autosave=!1,Je.hasNaN=!0,Je.NaNPath=e[wn],Je.NaNPersistent=e),console.error(`Attempted to save NaN value to ${(i=e[wn])==null?void 0:i.join(".")}`)),e[pn].value=n}function Ne(e,n=!0){const i=ze(e)?e:le(e);ze(e)&&(e=e.value);const s=y({get(){return i.value},set(l){n?ks(r,l):r[pn].value=l}});s[Xt]=e;const r={get value(){return i.value},set value(l){n?ks(r,l):r[pn].value=l},__v_isRef:!0,[pn]:i,[Xt]:e,[yi]:El(),[_i]:!1,[Qt]:s,[wn]:void 0};return Tt.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",r,`
Created at:
`+r[yi]):kn[Tt[Tt.length-1]].add(r),r}function Rl(e){return e!=null&&typeof e=="object"&&pn in e}function A(e){return!(cn in e)&&Qt in e?e[Qt]:new Proxy(e,{get(n,i){if(i!==pn)return i===zt?!0:n[i]},set(n,i,s){return n[i]=s,!0},has(n,i){return i===pn?!1:i==zt?!0:Reflect.has(n,i)}})}function Ol(e){Tt.length===0?console.warn("Deleting a persistent ref outside of a layer. Ignoring...",e):kn[Tt[Tt.length-1]].delete(e),e[_i]=!0}pt.on("addLayer",(e,n)=>{const i=[],s=(r,l=[])=>{let c=!1;return Object.keys(r).forEach(d=>{let m=r[d];if(m!=null&&typeof m=="object"){if(m[zt]===!0)return;if(cn in m&&(m=m[cn]),Rl(m)){if(c=!0,m[_i]){console.warn("Deleted persistent ref present in returned object. Ignoring...",m,`
Created at:
`+m[yi]);return}kn[e.id].delete(m);const p=[e.id,...l,d];m[wn]!=null&&JSON.stringify(p)!==JSON.stringify(m[wn])&&console.error(`Persistent ref is being saved to \`${p.join(".")}\` when it's already present at \`${m[wn].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),m[wn]=p;const b=l.reduce((h,N)=>(N in h||(h[N]={}),h[N]),n),f=b[d];b[d]=m[pn],dr(b)?f!=null?b[d]=f:b[d]=m[Xt]:f!=null?b[d].value=f:b[d].value=m[Xt]}else!(m instanceof o)&&!(m instanceof _)&&!ze(m)&&!i.includes(m)&&(typeof m.type=="symbol"&&i.push(m),s(m,[...l,d])&&(en(m)&&!en(r)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",cn in r?r[cn]:r,d):c=!0))}}),c};s(e[cn]),kn[e.id].forEach(r=>{r[_i]||console.error(`Created persistent ref in ${e.id} without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+r[yi])}),kn[e.id].clear()});const cn=Symbol("ProxyState");function Xe(e,n={}){const i=n;let s=!1,r=!1;function l(){return s||(r&&console.error("Cyclical dependency detected. Cannot evaluate lazy proxy."),r=!0,Object.assign(i,e.call(i,i)),s=!0),i}return new Proxy(i,{get(c,d){if(d===cn)return l();const m=l()[d];return m!=null&&typeof m=="object"&&Qt in m?m[Qt]:m},set(c,d,m){return l()[d]=m,!0},has(c,d){return d===cn?!0:Reflect.has(l(),d)},ownKeys(){return Reflect.ownKeys(l())},getOwnPropertyDescriptor(c,d){return s||(Object.assign(i,e.call(i,i)),s=!0),Object.getOwnPropertyDescriptor(c,d)}})}const ts=Symbol("RegisterNode"),ns=Symbol("UnregisterNode"),is=Symbol("Nodes"),ss=Symbol("Bounds"),_t=wi({});window.layers=_t;const kn={},Tt=[];function nt(e,n){return Xe(()=>{const i={},s=i.emitter=qs();if(i.on=s.on.bind(s),i.emit=s.emit.bind(s),i.nodes=le({}),i.id=e,Tt.push(e),kn[e]=new Set,Object.assign(i,n.call(i,i)),Tt[Tt.length-1]==null||Tt[Tt.length-1]!==e)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${Tt}
Trying to pop ${i.id}`);Tt.pop(),K(i,"color"),K(i,"display"),K(i,"classes"),K(i,"style"),K(i,"name"),Oe(i,"name",i.id),K(i,"minWidth"),Oe(i,"minWidth",600);const r=i.style;return i.style=y(()=>{var c;let l=t(i.minWidth);return(typeof l=="number"||!Number.isNaN(parseInt(l)))&&(l=l+"px"),[(c=t(r))!=null?c:"",{flexGrow:"",flexShrink:"",width:"",minWidth:l,flexBasis:l,margin:""}]}),i})}function Ws(e,n){if(console.info("Adding layer",e.id),_t[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,_t[e.id]);return}Oe(n,"layers",{}),n.layers[e.id]==null&&(n.layers[e.id]={}),_t[e.id]=e,pt.emit("addLayer",e,n.layers[e.id])}function Dl(e){return _t[e]}function Ys(e){console.info("Removing layer",e.id),pt.emit("removeLayer",e),_t[e.id]=void 0}function Ll(e){Ys(e),Ws(e,be)}function jl(e){const n=le(!1);return{openModal:()=>n.value=!0,modal:k(()=>a(rn,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i},{header:()=>a("h2",null,[t(e.name)]),body:t(e.display)}))}}pt.on("update",function(n){Object.values(_t).forEach(i=>{i==null||i.emit("preUpdate",n)}),Object.values(_t).forEach(i=>{i==null||i.emit("update",n)}),Object.values(_t).forEach(i=>{i==null||i.emit("postUpdate",n)})});var Ul=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:ts,UnregisterNodeInjectionKey:ns,NodesInjectionKey:is,BoundsInjectionKey:ss,layers:_t,persistentRefs:kn,addingLayers:Tt,createLayer:nt,addLayer:Ws,getLayer:Dl,removeLayer:Ys,reloadLayer:Ll,setupLayerModal:jl},Symbol.toStringTag,{value:"Module"}));const Vl=se({components:{Context:zs,ErrorVue:Ts},props:{index:{type:Number,required:!0},display:{type:ne(Object,String,Function),required:!0},name:{type:ne(String),required:!0},color:ne(String),nodes:{type:Object,required:!0}},emits:["setMinimized"],setup(e){const{display:n,index:i}=ot(e),s=es(n),r=y(()=>ye.allowGoBack&&i.value>0);function l(){be.tabs.splice(t(e.index),1/0)}function c(m){e.nodes.value=m}const d=le([]);return mr((m,p,b)=>(console.warn(`Error caught in "${e.name}" layer`,m,p,b),d.value.push(m instanceof Error?m:new Error(JSON.stringify(m))),!1)),{component:s,showGoBack:r,updateNodes:c,unref:t,goBack:l,errors:d}}});function Gl(e,n,i,s,r,l){const c=Lt("ErrorVue"),d=Lt("Context");return e.errors.length>0?($(),ie(c,{key:0,errors:e.errors},null,8,["errors"])):($(),P("div",Bt({key:1,class:"layer-container",style:{"--layer-color":e.unref(e.color)}},e.$attrs),[e.showGoBack?($(),P("button",{key:0,class:"goBack",onClick:n[0]||(n[0]=(...m)=>e.goBack&&e.goBack(...m))},"\u274C")):($(),P("div",{key:1,class:Me(["layer-tab",{showGoBack:e.showGoBack}])},[a(d,{onUpdateNodes:e.updateNodes},{default:ae(()=>[($(),ie($e(e.component)))]),_:1},8,["onUpdateNodes"])],2))],16))}var zl=fe(Vl,[["render",Gl],["__scopeId","data-v-5840fa16"]]);const Xs=e=>(dt("data-v-5bf27016"),e=e(),mt(),e),Hl=Xs(()=>C("h2",null,"Changelog",-1)),Wl=Xs(()=>C("details",{open:""},[C("summary",null,[u("v1.0 Revitalization - "),C("time",null,"2021-09-04")]),u(" Moved everything over to Profectus "),C("ul",null,[C("li",{class:"feature"},"Did everything"),C("li",{class:"fix"},"Had some fun"),C("li",{class:"breaking"},"Removed everything"),C("li",{class:"balancing"},"Created some bugs to fix later")])],-1)),Yl=se({__name:"Changelog",setup(e,{expose:n}){const i=le(!1);return n({open(){i.value=!0}}),(s,r)=>($(),ie(rn,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l)},{header:ae(()=>[Hl]),body:ae(()=>[Wl]),_:1},8,["modelValue"]))}});var Xl=fe(Yl,[["__scopeId","data-v-5bf27016"]]),Kl=se({props:{element:Object,display:{type:ne(Object,String,Function),required:!0},style:ne(Object,String,Array),classes:ne(Object),direction:ne(String),xoffset:ne(String),yoffset:ne(String),pinned:Object},setup(e){const{element:n,display:i,pinned:s}=ot(e),r=le(!1),l=y(()=>(Ie(s)||r.value)&&c.value),c=ti(i),d=wt(ue(k(()=>{const b=Ie(n);return b==null?"":Pt(b)})));function m(b){const f=s;b.shiftKey&&f&&(f.value=!f.value,b.stopPropagation(),b.preventDefault())}const p=y(()=>Ie(s)&&En[qe.theme].showPin);return{Direction:Fe,isHovered:r,isShown:l,comp:c,elementComp:d,unref:t,togglePinned:m,showPin:p}}});const Ql={key:0,class:"material-icons pinned"};function Zl(e,n,i,s,r,l){return $(),P("div",{class:Me(["tooltip-container",{shown:e.isShown}]),onMouseenter:n[0]||(n[0]=c=>e.isHovered=!0),onMouseleave:n[1]||(n[1]=c=>e.isHovered=!1),onClickCapture:n[2]||(n[2]=(...c)=>e.togglePinned&&e.togglePinned(...c))},[Ht(e.$slots,"default",{},void 0,!0),e.elementComp?($(),ie($e(e.elementComp),{key:0})):H("",!0),a(Is,{name:"fade"},{default:ae(()=>{var c;return[e.isShown?($(),P("div",{key:0,class:Me(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:De([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(c=e.unref(e.style))!=null?c:{}])},[e.showPin?($(),P("span",Ql,"push_pin")):H("",!0),e.comp?($(),ie($e(e.comp),{key:1})):H("",!0)],6)):H("",!0)]}),_:1})],34)}var Ve=fe(Kl,[["render",Zl],["__scopeId","data-v-1fb84868"]]);const $n=e=>(dt("data-v-10effbe8"),e=e(),mt(),e),Jl={class:"info-modal-header"},eu=["src","alt"],tu={class:"info-modal-title"},nu={key:0},iu={key:0},su={key:0},ru=$n(()=>C("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),ou=$n(()=>C("br",null,null,-1)),au=$n(()=>C("br",null,null,-1)),lu=["href"],uu=$n(()=>C("span",{class:"material-icons info-modal-discord"},"discord",-1)),cu=$n(()=>C("div",null,[C("a",{href:"https://discord.gg/yJ4fjnjU54",class:"info-modal-discord-link",target:"_blank"},[C("span",{class:"material-icons info-modal-discord"},"discord"),u(" Profectus & Friends ")])],-1)),du=$n(()=>C("div",null,[C("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[C("span",{class:"material-icons info-modal-discord"},"discord"),u(" The Modding Tree ")])],-1)),mu=$n(()=>C("br",null,null,-1));var pu=se({__name:"Info",props:{changelog:null},setup(e,{expose:n}){const i=e,{title:s,logo:r,author:l,discordName:c,discordLink:d,versionNumber:m,versionTitle:p}=ye,b=ot(i),f=le(!1),h=y(()=>Zi(be.timePlayed)),N=y(()=>ue(k(()=>a(g,null,[Bs.map(te)]))));n({open(){f.value=!0}});function I(){var q;(q=t(b.changelog))==null||q.open()}return(q,E)=>($(),ie(rn,{modelValue:f.value,"onUpdate:modelValue":E[0]||(E[0]=F=>f.value=F)},{header:ae(()=>[C("div",Jl,[t(r)?($(),P("img",{key:0,class:"info-modal-logo",src:t(r),alt:t(s)},null,8,eu)):H("",!0),C("div",tu,[C("h2",null,ee(t(s)),1),C("h4",null,[u(" v"+ee(t(m)),1),t(p)?($(),P("span",nu,": "+ee(t(p)),1)):H("",!0)])])])]),body:ae(({shown:F})=>[F?($(),P("div",iu,[t(l)?($(),P("div",su,"By "+ee(t(l)),1)):H("",!0),ru,ou,C("div",{class:"link",onClick:I},"Changelog"),au,C("div",null,[t(d)?($(),P("a",{key:0,href:t(d),class:"info-modal-discord-link",target:"_blank"},[uu,u(" "+ee(t(c)),1)],8,lu)):H("",!0)]),cu,du,mu,C("div",null,"Time Played: "+ee(t(h)),1),($(),ie($e(t(N))))])):H("",!0)]),_:1},8,["modelValue"]))}});var fu=fe(pu,[["__scopeId","data-v-10effbe8"]]);const gu={class:"field"},bu={key:0,class:"field-title"},zn=se({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){var c;const i=e,s=ti(nn(i,"title"),"span"),r=le((c=i.options.find(d=>d.value===i.modelValue))!=null?c:null);Ct(nn(i,"modelValue"),d=>{var m;Ie(r)!==d&&(r.value=(m=i.options.find(p=>p.value===d))!=null?m:null)});function l(d){n("update:modelValue",d.value)}return(d,m)=>($(),P("div",gu,[t(s)?($(),P("span",bu,[($(),ie($e(t(s))))])):H("",!0),a(t(yr),{options:e.options,modelValue:r.value,"onUpdate:modelValue":[m[0]||(m[0]=p=>r.value=p),l],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const hu={class:"field"},vu=se({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,s=y(()=>{var l;return ue((l=t(i.title))!=null?l:"<span></span>","span")}),r=y({get(){return!!i.modelValue},set(l){n("update:modelValue",l)}});return(l,c)=>($(),P("label",hu,[Ui(C("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":c[0]||(c[0]=d=>ze(r)?r.value=d:null)},null,512),[[pr,t(r)]]),($(),ie($e(t(s))))]))}});var Gt=fe(vu,[["__scopeId","data-v-11046116"]]);const yu={class:"header"},_u=C("h2",null,"Settings",-1),wu={class:"option-tabs"},ku={key:0},Su={key:1};var Cu=se({__name:"Options",setup(e,{expose:n}){const i=le(!1),s=le("behaviour");function r(v){return v==s.value}function l(v){s.value=v}n({isTab:r,setTab:l,save:At,open(){i.value=!0}});const c=Object.keys(En).map(v=>({label:Us(v),value:v})),d=[{label:"Standard",value:He.standard},{label:"Thousands",value:He.thousands},{label:"Engineering",value:He.engineering},{label:"Scientific",value:He.scientific}],m=d.filter(v=>v.value!==He.standard),p=y(()=>ue(k(()=>a(g,null,[Fs.map(te)])))),{showTPS:b,theme:f,unthrottled:h,alignUnits:N,numberFormat:I,backupNumberFormat:q}=ot(qe),{autosave:E}=ot(be),F=y({get(){return be.devSpeed===0},set(v){be.devSpeed=v?0:null}}),M=k(()=>a("span",{class:"option-title"},[u("Unthrottled"),a("desc",null,[u("Allow the game to run as fast as possible. Not battery friendly.")])])),T=k(()=>a("span",{class:"option-title"},[u("Autosave"),a(Ve,{display:"Save-specific",direction:Fe.Right},{default:()=>[u("*")]}),a("desc",null,[u("Automatically save the game every second or when the game is closed.")])])),G=k(()=>a("span",{class:"option-title"},[u("Pause game"),a(Ve,{display:"Save-specific",direction:Fe.Right},{default:()=>[u("*")]}),a("desc",null,[u("Stop everything from moving.")])])),ce=k(()=>a("span",{class:"option-title"},[u("Theme"),a("desc",null,[u("How the game looks.")])])),Y=k(()=>a("span",{class:"option-title"},[u("Show TPS"),a("desc",null,[u("Show TPS meter at the bottom-left corner of the page.")])])),U=k(()=>a("span",{class:"option-title"},[u("Align modifier units"),a("desc",null,[u("Align numbers to the beginning of the unit in modifier view.")])])),Be=k(()=>a("span",{class:"option-title"},[u("Number Notation"),a("desc",null,[u("Change how numbers are formatted for display.")])])),O=k(()=>a("span",{class:"option-title"},[u("Backup Number Notation"),a("desc",null,[u("Change how numbers are formatted beyond the limit of Standard Notation")])]));return(v,x)=>($(),ie(rn,{modelValue:i.value,"onUpdate:modelValue":x[11]||(x[11]=me=>i.value=me)},{header:ae(()=>[C("div",yu,[_u,C("div",wu,[C("button",{class:Me({selected:r("behaviour")}),onClick:x[0]||(x[0]=me=>l("behaviour"))},"Behaviour",2),C("button",{class:Me({selected:r("appearance")}),onClick:x[1]||(x[1]=me=>l("appearance"))},"Appearance",2)])])]),body:ae(()=>[r("behaviour")?($(),P("div",ku,[a(Gt,{title:t(M),modelValue:t(h),"onUpdate:modelValue":x[2]||(x[2]=me=>ze(h)?h.value=me:null)},null,8,["title","modelValue"]),t(ye).enablePausing?($(),ie(Gt,{key:0,title:t(G),modelValue:t(F),"onUpdate:modelValue":x[3]||(x[3]=me=>ze(F)?F.value=me:null)},null,8,["title","modelValue"])):H("",!0),a(Gt,{title:t(T),modelValue:t(E),"onUpdate:modelValue":x[4]||(x[4]=me=>ze(E)?E.value=me:null)},null,8,["title","modelValue"]),t(E)?H("",!0):($(),ie(ki,{key:1,class:"button save-button",onClick:x[5]||(x[5]=me=>t(At)())},{default:ae(()=>[u("Manually save")]),_:1}))])):H("",!0),r("appearance")?($(),P("div",Su,[a(zn,{title:t(ce),options:t(c),modelValue:t(f),"onUpdate:modelValue":x[6]||(x[6]=me=>ze(f)?f.value=me:null)},null,8,["title","options","modelValue"]),a(zn,{title:t(Be),options:d,modelValue:t(I),"onUpdate:modelValue":x[7]||(x[7]=me=>ze(I)?I.value=me:null)},null,8,["title","modelValue"]),t(I)===t(He).standard?($(),ie(zn,{key:0,title:t(O),options:t(m),modelValue:t(q),"onUpdate:modelValue":x[8]||(x[8]=me=>ze(q)?q.value=me:null)},null,8,["title","options","modelValue"])):H("",!0),($(),ie($e(t(p)))),a(Gt,{title:t(Y),modelValue:t(b),"onUpdate:modelValue":x[9]||(x[9]=me=>ze(b)?b.value=me:null)},null,8,["title","modelValue"]),a(Gt,{title:t(U),modelValue:t(N),"onUpdate:modelValue":x[10]||(x[10]=me=>ze(N)?N.value=me:null)},null,8,["title","modelValue"])])):H("",!0)]),_:1},8,["modelValue"]))}});const $u=["onSubmit"],Nu={class:"field"},Iu={key:0,class:"field-title"},qu=["placeholder"],Mu=se({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean},autofocus:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:n}){var m;const i=e,s=ti(nn(i,"title"),"span"),r=wt(null);((m=i.autofocus)==null||m)&&ei(()=>{var p;(p=r.value)==null||p.focus()});const l=y({get(){var p;return(p=t(i.modelValue))!=null?p:""},set(p){n("update:modelValue",p)}});function c(){n("submit")}function d(){i.submitOnBlur!==!1?n("submit"):n("cancel")}return(p,b)=>($(),P("form",{onSubmit:Wn(c,["prevent"])},[C("div",Nu,[t(s)?($(),P("span",Iu,[($(),ie($e(t(s))))])):H("",!0),e.textArea?($(),ie(t(wr),{key:1,modelValue:t(l),"onUpdate:modelValue":b[0]||(b[0]=f=>ze(l)?l.value=f:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:d,ref_key:"field",ref:r},null,8,["modelValue","placeholder","maxHeight"])):Ui(($(),P("input",{key:2,type:"text","onUpdate:modelValue":b[1]||(b[1]=f=>ze(l)?l.value=f:null),placeholder:e.placeholder,class:Me({fullWidth:!e.title}),onBlur:d,ref_key:"field",ref:r},null,42,qu)),[[fr,t(l)]])])],40,$u))}});var ni=fe(Mu,[["__scopeId","data-v-7e1eaf88"]]);const Tu={key:0},xu=["onClick","disabled"],Pu={key:0},Fu=["onClick"],Au=se({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:n}){const s=ot(e),r=le(!1);Ct(r,d=>{n("confirmingChanged",d)});function l(){if(t(s.skipConfirm)){n("click");return}r.value&&n("click"),r.value=!r.value}function c(){r.value=!1}return(d,m)=>($(),P("span",{class:Me(["container",{confirming:r.value}])},[r.value?($(),P("span",Tu,"Are you sure?")):H("",!0),C("button",{onClick:Wn(l,["stop"]),class:"button danger",disabled:e.disabled},[r.value?($(),P("span",Pu,"Yes")):Ht(d.$slots,"default",{key:1},void 0,!0)],8,xu),r.value?($(),P("button",{key:1,class:"button",onClick:Wn(c,["stop"])},"No",8,Fu)):H("",!0)],2))}});var Ks=fe(Au,[["__scopeId","data-v-2f8ef34c"]]);const on=e=>(dt("data-v-32313015"),e=e(),mt(),e),Bu=on(()=>C("div",{class:"handle material-icons"},"drag_handle",-1)),Eu={key:0,class:"actions"},Ru=on(()=>C("span",{class:"material-icons"},"content_paste",-1)),Ou=on(()=>C("span",{class:"material-icons"},"content_copy",-1)),Du=on(()=>C("span",{class:"material-icons"},"edit",-1)),Lu=on(()=>C("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),ju={key:1,class:"actions"},Uu=on(()=>C("span",{class:"material-icons"},"check",-1)),Vu=on(()=>C("span",{class:"material-icons"},"close",-1)),Gu={key:2,class:"details"},zu={class:"save-version"},Hu=on(()=>C("br",null,null,-1)),Wu={key:0},Yu={key:3,class:"details"},Xu={key:4,class:"details error"},Ku=on(()=>C("br",null,null,-1)),Qu=se({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:n}){const i=e,{save:s}=ot(i),r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),l=le(!1),c=le(!1),d=le("");Ct(l,()=>{var f;return d.value=(f=s.value.name)!=null?f:""});const m=y(()=>s.value!=null&&s.value.id===be.id),p=y(()=>{var f;return m.value?be.time:(f=s.value!=null&&s.value.time)!=null?f:0});function b(){n("editName",d.value),l.value=!1}return(f,h)=>($(),P("div",{class:Me(["save",{active:t(m)}])},[Bu,l.value?($(),P("div",ju,[C("button",{onClick:b,class:"button"},[a(Ve,{display:"Save",direction:t(Fe).Left,class:"info"},{default:ae(()=>[Uu]),_:1},8,["direction"])]),C("button",{onClick:h[5]||(h[5]=N=>l.value=!l.value),class:"button"},[a(Ve,{display:"Cancel",direction:t(Fe).Left,class:"info"},{default:ae(()=>[Vu]),_:1},8,["direction"])])])):($(),P("div",Eu,[t(s).error==null&&!c.value?($(),ie(ki,{key:0,onClick:h[0]||(h[0]=N=>n("export")),class:"button",left:""},{default:ae(()=>[a(Ve,{display:"Export",direction:t(Fe).Left,class:"info"},{default:ae(()=>[Ru]),_:1},8,["direction"])]),_:1})):H("",!0),t(s).error==null&&!c.value?($(),P("button",{key:1,onClick:h[1]||(h[1]=N=>n("duplicate")),class:"button"},[a(Ve,{display:"Duplicate",direction:t(Fe).Left,class:"info"},{default:ae(()=>[Ou]),_:1},8,["direction"])])):H("",!0),t(s).error==null&&!c.value?($(),P("button",{key:2,onClick:h[2]||(h[2]=N=>l.value=!l.value),class:"button"},[a(Ve,{display:"Edit Name",direction:t(Fe).Left,class:"info"},{default:ae(()=>[Du]),_:1},8,["direction"])])):H("",!0),a(Ks,{disabled:t(m),onClick:h[3]||(h[3]=N=>n("delete")),onConfirmingChanged:h[4]||(h[4]=N=>c.value=N)},{default:ae(()=>[a(Ve,{display:"Delete",direction:t(Fe).Left,class:"info"},{default:ae(()=>[Lu]),_:1},8,["direction"])]),_:1},8,["disabled"])])),t(s).error==null&&!l.value?($(),P("div",Gu,[C("button",{class:"button open",onClick:h[6]||(h[6]=N=>n("open"))},[C("h3",null,ee(t(s).name),1)]),C("span",zu,"v"+ee(t(s).modVersion),1),Hu,t(p)?($(),P("div",Wu,"Last played "+ee(t(r).format(t(p))),1)):H("",!0)])):t(s).error==null&&l.value?($(),P("div",Yu,[a(ni,{modelValue:d.value,"onUpdate:modelValue":h[7]||(h[7]=N=>d.value=N),class:"editname",onSubmit:b},null,8,["modelValue"])])):($(),P("div",Xu,[u(" Error: Failed to load save with id "+ee(t(s).id),1),Ku,u(ee(t(s).error),1)]))],2))}});var Zu=fe(Qu,[["__scopeId","data-v-32313015"]]);const rs=e=>(dt("data-v-2a4275be"),e=e(),mt(),e),Ju=rs(()=>C("h2",null,"Saves Manager",-1)),ec={class:"modal-footer"},tc={class:"field"},nc=rs(()=>C("span",{class:"field-title"},"Create Save",-1)),ic={class:"field-buttons"},sc={class:"footer"},rc=rs(()=>C("div",{style:{"flex-grow":"1"}},null,-1)),oc=se({__name:"SavesManager",setup(e,{expose:n}){const i=le(!1),s=le(null);n({open(){i.value=!0}});const r=le(!1),l=le(""),c=le(null);Ct(l,M=>{M?fn(()=>{try{if(M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=tn.decompressFromUTF16(M);else{console.warn("Unable to determine preset encoding",M),r.value=!0;return}const T=JSON.parse(M);if(typeof T!="object"){r.value=!0;return}const G=fi();T.id=G,At(T),l.value="",r.value=!1,qe.saves.push(G)}catch{r.value=!0}}):r.value=!1});let d={},m=le(Object.keys(d).reduce((M,T)=>(M.push({label:T.split("/").slice(-1)[0].slice(0,-4),value:d[T]}),M),[]));const p=wi({});function b(M){if(p[M]==null){let T=localStorage.getItem(M);if(T==null)p[M]={error:"Save doesn't exist in localStorage",id:M};else if(T==="dW5kZWZpbmVk")p[M]={error:"Save is undefined",id:M};else try{if(T[0]!=="{")if(T[0]==="e")T=decodeURIComponent(escape(atob(T)));else if(T[0]==="\u1BE1")T=tn.decompressFromUTF16(T);else return console.warn("Unable to determine preset encoding",T),r.value=!0,p[M]={error:"Unable to determine preset encoding",id:M},p[M];p[M]={...JSON.parse(T),id:M}}catch(G){p[M]={error:G,id:M},console.warn(`SavesManager: Failed to load info about save with id ${M}:
${G}
${T}`)}}return p[M]}Ct(i,M=>{M&&Object.keys(p).forEach(T=>delete p[T])});const f=y(()=>qe.saves.reduce((M,T)=>(M[T]=b(T),M),{}));function h(M){let T;switch(be.id===M?T=Vi(be):T=JSON.stringify(f.value[M]),ye.exportEncoding){default:console.warn(`Unknown save encoding: ${ye.exportEncoding}. Defaulting to lz`);case"lz":T=tn.compressToUTF16(T);break;case"base64":T=btoa(unescape(encodeURIComponent(T)));break;case"plain":break}const G=document.createElement("textarea");G.value=T,document.body.appendChild(G),G.select(),G.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(G)}function N(M){be.id===M&&At();const T={...f.value[M],id:fi()};At(T),qe.saves.push(T.id)}function I(M){qe.saves=qe.saves.filter(T=>T!==M),localStorage.removeItem(M),p[M]=void 0}function q(M){f.value[be.id].time=be.time,At(),p[be.id]=void 0,_n(f.value[M]),p[M]=void 0}function E(M){if(c.value=M,fn(()=>{c.value=null}),M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=tn.decompressFromUTF16(M);else{console.warn("Unable to determine preset encoding",M);return}const T=JSON.parse(M);T.id=fi(),At(T),qe.saves.push(T.id),q(T.id)}function F(M,T){const G=f.value[M];G!=null&&(G.name=T,be.id===M?(be.name=T,At()):(At(G),p[M]=void 0))}return(M,T)=>($(),ie(rn,{modelValue:i.value,"onUpdate:modelValue":T[4]||(T[4]=G=>i.value=G),ref_key:"modal",ref:s},{header:ae(()=>[Ju]),body:ae(({shown:G})=>[G?($(),ie(t(_r),{key:0,list:t(qe).saves,handle:".handle",itemKey:ce=>ce},{item:ae(({element:ce})=>[a(Zu,{save:t(f)[ce],onOpen:Y=>q(ce),onExport:Y=>h(ce),onEditName:Y=>F(ce,Y),onDuplicate:Y=>N(ce),onDelete:Y=>I(ce)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):H("",!0)]),footer:ae(()=>[C("div",ec,[a(ni,{modelValue:l.value,"onUpdate:modelValue":T[0]||(T[0]=G=>l.value=G),title:"Import Save",placeholder:"Paste your save here!",class:Me({importingFailed:r.value})},null,8,["modelValue","class"]),C("div",tc,[nc,C("div",ic,[C("button",{class:"button",onClick:T[1]||(T[1]=G=>q(t(Tn)().id))},"New Game"),Object.keys(t(m)).length>0?($(),ie(zn,{key:0,options:t(m),modelValue:c.value,"onUpdate:modelValue":T[2]||(T[2]=G=>E(G)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):H("",!0)])]),C("div",sc,[rc,C("button",{class:"button modal-default-button",onClick:T[3]||(T[3]=G=>i.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var Qs=fe(oc,[["__scopeId","data-v-2a4275be"]]);const Et=e=>(dt("data-v-48016e86"),e=e(),mt(),e),ac=["src","alt"],lc={key:1,class:"title"},uc={key:2,class:"devspeed"},cc={key:3,class:"devspeed"},dc=Et(()=>C("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),mc={class:"discord"},pc={class:"discord-links"},fc={key:0},gc=["href"],bc=Et(()=>C("li",null,[C("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),hc=Et(()=>C("li",null,[C("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),vc={href:"https://forums.moddingtree.com/",target:"_blank"},yc=Et(()=>C("span",{class:"material-icons"},"forum",-1)),_c=Et(()=>C("span",{class:"material-icons"},"info",-1)),wc=Et(()=>C("span",{class:"material-icons"},"library_books",-1)),kc=Et(()=>C("span",{class:"material-icons"},"settings",-1)),Sc=Et(()=>C("span",{class:"material-icons"},"library_books",-1)),Cc=Et(()=>C("span",{class:"material-icons"},"settings",-1)),$c=Et(()=>C("span",{class:"material-icons"},"info",-1)),Nc={href:"https://forums.moddingtree.com/",target:"_blank"},Ic=Et(()=>C("span",{class:"material-icons"},"forum",-1)),qc={class:"discord"},Mc={class:"discord-links"},Tc={key:0},xc=["href"],Pc=Et(()=>C("li",null,[C("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),Fc=Et(()=>C("li",null,[C("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Ac=se({__name:"Nav",setup(e){const n=le(null),i=le(null),s=le(null),r=le(null),{useHeader:l,banner:c,title:d,discordName:m,discordLink:p,versionNumber:b}=ye;function f(){window.open(p,"mywindow")}return(h,N)=>($(),P(g,null,[t(l)?($(),P("div",Bt({key:0,class:"nav"},h.$attrs),[t(c)?($(),P("img",{key:0,src:t(c),class:"banner",alt:t(d)},null,8,ac)):($(),P("div",lc,ee(t(d)),1)),C("div",{onClick:N[0]||(N[0]=I=>{var q;return(q=r.value)==null?void 0:q.open()}),class:"version-container"},[a(Ve,{display:"Changelog",direction:t(Fe).Down,class:"version"},{default:ae(()=>[C("span",null,"v"+ee(t(b)),1)]),_:1},8,["direction"])]),t(be).devSpeed===0?($(),P("div",uc,"Game Paused")):t(be).devSpeed&&t(be).devSpeed!==1?($(),P("div",cc,"Dev Speed: "+ee(t(D)(t(be).devSpeed))+"x",1)):H("",!0),dc,C("div",mc,[C("span",{onClick:f,class:"material-icons"},"discord"),C("ul",pc,[t(p)?($(),P("li",fc,[C("a",{href:t(p),target:"_blank"},ee(t(m)),9,gc)])):H("",!0),bc,hc])]),C("div",null,[C("a",vc,[a(Ve,{display:"Forums",direction:t(Fe).Down,yoffset:"5px"},{default:ae(()=>[yc]),_:1},8,["direction"])])]),C("div",{onClick:N[1]||(N[1]=I=>{var q;return(q=n.value)==null?void 0:q.open()})},[a(Ve,{display:"Info",direction:t(Fe).Down,class:"info"},{default:ae(()=>[_c]),_:1},8,["direction"])]),C("div",{onClick:N[2]||(N[2]=I=>{var q;return(q=i.value)==null?void 0:q.open()})},[a(Ve,{display:"Saves",direction:t(Fe).Down,xoffset:"-20px"},{default:ae(()=>[wc]),_:1},8,["direction"])]),C("div",{onClick:N[3]||(N[3]=I=>{var q;return(q=s.value)==null?void 0:q.open()})},[a(Ve,{display:"Settings",direction:t(Fe).Down,xoffset:"-66px"},{default:ae(()=>[kc]),_:1},8,["direction"])])],16)):($(),P("div",Bt({key:1,class:"overlay-nav"},h.$attrs),[C("div",{onClick:N[4]||(N[4]=I=>{var q;return(q=r.value)==null?void 0:q.open()}),class:"version-container"},[a(Ve,{display:"Changelog",direction:t(Fe).Right,xoffset:"25%",class:"version"},{default:ae(()=>[C("span",null,"v"+ee(t(b)),1)]),_:1},8,["direction"])]),C("div",{onClick:N[5]||(N[5]=I=>{var q;return(q=i.value)==null?void 0:q.open()})},[a(Ve,{display:"Saves",direction:t(Fe).Right},{default:ae(()=>[Sc]),_:1},8,["direction"])]),C("div",{onClick:N[6]||(N[6]=I=>{var q;return(q=s.value)==null?void 0:q.open()})},[a(Ve,{display:"Settings",direction:t(Fe).Right},{default:ae(()=>[Cc]),_:1},8,["direction"])]),C("div",{onClick:N[7]||(N[7]=I=>{var q;return(q=n.value)==null?void 0:q.open()})},[a(Ve,{display:"Info",direction:t(Fe).Right},{default:ae(()=>[$c]),_:1},8,["direction"])]),C("div",null,[C("a",Nc,[a(Ve,{display:"Forums",direction:t(Fe).Right,xoffset:"7px"},{default:ae(()=>[Ic]),_:1},8,["direction"])])]),C("div",qc,[C("span",{onClick:f,class:"material-icons"},"discord"),C("ul",Mc,[t(p)?($(),P("li",Tc,[C("a",{href:t(p),target:"_blank"},ee(t(m)),9,xc)])):H("",!0),Pc,Fc])])],16)),a(fu,{ref_key:"info",ref:n,changelog:r.value},null,8,["changelog"]),a(Qs,{ref_key:"savesManager",ref:i},null,512),a(Cu,{ref_key:"options",ref:s},null,512),a(Xl,{ref_key:"changelog",ref:r},null,512)],64))}});var Zs=fe(Ac,[["__scopeId","data-v-48016e86"]]);const Bc=["id"],Ec={class:"inner-tab"},Rc=se({__name:"Game",setup(e){const n=nn(be,"tabs"),i=y(()=>Object.keys(_t)),s=ye.useHeader;function r(l){const{display:c,name:d,color:m,nodes:p}=l;return{display:c,name:d,color:m,nodes:p}}return(l,c)=>($(),P("div",{class:Me(["tabs-container",{useHeader:t(s)}])},[($(!0),P(g,null,Pe(t(n),(d,m)=>{var p,b;return $(),P("div",{key:m,id:d,class:Me(["tab",t((p=t(_t)[d])==null?void 0:p.classes)]),style:De(t((b=t(_t)[d])==null?void 0:b.style))},[m===0&&!t(s)?($(),ie(Zs,{key:0})):H("",!0),C("div",Ec,[t(i).includes(d)?($(),ie(zl,Bt({key:0},r(t(_t)[d]),{index:m}),null,16,["index"])):($(),ie($e(d),{key:1,index:m},null,8,["index"]))])],14,Bc)}),128))],2))}});var Oc=fe(Rc,[["__scopeId","data-v-438bb8c8"]]);const Dc=se({__name:"Tab",props:{display:null},setup(e){const n=e,{display:i}=ot(n),s=es(i);return(r,l)=>($(),ie($e(t(s))))}}),Lc=Symbol("Tab");function Jt(e){return Xe(n=>{const i=e.call(n,n);return i.id=jt("tab-"),i.type=Lc,i[ct]=Dc,i[kt]=function(){const{display:s}=this;return{display:s}},i})}pt.on("setupVue",e=>e.use(kr));function os(e="white",n="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${n} ${e}`,zIndex:1}}function jc(){return os("red","20px")}const Uc=se({props:{visibility:{type:ne(Number,Boolean),required:!0},display:{type:ne(Object,String,Function),required:!0},style:ne(String,Object,Array),classes:ne(Object),glowColor:ne(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:n}){const{display:i,glowColor:s,floating:r}=ot(e),l=es(i),c=y(()=>{const m=Ie(s);return m==null||m===""?{}:t(r)?os(m):{boxShadow:`0px 9px 5px -6px ${m}`}});function d(){n("selectTab")}return{selectTab:d,component:l,glowColorStyle:c,unref:t,Visibility:xe,isVisible:ve,isHidden:Yt}}});function Vc(e,n,i,s,r,l){var c;return e.isVisible(e.visibility)?($(),P("button",{key:0,onClick:n[0]||(n[0]=(...d)=>e.selectTab&&e.selectTab(...d)),class:Me(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:De([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.glowColorStyle,(c=e.unref(e.style))!=null?c:{}])},[($(),ie($e(e.component)))],6)):H("",!0)}var Js=fe(Uc,[["render",Vc],["__scopeId","data-v-21427abb"]]);const Gc=se({__name:"Sticky",props:{style:null},setup(e){const n=le("0"),i=new ResizeObserver(r),s=wt(null);function r(){let l=s.value;if(l==null)return;let c=0;for(;l.previousSibling;){const d=l.previousSibling;d.dataset&&"vSticky"in d.dataset&&(c+=d.offsetHeight),l=d}n.value=c+"px"}return fn(r),document.fonts.ready.then(r),ei(()=>{var c;const l=(c=s.value)==null?void 0:c.parentElement;l&&i.observe(l)}),(l,c)=>{var d;return $(),P("div",{class:"sticky",style:De([(d=e.style)!=null?d:{},{top:n.value}]),ref_key:"element",ref:s,"data-v-sticky":""},[Ht(l.$slots,"default",{},void 0,!0)],4)}}});var er=fe(Gc,[["__scopeId","data-v-4627c2ee"]]);const zc=se({props:{visibility:{type:ne(Number,Boolean),required:!0},activeTab:{type:ne(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:ne(Object),required:!0},style:ne(String,Object,Array),classes:ne(Object),buttonContainerStyle:ne(String,Object,Array),buttonContainerClasses:ne(Object)},components:{Sticky:er,TabButton:Js},setup(e){const{activeTab:n}=ot(e),i=y(()=>En[qe.theme].floatingTabs),s=wt("");xt(()=>{const d=Ie(n);if(d==null){s.value="";return}if(St(d)){s.value=ue(d);return}s.value=ue(t(d.display))});const r=y(()=>{const d=Ie(n);return St(d)||!d?void 0:t(d.classes)}),l=y(()=>{const d=Ie(n);return St(d)||!d?void 0:t(d.style)});function c(d){const{display:m,style:p,classes:b,glowColor:f,visibility:h}=d;return{display:m,style:t(p),classes:b,glowColor:f,visibility:h}}return{floating:i,tabClasses:r,tabStyle:l,Visibility:xe,component:s,gatherButtonProps:c,unref:t,isVisible:ve,isHidden:Yt}}});function Hc(e,n,i,s,r,l){var m,p;const c=Lt("TabButton"),d=Lt("Sticky");return e.isVisible(e.visibility)?($(),P("div",{key:0,class:Me(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:De([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(m=e.unref(e.style))!=null?m:[],(p=e.tabStyle)!=null?p:[]])},[a(d,{class:Me(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:De(e.unref(e.buttonContainerStyle))},{default:ae(()=>[C("div",{class:Me(["tab-buttons",{floating:e.floating}])},[($(!0),P(g,null,Pe(e.unref(e.tabs),(b,f)=>($(),ie(c,Bt({onSelectTab:h=>e.selected.value=f,floating:e.floating,key:f,active:e.unref(b.tab)===e.unref(e.activeTab)},e.gatherButtonProps(b)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?($(),ie($e(e.unref(e.component)),{key:0})):H("",!0)],6)):H("",!0)}var Wc=fe(zc,[["render",Hc],["__scopeId","data-v-65b34424"]]);const Yc=Symbol("TabButton"),Xc=Symbol("TabFamily");function ii(e,n){Object.keys(e).length===0&&console.error("Cannot create tab family with 0 tabs");const i=Ne(Object.keys(e)[0],!1);return Xe(s=>{var c;const r=(c=n==null?void 0:n.call(s,s))!=null?c:{};r.id=jt("tabFamily-"),r.type=Xc,r[ct]=Wc,r.tabs=Object.keys(e).reduce((d,m)=>{const p=e[m]();return p.type=Yc,p[ct]=Js,K(p,"visibility"),Oe(p,"visibility",xe.Visible),K(p,"tab"),K(p,"display"),K(p,"classes"),K(p,"style"),K(p,"glowColor"),d[m]=p,d},{}),r.selected=i,r.activeTab=y(()=>{const d=t(l.tabs);if(i.value in d&&ve(d[i.value].visibility))return t(d[i.value].tab);const m=Object.values(d).find(p=>ve(p.visibility));return m?t(m.tab):null}),K(r,"visibility"),Oe(r,"visibility",xe.Visible),K(r,"classes"),K(r,"style"),K(r,"buttonContainerClasses"),K(r,"buttonContainerStyle"),r[kt]=function(){const{visibility:d,activeTab:m,selected:p,tabs:b,style:f,classes:h,buttonContainerClasses:N,buttonContainerStyle:I}=this;return{visibility:d,activeTab:m,selected:p,tabs:b,style:t(f),classes:h,buttonContainerClasses:N,buttonContainerStyle:I}};const l=r;return l})}function at(e,n="points",i=0,s=void 0){const r=ze(e)?e:Ne(e);if(r.displayName=n,r.precision=i,r.small=s,!ze(e)){const l=r[Qt];l.displayName=n,l.precision=i,l.small=s}return r}function as(e){const n=Ne(e.value);return Ct(e,i=>{zi.value||o.gt(i,n.value)&&(n.value=i)}),n}function Kc(e){const n=Ne(e.value);return Ct(e,(i,s)=>{zi.value||o.gt(i,s)&&(n.value=o.add(n.value,o.sub(i,s)))}),n}new o("10^^8");new o("1e100");function Cn(e,n){const i=n!=null?n:e.value;return e.small&&o.lt(i,.98)?vi(i,void 0,e.small):o.eq(e.precision,0)?Sn(e.small?i:o.floor(i)):vi(i,e.precision,e.small)}function Qc(e){return Xe(n=>{const{addend:i,description:s,enabled:r,smallerIsBetter:l}=e.call(n,n),c=et(i),d=et(s),m=r==null?void 0:et(r);return{apply:p=>o.add(p,t(c)),invert:p=>o.sub(p,t(c)),getFormula:p=>_.add(p,c),enabled:m,description:s==null?void 0:k(()=>a("div",{class:"modifier-container"},[t(d)!=null?a("span",{class:"modifier-description"},[Pt(t(d))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(c),0):o.lt(t(c),0))?"color: var(--danger)":""},[o.gte(t(c),0)?"+":"",Fn(t(c))])]))}})}function z(e){return Xe(n=>{const{multiplier:i,description:s,enabled:r,smallerIsBetter:l}=e.call(n,n),c=et(i),d=et(s),m=r==null?void 0:et(r);return{apply:p=>o.times(p,t(c)),invert:p=>o.div(p,t(c)),getFormula:p=>_.times(p,c),enabled:m,description:s==null?void 0:k(()=>a("div",{class:"modifier-container"},[t(d)!=null?a("span",{class:"modifier-description"},[Pt(t(d))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(c),1):o.lt(t(c),1))?"color: var(--danger)":""},[u("\xD7"),Fn(t(c))])]))}})}function On(e){return Xe(n=>{const{exponent:i,description:s,enabled:r,supportLowNumbers:l,smallerIsBetter:c}=e.call(n,n),d=et(i),m=et(s),p=r==null?void 0:et(r);return{apply:b=>{let f=b;return l&&(f=o.add(f,1)),f=o.pow(f,t(d)),l&&(f=o.sub(f,1)),f},invert:b=>{let f=b;return l&&(f=o.add(f,1)),f=o.root(f,t(d)),l&&(f=o.sub(f,1)),f},getFormula:b=>l?_.add(b,1).pow(d).sub(1):_.pow(b,d),enabled:p,description:s==null?void 0:k(()=>a("div",{class:"modifier-container"},[t(m)!=null?a("span",{class:"modifier-description"},[Pt(t(m)),l?" (+1 effective)":null]):null,a("span",{class:"modifier-amount",style:(c===!0?o.gt(t(d),1):o.lt(t(d),1))?"color: var(--danger)":""},[u("^"),Fn(t(d))])]))}})}function ut(e){return Xe(()=>{const n=e();return{apply:i=>n.filter(s=>t(s.enabled)!==!1).reduce((s,r)=>r.apply(s),i),invert:n.every(i=>i.invert!=null)?i=>n.filter(s=>t(s.enabled)!==!1).reduceRight((s,r)=>r.invert(s),i):void 0,getFormula:n.every(i=>i.getFormula!=null)?i=>n.reduce((s,r)=>{var l;return _.if(s,(l=r.enabled)!=null?l:!0,c=>r.getFormula(c),c=>c)},i):void 0,enabled:n.some(i=>i.enabled!=null)?y(()=>n.filter(i=>t(i.enabled)!==!1).length>0):void 0,description:n.some(i=>i.description!=null)?k(()=>a(g,null,[n.filter(i=>t(i.enabled)!==!1).map(i=>t(i.description)).filter(i=>i).map(Pt)])):void 0}})}const Se=se({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(n,i)=>($(),P("div",{style:De({width:e.width,height:e.height})},null,4))}});function Dn(e,n){return K(n,"display"),K(n,"classes"),K(n,"style"),K(n,"direction"),Oe(n,"direction",Fe.Up),K(n,"xoffset"),K(n,"yoffset"),n.pinnable&&(n.pinned=Ne(!1,!1)),fn(()=>{const i=e[ct];e[ct]=Ve;const s=e[kt].bind(e);e[kt]=function(){const{display:l,classes:c,style:d,direction:m,xoffset:p,yoffset:b,pinned:f}=this;return{element:{[ct]:i,[kt]:s},display:l,classes:c,style:t(d),direction:m,xoffset:p,yoffset:b,pinned:f}}.bind(n)}),n}const Zc={key:0},Jc={key:0,class:"mark star"},ed=["src"],td=se({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(n,i)=>e.mark?($(),P("div",Zc,[e.mark===!0?($(),P("div",Jc)):($(),P("img",{key:1,class:"mark",src:e.mark},null,8,ed))])):H("",!0)}});var si=fe(td,[["__scopeId","data-v-2207999f"]]);const nd=se({__name:"Node",props:{id:null},setup(e){const i=ot(e),s=hi(ts,()=>{}),r=hi(ns,()=>{}),l=wt(null),c=y(()=>l.value&&l.value.parentElement);return Ct([c,i.id],([d,m],[p,b])=>{p&&r(t(b)),d&&s(m,d)}),$s(()=>r(t(i.id))),(d,m)=>($(),P("div",{class:"node",ref_key:"node",ref:l},null,512))}});var Nn=fe(nd,[["__scopeId","data-v-a48cb382"]]);function X(e){return Xe(n=>{var s;const i=e.call(n,n);return i.partialDisplay=r=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[Cn(i.resource,i.cost instanceof _?Zt(i.cost,r!=null?r:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),i.display=r=>a("div",null,[t(i.requiresPay)?"Costs: ":"Requires: ",Cn(i.resource,i.cost instanceof _?Zt(i.cost,r!=null?r:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),K(i,"visibility"),Oe(i,"visibility",xe.Visible),K(i,"cost"),K(i,"requiresPay"),Oe(i,"requiresPay",!0),K(i,"cumulativeCost"),Oe(i,"cumulativeCost",!0),K(i,"maxBulkAmount"),Oe(i,"maxBulkAmount",1),K(i,"directSum"),Oe(i,"pay",function(r){const l=i.cost instanceof _?Zt(i.cost,r!=null?r:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost);i.resource.value=o.sub(i.resource.value,l).max(0)}),i.canMaximize=y(()=>{var d;if(!(i.cost instanceof _))return!1;const r=t(i.maxBulkAmount);if(o.lte(r,1))return!1;const l=t(i.cumulativeCost),c=(d=t(i.directSum))!=null?d:l?10:0;return o.lte(r,c)?!0:!(!i.cost.isInvertible()||l===!0&&!i.cost.isIntegrable())}),i.cost instanceof _?i.requirementMet=Bl(i.cost,i.resource,(s=i.cumulativeCost)!=null?s:!0,i.directSum,i.maxBulkAmount):i.requirementMet=y(()=>o.gte(i.resource.value,t(i.cost))?1:0),i})}function ls(e){return Xe(()=>({requirementMet:y(()=>ve(e.visibility)),visibility:xe.None,requiresPay:!1}))}function Vt(e,n){return Xe(()=>({requirementMet:et(e),partialDisplay:n==null?void 0:k(()=>Pt(n)),display:n==null?void 0:k(()=>a(g,null,[u("Req: "),Pt(n)])),visibility:n==null?xe.None:xe.Visible,requiresPay:!1}))}function Dt(e){if(en(e))return e.every(Dt);const n=t(e.requirementMet);return typeof n=="boolean"?n:o.gt(n,0)}function Jn(e){if(en(e))return e.map(Jn).reduce(o.min);const n=t(e.requirementMet);return typeof n=="boolean"?n?o.dInf:0:o.gt(n,1)&&t(e.canMaximize)!==!0?1:n}function Qe(e,n=1){var i,s;if(en(e)&&(e=e.filter(r=>ve(r.visibility)),e.length===1&&(e=e[0])),en(e)){e=e.filter(c=>"partialDisplay"in c);const r=e.filter(c=>t(c.requiresPay)),l=e.filter(c=>!t(c.requiresPay));return a(g,null,[r.length>0?a("div",null,[u("Costs:")," ",Li(r.map(c=>c.partialDisplay(n)),a(g,null,[u(", ")]))]):null,l.length>0?a("div",null,[u("Requires:")," ",Li(l.map(c=>c.partialDisplay(n)),a(g,null,[u(", ")]))]):null])}return(s=(i=e.display)==null?void 0:i.call(e))!=null?s:a(g,null,null)}function Hn(e,n=1){var i;en(e)?e.filter(s=>t(s.requiresPay)).forEach(s=>{var r;return(r=s.pay)==null?void 0:r.call(s,n)}):t(e.requiresPay)&&((i=e.pay)==null||i.call(e,n))}var id=se({props:{display:{type:ne(String,Object,Function),required:!0},visibility:{type:ne(Number,Boolean),required:!0},style:ne(String,Object,Array),classes:ne(Object),requirements:{type:Object,required:!0},canPurchase:{type:ne(Boolean),required:!0},bought:{type:ne(Boolean),required:!0},mark:ne(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:Nn,MarkNode:si},setup(e){const{display:n,requirements:i,bought:s}=ot(e),r=wt("");return xt(()=>{const l=Ie(n);if(l==null){r.value="";return}if(St(l)){r.value=ue(l);return}const c=ue(l.title||"","h3"),d=ue(l.description,"div"),m=ue(l.effect||"");r.value=ue(k(()=>a("span",null,[l.title!=null?a("div",null,[a(c,null,null)]):null,a(d,null,null),l.effect!=null?a("div",null,[u("Currently: "),a(m,null,null)]):null,s.value?null:a(g,null,[a("br",null,null),Qe(i.value)])])))}),{component:r,unref:t,Visibility:xe,isVisible:ve,isHidden:Yt}}});const sd=["disabled"];function rd(e,n,i,s,r,l){var m;const c=Lt("MarkNode"),d=Lt("Node");return e.isVisible(e.visibility)?($(),P("button",{key:0,style:De([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(m=e.unref(e.style))!=null?m:{}]),onClick:n[0]||(n[0]=(...p)=>e.purchase&&e.purchase(...p)),class:Me({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?($(),ie($e(e.unref(e.component)),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(d,{id:e.id},null,8,["id"])],14,sd)):H("",!0)}var od=fe(id,[["render",rd],["__scopeId","data-v-67ed4380"]]);const ad=Symbol("Upgrade");function pe(e,...n){const i=Ne(!1,!1),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Xe(r=>{var m,p;const l=e.call(r,r);l.id=jt("upgrade-"),l.type=ad,l[ct]=od;for(const b of n)(m=b.preConstruct)==null||m.call(b,l);l.bought=i,Object.assign(l,s),l.canPurchase=y(()=>!i.value&&Dt(l.requirements)),l.purchase=function(){var f;const b=l;!t(b.canPurchase)||(Hn(l.requirements),i.value=!0,(f=b.onPurchase)==null||f.call(b))};const c=ls(l);en(l.requirements)?l.requirements.unshift(c):l.requirements=[c,l.requirements],K(l,"visibility"),Oe(l,"visibility",xe.Visible),K(l,"classes"),K(l,"style"),K(l,"display"),K(l,"mark");for(const b of n)(p=b.postConstruct)==null||p.call(b,l);const d=n.reduce((b,f)=>{var h;return Object.assign(b,(h=f.getGatheredProps)==null?void 0:h.call(f,l))},{});return l[kt]=function(){const{display:b,visibility:f,style:h,classes:N,requirements:I,canPurchase:q,bought:E,mark:F,id:M,purchase:T}=this;return{display:b,visibility:f,style:t(h),classes:N,requirements:I,canPurchase:q,bought:E,mark:F,id:M,purchase:T,...d}},l})}function je(e,n=1,i=!1){if(!("effect"in e))throw new TypeError(`Upgrade ${e.id} does not have an effect`);return i||t(e.bought)?t(e.effect):n}function ld(e){const n=pe(()=>({visibility:e.visibility,requirements:e.requirements,display:e.display.title,onPurchase:e.onPurchase}));return Dn(n,{direction:Fe.Up,display:k(()=>a(g,null,[e.display.description,a(Se,null,null),Qe(e.requirements)]))}),n}const ke={postConstruct(e){K(e,"effect")}},ri=se({__name:"Resource",props:{resource:null,color:null,tag:null,override:null},setup(e){const n=e,i=y(()=>Cn(n.resource,n.override));return(s,r)=>{var l;return $(),ie($e((l=e.tag)!=null?l:"h2"),{style:De({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},{default:ae(()=>[u(ee(t(i)),1)]),_:1},8,["style"])}}});const ud={class:"main-display"},cd={key:0},dd={key:1},Ci=se({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,stickyStyle:null,effect:null,modal:null},setup(e){const i=ot(e),s=le(null),r=ti(i.effect),l=y(()=>o.lt(i.resource.value,"1e1000"));return(c,d)=>($(),ie(er,{style:De(e.stickyStyle)},{default:ae(()=>{var m,p,b,f;return[C("div",{class:Me(["main-display-container",(m=e.classes)!=null?m:{}]),style:De([{height:`${((b=(p=s.value)==null?void 0:p.$el.clientHeight)!=null?b:0)+50}px`},(f=e.style)!=null?f:{}])},[C("div",ud,[t(l)?($(),P("span",cd,"You have ")):H("",!0),a(ri,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),u(" "+ee(e.resource.displayName),1),t(r)?($(),P("span",dd,[u(", "),($(),ie($e(t(r)),{ref_key:"effectRef",ref:s},null,512))])):H("",!0),e.modal?($(),ie($e(t(te)(e.modal)),{key:2})):H("",!0)])],6)]}),_:1},8,["style"]))}});const md={class:"timecube row"},pd=se({__name:"TimecubeUpgrades",props:{upgrades:null},setup(e){const n=e,i=[];for(let b=0;b<t(n.upgrades).length;b+=5)i.push([]);let s=0;for(const b of t(n.upgrades))i[s].push(b),i[s].length>=5&&s++;const r=i.map(b=>b.map((f,h)=>h===0?!1:y(()=>ve(b[h-1].visibility)))),l=i.map(b=>b.map((f,h)=>h>=b.length-1?!1:y(()=>ve(b[h+1].visibility)))),c=i.map(b=>y(()=>b.filter(f=>ve(f.visibility)).length)),d=i.map((b,f)=>b.map(()=>y(()=>f===0?!1:t(c[f])<=t(c[f-1])))),m=i.map((b,f)=>b.map(()=>y(()=>f>=i.length-1?!1:t(c[f])<=t(c[f+1])))),p=i.map((b,f)=>b.map((h,N)=>y(()=>({upgrade:h,classes:{left:t(r[f][N]),right:t(l[f][N]),top:t(d[f][N]),bottom:t(m[f][N])}}))));return(b,f)=>($(!0),P(g,null,Pe(t(p),h=>($(),P("div",md,[($(!0),P(g,null,Pe(h,N=>($(),ie($e(t(te)(t(N).upgrade)),{classes:t(N).classes},null,8,["classes"]))),256))]))),256))}});var fd=fe(pd,[["__scopeId","data-v-46085314"]]),gd=se({props:{display:{type:ne(Object,String,Function),required:!0},visibility:{type:ne(Number,Boolean),required:!0},style:ne(Object,String,Array),classes:ne(Object),onClick:Function,onHold:Function,canClick:{type:ne(Boolean),required:!0},small:Boolean,mark:ne(Boolean,String),id:{type:String,required:!0}},components:{Node:Nn,MarkNode:si},setup(e){const{display:n,onClick:i,onHold:s}=ot(e),r=wt("");xt(()=>{var b;const d=Ie(n);if(d==null){r.value="";return}if(St(d)){r.value=ue(d);return}const m=ue((b=d.title)!=null?b:"","h3"),p=ue(d.description,"div");r.value=ue(k(()=>a("span",null,[d.title!=null?a("div",null,[a(m,null,null)]):null,a(p,null,null)])))});const{start:l,stop:c}=Gs(i,s);return{start:l,stop:c,comp:r,Visibility:xe,isVisible:ve,isHidden:Yt,unref:t}}});function bd(e,n,i,s,r,l){var m;const c=Lt("MarkNode"),d=Lt("Node");return e.isVisible(e.visibility)?($(),P("button",{key:0,style:De([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(m=e.unref(e.style))!=null?m:[]]),onClick:n[0]||(n[0]=(...p)=>e.onClick&&e.onClick(...p)),onMousedown:n[1]||(n[1]=(...p)=>e.start&&e.start(...p)),onMouseleave:n[2]||(n[2]=(...p)=>e.stop&&e.stop(...p)),onMouseup:n[3]||(n[3]=(...p)=>e.stop&&e.stop(...p)),onTouchstartPassive:n[4]||(n[4]=(...p)=>e.start&&e.start(...p)),onTouchendPassive:n[5]||(n[5]=(...p)=>e.stop&&e.stop(...p)),onTouchcancelPassive:n[6]||(n[6]=(...p)=>e.stop&&e.stop(...p)),class:Me({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?($(),ie($e(e.unref(e.comp)),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(d,{id:e.id},null,8,["id"])],38)):H("",!0)}var tr=fe(gd,[["render",bd],["__scopeId","data-v-211328c0"]]);const hd=Symbol("Clickable");function lt(e,...n){const i=n.reduce((s,r)=>{var l;return Object.assign(s,(l=r.getPersistentData)==null?void 0:l.call(r))},{});return Xe(s=>{var c,d,m;const r=(c=e==null?void 0:e.call(s,s))!=null?c:{};r.id=jt("clickable-"),r.type=hd,r[ct]=tr;for(const p of n)(d=p.preConstruct)==null||d.call(p,r);if(Object.assign(r,i),K(r,"visibility"),Oe(r,"visibility",xe.Visible),K(r,"canClick"),Oe(r,"canClick",!0),K(r,"classes"),K(r,"style"),K(r,"mark"),K(r,"display"),r.onClick){const p=r.onClick.bind(r);r.onClick=function(b){t(r.canClick)!==!1&&p(b)}}if(r.onHold){const p=r.onHold.bind(r);r.onHold=function(){t(r.canClick)!==!1&&p()}}for(const p of n)(m=p.postConstruct)==null||m.call(p,r);const l=n.reduce((p,b)=>{var f;return Object.assign(p,(f=b.getGatheredProps)==null?void 0:f.call(b,r))},{});return r[kt]=function(){const{display:p,visibility:b,style:f,classes:h,onClick:N,onHold:I,canClick:q,small:E,mark:F,id:M}=this;return{display:p,visibility:b,style:t(f),classes:h,onClick:N,onHold:I,canClick:q,small:E,mark:F,id:M,...l}},r})}const vd=["disabled"],yd={key:0};var _d=se({__name:"Research",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,research:null},setup(e){const n=e,i=wt("");xt(()=>{var p,b;const r=t(n.display);if(r==null){i.value="";return}if(St(r)){i.value=ue(r);return}const l=t(n.requirements),c=ue((p=r.title)!=null?p:"","h3"),d=ue(r.description),m=ue((b=r.effect)!=null?b:"");i.value=ue(k(()=>a(g,null,[r.title?a("span",null,[a(c,null,null)]):null,a("span",null,[a(d,null,null)]),r.effect?a("span",null,[u("Currently: "),a(m,null,null)]):null,Qe(l)])))});const s=y(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(r,l)=>($(),P("button",{style:De([{visibility:t(Yt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(s)))}%`}]),onClick:l[0]||(l[0]=c=>e.research(!1)),class:Me({research:!0,hidden:t(Yt)(e.visibility),locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching)&&!t(e.researched),queued:t(e.isResearching),done:t(e.researched)}),disabled:!t(e.canResearch)},[t(ve)(e.visibility)?t(t(i))?($(),ie($e(t(t(i))),{key:1})):H("",!0):($(),P("div",yd,"???")),a(Nn,{id:e.id},null,8,["id"])],14,vd))}});var wd=fe(_d,[["__scopeId","data-v-1f627772"]]);const kd=Symbol("Research");function us(e,...n){const i=Ne(0),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Xe(r=>{var p,b;const l=e.call(r,r);l.id=jt("research-"),l.type=kd,l[ct]=wd;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.progress=i,Object.assign(l,s),K(l,"canResearch");const c=l.canResearch;l.canResearch=y(()=>{var f,h;return c!=null&&!t(c)?!1:(h=(f=l.prerequisites)==null?void 0:f.every(N=>t(N.researched)))!=null?h:!0}),K(l,"visibility");const d=l.visibility;l.visibility=y(()=>{var f,h,N;return t(l.researched)?xe.Visible:(h=(f=l.prerequisites)==null?void 0:f.every(I=>t(I.researched)||t(I.canResearch)))==null||h?(N=t(d))!=null?N:xe.Visible:xe.None}),K(l,"display"),K(l,"isResearching"),l.progressPercentage=y(()=>{if(Array.isArray(l.requirements)){let f=o.dZero,h=o.dZero;for(const N of l.requirements){if(!("cost"in N&&"resource"in N))continue;const I=N.cost,q=N.resource;f=f.plus(I instanceof _?Zt(I,1,!1,0):t(I)),h=h.plus(t(q))}return f.gte(0)?f.div(h):0}else{if(!("cost"in l.requirements&&"resource"in l.requirements))return 0;const f=l.requirements.cost,h=l.requirements.resource;return o.div(t(h),f instanceof _?Zt(f,1,!1,0):t(f))}}),l.researched=y(()=>Dt(l.requirements));for(const f of n)(b=f.postConstruct)==null||b.call(f,l);const m=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,l))},{});return l[kt]=function(){const{visibility:f,display:h,id:N,requirements:I,canResearch:q,research:E,isResearching:F,progress:M,progressPercentage:T,researched:G}=this;return{visibility:f,display:h,id:N,requirements:I,canResearch:q,research:E,isResearching:F,progress:M,progressPercentage:T,researched:G,...m}},l})}function gt(e,n){return t(e.researched)?t(e.effect):n}const nr={postConstruct(e){e.amount===void 0&&console.error(`Decorated feature ${e.id} does not contain the required 'amount' property"`),K(e,"bonusAmount"),e.totalAmount===void 0&&(e.totalAmount=y(()=>{var n;return o.add(t((n=e.amount)!=null?n:0),t(e.bonusAmount))}))}},Sd=Symbol("Repeatable");function Ye(e,...n){const i=Ne(0),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Xe(r=>{var h,N,I;const l=e.call(r,r);l.id=jt("repeatable-"),l.type=Sd,l[ct]=tr;for(const q of n)(h=q.preConstruct)==null||h.call(q,l);l.amount=i,l.amount[Xt]=(N=l.initialAmount)!=null?N:0,Object.assign(l,s);const c={requirementMet:y(()=>o.sub(t(l.limit),l.amount.value)),requiresPay:!1,visibility:xe.None,canMaximize:!0},d=ls(l);en(l.requirements)?(l.requirements.unshift(d),l.requirements.push(c)):l.requirements=[d,l.requirements,c],l.maxed=y(()=>o.gte(l.amount.value,t(l.limit))),K(l,"classes");const m=l.classes;l.classes=y(()=>{const q=t(m)||{};return l.maxed.value&&(q.bought=!0),q}),l.amountToIncrease=y(()=>o.clampMin(Jn(l.requirements),1)),l.canClick=y(()=>Dt(l.requirements));const p=l.onClick;l.onClick=function(q){var M;const E=l;if(!t(E.canClick))return;const F=(M=t(l.amountToIncrease))!=null?M:1;Hn(l.requirements,F),E.amount.value=o.add(E.amount.value,F),p==null||p(q)},K(l,"display");const b=l.display;l.display=k(()=>{var E,F,M;const q=t(b);if(St(q)){const T=ue(q);return a(T,null,null)}if(q!=null){const T=l,G=ue((E=q.title)!=null?E:"","h3"),ce=ue((F=q.description)!=null?F:""),Y=ue((M=q.effect)!=null?M:"");return a("span",null,[q.title==null?null:a("div",null,[a(G,null,null)]),q.description==null?null:a(ce,null,null),q.showAmount===!1?null:a("div",null,[a("br",null,null),a(g,null,[u("Amount: "),Sn(T.amount.value)]),o.isFinite(t(T.limit))?a(g,null,[u(" / "),Sn(t(T.limit))]):void 0]),q.effect==null?null:a("div",null,[a("br",null,null),u("Currently: "),a(Y,null,null)]),T.maxed.value?null:a("div",null,[a("br",null,null),Qe(T.requirements,t(l.amountToIncrease))])])}return""}),K(l,"visibility"),Oe(l,"visibility",xe.Visible),K(l,"limit"),Oe(l,"limit",o.dInf),K(l,"style"),K(l,"mark"),K(l,"small");for(const q of n)(I=q.postConstruct)==null||I.call(q,l);const f=n.reduce((q,E)=>{var F;return Object.assign(q,(F=E.getGatheredProps)==null?void 0:F.call(E,l))},{});return l[kt]=function(){const{display:q,visibility:E,style:F,classes:M,onClick:T,canClick:G,small:ce,mark:Y,id:U}=this;return{display:q,visibility:E,style:t(F),classes:M,onClick:T,canClick:G,small:ce,mark:Y,id:U,...f}},l})}const Cd=["disabled"],$d={key:0};var Nd=se({__name:"RepeatableResearch",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,amount:null,limit:null,research:null},setup(e){const n=e,i=wt("");xt(()=>{var p,b;const r=t(n.display);if(r==null){i.value="";return}if(St(r)){i.value=ue(r);return}const l=n.requirements,c=ue((p=r.title)!=null?p:"","h3"),d=ue(r.description),m=ue((b=r.effect)!=null?b:"");i.value=ue(k(()=>a(g,null,[r.title?a(c,null,null):null,a("span",null,[a(d,null,null)]),r.effect?a("span",null,[u("Currently: "),a(m,null,null)]):null,Qe(l)])))});const s=y(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(r,l)=>t(ve)(e.visibility)?($(),P("button",{key:0,style:De([{visibility:t(Yt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(s)))}%`}]),onClick:l[0]||(l[0]=c=>e.research(!1)),class:Me({research:!0,repeatable:!0,locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching),queued:t(e.isResearching)}),disabled:!t(e.canResearch)},[t(ve)(e.visibility)?t(t(i))?($(),ie($e(t(t(i))),{key:1})):H("",!0):($(),P("div",$d,"???")),a(Nn,{id:e.id},null,8,["id"])],14,Cd)):H("",!0)}});var Id=fe(Nd,[["__scopeId","data-v-7554ad12"]]);const qd={getPersistentData(){return{amount:Ne(0)}},preConstruct(e){if(e[ct]=Id,St(e.display)||ze(e.display)||Qn(e.display))return;const n=e.display.title;e.display.title=k(()=>{var s;const i=ue(n!=null?n:"");return a("h3",null,[u("Repeatable: "),a(i,null,null),u(" "),cs(o.add(t((s=e.amount)!=null?s:0),1))])})},postConstruct(e){K(e,"limit"),Oe(e,"limit",3998),e.maxed=y(()=>o.gte(t(e.amount),t(e.limit))),e.researched=y(()=>o.gt(t(e.amount),0));const n=e.onResearch;e.onResearch=()=>{n==null||n(),e.amount.value=o.add(t(e.amount),1),e.progress.value=0}},getGatheredProps(e){return{amount:e.amount}}};function cs(e){const n=[[1,"I"],[4,"IV"],[5,"V"],[9,"IX"],[10,"X"],[40,"XL"],[50,"L"],[90,"XC"],[100,"C"],[400,"CD"],[500,"D"],[900,"CM"],[1e3,"M"]];let i=new o(e).trunc().toNumber();if(i>=4e3)return D(e);if(i<1)return"Nulla";const s=[];for(let r=n.length-1;i>0;r--){for(let l=Math.floor(i/n[r][0]);l>0;l--)s.push(n[r][1]);i%=n[r][0]}return s.join("")}const Md=["x1","y1","x2","y2"],Td=se({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=e,i=ot(n),s=y(()=>{const c=i.startNode.value.rect,d=i.boundingRect.value,m=d?{x:c.x+c.width/2-d.x,y:c.y+c.height/2-d.y}:{x:0,y:0};return i.link.value.offsetStart&&(m.x+=i.link.value.offsetStart.x,m.y+=i.link.value.offsetStart.y),m}),r=y(()=>{const c=i.endNode.value.rect,d=i.boundingRect.value,m=d?{x:c.x+c.width/2-d.x,y:c.y+c.height/2-d.y}:{x:0,y:0};return i.link.value.offsetEnd&&(m.x+=i.link.value.offsetEnd.x,m.y+=i.link.value.offsetEnd.y),m}),l=y(()=>Jo(n.link));return(c,d)=>($(),P("line",Bt({"stroke-width":"15px",stroke:"white"},t(l),{x1:t(s).x,y1:t(s).y,x2:t(r).x,y2:t(r).y}),null,16,Md))}});const xd=se({__name:"Links",props:{links:null},setup(e){var m;const i=nn(e,"links"),s=le(null),r=hi(is,le({})),l=hi(ss,le(void 0)),c=le((m=s.value)==null?void 0:m.getBoundingClientRect());Ct(l,()=>{var p;return c.value=(p=s.value)==null?void 0:p.getBoundingClientRect()}),ei(()=>{var p;return c.value=(p=s.value)==null?void 0:p.getBoundingClientRect()});const d=y(()=>{var b,f;const p=r.value;return(f=(b=i.value)==null?void 0:b.filter(h=>{var N,I;return((N=p[h.startNode.id])==null?void 0:N.rect)&&((I=p[h.startNode.id])==null?void 0:I.rect)}))!=null?f:[]});return(p,b)=>($(),P(g,null,[t(d)?($(),P("svg",gr(Bt({key:0},p.$attrs)),[($(!0),P(g,null,Pe(t(d),(f,h)=>($(),ie(Td,{key:h,link:f,boundingRect:c.value,startNode:t(r)[f.startNode.id],endNode:t(r)[f.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):H("",!0),C("div",{ref_key:"resizeListener",ref:s,class:"resize-listener"},null,512)],64))}});var ir=fe(xd,[["__scopeId","data-v-063f6d6b"]]);const Pd=e=>(dt("data-v-4d279c24"),e=e(),mt(),e),Fd={class:"container"},Ad={class:"row research-tree"},Bd={class:"col"},Ed=Pd(()=>C("div",{class:"fade"},null,-1)),Rd=se({__name:"ResearchTree",props:{research:null},setup(e){const n=e,i=y(()=>n.research.flatMap(s=>s).flatMap(s=>{var r,l;return(l=(r=s.prerequisites)==null?void 0:r.map(c=>({startNode:{id:s.id},endNode:{id:c.id},stroke:ve(s.visibility)?t(c.researched)?"var(--layer-color)":"white":"var(--locked)","stroke-width":"5px"})))!=null?l:[]}));return(s,r)=>($(),P("div",Fd,[C("div",Ad,[a(Se,{width:"30px"}),C("div",Bd,[a(Se,{height:"30px"}),($(!0),P(g,null,Pe(e.research,l=>($(),ie(Wt,null,{default:ae(()=>[($(!0),P(g,null,Pe(l,c=>($(),P(g,null,[t(ve)(c.visibility)?($(),ie($e(t(te)(c)),{key:0})):H("",!0)],64))),256))]),_:2},1024))),256)),a(Se,{height:"30px"}),a(ir,{links:t(t(i))},null,8,["links"])]),a(Se,{width:"30px"})]),Ed]))}});var Od=fe(Rd,[["__scopeId","data-v-4d279c24"]]);const Dd=["disabled"],Ld={key:0},jd={key:1},Ud=se({__name:"ResearchQueueSlot",props:{node:null,name:null,index:null},setup(e){const n=e,i=y(()=>n.node!==void 0),s=y(()=>{var l,c;return o.times((c=t((l=n.node)==null?void 0:l.progressPercentage))!=null?c:0,1.1).minus(.05).times(100)}),r=()=>t(i)?ym(n.node):{};return(l,c)=>{var d;return $(),P("button",{disabled:!t(i),class:Me({queue:!0,can:t(i)}),style:De([{"--fill-percent":`${t(D)(t(t(s)))}%`}]),onClick:r},[t(i)?($(),P("span",Ld,[($(),ie($e(t(ue)((d=t(e.name))!=null?d:""))))])):($(),P("span",jd,"Research Slot "+ee(t(e.index)+1),1))],14,Dd)}}});var Ss=fe(Ud,[["__scopeId","data-v-82f051e2"]]);const Vd={key:0},Gd=se({__name:"ResearchQueue",props:{queue:null,parallel:{default:1}},setup(e){const n=e,i=[de.research,de.repeatables].flatMap(l=>Object.values(l)),s=y(()=>t(n.queue).map(l=>i.find(c=>c.id===l)));function r(l){const c=t(s)[l];if(c!==void 0)return St(c.display)||ze(c.display)||Qn(c.display)?c.id:c.display.title}return(l,c)=>($(),ie(sn,null,{default:ae(()=>[($(!0),P(g,null,Pe(t(s),(d,m)=>($(),P(g,{key:d?d.id:`empty-${m}`},[m===t(e.parallel)?($(),P("h3",Vd,"Next Up:")):H("",!0),d?($(),ie(Ss,{key:2,node:d,name:r(m),index:m},null,8,["node","name","index"])):($(),ie(Ss,{key:1,index:m},null,8,["index"]))],64))),128))]),_:1}))}});var zd=fe(Gd,[["__scopeId","data-v-5504435e"]]);const Hd={class:"timesquare"},Wd={class:"timesquare-buy-buttons"};var Yd=se({__name:"TimesquareComponent",props:{square:null,buy:null,buyNext:null,buyMax:null},setup(e){return(n,i)=>($(),P("div",Hd,[($(),ie($e(t(te)(e.square)))),C("div",Wd,[($(),ie($e(t(te)(e.buy)))),($(),ie($e(t(te)(e.buyNext)))),($(),ie($e(t(te)(e.buyMax))))])]))}});var Xd=fe(Yd,[["__scopeId","data-v-6de3c974"]]);const Kd=Symbol("Reset");function ds(e){return Xe(n=>{const i=e.call(n,n);return i.id=jt("reset-"),i.type=Kd,i.reset=function(){var r;const s=l=>{if(l!=null&&typeof l=="object"&&!(l instanceof o)&&!(l instanceof _)){if(zt in l&&l[zt]===!0)return;if(Xt in l){const c=l;c.value=c[Xt]}else!(l instanceof o)&&!ze(l)&&Object.values(l).forEach(c=>s(c))}};t(i.thingsToReset).forEach(s),pt.emit("reset",i),(r=i.onReset)==null||r.call(i)},K(i,"thingsToReset"),i})}const di={};pt.on("removeLayer",e=>{var n;(n=di[e.id])==null||n.call(di),di[e.id]=void 0});var Qd=se({__name:"TimelineComponent",props:{id:null,sides:null,active:null,next:null,score:null,onClick:null},setup(e){const n=e,i=n.sides.map(l=>l[0].toUpperCase()+l.slice(1)),s=y(()=>o.add(t(n.score),1).log10().dividedBy(10)),r={[n.sides[0]]:y(()=>t(s).times(Ge.scoreMultipliers[n.sides[0]])),[n.sides[1]]:y(()=>t(s).times(Ge.scoreMultipliers[n.sides[1]]))};return(l,c)=>($(),P("button",{onClick:c[0]||(c[0]=(...d)=>e.onClick&&e.onClick(...d)),class:Me({feature:!0,timeline:!0,active:t(e.active),next:t(e.next)})},[C("h2",null,ee(t(i)[0])+" "+ee(t(i)[1]),1),C("div",null,"Amount: "+ee(t(D)(t(e.score))),1),C("div",null,ee(t(i)[0])+": +"+ee(t(D)(t(r[e.sides[0]]).times(100)))+"%",1),C("div",null,ee(t(i)[1])+": +"+ee(t(D)(t(r[e.sides[1]]).times(100)))+"%",1)],2))}});var Zd=fe(Qd,[["__scopeId","data-v-d0106a2c"]]);const Jd=Symbol("Timeline");function Rt(e){const n=Ne(!1),i=Ne(!1),s=Ne(0);return Xe(()=>{const r=e;return r.id=jt("timeline-"),r.type=Jd,r[ct]=Zd,r.active=n,r.next=i,r.score=s,r.onClick=()=>{i.value=!i.value},r[kt]=function(){const{id:l,sides:c,active:d,next:m,score:p,onClick:b}=this;return{id:l,sides:c,active:d,next:m,score:p,onClick:b}},r})}se({props:{nodes:{type:ne(Array),required:!0},leftSideNodes:ne(Array),rightSideNodes:ne(Array),branches:ne(Array)},components:{Links:ir},setup(e){const{nodes:n,leftSideNodes:i,rightSideNodes:s}=ot(e),r=wt();xt(()=>{const d=Ie(n);r.value=ue(k(()=>a(g,null,[d.map(m=>a("span",{class:"row tree-row",style:"margin: 50px auto;"},[m.map(Pt)]))])))});const l=wt();xt(()=>{const d=Ie(i);l.value=d?ue(k(()=>a("span",{class:"left-side-nodes small"},[d.map(Pt)]))):""});const c=wt();return xt(()=>{const d=Ie(s);c.value=d?ue(k(()=>a("span",{class:"side-nodes small"},[d.map(Pt)]))):""}),{unref:t,nodesComp:r,leftNodesComp:l,rightNodesComp:c}}});se({props:{display:ne(Object,String,Function),visibility:{type:ne(Number,Boolean),required:!0},style:ne(String,Object,Array),classes:ne(Object),onClick:Function,onHold:Function,color:ne(String),glowColor:ne(String),canClick:{type:ne(Boolean),required:!0},mark:ne(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:si,Node:Nn},setup(e){const{onClick:n,onHold:i,display:s}=ot(e),r=ti(s),{start:l,stop:c}=Gs(n,i);return{start:l,stop:c,comp:r,unref:t,Visibility:xe,isCoercableComponent:St,isVisible:ve,isHidden:Yt}}});function em(e){return lt(n=>{const i=e.call(n,n);K(i,"showNextAt"),Oe(i,"showNextAt",!0),Oe(i,"minimumGain",1),i.resetDescription==null?i.resetDescription=y(()=>o.lt(i.conversion.gainResource.value,1e3)?"Reset for ":""):K(i,"resetDescription"),i.display==null&&(i.display=k(()=>a("span",null,[t(i.resetDescription),a("b",null,[Cn(i.conversion.gainResource,o.max(t(i.conversion.actualGain),t(i.minimumGain)))])," ",i.conversion.gainResource.displayName,t(i.showNextAt)!=null?a("div",null,[a("br",null,null),t(i.conversion.buyMax)?"Next:":"Req:"," ",Cn(i.conversion.baseResource,!t(i.conversion.buyMax)&&o.gte(t(i.conversion.actualGain),1)?t(i.conversion.currentAt):t(i.conversion.nextAt))," ",i.conversion.baseResource.displayName]):null]))),i.canClick==null&&(i.canClick=y(()=>o.gte(t(i.conversion.actualGain),t(i.minimumGain))));const s=i.onClick;return i.onClick=function(r){t(i.canClick)!==!1&&(i.conversion.convert(),i.resetTime&&(i.resetTime.value=i.resetTime[Xt]),s==null||s(r))},i})}function tm(e){const n=[],i={};let s=!1;function r(){return s||(n.push(...e()),i.base=n.map(d=>et(d.base)),i.baseText=n.map(d=>et(d.baseText)),i.visible=n.map(d=>et(d.visible)),i.title=n.map(d=>et(d.title)),i.subtitle=n.map(d=>et(d.subtitle)),s=!0),n}const l=Ne({},!1);return[k(()=>{const d=r();let m=!0;const p=d.map((b,f)=>{var F,M,T;if(t(i.visible[f])===!1)return null;const h=a("h3",{onClick:()=>l.value[f]=!l.value[f],style:"cursor: pointer"},[a("span",{class:"modifier-toggle"+(t(l.value[f])?" collapsed":"")},[u("\u25BC")]),t(i.title[f]),t(i.subtitle[f])!=null?a("span",{class:"subtitle"},[u(" ("),t(i.subtitle[f]),u(")")]):null]),N=t(l.value[f])?null:a(g,null,[a("div",{class:"modifier-container"},[a("span",{class:"modifier-description"},[Pt((F=t(i.baseText[f]))!=null?F:"Base")]),a("span",{class:"modifier-amount"},[Fn((M=t(i.base[f]))!=null?M:1),b.unit])]),b.modifier.description==null?null:Pt(t(b.modifier.description))]),I=!m;m=!1;const q=(T=t(i.base[f]))!=null?T:1,E=b.modifier.apply(q);return a(g,null,[I?a("br",null,null):null,a("div",{style:{"--unit":qe.alignUnits&&b.unit!=null?"'"+b.unit+"'":""}},[h,a("br",null,null),N,a("hr",null,null),a("div",{class:"modifier-container"},[a("span",{class:"modifier-description"},[u("Total")]),a("span",{class:"modifier-amount",style:(b.smallerIsBetter===!0?o.gt(E,q!=null?q:1):o.lt(E,q!=null?q:1))?"color: var(--danger)":""},[Fn(E),b.unit])])])])});return a(g,null,[p])}),l]}function vt(e){if(e==null||typeof e!="object"||e instanceof o||e instanceof _||zt in e&&e[zt]===!0)return;if(Xt in e)return Ne(e[Xt]);if(ze(e))return;const n={};for(const[i,s]of Object.entries(e)){if(["requirements","tabs","prerequisites"].includes(i))continue;let r=vt(s);r!==void 0&&(n[i]=r)}if(Object.keys(n).length!==0)return n}function ji(e,n){if(!(e==null||n==null)&&!(typeof e!="object"||typeof n!="object")&&!(e instanceof o||n instanceof o)&&!(e instanceof _||n instanceof _)&&!(zt in e&&e[zt]===!0)&&!(zt in n&&n[zt]===!0)){if(Xt in n){const i=e,s=n,r=i.value;i.value=s.value,s.value=r;return}if(!ze(e)&&!ze(n))for(const i in n)ji(e[i],n[i])}}function Mt(e,n,i){const[s,r]=tm(n);Ol(r);const l=le(!1);return k(()=>a(g,null,[a("button",{class:"button",style:{display:"inline-block",fontSize:i!=null?i:"20px"},onClick:()=>l.value=!0},[u("\u{1F6C8}")]),a(rn,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c},{header:()=>a("h2",null,[e]),body:s})]))}const ms=e=>(dt("data-v-67218167"),e=e(),mt(),e),nm={class:"totals"},im=ms(()=>C("div",null,"Active Penalties",-1)),sm=ms(()=>C("div",{class:"break"},null,-1)),rm=ms(()=>C("td",null,"\u2192",-1));var om=se({__name:"TimelineNerfs",props:{activeNerfs:null,nextNerfs:null},setup(e){const n=Object.fromEntries(Object.values(V).map(s=>[s,s[0].toUpperCase()+s.slice(1)])),i={[V.FRONT]:"Time Cube Gain",[V.RIGHT]:"Foam Gain",[V.TOP]:"Universe Size",[V.BACK]:"Time Speed",[V.LEFT]:"Entropic Loop Effects",[V.BOTTOM]:"Pion and Spinor Gain"};return(s,r)=>($(),P("div",nm,[im,sm,C("table",null,[($(!0),P(g,null,Pe(t(V),l=>($(),P("tr",null,[C("td",null,ee(t(n)[l]),1),C("td",null,"/"+ee(t(Q)(t(e.activeNerfs[l]))),1),rm,C("td",null,"/"+ee(t(Q)(t(e.nextNerfs[l]))),1),C("td",null,ee(i[l]),1)]))),256))])]))}});var am=fe(om,[["__scopeId","data-v-67218167"]]);const $i=e=>(dt("data-v-0977d6c8"),e=e(),mt(),e),lm={class:"totals"},um=$i(()=>C("div",null,"Active Penalties",-1)),cm=$i(()=>C("div",{class:"break"},null,-1)),dm=$i(()=>C("td",null,"(",-1)),mm=$i(()=>C("td",null,")",-1));var pm=se({__name:"TimelineBuffs",props:{scores:null,buffs:null},setup(e){const n=Object.fromEntries(Object.values(V).map(s=>[s,s[0].toUpperCase()+s.slice(1)])),i={[V.FRONT]:"Time Cube Gain",[V.RIGHT]:"Foam Gain",[V.TOP]:"Universe Size",[V.BACK]:"Time Speed",[V.LEFT]:"Entropic Loop Effects",[V.BOTTOM]:"Pion and Spinor Gain"};return(s,r)=>($(),P("div",lm,[um,cm,C("table",null,[($(!0),P(g,null,Pe(t(V),l=>($(),P("tr",null,[C("td",null,ee(i[l]),1),C("td",null,"\xD7"+ee(t(D)(t(e.buffs[l]))),1),dm,C("td",null,ee(t(D)(t(e.scores[l]))),1),mm,C("td",null,ee(t(n)[l]),1)]))),256))])]))}});var fm=fe(pm,[["__scopeId","data-v-0977d6c8"]]);const gm="timeline",Ge=nt(gm,function(){const e={topLeft:Rt({sides:[V.TOP,V.LEFT]}),topFront:Rt({sides:[V.TOP,V.FRONT]}),topBack:Rt({sides:[V.TOP,V.BACK]}),topRight:Rt({sides:[V.TOP,V.RIGHT]}),frontLeft:Rt({sides:[V.FRONT,V.LEFT]}),frontRight:Rt({sides:[V.FRONT,V.RIGHT]}),backLeft:Rt({sides:[V.BACK,V.LEFT]}),backRight:Rt({sides:[V.BACK,V.RIGHT]}),bottomLeft:Rt({sides:[V.BOTTOM,V.LEFT]}),bottomFront:Rt({sides:[V.BOTTOM,V.FRONT]}),bottomBack:Rt({sides:[V.BOTTOM,V.BACK]}),bottomRight:Rt({sides:[V.BOTTOM,V.RIGHT]})},n={[V.FRONT]:[e.topFront,e.frontLeft,e.frontRight,e.bottomFront],[V.RIGHT]:[e.topRight,e.frontRight,e.backRight,e.bottomRight],[V.TOP]:[e.topLeft,e.topFront,e.topBack,e.topRight],[V.BACK]:[e.topBack,e.backLeft,e.backRight,e.bottomBack],[V.LEFT]:[e.topLeft,e.frontLeft,e.backLeft,e.bottomLeft],[V.BOTTOM]:[e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight]},i=Object.fromEntries(Object.entries(n).map(([M,T])=>[M,y(()=>T.filter(G=>t(G.active)).length)])),s=Object.fromEntries(Object.entries(n).map(([M,T])=>[M,y(()=>T.filter(G=>t(G.next)).length)])),r=y(()=>Object.values(i).some(M=>t(M)>0)),l={[V.FRONT]:100,[V.RIGHT]:.01,[V.TOP]:1,[V.BACK]:1,[V.LEFT]:1e3,[V.BOTTOM]:1},c=Object.fromEntries(Object.entries(n).map(([M,T])=>[M,y(()=>T.reduce((G,ce)=>G.plus(t(ce.score)),o.dZero))])),d=Object.fromEntries(Object.entries(c).map(([M,T])=>[M,y(()=>t(T).times(l[M]).plus(1))])),m={[V.FRONT]:[1,1e8,1e80,"1e800","1e8000"],[V.RIGHT]:[1,1e12,1e120,"1e1200","1e12000"],[V.TOP]:[1,1e3,1e30,1e300,"1e3000"],[V.BACK]:[1,1e6,1e60,"1e600","1e6000"],[V.LEFT]:[1,100,1e20,1e200,"1e2000"],[V.BOTTOM]:[1,1e5,1e50,"1e500","1e5000"]},p=Object.fromEntries(Object.entries(i).map(([M,T])=>[M,y(()=>t(m[M])[t(T)])])),b=Object.fromEntries(Object.entries(s).map(([M,T])=>[M,y(()=>t(m[M])[t(T)])])),f=ut(()=>[z(()=>({multiplier(){return[t(B.pion.pions),t(B.spinor.spinors)].map(M=>o.add(M,1).log10()).reduce((M,T)=>M.plus(T)).dividedBy(10)},description:k(()=>a(g,null,[u("1/10th of the magnitude of "),B.pion.pions.displayName,u(" and "),B.spinor.spinors.displayName]))})),z(()=>({multiplier(){return[w.protoversal,w.infinitesimal,w.subspatial,w.subplanck,w.quantum].map(M=>o.add(t(S[M].amount),1).log10()).reduce((M,T)=>M.plus(T),o.dZero).dividedBy(50)},description:k(()=>a(g,null,[u("1/50th of the magnitude of all types of Foam")]))})),z(()=>({multiplier(){return o.add(t(j.accelerons),1).log10()},description:k(()=>a(g,null,[u("The magnitude of "),j.accelerons.displayName]))})),z(()=>({multiplier(){return o.add(t(re.buildings.buildings.storage.effect),10).log10().log10().times(5)},description:k(()=>a(g,null,[u("5x the magnitude"),a("sup",null,[u("2")]),u(" of Stored "),re.inflatons.displayName]))})),z(()=>({multiplier(){return o.add(t(W.timecubes),1).log10()},description:k(()=>a(g,null,[u("The magnitude of "),W.timecubes.displayName]))})),On(()=>({exponent(){return Object.values(e).filter(M=>t(M.active)).length/2},description:k(()=>a(g,null,[u("Number of active Timelines")]))}))]),h=y(()=>f.apply(1e-4)),N=lt(()=>({display(){return Object.values(e).some(M=>t(M.next))?"Enter Timeline":Object.values(e).some(M=>t(M.active))?"Exit Timeline":"Enter Timeline"},canClick(){return Object.values(e).some(M=>t(M.next)||t(M.active))},onClick(){const M=new o(t(h));for(const T of Object.values(e))!t(T.active)||M.gt(t(T.score))&&(T.score.value=M);I.reset(),S.protoversal.upgrades.reform.amount.value=o.dOne,re.inflatons.value=o.dOne;for(const T of Object.values(e))T.active.value=t(T.next)}})),I=ds(()=>({thingsToReset(){return[B.skyrmions,B.pion,B.spinor,S[w.protoversal],S[w.infinitesimal],S[w.subspatial],S[w.subplanck],S[w.quantum],j.accelerons,j.totalAccelerons,j.upgrades.acceleration,j.upgrades.fluctuation,j.upgrades.conversion,j.upgrades.translation,j.upgrades.alacrity,W.timecubes,re.inflatons,re.buildings.buildings,re.buildings.maxSize,re.inflating,re.upgrades.moreFome,re.coreResearch.repeatables.buildingSize]}})),q=Mt("Timeline Score",()=>[{title:"Timeline Score",modifier:f,base:1e-4}]),E=le(!1),F=k(()=>a(g,null,[a("button",{class:"button",onClick:()=>E.value=!0},[u("What are Timelines?")]),a(rn,{modelValue:E.value,"onUpdate:modelValue":M=>E.value=M},{header:()=>a("h2",null,[u("Timeline Information")]),body:()=>a(g,null,[a("span",{style:{fontWeight:"normal"}},[u("Timelines are extra difficulty modes on top of normal play, which will provide passive bonuses depending on how much progress you are able to make while in them."),a("br",null,null),a("br",null,null),u("The grid of selectors below allows you to choose the level of difficulty that the next timeline will bring, with more active selectors providing an exponentially harder challenge, in return for a higher score - assuming you can handle their strength."),a("br",null,null),a("br",null,null),u("Each selector increases the depth in two different directions, providing two different and stacking production penalties. The penalty grows massively the deeper in a direction you go, so it is highly suggested to "),a("b",null,[u("start with a single active selector, and increase only when you feel comfortable with your current progress")]),u("."),a("br",null,null),a("br",null,null),u("When you have decided on a desired difficulty, simply "),a("b",null,[u("Enter Timeline")]),u(". All resources aside from Entangled Strings will be reset, as well as any Acceleron and Inflaton upgrades to production - you will need to buy them again. Additionally, "),a("code",null,[u("Repeatable Research: Subspatial Construction")]),u(" will also be reset to its initial level.")])])})]));return{timelines:e,scores:c,buffs:d,nerfs:p,depths:i,scoreMultipliers:l,inTimeline:r,display:k(()=>a(g,null,[te(N),te(F),a("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto auto 1fr",width:"fit-content"}},[a(am,{activeNerfs:p,nextNerfs:b},null),a(Se,null,null),a(sn,null,{default:()=>[mn(e.topLeft,e.topFront,e.topBack,e.topRight),mn(e.frontLeft,e.frontRight,e.backLeft,e.backRight),mn(e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight)]}),a(Se,null,null),a(fm,{scores:c,buffs:d},null)]),a(Se,null,null),u("Current Score: "),D(t(h)),te(q)]))}}),bm=Symbol("Timesquare");function In(e,n){return Xe(i=>{const{display:s,buyAmount:r,baseCost:l,resource:c,effect:d}=n.call(i,i),m=et(l),p=et(r),b=y(()=>o.dOne.plus(t(W.upgrades.title.bought)?t(Ge.scores[e]):0).reciprocate().times(t(m))),f=(()=>{const h={buyAmount:p},N={buyAmount:y(()=>{const q=t(i.square.amount),E=o.clampMin(q,1).log10().floor().pow10();return o.div(q,E).floor().plus(1).times(E).minus(q)})},I={buyAmount:y(()=>{const q=t(i.square.amount),E=o.add(q,1).times(q).div(2).times(t(b));return o.clampMin(t(c),1).plus(E).div(t(b)).times(8).plus(1).sqrt().minus(1).div(2).floor().minus(q)})};for(const q of[h,N,I])q.cost=X(()=>({cost(){const E=t(i.square.amount),F=o.add(E,t(q.buyAmount)),M=F.plus(1).times(F).div(2),T=o.add(E,1).times(E).div(2);return M.minus(T).times(t(b))},resource:c}));return{buy:h,buyNext:N,buyMax:I}})();return i.square=Ye(()=>({requirements:Vt(!1),display:s,effect:d}),ke),i.buy=lt(()=>({canClick:()=>Dt(f.buy.cost),display:{title:"Buy",description:k(()=>a(g,null,[u("+"),D(t(f.buy.buyAmount)),u(": "),Q(t(f.buy.cost.cost)),u(" "),c.displayName]))},onClick(){const h=t(f.buy.buyAmount);Hn(f.buy.cost),i.square.amount.value=o.add(t(i.square.amount),h)}})),i.buyNext=lt(()=>({canClick:()=>Dt(f.buyNext.cost),display:{title:"Buy Next",description:k(()=>a(g,null,[u("+"),D(t(f.buyNext.buyAmount)),u(": "),Q(t(f.buyNext.cost.cost)),u(" "),c.displayName]))},onClick(){const h=t(f.buyNext.buyAmount);Hn(f.buyNext.cost),i.square.amount.value=o.add(t(i.square.amount),h)}})),i.buyMax=lt(()=>({canClick:()=>Dt(f.buyMax.cost),display:{title:"Buy Max",description:k(()=>a(g,null,[u("+"),D(t(f.buyMax.buyAmount)),u(": "),Q(t(f.buyMax.cost.cost)),u(" "),c.displayName]))},onClick(){const h=t(f.buyMax.buyAmount);Hn(f.buyMax.cost),i.square.amount.value=o.add(t(i.square.amount),h)}})),i.type=bm,i[ct]=Xd,i[kt]=function(){const{square:h,buy:N,buyNext:I,buyMax:q}=this;return{square:h,buy:N,buyNext:I,buyMax:q}},i})}const hm="timesquare",Vn=nt(hm,function(){const e=Ne(1),n=y(()=>o.clampMin(t(e),1).log10().floor().minus(1).pow10()),i=y(()=>o.gt(t(e),1)),s={minHeight:"30px",width:"50px"},r={timesTen:lt(()=>({display:"x10",onClick(){e.value=o.times(t(e),10)},style:s})),plusTen:lt(()=>({display:k(()=>a(g,null,[u("+"),Q(t(n).times(10))])),onClick(){e.value=t(n).times(10).plus(t(e))},style:s})),plusOne:lt(()=>({canClick(){return o.gte(t(e),10)},display:k(()=>a(g,null,[u("+"),Q(t(n))])),onClick(){e.value=t(n).plus(t(e))},style:s})),minusOne:lt(()=>({canClick:i,display:k(()=>a(g,null,[u("-"),Q(t(n))])),onClick(){e.value=o.minus(t(e),t(n)).clampMin(1)},style:s})),minusTen:lt(()=>({canClick:i,display:k(()=>a(g,null,[u("-"),Q(t(n).times(10))])),onClick(){e.value=o.minus(t(e),t(n).times(10)).clampMin(1)},style:s})),overTen:lt(()=>({canClick:i,display:"/10",onClick(){e.value=o.div(t(e),10).clampMin(1)},style:s}))},l={[V.FRONT]:In(V.FRONT,d=>({display:{title:k(()=>a(g,null,[u("Front")])),effect:k(()=>a(g,null,[u("+"),D(t(d.square.effect).minus(1).times(100)),u("% "),W.timecubes.displayName]))},effect(){return o.pow(t(d.square.amount),.45).times(je(W.upgrades.turn)).plus(1)},resource:A(W.timecubes),baseCost:1e6,buyAmount:e})),[V.RIGHT]:In(V.RIGHT,d=>({display:{title:k(()=>a(g,null,[u("Right")])),effect:k(()=>a(g,null,[u("+"),D(t(d.square.effect)),u("\xD7 Entropic Loop build speed")]))},effect(){return o.pow(t(d.square.amount),.7).plus(1)},resource:A(W.timecubes),baseCost:1e6,buyAmount:e})),[V.TOP]:In(V.TOP,d=>({display:{title:k(()=>a(g,null,[u("Top")])),effect:k(()=>a(g,null,[u("+"),D(t(d.square.effect).minus(1).times(100)),u("% increased Universe diameter")]))},effect(){return o.pow(t(d.square.amount),.15).dividedBy(15).plus(1)},resource:A(W.timecubes),baseCost:1e6,buyAmount:e})),[V.BACK]:In(V.BACK,d=>({display:{title:k(()=>a(g,null,[u("Back")])),effect:k(()=>a(g,null,[u("+"),D(t(d.square.effect).minus(1).times(100)),u("% "),j.accelerons.displayName,u(" effect")]))},effect(){return o.pow(t(d.square.amount),.2).dividedBy(5).plus(1)},resource:A(W.timecubes),baseCost:1e6,buyAmount:e})),[V.LEFT]:In(V.LEFT,d=>({display:{title:k(()=>a(g,null,[u("Left")])),effect:k(()=>a(g,null,[u("1/"),D(t(d.square.effect)),u("\xD7 Subspatial Construction cost")]))},effect(){return o.pow(t(d.square.amount),.5).plus(1)},resource:A(W.timecubes),baseCost:1e6,buyAmount:e})),[V.BOTTOM]:In(V.BOTTOM,d=>({display:{title:k(()=>a(g,null,[u("Bottom")])),effect:k(()=>a(g,null,[u("+"),D(t(d.square.effect)),u(" effective Entropic Enhancements")]))},effect(){return o.pow(t(d.square.amount),.1).times(je(W.upgrades.tall))},resource:A(W.timecubes),baseCost:1e6,buyAmount:e}))},c=le("1");return Ct(c,d=>{if(d===""){e.value=o.dOne;return}if(!o.isNaN(d)){if(o.lt(d,1)){e.value=o.dOne;return}e.value=o.floor(d)}}),{buyAmount:e,squares:l,display:k(()=>a(g,null,[a(Wt,null,{default:()=>[te(r.overTen),te(r.minusTen),te(r.minusOne),a(ni,{style:{width:"fit-content"},"onUpdate:modelValue":d=>c.value=d,modelValue:c.value,autofocus:!1},null),te(r.plusOne),te(r.plusTen),te(r.timesTen)]}),a(Se,null,null),mn(l.front,l.right,l.top),mn(l.back,l.left,l.bottom)]))}});let V=function(e){return e.FRONT="front",e.RIGHT="right",e.TOP="top",e.BACK="back",e.LEFT="left",e.BOTTOM="bottom",e}({});const vm="coreResearch",de=nt(vm,function(){const e=(()=>{const h=Ft(()=>({cost:75,display:{title:"Branon Induction Phases",description:"Quintuple the effect of M-field Condensers"},effect:5})),N=Ot(()=>({cost:500,display:{title:"Inflaton Containment Strategies",description:"Allow construction of Inflaton Containment Units"},prerequisites:[U]})),I=Ft(()=>({cost:1500,display:{title:"Enhanced Isolation Protocols",description:"Improve the Inflaton Containment Unit's storage capabilities"},effect:1,prerequisites:[T]})),q=Ot(()=>({cost:6e3,display:{title:"Inflationary Tolerances",description:"Allow stored Inflatons to inflate to fill your storage"},prerequisites:[T,I]})),E=Ot(()=>({cost:25e3,display:{title:"Secondary Isolation Standards",description:"M-field Condensers no longer reduce the effect of Stored Inflatons"},prerequisites:[F]})),F=Ot(()=>({cost:15e3,display:{title:"Active Restoration Protocols",description:"Allow the construction of Active Redistribution Centers"},prerequisites:[hn,I]})),M=Ft(()=>({cost:25e3,display:{title:"Macroscale Synergies",description:"Increase subspace building size tenfold, and their potency by twice as much"},effect:{size:10,effect:2},prerequisites:[it,Ut,F],onResearch(){for(const ft of Object.values(Le.buildings))ft.amount.value=0}})),T=Ot(()=>({cost:750,display:{title:"Superstructural Stability Patterns",description:"Enable individual building respecs"},prerequisites:[N]})),G=Ot(()=>({cost:1e5,display:{title:"Mechanized Superscale Subsystems",description:"Automatically build subspace buildings, and building them no longer consumes Foam"},prerequisites:[E,an]})),ce=Ft(()=>({cost:100,display:{title:"Banach-Tarski Point Manipulation",description:"You can stabilize the universe at double the size"},effect:2,prerequisites:[h]})),Y=Ft(()=>({cost:750,display:{title:"Von Neumann Transformation",description:"Double the size of the universe, again"},effect:2,prerequisites:[v]})),U=Ot(()=>({cost:100,display:{title:"Subspatial Binding Constants",description:"Reduce the cost scaling of Quantum Flux Analyzers"},prerequisites:[h]})),Be=y(()=>o.times(t(n.analysis.effect),1.8)),O=Ft(ft=>({cost:1500,display:{title:"Distributed Analysis Framework",description:k(()=>a("span",null,[u("Transform 10% of your Quantum Flux Analyzers into networking nodes, increasing Research Point gain by up to "),D(t(Be)),u("\xD7")])),effect:k(()=>a(g,null,[D(t(ft.effect))]))},effect(){return o.pow(1.1,t(Le.buildings.lab.amount)).clampMax(t(Be))},prerequisites:[ce,U]})),v=Ft(()=>({cost:500,display:{title:"Counter-Inflational Cycles",description:"Gain up to 1e6x more Foam, based on your current Stored Inflatons"},effect:1e6,prerequisites:[ce]})),x=Ft(()=>({cost:1500,display:{title:"Scatter-Field Repulsion",description:"Retain up to 1e12x more Foam, based on your current Stored Inflatons"},effect:1e12,prerequisites:[Te,$t]})),me=Ft(()=>({cost:9e3,display:{title:"Scalar Flux Reduction",description:"Retain up to 1e12x more Foam yet again, based on your current Stored Inflatons"},effect:1e12,prerequisites:[it,Ut]})),Te=Ft(()=>({cost:750,display:{title:"Quantum Phasor Coherence",description:"Halve the effect of inflation on Quantum Foam"},effect:.5,prerequisites:[v]})),it=Ft(()=>({cost:6e3,display:{title:"Aggressive Flow Diffusion",description:"Halve the effect of inflation on Quantum Foam, again"},effect:.5,prerequisites:[Te,x]})),$t=Ot(()=>({cost:750,display:{title:"Quantum Inflationo-dynamics",description:"Unlock two more Inflaton upgrades"},prerequisites:[N]})),Ut=Ot(()=>({cost:6e3,display:{title:"Infinite Expansion Theories",description:"Unlock two repeatable researches"},prerequisites:[Y]})),Ke=Ot(()=>({cost:1e5,display:{title:"Sustainable Expansion Hypothesis",description:"Unlock three more repeatable research projects"},prerequisites:[me,M]})),hn=Ft(()=>({cost:1e4,display:{title:"Scheduled Itemization",description:"You can queue up to 2 additional researches"},effect:2,prerequisites:[O]})),Ee=Ft(()=>({cost:1e5,display:{title:"Static Proposal Induction",description:"Increase the research queue size by another 2 researches"},effect:2,prerequisites:[hn,Ut]})),an=Ot(()=>({cost:25e3,display:{title:"Instantaneous Limit Testing",description:"Beginning Inflation instantly expands the universe to the limit of your M-field Condensers' safe operation"},prerequisites:[F,q]})),jn=Ot(()=>({cost:75e4,display:{title:"Spatial Mastery",description:k(()=>a("span",null,[u("Unlock "),_e.isFirstBranch(Nt)||o.gt(t(_e.strings),0)?j.accelerons.displayName:_e.strings.displayName]))},prerequisites:[Ke,Ee,G]}));return{quintupleCondenser:h,doubleSize:ce,cheaperLabs:U,fomeGain:v,researchBoost:O,storage:N,halfQuantum:Te,quadrupleSize:Y,upgrades:$t,respecs:T,moreFomeGain:x,queueTwo:hn,improvedStorage:I,quarterQuantum:it,repeatableUnlock:Ut,inflationResearch:F,autofillStorage:q,evenMoreFomeGain:me,biggerBuildings:M,isolatedStorage:E,instantInflation:an,moreRepeatables:Ke,queueFour:Ee,autobuild:G,mastery:jn}})(),n=(()=>{const h=Gn(F=>({visibility:y(()=>t(e.repeatableUnlock.researched)?xe.Visible:xe.Hidden),display:{title:"Eternal Inflation",description:"Double the size of your universe",effect:k(()=>a(g,null,[Q(t(F.effect)),u("\xD7")]))},cost(){return o.pow(4,t(F.amount)).times(12e3).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(2,t(F.amount))}})),N=Gn(F=>({visibility:e.repeatableUnlock.researched,display:{title:"Perpetual Testing",description:"Increase Distributed Analysis Framework's maximum bonus by 80%",effect:k(()=>a(g,null,[Q(t(F.effect)),u("\xD7")]))},cost(){return o.pow(8,t(F.amount)).times(15e3).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(1.8,t(F.amount))}})),I=Gn(F=>({visibility:e.moreRepeatables.researched,display:{title:"Subspatial Construction",description:"Increase Subspace building size tenfold, and their potency by twice as much",effect:k(()=>a(g,null,[Q(t(F.effect).size),u("\xD7, "),Q(o.times(t(F.effect).size,t(F.effect).effect)),u("\xD7")]))},cost(){return o.pow(200,t(F.amount)).times(15e4).dividedBy(t(B.spinor.upgrades.nu.effect)).div(t(W.getTimesquareEffect(V.LEFT)))},effect(){return{size:o.pow(10,t(F.amount)),effect:o.pow(2,t(F.amount))}},canResearch(){const M=t(Pn);for(const T of Object.values(Le.buildings))if(M.times(10).gt(t(T.amount)))return!1;return!0},onResearch(){for(const M of Object.values(Le.buildings))M.amount.value=0}})),q=Gn(F=>({visibility:e.moreRepeatables.researched,display:{title:"Efficient Design",description:"Decrease Subspace building cost scaling by 1.5x",effect:k(()=>a(g,null,[u("/"),D(t(F.effect))]))},cost(){return o.pow(3,t(F.amount)).times(12e4).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(1.5,t(F.amount))}})),E=Gn(F=>({visibility:e.moreRepeatables.researched,display:{title:"Inflational Dynamics",description:"Retain up to 1e6x more Foam",effect:k(()=>a(g,null,[Q(t(F.effect)),u("\xD7")]))},cost(){return o.pow(5,t(F.amount)).times(16e4).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(1e6,t(F.amount))}}));return{universeSize:h,analysis:N,buildingSize:I,buildingCost:q,fome:E}})(),i=y(()=>1+gt(e.queueTwo,0)+gt(e.queueFour,0)),s=y(()=>1),r=Ne([]),l=ut(()=>[z(()=>({multiplier:n.analysis.effect,enabled:()=>o.gt(t(n.analysis.amount),0),description:k(()=>a(g,null,[u("["),re.name,u("] Repeatable: Perpetual Testing "),cs(t(n.analysis.amount))]))}))]),c=ut(()=>[z(()=>({multiplier:.9,enabled:A(e.researchBoost.researched),description:k(()=>a(g,null,[u("["),re.name,u("] Reserved for Networking Nodes")]))})),z(()=>({multiplier:e.researchBoost.effect,enabled:A(e.researchBoost.researched),description:k(()=>a(g,null,[u("["),re.name,u("] Distributed Analysis Framework")]))})),z(()=>({multiplier:B.pion.upgrades.nu.effect,enabled:()=>o.gt(t(B.pion.upgrades.nu.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03BD ("),Q(t(B.pion.upgrades.nu.totalAmount)),u(")")]))}))]),d=ut(()=>[c,Qc(()=>({addend:()=>o.negate(t(Le.buildings.tuner.effect).cost),enabled:()=>o.gt(t(Le.buildings.tuner.totalAmount),0),description:k(()=>a(g,null,[u("["),re.name,u("] Active Redistribution Centers")]))}))]),m=y(()=>c.apply(t(Le.buildings.lab.effect))),p=y(()=>o.clampMin(d.apply(t(Le.buildings.lab.effect)),0)),b=Ne(!1);re.on("preUpdate",h=>{if(t(r).length<=0)return;const N=o.times(t(p),h);for(const I of t(r).slice(0,t(s))){const q=[e,n].flatMap(E=>Object.values(E)).find(E=>E.id===I);q!==void 0&&(q.progress.value=N.plus(q.progress.value))}}),re.on("update",()=>{if(!!t(b)){if(t(r).length>=t(s)){if(!t(n.buildingSize.canResearch)||t(r).some(h=>h===n.buildingSize.id)||t(r).length>=t(i))return;r.value=[n.buildingSize.id,...t(r)].map(h=>[e,n].flatMap(N=>Object.values(N)).find(N=>N.id===h)).filter(h=>h!==void 0).sort((h,N)=>o.compare(t(h.requirements.cost),t(N.requirements.cost))).map(h=>h.id);return}Object.values(n).filter(h=>o.gte(t(h.amount),1)).filter(h=>!t(h.isResearching)).filter(h=>t(h.canResearch)).sort((h,N)=>o.compare(t(h.requirements.cost),t(N.requirements.cost))).slice(0,t(s)-t(r).length).forEach(h=>h.research(!0))}}),re.on("postUpdate",()=>{r.value=t(r).filter(h=>{var I;const N=[e,n].flatMap(q=>Object.values(q)).find(q=>q.id===h);return N===void 0?!1:o.gte(t(N.progressPercentage),1)?((I=N.onResearch)==null||I.call(N),!1):!0})});const f=Mt("Research Modifiers",()=>[{title:"Maximum Distributed Analysis Framework Bonus",modifier:l,visible:A(e.researchBoost.researched),base:1.8,baseText:k(()=>a(g,null,[u("["),re.name,u("] Distributed Analysis Framework")]))},{title:"Research Point Production",modifier:d,base:Le.buildings.lab.effect,baseText:k(()=>a(g,null,[u("["),re.name,u("] Quantum Flux Analyzers")]))}]);return{research:e,repeatables:n,queueLength:i,parallelResearchCount:s,researchQueue:r,researchGain:m,totalResearchGain:p,autoResearching:b,display:k(()=>a(g,null,[a("div",null,[u("Your buildings are producing "),Q(t(p)),u(" Research Points"),te(f)]),a("div",{class:"row",style:{flexFlow:"row-reverse nowrap",alignItems:"flex-start",justifyContent:"space-evenly"}},[a(sn,null,{default:()=>[a(zd,{parallel:s,queue:y(()=>Array.from({...t(r),length:Math.max(t(r).length,t(i))}))},null),t(e.repeatableUnlock.researched)?a(g,null,[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Repeatable Research:")]),a(Gt,{modelValue:b.value,"onUpdate:modelValue":h=>b.value=h,style:{marginTop:0}},null),a(Se,null,null)]):void 0]}),a(Od,{research:[[e.quintupleCondenser],[e.doubleSize,e.cheaperLabs],[e.fomeGain,e.researchBoost,e.storage],[e.halfQuantum,e.quadrupleSize,e.upgrades,e.respecs],[e.moreFomeGain,e.queueTwo,e.improvedStorage],[e.quarterQuantum,e.repeatableUnlock,e.inflationResearch,e.autofillStorage],[e.evenMoreFomeGain,e.biggerBuildings,e.isolatedStorage,e.instantInflation],[e.moreRepeatables,e.queueFour,e.autobuild],[e.mastery]]},null),a(sn,null,{default:()=>[...Object.values(n).map(te).map(h=>a("div",{style:{margin:"var(--feature-margin) 0px"}},[h]))]})])]))}});function ym(e){de.researchQueue.value=t(de.researchQueue).filter(n=>n!==e.id)}const _m=y(()=>[de.research,de.repeatables].flatMap(e=>Object.values(e)));function ps(e=!1){if(e||t(de.researchQueue).length<t(de.queueLength)){const n=t(_m).find(i=>i.id===this.id);n&&t(de.researchQueue).push(n.id)}}function fs(){return t(de.researchQueue).some(e=>e===this.id)}function Ot(e){return us(n=>{const{visibility:i,prerequisites:s,cost:r,display:l,canResearch:c,onResearch:d}=e.call(n,n);return{visibility:i,prerequisites:s,requirements:X(()=>({resource:A(at(A(n.progress),"Research Points")),cost:r})),display:l,canResearch:c,onResearch:d,research:ps,isResearching:fs}})}function Ft(e){return us(n=>{const{visibility:i,prerequisites:s,cost:r,display:l,canResearch:c,onResearch:d,effect:m}=e.call(n,n);return{visibility:i,prerequisites:s,requirements:X(()=>({resource:A(at(A(n.progress),"Research Points")),cost:r})),display:l,canResearch:c,onResearch:d,research:ps,isResearching:fs,effect:m}},ke)}function Gn(e){return us(n=>{const{visibility:i,prerequisites:s,cost:r,display:l,canResearch:c,onResearch:d,effect:m,limit:p}=e.call(n,n);return{visibility:i,prerequisites:s,requirements:X(()=>({resource:A(at(A(n.progress),"Research Points")),cost:r})),display:l,canResearch:c,onResearch:d,research:ps,isResearching:fs,effect:m,limit:p}},ke,qd)}function mi(e){return Ye(n=>{var c;const{effect:i,cost:s,display:r,size:l}=e.call(n,n);return(c=s.free)!=null||(s.free=de.research.autobuild.researched),{bonusAmount(){return o.times(t(this.amount),t(B.spinor.upgrades.rho.effect))},visibility:r.visibility,requirements:[Vt(km(l!=null?l:1)),X(()=>({cost(){const d=t(s.multiplier),m=new o(t(s.base)),p=o.div(t(n.amount),gt(de.repeatables.buildingCost,1)).div(t(B.pion.upgrades.rho.effect)),b=t(Pn);return t(de.research.autobuild.researched)?m.pow(p).times(d):m.pow(b).minus(1).times(d).times(m.pow(p)).dividedBy(m.minus(1))},resource:A(s.resource),requiresPay:()=>!t(s.free),cumulativeCost:!1,maxBulkAmount:Pn}))],onClick(){n.amount.value=t(Pn).minus(1).plus(t(n.amount))},effect(){return i(Sm(this))},display:k(()=>{var f,h;const d=ue(r.title,"h3"),m=ue(r.description),p=ue(r.effect),b=n;return a("span",null,[a("div",null,[a(d,null,null)]),a(m,null,null),a("div",null,[a("br",null,null),a("b",null,[u("Size:")]),u(" "),An(o.times(t(b.amount),(f=b.size)!=null?f:1),0),o.gt(t(b.bonusAmount),0)?An(o.times(t(b.bonusAmount),(h=b.size)!=null?h:1),0):void 0]),a("div",null,[a("br",null,null),a("b",null,[u("Currently:")]),u(" "),a(p,null,null)]),a("div",null,[a("br",null,null),Qe(b.requirements)])])}),style:wm,size:l}},ke,nr)}const wm=y(()=>({width:"250px",minHeight:"150px",borderBottomLeftRadius:t(de.research.respecs.researched)?0:"var(--border-radius)",borderBottomRightRadius:t(de.research.respecs.researched)?0:"var(--border-radius)"})),Pn=y(()=>o.times(gt(de.research.biggerBuildings,{size:1,effect:1}).size,gt(de.repeatables.buildingSize,{size:1,effect:1}).size));function km(e){return y(()=>o.minus(t(Le.maxSize),t(Le.usedSize)).gte(t(Pn).times(e)))}function Sm(e){var n;return o.times(t(e.totalAmount),(n=e.size)!=null?n:1).times(gt(de.research.biggerBuildings,{size:1,effect:1}).effect).times(t(de.repeatables.buildingSize.effect).effect)}function An(e,n){return e=new o(e),e.lt(6187e7)?a(g,null,[D(e,n),u("\u2113"),a("sub",null,[u("P")])]):(e=e.dividedBy(6187e7),e.lt(1e3)?`${D(e,n)}ym`:e.lt(1e6)?`${D(e.dividedBy(1e3),n)}zm`:e.lt(1e9)?`${D(e.dividedBy(1e6),n)}am`:e.lt(1e12)?`${D(e.dividedBy(1e9),n)}fm`:e.lt(1e15)?`${D(e.dividedBy(1e12),n)}pm`:e.lt(1e18)?`${D(e.dividedBy(1e15),n)}nm`:e.lt(1e21)?`${D(e.dividedBy(1e18),n)}\u03BCm`:e.lt(1e24)?`${D(e.dividedBy(1e21),n)}mm`:e.lt(1e27)?`${D(e.dividedBy(1e24),n)}m`:e.lt(1e30)?`${D(e.dividedBy(1e27),n)}km`:e.lt(1e33)?`${D(e.dividedBy(1e30),n)}Mm`:e.lt(1e36)?`${D(e.dividedBy(1e33),n)}Gm`:e.lt(1e39)?`${D(e.dividedBy(1e36),n)}Tm`:e.lt(1e42)?`${D(e.dividedBy(1e39),n)}Pm`:e.lt(9461e39)?`${D(e.dividedBy(1e42),n)}ly`:e.lt(3086e40)?`${D(e.dividedBy(9461e39),n)}pc`:e.lt(3086e43)?`${D(e.dividedBy(3086e40),n)}kcp`:e.lt(3086e46)?`${D(e.dividedBy(3086e43),n)}Mpc`:`${D(e.dividedBy(3086e46),n)}Gpc`)}const Cm="buildings",Le=nt(Cm,function(){const e=(()=>{const p=mi(N=>({effect(I){return o.times(I,gt(de.research.quintupleCondenser,1)).pow_base(.975)},cost:{resource:A(S[w.subspatial].amount),base:1.1,multiplier:y(()=>_e.isFirstBranch(Nt)?1e30:1e82)},display:{visibility:A(re.upgrades.subspaceBuildings.bought),title:"M-Field Condenser",description:"Slightly reduce the loss of resources to Inflation",effect:k(()=>a(g,null,[bt(t(N.effect))]))}})),b=mi(()=>({effect:N=>N,cost:{resource:A(S[w.subspatial].amount),base:y(()=>t(de.research.cheaperLabs.researched)?1.5:15),multiplier:y(()=>_e.isFirstBranch(Nt)?1e30:1e82)},display:{visibility:A(re.upgrades.research.bought),title:"Quantum Flux Analyzer",description:"Study fluctuations in the quantum field",effect:k(()=>a(g,null,[u("+"),Q(t(de.researchGain)),u(" research points/s")]))}})),f=mi(N=>({effect(I){return o.times(I,gt(de.research.improvedStorage,1/3)).pow_base(500)},cost:{resource:A(S[w.quantum].amount),base:1.2,multiplier:y(()=>_e.isFirstBranch(Nt)?1e15:1e48)},display:{visibility:de.research.storage.researched,title:"Inflaton Containment Unit",description:"Specialized storage facilities designed to keep Inflatons separated and inert",effect:k(()=>a(g,null,[u("Safely store up to "),Q(t(N.effect)),u(" Inflatons")]))},size:3})),h=mi(N=>({effect(I){let q=o.times(I,.01).plus(1),E=new o(I),F=t(de.researchGain);return E.gt(F)?{gain:q.times(F).dividedBy(E),cost:F}:{gain:q,cost:E}},cost:{resource:A(S[w.subspatial].amount),base:1.5,multiplier:y(()=>_e.isFirstBranch(Nt)?1e40:1e92)},display:{visibility:de.research.inflationResearch.researched,title:"Active Redistribution Center",description:"Tune your M-field Condensers with continuous analysis of inflation patterns",effect:k(()=>a(g,null,[D(t(N.effect).gain),u("\xD7"),a("br",null,null),a("b",null,[u("Consumes:")]),u(" "),D(t(N.effect).cost),u(" Research/s")]))}}));return{condenser:p,lab:b,storage:f,tuner:h}})(),n=at(y(()=>{if(o.lt(t(re.inflatons),1))return o.dZero;let p=o.clampMin(t(re.inflatons),2).log2().log2().times(gt(de.research.doubleSize,1)).times(gt(de.research.quadrupleSize,1)).times(gt(de.repeatables.universeSize,1));const b=6187e7;return p.gt(b)&&(p=p.pow(.1).times(o.dOne.minus(.1).pow_base(b))),p.times(t(W.getTimesquareEffect(V.TOP))).div(t(Ge.nerfs[V.TOP])).times(t(Ge.buffs[V.TOP]))})),i=as(n),s=y(()=>Object.values(e).map(p=>{var b;return o.times(t(p.amount),(b=p.size)!=null?b:1)}).reduce((p,b)=>p.plus(b),o.dZero)),r={width:"125px",minHeight:"25px",borderRadius:0},l=Object.fromEntries(Object.entries(e).map(([p,b])=>[p,{one:lt(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell One"},onClick(){b.amount.value=o.minus(b.amount.value,t(Pn)).clampMin(0)},style:{...r,borderBottomLeftRadius:"var(--border-radius)"}})),all:lt(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell All"},onClick(){b.amount.value=o.dZero},style:{...r,borderBottomRightRadius:"var(--border-radius)"}}))}])),c=lt(()=>({canClick(){return Object.values(e).some(p=>o.gt(t(p.amount),0))},display:{description:"Sell All"},onClick(){for(const p of Object.values(e))p.amount.value=o.dZero},style:{...r,borderRadius:"var(--border-radius)"}})),d=Ne(!1);re.on("update",()=>{if(!!t(d))for(const p of Object.values(e))!ve(p.visibility)||!t(p.canClick)||p.onClick()});const m=Object.fromEntries(Object.entries(e).map(([p,b])=>[p,k(()=>ve(b.visibility)?a("div",{class:"col mergeAdjacent"},[te(b),t(de.research.respecs.researched)?a("div",{class:"row mergeAdjacent"},[te(l[p].one),te(l[p].all)]):void 0]):a("span",null,null))]));return{buildings:e,currentSize:n,maxSize:i,usedSize:s,autoBuilding:d,display:k(()=>a(g,null,[a("div",null,[u("Your buildings are taking up "),An(t(s),0),u(" / "),An(o.floor(t(i)),0)]),a(Se,null,null),mn(...Object.values(m)),a(Se,null,null),t(de.research.autobuild.researched)?a(g,null,[a(sn,null,{default:()=>[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Building Construction")]),a(Gt,{modelValue:d.value,"onUpdate:modelValue":p=>d.value=p,style:{marginTop:0}},null)]})]):void 0,te(c)]))}});const sr=e=>(dt("data-v-5e2d38ce"),e=e(),mt(),e),$m=sr(()=>C("div",{class:"key"},"Ctrl",-1)),Nm=sr(()=>C("div",{class:"key"},"Shift",-1)),Im={class:"key"},qm=se({__name:"Hotkey",props:{hotkey:null},setup(e){const n=e;let i="",s=!1,r=!1,l=!1;return xt(()=>{i=n.hotkey.key,s=i.startsWith("ctrl+"),s&&(i=i.slice(5)),r=i.startsWith("shift+"),r&&(i=i.slice(6)),l=i.length==1&&i.toLowerCase()!=i.toUpperCase(),l&&(i=i.toUpperCase())}),(c,d)=>($(),P(g,null,[t(s)?($(),P(g,{key:0},[$m,u("+")],64)):H("",!0),t(r)?($(),P(g,{key:1},[Nm,u("+")],64)):H("",!0),C("div",Im,ee(t(i)),1)],64))}});var Mm=fe(qm,[["__scopeId","data-v-5e2d38ce"]]);const Ni=wi({}),gs=Symbol("Hotkey"),Cs=[")","!","@","#","$","%","^","&","*","("];function ht(e){return Xe(n=>{const i=e.call(n,n);return i.type=gs,K(i,"enabled"),Oe(i,"enabled",!0),K(i,"description"),i})}pt.on("addLayer",e=>{Vs(e,gs).forEach(n=>{Ni[n.key]=n})});pt.on("removeLayer",e=>{Vs(e,gs).forEach(n=>{Ni[n.key]=void 0})});document.onkeydown=function(e){var s;if(((s=e.target)==null?void 0:s.tagName)==="INPUT"||bs.value&&!be.keepGoing)return;let n=e.key;Cs.includes(n)?n="shift+"+Cs.indexOf(n):e.shiftKey&&(n="shift+"+n),e.ctrlKey&&(n="ctrl+"+n);const i=Ni[n];i&&t(i.enabled)&&(e.preventDefault(),i.onPress())};Mo(k(()=>{const e=Object.values(Ni).filter(n=>t(n==null?void 0:n.enabled));return e.length===0?"":a("div",null,[a("br",null,null),a("h4",null,[u("Hotkeys")]),a("div",{style:"column-count: 2"},[e.filter(n=>{var i;return(i=n==null?void 0:n.description)!=null?i:!1}).map(n=>a("div",null,[a(Mm,{hotkey:n},null),u(" "),n==null?void 0:n.description]))])])}));const Nt="inflaton",re=nt(Nt,function(){const e="Inflatons",n="#ff5e13",i=y(()=>t(_e.milestones[1].earned)||_e.isFirstBranch(Nt)||t(j.upgrades.mastery.bought)?!0:t(S[w.quantum].upgrades.condense.bought)),s=at(0,e),r=X(()=>({resource:A(S[w.quantum].amount),cost:()=>_e.isFirstBranch(Nt)?1e9:1e50,requiresPay:!1})),l=lt(()=>({canClick:()=>Dt(r),display:k(()=>a(g,null,[u("1 "),s.displayName,a("br",null,null),a("br",null,null),Qe(r)])),onClick(){s.value=o.dOne,_e.isFirstBranch(Nt)&&(_e.branchOrder.value=Nt)},style:{width:"fit-content",minHeight:"60px"},visibility:()=>o.eq(t(s),0)})),c=lt(()=>({display:k(()=>t(p)?a(g,null,[u("DISPERSE")]):a(g,null,[u("INFLATE")])),onClick(){t(p)?m():d()},style:{width:"150px",minHeight:"60px"},visibility:()=>o.gte(t(s),1)}));function d(){p.value=!0,s.value=t(de.research.instantInflation.researched)?o.reciprocate(t(Le.buildings.condenser.effect)).dividedBy(10).pow10():o.add(t(s),1)}function m(){p.value=!1,s.value=o.min(t(s),t(Le.buildings.storage.effect))}const p=Ne(!1),b=y(()=>{let Y=o.clampMin(t(s),1).log10();return(t(p)||!t(de.research.isolatedStorage.researched))&&(Y=Y.times(t(Le.buildings.condenser.effect))),Y.pow_base(2).clampMin(1)}),f=y(()=>t(b).dividedBy(gt(de.research.fomeGain,1)).dividedBy(gt(de.research.moreFomeGain,1)).dividedBy(gt(de.research.evenMoreFomeGain,1)).dividedBy(gt(de.repeatables.fome,1)).clampMin(1)),h=y(()=>t(W.upgrades.tower.bought)?t(W.timelines.inTimeline)?t(f):t(b):t(b)),N={pion:h,spinor:h,[w.protoversal]:f,[w.infinitesimal]:f,[w.subspatial]:f,[w.subplanck]:f,[w.quantum]:y(()=>o.times(t(f),gt(de.research.halfQuantum,1)).times(gt(de.research.quarterQuantum,1)).clampMin(1)),acceleron:b,timecube:b},I=y(()=>{let U=o.clampMin(t(s),1).log10().plus(1).dividedBy(10).pow_base(2).times(t(s));return U.layer>=3?o.fromComponents(U.sign,U.layer,U.mag*1.000000000000001):U}),q=ut(()=>[z(()=>({multiplier:de.research.fomeGain.effect,enabled:de.research.fomeGain.researched,description:k(()=>a(g,null,[u("["),e,u("] Counter-Inflational Cycles")]))})),z(()=>({multiplier:de.research.moreFomeGain.effect,enabled:de.research.moreFomeGain.researched,description:k(()=>a(g,null,[u("["),e,u("] Scatter-Field Repulsion")]))})),z(()=>({multiplier:de.research.evenMoreFomeGain.effect,enabled:de.research.evenMoreFomeGain.researched,description:k(()=>a(g,null,[u("["),e,u("] Scalar Flux Reduction")]))})),z(()=>({multiplier:de.repeatables.fome.effect,enabled:()=>o.gt(t(de.repeatables.fome.amount),0),description:k(()=>a(g,null,[u("["),e,u("] Repeatable: Inflational Dynamics "),cs(t(de.repeatables.fome.amount))]))}))]),E=y(()=>t(p)?o.dOne:o.clampMax(q.apply(o.dOne),t(b))),F=(()=>{const Y=pe(()=>({display:{title:"Subspatial Field Stabilizers",description:"<br />Allow the creation of Subspatial Structures<br />"},requirements:X(()=>({cost:()=>_e.isFirstBranch(Nt)?5e5:5e46,resource:S[w.quantum].amount})),visibility(){return t(this.bought)||t(_e.milestones[1].earned)||o.gte(t(Le.maxSize),6)},style:{width:"250px"}})),U=pe(()=>({display:{title:"Quantum Field Investigations",description:"<br />Stabilization isn't enough. Maybe the constant bubbling of the quantum field may hold the secret to sustaining inflation<br />"},requirements:X(()=>({cost:()=>_e.isFirstBranch(Nt)?1e6:1e47,resource:S[w.quantum].amount})),visibility(){return t(this.bought)||t(_e.milestones[1].earned)||t(Y.bought)&&o.gte(t(Le.maxSize),7)},style:{width:"250px"}})),Be=pe(()=>({display:{title:"Dynamic Inflational Formation",description:"<br />Generate more Foam based on the size of your universe<br />"},requirements:X(()=>({cost:()=>_e.isFirstBranch(Nt)?1e25:1e58,resource:S[w.quantum].amount})),visibility(){return t(this.bought)||t(de.research.upgrades.researched)},effect:Le.maxSize,style:{width:"250px"}}),ke),O=pe(()=>({display:{title:"Micro-Inflational Subsystems",description:"<br />Gain a new Pion and Spinor Upgrade<br />"},requirements:X(()=>({cost:()=>_e.isFirstBranch(Nt)?1e27:1e60,resource:S[w.quantum].amount})),visibility(){return t(this.bought)||t(de.research.upgrades.researched)},style:{width:"250px"}}));return{subspaceBuildings:Y,research:U,moreFome:Be,skyrmionUpgrades:O}})();this.on("preUpdate",()=>{if(!!t(p)){for(const[Y,U]of[[B.pion.pions,N.pion],[B.spinor.spinors,N.spinor],[S[w.protoversal].amount,N[w.protoversal]],[S[w.infinitesimal].amount,N[w.infinitesimal]],[S[w.subspatial].amount,N[w.subspatial]],[S[w.subplanck].amount,N[w.subplanck]],[S[w.quantum].amount,N[w.quantum]],[j.accelerons,N.acceleron],[W.timecubes,N.timecube]])Y.value=o.divide(Y.value,U.value);[B.pion.pions,B.spinor.spinors,...Object.values(w).map(Y=>S[Y].amount)].some(Y=>o.lt(t(Y),1))&&m()}}),this.on("postUpdate",Y=>{let U=!1;t(p)&&(U=!0),t(de.research.autofillStorage.researched)&&o.lt(t(s),t(Le.buildings.storage.effect))&&(U=!0),U?s.value=t(I).times(Y).plus(t(s)):o.gt(t(s),t(Le.buildings.storage.effect))&&(s.value=t(Le.buildings.storage.effect))});const M={switchTab:ht(()=>({enabled:i,key:"ctrl+i",description:"Move to Inflatons",onPress(){bn.tabs.selected.value=e}}))},T=Mt("Inflaton Resonance",()=>[{title:"Maximum Potential Foam Gain",modifier:q}],"12px"),G=k(()=>a(g,null,[a(Ci,{resource:s,color:n,stickyStyle:{background:"unset"}},null),a("div",{style:{marginTop:"-20px",fontSize:"12px"}},[t(p)?a(g,null,[u("Runaway inflation is dividing all other resources by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Q(t(b))])]):a(g,null,[t(de.research.fomeGain.researched)?a(g,null,[u("Inflaton resonance is increasing Foam generation by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Q(t(E))])]):void 0]),t(de.research.fomeGain.researched)?te(T):void 0]),te(c),te(l),o.gt(t(s),0)&&o.gt(t(Le.maxSize),0)?a("div",null,[u("You have managed to stabilize the universe at a diameter of "),An(t(Le.maxSize)),t(p)&&o.lt(t(Le.currentSize),t(Le.maxSize))?a(g,null,[u(" ("),An(t(Le.currentSize)),u(")")]):void 0]):void 0,a(Se,null,null)])),ce=ii({buildings:()=>({display:"Structures",tab:Jt(()=>({display:k(()=>a(g,null,[te(G),o.gt(t(s),0)?a(g,null,[t(F.subspaceBuildings.bought)?te(Le.display):void 0,a(Se,null,null),mn(F.moreFome,F.subspaceBuildings,F.research,F.skyrmionUpgrades)]):void 0]))}))}),research:()=>({display:"Research",tab:Jt(()=>({display:k(()=>a(g,null,[te(G),te(de.display)]))}))})});return{id:Nt,name:e,color:n,unlocked:i,inflatons:s,inflating:p,fomeBonus:E,upgrades:F,hotkeys:M,tabs:ce,tabStyle:{"--bought":"#b14e24"},display:k(()=>a(g,null,[t(F.research.bought)?te(ce):te(t(ce.tabs.buildings.tab))])),buildings:Le,coreResearch:de}});var Tm=se({props:{visibility:{type:ne(Number,Boolean),required:!0},display:ne(Object,String,Function),earned:{type:ne(Boolean),required:!0},requirements:ne(Object,Array),image:ne(String),style:ne(String,Object,Array),classes:ne(Object),mark:ne(Boolean,String),small:ne(Boolean),id:{type:String,required:!0}},components:{Node:Nn,MarkNode:si},setup(e){const{display:n,requirements:i,earned:s}=ot(e),r=wt("");return xt(()=>{const l=Ie(n);if(l==null){r.value="";return}if(St(l)){r.value=ue(l);return}const c=ue(l.requirement?l.requirement:k(()=>{var p;return Qe((p=Ie(i))!=null?p:[])}),"h3"),d=ue(l.effect||"","b"),m=Ie(s)?ue(l.optionsDisplay||"","span"):"";r.value=ue(k(()=>a("span",null,[a(c,null,null),l.effect!=null?a("div",null,[a(d,null,null)]):null,l.optionsDisplay!=null?a("div",{class:"equal-spaced"},[a(m,null,null)]):null])))}),{comp:r,unref:t,Visibility:xe,isVisible:ve,isHidden:Yt}}});function xm(e,n,i,s,r,l){var m;const c=Lt("MarkNode"),d=Lt("Node");return e.isVisible(e.visibility)?($(),P("div",{key:0,style:De([{visibility:e.isHidden(e.visibility)?"hidden":void 0,backgroundImage:e.earned&&e.image&&`url(${e.image})`||""},(m=e.unref(e.style))!=null?m:[]]),class:Me({feature:!0,achievement:!0,locked:!e.unref(e.earned),done:e.unref(e.earned),small:e.unref(e.small),...e.unref(e.classes)})},[e.comp?($(),ie($e(e.comp),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(d,{id:e.id},null,8,["id"])],6)):H("",!0)}var Pm=fe(Tm,[["render",xm],["__scopeId","data-v-78143a58"]]);const Fm=Ms(),Am=Symbol("Achievement");let Mn=function(e){return e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none",e}({});function yt(e,...n){const i=Ne(!1,!1),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Xe(r=>{var m,p,b;const l=(m=e==null?void 0:e.call(r,r))!=null?m:{};l.id=jt("achievement-"),l.type=Am,l[ct]=Pm;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.earned=i,l.complete=function(){var h,N;if(i.value)return;i.value=!0;const f=l;if((h=f.onComplete)==null||h.call(f),f.display!=null&&t(f.showPopups)===!0){const I=t(f.display);let q;St(I)?q=ue(I):I.requirement!=null?q=ue(I.requirement):q=Qe((N=f.requirements)!=null?N:[]),Fm.info(a("div",null,[a("h3",null,[u("Achievement earned!")]),a("div",null,[a(q,null,null)])]))}},Object.assign(l,s),K(l,"visibility"),Oe(l,"visibility",xe.Visible);const c=l.visibility;l.visibility=br(()=>{const f=t(l.display);switch(qe.msDisplay){default:case Mn.All:return t(c);case Mn.Configurable:return t(l.earned)&&!(f!=null&&typeof f=="object"&&"optionsDisplay"in f)?xe.None:t(c);case Mn.Incomplete:return t(l.earned)?xe.None:t(c);case Mn.None:return xe.None}}),K(l,"display"),K(l,"mark"),K(l,"small"),K(l,"image"),K(l,"style"),K(l,"classes"),K(l,"showPopups"),Oe(l,"showPopups",!0);for(const f of n)(b=f.postConstruct)==null||b.call(f,l);const d=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,l))},{});if(l[kt]=function(){const{visibility:f,display:h,requirements:N,earned:I,image:q,style:E,classes:F,mark:M,small:T,id:G}=this;return{visibility:f,display:h,requirements:N,earned:I,image:q,style:t(E),classes:F,mark:M,small:T,id:G,...d}},l.requirements){const f=l,h=[ls(f),Vt(()=>!f.earned.value),...en(l.requirements)?l.requirements:[l.requirements]];xt(()=>{qe.active===be.id&&Dt(h)&&f.complete()})}return l})}pt.on("loadSettings",e=>{Oe(e,"msDisplay",Mn.All)});const Bm=Object.values(Mn).map(e=>({label:Us(e),value:e}));As(k(()=>a(zn,{title:k(()=>a("span",{class:"option-title"},[u("Show achievements"),a("desc",null,[u("Select which achievements to display based on criterias.")])])),options:Bm,"onUpdate:modelValue":e=>qe.msDisplay=e,modelValue:qe.msDisplay},null)));const _e=nt("entangled",()=>{const e="Entangled Strings",n="#9a4500",i=y(()=>t(I[1].earned)||t(j.upgrades.mastery.bought)&&t(re.coreResearch.research.mastery.researched)),s=at(0,"Entangled Strings"),r=Ne("",!1);function l(E){return t(I[1].earned)?!0:E===t(r)}const c="160px",d=(()=>{const E=y(()=>[F,M,T,G,ce].filter(Y=>t(Y.bought)).length+2),F=pe(()=>({requirements:X(()=>({resource:A(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Grasp the Void",description:"You have long since extracted all you can from your Skyrmions, but new insights show there may be yet more to gain"},style:{width:c,height:c}})),M=pe(()=>({requirements:X(()=>({resource:A(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Architectural Renaissance (TBD)",description:"Look to the past, and see what glories the future may hold"},style:{width:c,height:c}})),T=pe(()=>({requirements:X(()=>({resource:A(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Tetradimensional Engineering (TBD)",description:"Application of structural ideas gained from Entropic Loops may give rise to a powerful new sector of exploration and progress"},style:{width:c,height:c}})),G=pe(()=>({requirements:X(()=>({resource:A(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Enigmatic Engineering",description:"Time Cubes seem helpful, but limited in power. Maybe your newfound mastery over space and time can reveal more of their secrets"},style:{width:c,height:c}})),ce=pe(()=>({requirements:X(()=>({resource:A(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Technological Ascendency (TBD)",description:"You have shown mastery over space and time, at least individually. Together, though, there are more secrets to unlock"},style:{width:c,height:c}}));return{skyrmion:F,fome:M,acceleron:T,timecube:G,inflaton:ce}})(),m=y(()=>Object.values(d).filter(E=>E.bought.value).length),p=y(()=>(t(d.skyrmion.bought)?1:0)+(t(d.fome.bought)?2:0)+(t(d.acceleron.bought)?4:0)+(t(d.timecube.bought)?8:0)+(t(d.inflaton.bought)?16:0)),b=y(()=>o.lte(s.value,1)?!0:o.lte(s.value,m.value+1)),f={expansion:Vt(b),acceleron:X(()=>({resource:A(j.accelerons),cost(){const E=(()=>o.eq(t(s),0)?1e19:[1e29,15e40,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,25e40,1e64,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(E,t(B.pion.upgrades.xi.effect))}})),inflaton:X(()=>({resource:A(re.inflatons),cost(){const E=(()=>o.eq(t(s),0)?8e3:[18e3,85e11,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,37e4,45e16,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(E,t(B.spinor.upgrades.xi.effect)).pow10()}})),timecube:X(()=>({resource:at(y(()=>Object.values(W.timelines.timelines).map(E=>t(E.score)).reduce((E,F)=>E.plus(F),o.dZero))),cost(){return t(d.timecube.bought)?[o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,1e4,5e6,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)]:0},visibility:A(d.timecube.bought)}))},h=lt(()=>({canClick(){return Dt(Object.values(f))},onClick(){s.value=o.add(t(s.value),1),fn(()=>{const E=(t(I[3].earned)?[re.coreResearch.research.queueTwo,re.coreResearch.research.queueFour]:[]).filter(F=>t(F.researched));N.reset(),t(I[2].earned)&&(S.protoversal.upgrades.reform.amount.value=o.dOne);for(const F of E)F.researched.value=!0;B.skyrmions.value=t(j.achievements.skyrmion.earned)?10:1})},display:"<h2>Condense reality into 1 Entangled String</h2>",style:{width:c,height:c}})),N=ds(()=>({thingsToReset(){const E=[B.skyrmions,B.pion,B.spinor,S.protoversal,S.infinitesimal,S.subspatial,S.subplanck,S.quantum,j.accelerons,j.bestAccelerons,j.totalAccelerons,j.time,j.upgrades,j.loops,W,re.inflatons,re.inflating,re.upgrades,re.buildings,re.coreResearch];return t(I[2].earned)||E.push(B.upgrades,S.achievements),E}})),I={1:yt(()=>({requirements:X(()=>({resource:A(s),cost:1})),display:{requirement:`1 ${s.displayName}`,effect:`${j.accelerons.displayName} and ${re.inflatons.displayName} no longer inflate each other's costs`},small:!1})),2:yt(()=>({requirements:X(()=>({resource:A(s),cost:2})),display:{requirement:`2 ${s.displayName}`,effect:k(()=>a(g,null,[u("Unlock expansions to previous content"),a("br",null,null),u("Keep Skyrmion upgrades and Foam milestones")]))},small:!1})),3:yt(()=>({requirements:X(()=>({resource:A(s),cost:3})),display:{requirement:`3 ${s.displayName}`,effect:"Keep all parallel research and research queue researches"},small:!1})),7:yt(()=>({requirements:X(()=>({resource:A(s),cost:7})),display:{requirement:`7 ${s.displayName}`,effect:"Unlock Fundamental Particles"},small:!1}))},q={reset:ht(()=>({enabled:i,key:"e",description:"Entangle spacetime into another String",onPress:h.onClick})),switchTab:ht(()=>({enabled:i,key:"ctrl+e",description:"Move to Entangled Strings",onPress(){bn.tabs.selected.value=e}}))};return{name:e,color:n,unlocked:i,strings:s,expansions:d,milestones:I,hotkeys:q,display:k(()=>a(g,null,[a(Ci,{resource:s,color:n},null),a(Wt,null,{default:()=>[Pi(d.skyrmion,d.fome),a(sn,null,{default:()=>[te(h),a(Se,{height:c},null),te(d.acceleron)]}),Pi(d.inflaton,d.timecube)]}),a(Se,null,null),a("div",null,[u("The next "),s.displayName,u(" requires:")]),a(Se,null,null),a("div",{style:{color:j.color}},[j.accelerons.displayName,u(": "),D(t(f.acceleron.resource)),u(" / "),D(t(f.acceleron.cost))]),a("div",{style:{color:re.color}},[u("Stored "),re.inflatons.displayName,u(": "),D(t(f.inflaton.resource)),u(" / "),D(t(f.inflaton.cost))]),ve(f.timecube.visibility)?a("div",{style:{color:W.color}},[u("Total Timeline Score: "),D(t(f.timecube.resource)),u(" / "),D(t(f.timecube.cost))]):void 0,a(Se,null,null),Pi(...Object.values(I))])),branchOrder:r,isFirstBranch:l}}),Em=["stroke-width","cx","cy","r"],Rm=["stroke","stroke-width","stroke-dasharray","cx","cy","r"],rr=se({__name:"Loop",props:{color:null,width:null,radius:null,offset:null,angle:null},setup(e){const n=e,i=y(()=>n.radius*Math.PI*2),s=y(()=>t(i)*n.angle/360),r=y(()=>n.radius+n.width/2),l=y(()=>`${t(s)}, ${t(i)}`),c=y(()=>`rotate(${n.offset}deg)`);return(d,m)=>($(),P(g,null,[C("circle",{stroke:"#242526","stroke-width":e.width/2,cx:t(r),cy:t(r),r:e.radius},null,8,Em),e.angle>0?($(),P("circle",{key:0,stroke:e.color,"stroke-width":e.width,"stroke-dasharray":t(l),cx:t(r),cy:t(r),r:e.radius,"stroke-linecap":"round",style:De({transitionDuration:"0s",transform:t(c),transformOrigin:`${t(r)}px ${t(r)}px`})},null,12,Rm)):H("",!0)],64))}}),Om=Symbol("Loop");function qn(e,...n){const i=Ne(0),s=Ne(0),r=Ne(!1),l=n.reduce((c,d)=>{var m;return Object.assign(c,(m=d.getPersistentData)==null?void 0:m.call(d))},{});return Xe(c=>{var p,b;const d=e.call(c,c);d.id=jt("loop-"),d.type=Om,d[ct]=rr;for(const f of n)(p=f.preConstruct)==null||p.call(f,d);d.triggerProgress=i,d.buildProgress=s,d.built=r,Object.assign(d,l),Ct(d.buildProgress,f=>{o.gte(f,t(d.buildRequirement))&&(r.value=!0)}),K(d,"visibility"),K(d,"buildRequirement"),K(d,"triggerRequirement"),K(d,"display"),K(d,"effect");for(const f of n)(b=f.postConstruct)==null||b.call(f,d);const m=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,d))},{});return d[kt]=function(){const{visibility:f,display:h,buildProgress:N,buildRequirement:I,built:q,triggerProgress:E,triggerRequirement:F}=this;return{visibility:f,display:h,buildProgress:N,buildRequirement:I,built:q,triggerProgress:E,triggerRequirement:F,...m}},d})}const Fi={getPersistentData(){return{value:Ne(0)}},getGatheredProps(e){return{value:e.value}}};const Dm=["transform"],Lm=se({__name:"Loops",props:{radius:null,loops:null,buildButton:null},setup(e){const n=e,i=n.radius*2,s=n.loops.map((p,b,f)=>b===f.length-1?y(()=>ve(p.visibility)?n.radius-t(p.display).width/2:n.radius):y(()=>ve(p.visibility)?t(s[b+1])-t(f[b+1].display).width/2-t(p.display).width/2:t(s[b+1]))),r=n.loops.map((p,b,f)=>b===f.length-1?y(()=>0):y(()=>{const h=f[b],N=f[b+1],I=t(r[b+1]),q=ve(N.visibility)?t(N.display).width/2:0,E=ve(h.visibility)?t(h.display).width/2:0;return I+q+E})),l=n.loops.map(p=>y(()=>t(p.built)?o.div(t(p.triggerProgress),t(p.triggerRequirement)):o.div(t(p.buildProgress),t(p.buildRequirement)))),c=n.loops.map(p=>y(()=>o.times(t(j.time),t(j.timeMult)).div(t(p.triggerRequirement)).toNumber()%360)),d=n.loops.map((p,b)=>y(()=>t(l[b]).times(360).toNumber()%360)),m=n.loops.map((p,b)=>({id:p.id,visibility:p.visibility,color:y(()=>t(t(p.display).color)),width:y(()=>t(p.display).width),radius:s[b],offset:c[b],angle:d[b],translation:y(()=>{const f=t(r[b]);return`translate(${f},${f})`})}));return(p,b)=>($(),P("div",{class:"loop-container",style:De({width:`${i}px`,height:`${i}px`})},[($(),P("svg",{height:i,width:i},[($(!0),P(g,null,Pe(t(m).filter(f=>t(ve)(f.visibility)).reverse(),f=>($(),P("g",{key:f.id,fill:"none",transform:t(f.translation)},[t(ve)(f.visibility)&&!t(Yt)(f.visibility)?($(),ie(rr,{key:0,color:t(f.color),width:t(f.width),radius:t(f.radius),offset:t(f.offset),angle:t(f.angle)},null,8,["color","width","radius","offset","angle"])):H("",!0)],8,Dm))),128))])),e.buildButton?($(),ie($e(t(te)(t(e.buildButton))),{key:0})):H("",!0)],4))}}),jm=e=>(dt("data-v-761e0687"),e=e(),mt(),e),Um=jm(()=>C("div",null,"Hover for Current Effects",-1));var Vm=se({__name:"LoopDescriptions",props:{loops:null},setup(e){const n=e,i=y(()=>n.loops.filter(r=>t(r.built)).map(r=>Pt(t(r.display).description))),s=k(()=>Li(t(i),a(g,null,[a("br",null,null)])));return(r,l)=>t(t(i)).length>0?($(),ie(Ve,{key:0,display:t(s),direction:t(Fe).Up},{default:ae(()=>[Um]),_:1},8,["display","direction"])):H("",!0)}});var Gm=fe(Vm,[["__scopeId","data-v-761e0687"]]),zm=se({props:{active:{type:ne(Boolean),required:!0},maxed:{type:ne(Boolean),required:!0},canComplete:{type:ne(Boolean),required:!0},display:ne(String,Object,Function),requirements:ne(Object,Array),visibility:{type:ne(Number,Boolean),required:!0},style:ne(String,Object,Array),classes:ne(Object),completed:{type:ne(Boolean),required:!0},canStart:{type:ne(Boolean),required:!0},mark:ne(Boolean,String),id:{type:String,required:!0},toggle:{type:Function,required:!0}},components:{MarkNode:si,Node:Nn},setup(e){const{active:n,maxed:i,canComplete:s,display:r,requirements:l}=ot(e),c=y(()=>n.value?s.value?"Finish":"Exit Early":i.value?"Completed":"Start"),d=wt(""),m=y(()=>{const p=Ie(n),b=Ie(s);return p?b?jc():os():{}});return xt(()=>{const p=Ie(r);if(p==null){d.value="";return}if(St(p)){d.value=ue(p);return}const b=ue(p.title||"","h3"),f=ue(p.description,"div"),h=ue(p.goal!=null?p.goal:k(()=>{var q;return Qe((q=Ie(l))!=null?q:[])}),"h3"),N=ue(p.reward||""),I=ue(p.effect||"");d.value=ue(k(()=>a("span",null,[p.title!=null?a("div",null,[a(b,null,null)]):null,a(f,null,null),a("div",null,[a("br",null,null),u("Goal: "),a(h,null,null)]),p.reward!=null?a("div",null,[a("br",null,null),u("Reward: "),a(N,null,null)]):null,p.effect!=null?a("div",null,[u("Currently: "),a(I,null,null)]):null])))}),{buttonText:c,notifyStyle:m,comp:d,Visibility:xe,isVisible:ve,isHidden:Yt,unref:t}}});const Hm=["disabled"];function Wm(e,n,i,s,r,l){var m;const c=Lt("MarkNode"),d=Lt("Node");return e.isVisible(e.visibility)?($(),P("div",{key:0,style:De([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.notifyStyle,(m=e.unref(e.style))!=null?m:{}]),class:Me({feature:!0,challenge:!0,done:e.unref(e.completed),canStart:e.unref(e.canStart)&&!e.unref(e.maxed),maxed:e.unref(e.maxed),...e.unref(e.classes)})},[C("button",{class:"toggleChallenge",onClick:n[0]||(n[0]=(...p)=>e.toggle&&e.toggle(...p)),disabled:!e.unref(e.canStart)||e.unref(e.maxed)},ee(e.buttonText),9,Hm),e.unref(e.comp)?($(),ie($e(e.unref(e.comp)),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(d,{id:e.id},null,8,["id"])],6)):H("",!0)}var Ym=fe(zm,[["render",Wm],["__scopeId","data-v-ec73ff4c"]]);const Xm=Symbol("Challenge");function Km(e,...n){const i=Ne(0),s=Ne(!1,!1),r=n.reduce((l,c)=>{var d;return Object.assign(l,(d=c.getPersistentData)==null?void 0:d.call(c))},{});return Xe(l=>{var p,b;const c=e.call(l,l);c.id=jt("challenge-"),c.type=Xm,c[ct]=Ym;for(const f of n)(p=f.preConstruct)==null||p.call(f,c);c.completions=i,c.active=s,Object.assign(c,r),c.completed=y(()=>o.gt(c.completions.value,0)),c.maxed=y(()=>o.gte(c.completions.value,t(c.completionLimit))),c.toggle=function(){var h,N,I,q,E;const f=c;if(f.active.value){if(o.gt(t(f.canComplete),0)&&!f.maxed.value){const F=t(f.canComplete);f.completions.value=o.min(o.add(f.completions.value,F),t(f.completionLimit)),(h=f.onComplete)==null||h.call(f)}f.active.value=!1,(N=f.onExit)==null||N.call(f),(I=f.reset)==null||I.reset()}else t(f.canStart)&&ve(f.visibility)&&!f.maxed.value&&((q=f.reset)==null||q.reset(),f.active.value=!0,(E=f.onEnter)==null||E.call(f))},c.canComplete=y(()=>Jn(c.requirements)),c.complete=function(f){var I,q,E;const h=c,N=t(h.canComplete);h.active.value&&o.gt(N,0)&&!h.maxed.value&&(h.completions.value=o.min(o.add(h.completions.value,N),t(h.completionLimit)),(I=h.onComplete)==null||I.call(h),f!==!0&&(h.active.value=!1,(q=h.onExit)==null||q.call(h),(E=h.reset)==null||E.reset()))},K(c,"visibility"),Oe(c,"visibility",xe.Visible);const d=c.visibility;c.visibility=y(()=>qe.hideChallenges===!0&&t(c.maxed)?xe.None:t(d)),c.mark==null&&(c.mark=y(()=>o.gt(t(c.completionLimit),1)&&!!t(c.maxed))),K(c,"canStart"),Oe(c,"canStart",!0),K(c,"completionLimit"),Oe(c,"completionLimit",1),K(c,"mark"),K(c,"classes"),K(c,"style"),K(c,"display"),c.reset!=null&&pt.on("reset",f=>{f===c.reset&&c.active.value&&c.toggle()});for(const f of n)(b=f.postConstruct)==null||b.call(f,c);const m=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,c))},{});return c[kt]=function(){const{active:f,maxed:h,canComplete:N,display:I,visibility:q,style:E,classes:F,completed:M,canStart:T,mark:G,id:ce,toggle:Y,requirements:U}=this;return{active:f,maxed:h,canComplete:N,display:I,visibility:q,style:t(E),classes:F,completed:M,canStart:T,mark:G,id:ce,toggle:Y,requirements:U,...m}},c})}pt.on("loadSettings",e=>{Oe(e,"hideChallenges",!1)});As(k(()=>a(Gt,{title:k(()=>a("span",{class:"option-title"},[u("Hide maxed challenges"),a("desc",null,[u("Hide challenges that have been fully completed.")])])),"onUpdate:modelValue":e=>qe.hideChallenges=e,modelValue:qe.hideChallenges},null)));function or(e){e.effect===void 0&&(e.effect=i=>i),e.display.effect===void 0&&(e.display.effect=i=>`${bt(i)}\xD7`);const n=Ye(i=>{var s;return{visibility:e.visibility,requirements:e.requirements,display:e.display.name,effect:()=>e.effect(t(i.totalAmount)),bonusAmount:(s=e.bonusAmount)!=null?s:0}},ke,nr);return Dn(n,{direction:Fe.Down,yoffset:"var(--upgrade-width)",display:k(()=>{const i=t(n.bonusAmount);let s;o.gt(i,0)&&(s=a(g,null,[u("+"),Q(t(n.bonusAmount))]));const r=e.display.effect(t(n.effect));return a(g,null,[e.display.description,a("br",null,null),u("Amount: "),Q(t(n.amount)),s,a("br",null,null),u("Currently: "),r,a("br",null,null),Qe(n.requirements)])})}),n}const Qm={class:"spinor-container"},Zm={class:"spinor-grid"},Jm=se({__name:"Spinor",setup(e){const n=Re.upgrades,i={alpha:{row:1,col:1},beta:{row:2,col:3},gamma:{row:3,col:1},delta:{row:4,col:3},epsilon:{row:5,col:1},zeta:{row:3,col:5},eta:{row:5,col:5},theta:{row:6,col:3},iota:{row:7,col:1},kappa:{row:4,col:7},lambda:{row:6,col:7},mu:{row:7,col:5},nu:{row:8,col:3},xi:{row:8,col:7},pi:{row:9,col:5},rho:{row:10,col:7}};function s(r){return{"--row":i[r].row,"--col":i[r].col}}return(r,l)=>($(),P("div",Qm,[C("ul",Zm,[($(!0),P(g,null,Pe(t(n),(c,d)=>($(),P(g,{key:d},[t(c.visibility)!==t(xe).None?($(),P("li",Bt({key:0,class:"spinor-upgrade"},r.$attrs,{style:s(d)}),[($(),ie($e(t(te)(c))))],16)):H("",!0)],64))),128))])]))}});var ep=fe(Jm,[["__scopeId","data-v-41962e7a"]]);const tp=Symbol("Boost");function We(e){const n=Ne(0);return Xe(i=>{const s=e.call(i,i);return s.id=jt("boost-"),s.type=tp,s.amount=n,K(s,"display"),K(s,"effect"),s.bonus===void 0&&(s.bonus=0),K(s,"bonus"),s.total=y(()=>o.add(t(s.amount),t(s.bonus))),s})}function ge(e,n){return t(S[e].boosts[n].effect)}const np="spinor",Re=nt(np,function(){const e="Spinors",n=at(0,e,void 0,!0),i=ut(()=>[...B.production,z(()=>({multiplier:st.upgrades.gamma.effect,enabled:()=>o.gt(t(st.upgrades.gamma.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B3 ("),D(t(st.upgrades.gamma.totalAmount)),u(")")]))})),z(()=>({multiplier:st.upgrades.mu.effect,enabled:()=>o.gt(t(st.upgrades.mu.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03BC ("),D(t(st.upgrades.mu.totalAmount)),u(")")]))}))]),s=y(()=>i.apply(t(B.totalSkyrmions).times(.01)));B.on("preUpdate",b=>{const f=t(j.timeMult).times(b);n.value=f.times(t(s)).plus(n.value)});const r=y(()=>Object.values(d).map(b=>t(b.amount)).reduce((b,f)=>b.plus(f),o.dZero)),l=y(()=>t(r).minus(ge(w.subspatial,2))),c=y(()=>{const b=t(oe.challenge.active)?t(oe.upgradeCount):t(st.upgradeCount),f=b.times(.2).times(t(st.upgrades.beta.effect)).plus(1),h=b.times(.25).times(ge(w.quantum,2));return f.pow(h)}),d=(()=>{const b=p({cost(v){let x=v.pow_base(1.2).times(.1);return v.gt(25)&&(x=v.pow_base(7.9).times(342e-25).times(x)),v.gt(90)&&(x=v.pow_base(19.75).times(208e-106).times(x)),x.times(ge(w.infinitesimal,2))},shouldAutobuy:A(B.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Reduce the cost of "),B.skyrmions.displayName,u(" by 33%")]),effect:v=>`/${D(v)}`},effect:v=>o.pow(1.5,v),bonusAmount:S[w.protoversal].boosts[2].effect}),f=p({cost(v){let x=v.pow_base(1.3).times(.1);return v.gt(15)&&(x=v.pow_base(7.7).times(6e-14).times(x)),v.gt(45)&&(x=v.pow_base(29.25).times(1e-39).times(x)),x.plus(.9)},shouldAutobuy:A(B.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Pion upgrade cost by 10%")]),effect:v=>`Pion upgrade cost nerf reduced to ${bt(o.times(v,100))}%`},effect:v=>o.pow(.9,v),bonusAmount:S[w.protoversal].boosts[3].effect}),h=p({cost(v){let x=v.pow_base(1.7).times(.1);return v.gt(10)&&(x=v.pow_base(7.35).times(268e-11).times(x)),v.gt(60)&&(x=v.pow_base(29.4).times(89e-75).times(x)),x.plus(4.9).times(ge(w.infinitesimal,5))},shouldAutobuy:A(B.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Pions")])},effect:v=>o.pow(1.75,v),bonusAmount:S[w.protoversal].boosts[4].effect}),N=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.protoversal].boosts[1].total),0),cost(v){let x=v.pow_base(6).times(30);return v.gt(60)&&(x=v.pow_base(37.5).times(27e-72).times(x)),x},shouldAutobuy:A(B.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Boost 1 effect")])},effect:v=>o.pow(1.7,v),bonusAmount:S[w.subplanck].boosts[2].effect}),I=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.infinitesimal].upgrades.reform.amount),0),cost(v){let x=v.pow_base(5).times(50);return v.gt(60)&&(x=v.pow_base(28.8).times(177e-67).times(x)),x},shouldAutobuy:A(B.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Infinitesimal Foam gain by 50% per order of magnitude of Protoversal Foam")])},effect:v=>o.max(t(S[w.protoversal].amount),0).plus(1).log10().times(v).times(.5).plus(1),bonusAmount:()=>o.add(ge(w.subplanck,3),t(st.upgrades.eta.effect))}),q=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.subspatial].upgrades.reform.amount),0),cost(v){let x=v.pow_base(5.5).times(5e3);return v.gt(60)&&(x=v.pow_base(35.64).times(1e-68).times(x)),x},shouldAutobuy:A(B.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Pion and Spinor gain by 30% per order of magnitude of Subspatial Foam")])},effect:v=>o.max(t(S[w.subspatial].amount),0).plus(1).log10().times(v).times(.3).plus(1),bonusAmount:S[w.subplanck].boosts[4].effect}),E=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.protoversal].upgrades.reform.amount),1),cost(v){let x=v.pow_base(5).times(3e5);return v.gt(60)&&(x=v.pow_base(28.8).times(177e-66).times(x)),x},shouldAutobuy:A(B.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain 120% increased Foam generation")])},effect:v=>o.times(v,1.2).plus(1),bonusAmount:S[w.subplanck].boosts[5].effect}),F=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.subplanck].upgrades.reform.amount),0),cost(v){let x=v.pow_base(6.5).times(7e5);return v.gt(45)&&(x=v.pow_base(26).times(545e-36).times(x)),x},shouldAutobuy:A(B.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Subspatial Foam gain by 30% per order of magnitude of Protoversal and Infinitesimal Foam")])},effect:v=>o.add(o.max(t(S[w.protoversal].amount),0).plus(1).log10(),o.max(t(S[w.infinitesimal].amount),0).plus(1).log10()).times(v).times(.3).plus(1),bonusAmount:S[w.quantum].boosts[4].effect}),M=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.protoversal].upgrades.reform.amount),2),cost(v){let x=v.pow_base(7.5).times(4e8);return v.gt(45)&&(x=v.pow_base(30).times(595e-50).times(x)),x},shouldAutobuy:A(B.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Pions increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:v=>o.max(t(st.pions),0).plus(1).log10().times(v).times(.02).plus(1),bonusAmount:S[w.quantum].boosts[4].effect}),T=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.infinitesimal].upgrades.reform.amount),1),cost(v){let x=v.pow_base(7).times(5e9);return v.gt(45)&&(x=v.pow_base(26).times(145e-45).times(x)),x},shouldAutobuy:A(B.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Increase Subplanck Boost 1 effect by 40% per order of magnitude of Subplanck Foam")])},effect:v=>o.max(t(S[w.subplanck].amount),0).plus(1).log10().times(v).times(.4).plus(1),bonusAmount:S[w.quantum].boosts[4].effect}),G=p({visibility:()=>t(oe.challenge.active)||t(j.upgrades.skyrmion.bought),cost(v){let x=v.pow_base(5).times(7e10);return v.gt(45)&&(x=v.pow_base(20).times(1e-35).times(x)),x},shouldAutobuy:A(B.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("ln(Best Accelerons) increases Pion and Spinor gain")])},effect:v=>o.max(t(j.bestAccelerons),0).plus(1).ln().times(v).plus(1)}),ce=p({visibility:()=>t(oe.challenge.active)||t(re.upgrades.skyrmionUpgrades.bought),cost(v){let x=v.pow_base(5).times(7e10);return v.gt(45)&&(x=v.pow_base(20).times(1e-35).times(x)),x},shouldAutobuy:A(B.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Pions per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:v=>o.clamp(t(re.inflatons),1,t(re.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(v)}),Y=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.nu.bought),cost(v){return v.pow_base(150).times(1e50)},shouldAutobuy:A(B.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Add "),bt(25e-5),u(" to a repeatable research cost divider per order of magnitude of Spinors")]),effect:v=>`/${bt(v)}\xD7`},effect:v=>o.clampMin(t(n),0).plus(1).log10().times(v).times(25e-5).plus(1)}),U=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.xi.bought),cost(v){return v.pow_base(135).times(1e50)},shouldAutobuy:A(B.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the magnitude of the Entangled String Inflaton requirement by 5%")]),effect:v=>`${bt(v)}\xD7`},effect:v=>o.pow(.95,v)}),Be=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.pi.bought),cost(v){return v.pow_base(160).times(1e50)},shouldAutobuy:A(B.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Pion and Spinor gain by 0.25% per total "),we.entropy.displayName])},effect:v=>o.times(v,.0025).times(t(we.maxEntropy)).plus(1)}),O=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.rho.bought),cost(v){return v.pow_base(175).times(1e50)},shouldAutobuy:A(B.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Increase effective Subspace building count by 0.1%")]),effect:v=>`${D(o.times(v,100),1)}%`},effect:v=>o.times(v,.001)});return{alpha:b,beta:f,gamma:h,delta:N,epsilon:I,zeta:q,eta:E,theta:F,iota:M,kappa:T,lambda:G,mu:ce,nu:Y,xi:U,pi:Be,rho:O}})(),m=Mt("Spinor Modifiers",()=>[{title:n.displayName,modifier:i,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{name:e,spinors:n,upgradeCount:l,upgrades:d,display:k(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-start"},[a("div",{class:"col",style:"align-items: flex-start"},[a("div",null,[u("You have "),a(ri,{resource:n,color:t(oe.challenge.active)?oe.color:B.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),Cn(n,s.value),u("/s)"),te(m)]),a("div",{style:"font-size: 12px"},[u("Your Pion upgrades are increasing Spinor upgrade costs by "),bt(t(c).minus(1).times(100)),u("%")]),a(Se,null,null),a(ep,null,null)])]))};function p(b){const{visibility:f,cost:h,shouldAutobuy:N,display:I,effect:q,bonusAmount:E}=b,F=or({visibility:f,display:I,bonusAmount:E,effect:q,requirements:X(()=>({resource:A(n),cost:()=>h(o.sub(t(F.amount),ge(w.subplanck,5))).times(t(c)),requiresPay:()=>!t(N),canMaximize:!1}))});return B.on("update",()=>{t(oe.challenge.active)||t(N)&&Dt(F.requirements)&&F.onClick()}),F}});const ip={class:"pion-container"},sp={class:"pion-grid"},rp=se({__name:"Pion",setup(e){const n=st.upgrades,i={alpha:{row:1,col:7},beta:{row:2,col:5},gamma:{row:3,col:7},delta:{row:4,col:5},epsilon:{row:5,col:7},zeta:{row:3,col:3},eta:{row:5,col:3},theta:{row:6,col:5},iota:{row:7,col:7},kappa:{row:4,col:1},lambda:{row:6,col:1},mu:{row:7,col:3},nu:{row:8,col:5},xi:{row:8,col:1},pi:{row:9,col:3},rho:{row:10,col:1}};function s(r){return{"--row":i[r].row,"--col":i[r].col}}return(r,l)=>($(),P("div",ip,[C("ul",sp,[($(!0),P(g,null,Pe(t(n),(c,d)=>($(),P(g,{key:d},[t(c.visibility)!==t(xe).None?($(),P("li",Bt({key:0,class:"pion-upgrade"},r.$attrs,{style:s(d)}),[($(),ie($e(t(te)(c))))],16)):H("",!0)],64))),128))])]))}});var op=fe(rp,[["__scopeId","data-v-4a683717"]]);const ap="pion",st=nt(ap,function(){const e="Pions",n=at(0,e,void 0,!0),i=ut(()=>[...B.production,z(()=>({multiplier:Re.upgrades.gamma.effect,enabled:()=>o.gt(t(Re.upgrades.gamma.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B3 ("),D(t(Re.upgrades.gamma.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.mu.effect,enabled:()=>o.gt(t(Re.upgrades.mu.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03BC ("),D(t(Re.upgrades.mu.totalAmount)),u(")")]))}))]),s=y(()=>i.apply(t(B.totalSkyrmions).times(.01)));B.on("preUpdate",b=>{const f=t(j.timeMult).times(b);n.value=f.times(t(s)).plus(n.value)});const r=y(()=>Object.values(d).map(b=>t(b.amount)).reduce((b,f)=>b.plus(f),o.dZero)),l=y(()=>t(r).minus(ge(w.subspatial,2))),c=y(()=>{const b=t(oe.challenge.active)?t(oe.upgradeCount):t(Re.upgradeCount),f=b.times(.2).times(t(Re.upgrades.beta.effect)).plus(1),h=b.times(.25).times(ge(w.quantum,2));return f.pow(h)}),d=(()=>{const b=p({cost(v){let x=v.pow_base(1.2).times(.1);return v.gt(25)&&(x=v.pow_base(7.9).times(342e-25).times(x)),v.gt(90)&&(x=v.pow_base(19.75).times(208e-106).times(x)),x.times(ge(w.infinitesimal,3))},shouldAutobuy:A(B.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Gain 50% more Pions and Spinors")])},effect:v=>o.pow(1.5,v),bonusAmount:S[w.protoversal].boosts[2].effect}),f=p({cost(v){let x=v.pow_base(1.3).times(.1);return v.gt(15)&&(x=v.pow_base(7.7).times(6e-14).times(x)),v.gt(45)&&(x=v.pow_base(29.25).times(1e-39).times(x)),x.plus(.9)},shouldAutobuy:A(B.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Spinor upgrade cost by 10%")]),effect:v=>`Spinor upgrade cost nerf reduced to ${bt(o.times(v,100))}%`},effect:v=>o.pow(.9,v),bonusAmount:S[w.protoversal].boosts[3].effect}),h=p({cost(v){let x=v.pow_base(1.7).times(.1);return v.gt(10)&&(x=v.pow_base(7.35).times(268e-11).times(x)),v.gt(60)&&(x=v.pow_base(29.4).times(89e-75).times(x)),x.plus(4.9).times(ge(w.infinitesimal,5))},shouldAutobuy:A(B.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Spinors")])},effect:v=>o.pow(1.75,v),bonusAmount:S[w.protoversal].boosts[4].effect}),N=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.protoversal].boosts[1].total),0),cost(v){let x=v.pow_base(6).times(30);return v.gt(60)&&(x=v.pow_base(37.5).times(27e-72).times(x)),x},shouldAutobuy:A(B.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Foam from Skyrmions")])},effect:v=>o.pow(v,1.7),bonusAmount:S[w.subplanck].boosts[2].effect}),I=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.infinitesimal].upgrades.reform.amount),0),cost(v){let x=v.pow_base(5).times(50);return v.gt(60)&&(x=v.pow_base(28.8).times(177e-67).times(x)),x},shouldAutobuy:A(B.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Protoversal Foam gain by 50% per order of magnitude of Infinitesimal Foam")])},effect:v=>o.max(t(S[w.infinitesimal].amount),0).plus(1).log10().times(v).times(.5).plus(1),bonusAmount:S[w.subplanck].boosts[3].effect}),q=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.subspatial].upgrades.reform.amount),0),cost(v){let x=v.pow_base(5.5).times(5e3);return v.gt(60)&&(x=v.pow_base(35.64).times(1e-68).times(x)),x},shouldAutobuy:A(B.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Subspatial Foam gain by 5% per Skyrmion")])},effect:v=>t(B.totalSkyrmions).times(v).times(.05).plus(1),bonusAmount:S[w.subplanck].boosts[4].effect}),E=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.protoversal].upgrades.reform.amount),1),cost(v){let x=v.pow_base(5).times(3e5);return v.gt(60)&&(x=v.pow_base(28.8).times(177e-66).times(x)),x},shouldAutobuy:A(B.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain a free level of "),a("b",null,[u("Spinor Upgrade \u03B5")])]),effect:v=>`${D(v)} free levels`},effect:v=>v,bonusAmount:S[w.subplanck].boosts[5].effect}),F=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.subplanck].upgrades.reform.amount),0),cost(v){let x=v.pow_base(6.5).times(7e5);return v.gt(45)&&(x=v.pow_base(26).times(545e-36).times(x)),x},shouldAutobuy:A(B.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Protoversal Foam gain by 100% per order of magnitude of Subspatial Foam")])},effect:v=>o.max(t(S[w.subspatial].amount),0).plus(1).log10().times(v).plus(1),bonusAmount:S[w.quantum].boosts[4].effect}),M=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.protoversal].upgrades.reform.amount),2),cost(v){let x=v.pow_base(7.5).times(4e8);return v.gt(45)&&(x=v.pow_base(30).times(595e-50).times(x)),x},shouldAutobuy:A(B.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Spinors increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:v=>o.max(t(Re.spinors),0).plus(1).log10().times(v).times(.02).plus(1),bonusAmount:S[w.quantum].boosts[4].effect}),T=p({visibility:()=>t(oe.challenge.active)||o.gt(t(S[w.infinitesimal].upgrades.reform.amount),1),cost(v){let x=v.pow_base(7).times(5e9);return v.gt(45)&&(x=v.pow_base(26).times(145e-45).times(x)),x},shouldAutobuy:A(B.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Protoversal Boost 1 levels each increase other Foam Boost 1 effects by 30%")])},effect:v=>o.times(t(S[w.protoversal].boosts[1].total),v).times(.3).plus(1),bonusAmount:S[w.quantum].boosts[4].effect}),G=p({visibility:()=>t(oe.challenge.active)||t(j.upgrades.skyrmion.bought),cost(v){let x=v.pow(1.1).pow_base(5).times(700);return v.gt(45)&&(x=v.pow(1.1).pow_base(20).times(7e-17).times(x)),x},shouldAutobuy:A(B.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("Double the Infinitesimal Foam Boost 1 effect")])},effect:v=>o.pow(2,v)}),ce=p({visibility:()=>t(oe.challenge.active)||t(re.upgrades.skyrmionUpgrades.bought),cost(v){let x=v.pow_base(5).times(7e10);return v.gt(45)&&(x=v.pow_base(20).times(1e-35).times(x)),x},shouldAutobuy:A(B.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Spinors per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:v=>o.clamp(t(re.inflatons),1,t(re.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(v)}),Y=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.nu.bought),cost(v){return v.pow_base(150).times(1e50)},shouldAutobuy:A(B.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Increase research speed by "),bt(25e-5),u("\xD7 per order of magnitude of Pions")]),effect:v=>`${bt(v)}\xD7`},effect:v=>o.clampMin(t(n),0).plus(1).log10().times(v).times(25e-5).plus(1)}),U=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.xi.bought),cost(v){return v.pow_base(135).times(1e50)},shouldAutobuy:A(B.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the Entangled String Acceleron requirement by 5%")]),effect:v=>`${bt(v)}\xD7`},effect:v=>o.pow(.95,v)}),Be=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.pi.bought),cost(v){return v.pow_base(160).times(1e50)},shouldAutobuy:A(B.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Entropic Loop construction speed by 5% per completed Entropic Loop")])},effect:v=>o.times(v,.05).times(t(j.loops.numBuiltLoops))}),O=p({visibility:()=>t(oe.challenge.active)||t(B.upgrades.rho.bought),cost(v){return v.pow_base(175).times(1e50)},shouldAutobuy:A(B.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Decrease Subspace building cost scaling by 1.1x")])},effect:v=>o.pow(1.1,v)});return{alpha:b,beta:f,gamma:h,delta:N,epsilon:I,zeta:q,eta:E,theta:F,iota:M,kappa:T,lambda:G,mu:ce,nu:Y,xi:U,pi:Be,rho:O}})(),m=Mt("Pion Modifiers",()=>[{title:n.displayName,modifier:i,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{name:e,pions:n,upgradeCount:l,upgrades:d,display:k(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-end"},[a("div",{class:"col",style:"align-items: flex-end"},[a("div",null,[u("You have "),a(ri,{resource:n,color:t(oe.challenge.active)?oe.color:B.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),Cn(n,s.value),u("/s)"),te(m)]),a("div",{style:"font-size: 12px"},[u("Your Spinor upgrades are increasing Pion upgrade costs by "),bt(t(c).minus(1).times(100)),u("%")]),a(Se,null,null),a(op,null,null)])]))};function p(b){const{visibility:f,cost:h,shouldAutobuy:N,display:I,effect:q,bonusAmount:E}=b,F=or({visibility:f,display:I,bonusAmount:E,effect:q,requirements:X(()=>({resource:A(n),cost:()=>h(o.sub(t(F.amount),ge(w.subspatial,5))).times(t(c)),requiresPay:()=>!t(N),canMaximize:!1}))});return B.on("update",()=>{t(oe.challenge.active)||t(N)&&Dt(F.requirements)&&F.onClick()}),F}}),lp="abyss",oe=nt(lp,function(){const e="#ff0000",n=Km(l=>({style:{border:0,borderRadius:0,clipPath:"polygon(75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%, 25% 0%)",marginHorizontal:"50px",width:"250px",minWidth:"250px",minHeight:"250px",boxShadow:"0"},requirements:X(()=>({cost:()=>o.add(t(l.completions),1),resource:s})),completionLimit:4,onEnter(){ji(_t,r)},onExit(){ji(_t,r)}})),i=y(()=>o.add(t(st.upgradeCount),t(Re.upgradeCount)).times(.75)),s=at(y(()=>[B.upgrades.nu,B.upgrades.xi,B.upgrades.pi,B.upgrades.rho].filter(l=>t(l.bought)).length),"Abyssal Skyrmion Upgrades");Ct(s,l=>n.completions.value=o.max(t(n.completions),l));const r=(()=>({skyrmion:{conversion:{amount:Ne(1)},pion:vt(B.pion),spinor:vt(B.spinor)},fome:{protoversal:vt(S.protoversal),infinitesimal:vt(S.infinitesimal),subspatial:vt(S.subspatial),subplanck:vt(S.subplanck),quantum:vt(S.quantum)},acceleron:{accelerons:vt(j.accelerons),bestAccelerons:vt(j.bestAccelerons),totalAccelerons:vt(j.totalAccelerons),entropy:vt(j.entropy),loops:vt(j.loops),upgrades:vt(j.upgrades)},timecube:vt(W),inflaton:vt(re)}))();return{color:e,challenge:n,upgradeCount:i,abyssUpgradeCount:s,swapData:r,display:k(()=>a(g,null,[te(n)]))}}),up="loops",Ue=nt(up,function(){const e=Ne(!1),n=lt(()=>({visibility:A(j.upgrades.superstructures.bought),canClick(){return t(b)!==void 0},onClick(){e.value=!t(e)},display:k(()=>a("h3",null,[t(e)?"Halt":"Begin",a("br",null,null),u("Construction")])),style(){return{borderRadius:"50%",borderColor:t(this.canClick)?"var(--layer-color)":"var(--locked)",backgroundColor:"#0000",color:t(this.canClick)?"var(--layer-color)":"var(--locked)"}}})),i=ut(()=>[z(()=>({multiplier:we.enhancements.construction.effect,enabled:A(we.enhancements.construction.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Construction")]))})),z(()=>({multiplier:W.upgrades.ten.effect,enabled:A(W.upgrades.ten.bought),description:k(()=>a(g,null,[u("["),W.name,u("] Ten")]))})),z(()=>({multiplier:B.pion.upgrades.pi.effect,enabled:()=>o.gt(t(B.pion.upgrades.pi.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03C0 ("),D(t(B.pion.upgrades.pi.totalAmount)),u(")")]))})),z(()=>({multiplier:W.getTimesquareEffect(V.RIGHT),enabled:()=>o.gt(t(W.timesquares.squares[V.RIGHT].square.amount),0),description:k(()=>a(g,null,[u("["),W.name,u("] Right Time Squares ("),Q(t(W.timesquares.squares[V.RIGHT].square.amount)),u(")")]))}))]),s=y(()=>i.apply(t(j.timeMult))),r=ut(()=>[z(()=>({multiplier:we.enhancements.development.effect,enabled:A(we.enhancements.development.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Development")])),smallerIsBetter:!0}))]),l=y(()=>r.apply(1)),c=y(()=>{const I=t(b);return I===void 0?o.dZero:o.minus(t(I.buildRequirement),t(I.buildProgress))}),d=y(()=>t(c).times(t(l)));j.on("update",I=>{if(!t(e))return;const q=t(b);if(q===void 0){e.value=!1;return}const E=t(c),F=o.div(t(j.accelerons),t(l)),M=o.times(t(s),I).clampMax(E).clampMax(F);q.buildProgress.value=M.plus(t(q.buildProgress)).clampMax(t(q.buildRequirement)),j.accelerons.value=o.subtract(t(j.accelerons),M.times(t(l))).clampMin(0),t(q.built)&&(e.value=!1)}),j.on("preUpdate",I=>{if(t(e))return;const q=t(j.timeMult).times(I);for(const E of Object.values(m).filter(F=>t(F.built))){E.triggerProgress.value=q.plus(t(E.triggerProgress));const F=o.divide(t(E.triggerProgress),t(E.triggerRequirement)).floor();F.gte(1)&&(E.triggerProgress.value=o.sub(t(E.triggerProgress),F.times(t(E.triggerRequirement))),E.trigger(F))}});const m=(()=>{const I=qn(G=>({visibility:A(j.upgrades.superstructures.bought),buildRequirement:new o(60),triggerRequirement:o.dOne,display:{color:y(()=>t(oe.challenge.active)?oe.color:j.color),width:10,description:k(()=>a(g,null,[u("Every second, gain "),a("span",{style:{color:t(t(G.display).color)}},[bt(t(G.effect).times(100),1),u("%")]),u(" of your Acceleron gain. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.times(t(j.conversion.currentGain),t(j.timeMult)).times(t(G.effect)).div(t(G.triggerRequirement)))]),u(" Accelerons/s")]))},effect(){return o.add(.001,je(we.enhancements.acceleration,0)).div(t(Ge.nerfs[V.RIGHT])).times(t(Ge.buffs[V.RIGHT]))},trigger(ce){let Y=new o(t(j.conversion.currentGain));Y=Y.times(t(G.effect)),Y=Y.times(ce),t(W.upgrades.tempo.bought)&&(Y=Y.clampMin(1)),j.accelerons.value=o.add(t(j.accelerons),Y)}})),q=qn(G=>({visibility(){return t(G.built)||t(I.built)},buildRequirement:new o(360),triggerRequirement:new o(60),display:()=>({color:y(()=>t(oe.challenge.active)?oe.color:B.color),width:10,description:k(()=>a(g,null,[u("Every minute, gain "),a("span",{style:{color:t(t(G.display).color)}},[bt(t(G.effect))]),u(" minutes of Foam and Skyrmion production. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.times(t(G.effect),t(j.timeMult)).div(t(G.triggerRequirement)))]),u(" minutes/s")]))}),effect(){return o.plus(1,je(we.enhancements.expansion,0)).div(t(Ge.nerfs[V.RIGHT])).times(t(Ge.buffs[V.RIGHT]))},trigger(ce){const Y=new o(t(this.triggerRequirement)).times(t(G.effect)).times(ce);B.pion.pions.value=Y.times(t(1)).plus(t(B.pion.pions)),B.spinor.spinors.value=Y.times(t(1)).plus(t(B.spinor.spinors)),Object.values(w).forEach(U=>S[U].amount.value=Y.times(t(S[U].production)).plus(t(S[U].amount)))}})),E=qn(G=>({visibility(){return t(this.built)||t(q.built)},buildRequirement:new o(600),triggerRequirement:new o(3600),display:{color:y(()=>t(oe.challenge.active)?oe.color:W.color),width:10,description:k(()=>a(g,null,[u("Every hour, gain "),a("span",{style:{color:t(t(G.display).color)}},[D(t(G.effect))]),u(" Time Cubes. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.times(t(G.effect),t(j.timeMult)).div(t(G.triggerRequirement)))]),u(" Time Cubes/s")]))},effect(){return new o(t(W.production)).div(t(Ge.nerfs[V.RIGHT])).times(t(Ge.buffs[V.RIGHT]))},trigger(ce){W.timecubes.value=t(G.effect).times(ce).plus(t(W.timecubes))}})),F=qn(G=>({visibility(){return t(this.built)||t(j.upgrades.tetration.bought)||t(W.upgrades.tiny.bought)},buildRequirement:new o(25e4),triggerRequirement:new o(86400),display:{color:y(()=>t(oe.challenge.active)?oe.color:S.color),width:10,description:k(()=>a(g,null,[u("Every day, gain a decaying boost to Foam production. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.gte(t(j.timeMult),t(G.triggerRequirement))?t(h[G.id]):t(G.value))]),u("\xD7")]))},effect(){return new o(1e6)},trigger(ce){this.value.value=t(G.effect).div(o.div(t(Ge.nerfs[V.RIGHT]),t(Ge.buffs[V.RIGHT]))).times(ce)}}),Fi),M=qn(G=>({visibility(){return t(this.built)||t(j.upgrades.tetration.bought)&&t(F.built)},buildRequirement:new o(1e11),triggerRequirement:new o(31536e3),display:{color:y(()=>t(oe.challenge.active)?oe.color:j.color),width:10,description:k(()=>a(g,null,[u("Every year, gain a decaying divider to Acceleron cost. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[u("/"),D(o.gte(t(j.timeMult),t(G.triggerRequirement))?t(h[G.id]):t(G.value))]),u("\xD7")]))},effect(){return new o(1e3)},trigger(ce){this.value.value=t(G.effect).div(o.div(t(Ge.nerfs[V.RIGHT]),t(Ge.buffs[V.RIGHT]))).times(ce)}}),Fi),T=qn(G=>({visibility(){return t(this.built)||t(j.upgrades.tetration.bought)&&t(W.upgrades.tiny.bought)&&t(M.built)},buildRequirement:new o(4e17),triggerRequirement:new o(31536e4),display:{color:y(()=>t(oe.challenge.active)?oe.color:B.color),width:10,description:k(()=>a(g,null,[u("Every decade, gain a decaying boost to Pion and Spinor production. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.gte(t(j.timeMult),t(G.triggerRequirement))?t(h[G.id]):t(G.value))]),u("\xD7")]))},effect(){return new o(1e9)},trigger(ce){this.value.value=t(G.effect).div(o.div(t(Ge.nerfs[V.RIGHT]),t(Ge.buffs[V.RIGHT]))).times(ce)}}),Fi);return{acceleron:I,instantProd:q,timecube:E,tempFome:F,tempAcceleron:M,tempSkyrmion:T}})(),p=y(()=>Object.values(m).filter(I=>t(I.built)).length),b=y(()=>Object.values(m).find(I=>ve(I.visibility)&&!t(I.built))),f={[m.tempFome.id]:le([]),[m.tempAcceleron.id]:le([]),[m.tempSkyrmion.id]:le([])},h=Object.fromEntries(Object.entries(f).map(([I,q])=>[I,y(()=>t(q).reduce((E,F)=>E.plus(F),o.dZero).dividedBy(t(q).length||1).plus(1))]));j.on("postUpdate",I=>{const q=t(j.timeMult),E=o.pow(.2,I);for(const F of[m.tempFome,m.tempAcceleron,m.tempSkyrmion])f[F.id].value=[...t(f[F.id]).slice(-9),F.value.value],!o.gte(q,t(F.triggerRequirement))&&(F.value.value=E.times(t(F.value)).clampMin(1))});const N=Mt("Entropic Loop Modifiers",()=>[{title:"Build Speed",modifier:i,base:j.timeMult,baseText:k(()=>a(g,null,[u("["),j.name,u("] Time Speed")]))},{title:"Build Cost",modifier:r,base:1,baseText:k(()=>a(g,null,[u("["),j.name,u("] "),j.accelerons.displayName,u("/sec")])),smallerIsBetter:!0}]);return{isBuilding:e,loops:m,averageLoopValues:h,numBuiltLoops:p,upperDisplay:k(()=>{var I,q,E,F;return a(g,null,[t(b)===void 0?a(Se,{height:"50px"},null):a(g,null,[a(Se,{height:"18px"},null),a("div",{style:{fontSize:"12px",color:"var(--link)"}},[u("Construction Progress: "),Q(t((q=(I=t(b))==null?void 0:I.buildProgress)!=null?q:0)),u(" / "),Q(t((F=(E=t(b))==null?void 0:E.buildRequirement)!=null?F:0)),te(N),a("br",null,null),u("Construction will consume "),Q(t(d)),u(" "),j.accelerons.displayName])])])}),lowerDisplay:k(()=>a(g,null,[a(Lm,{radius:175,loops:Object.values(m),buildButton:n},null),a(Se,null,null),a(Gm,{loops:Object.values(m)},null)])),display:"This page intentionally left blank"}});const cp={class:"enhancementRow"},dp=se({__name:"Enhancements",props:{rows:null},setup(e){const n=e,i=[1,2,3,4].map(s=>({limit:we.enhancementLimits[s],count:we.enhancementCounts[s],row:t(n.rows)[s]}));return(s,r)=>($(!0),P(g,null,Pe(t(i),(l,c)=>($(),P("div",cp,[l.row.some(d=>t(ve)(d.visibility))?($(),ie(Wt,{key:0},{default:ae(()=>[C("div",{class:Me({bought:t(l.count)>=t(l.limit)})},[C("span",null,"Row "+ee(c+1)+": "+ee(t(l.count))+"/"+ee(t(l.limit)),1)],2),($(!0),P(g,null,Pe(l.row,d=>($(),P(g,null,[t(ve)(d.visibility)?($(),ie($e(t(te)(d)),{key:0})):H("",!0)],64))),256))]),_:2},1024)):H("",!0)]))),256))}});var mp=fe(dp,[["__scopeId","data-v-83e9ae4a"]]);const Ln=e=>(dt("data-v-36be143f"),e=e(),mt(),e),pp=Ln(()=>C("span",{class:"material-icons"},"check",-1)),fp=Ln(()=>C("span",{class:"material-icons"},"close",-1)),gp={key:1,class:"title"},bp=Ln(()=>C("span",{class:"material-icons"},"content_paste",-1)),hp=Ln(()=>C("span",{class:"material-icons"},"content_copy",-1)),vp=Ln(()=>C("span",{class:"material-icons"},"edit",-1)),yp=Ln(()=>C("span",{class:"material-icons"},"delete",-1)),_p={class:"grid"},wp={class:"row"};var kp=se({__name:"Preset",props:{rows:null,preset:null},emits:["export","load","delete","rename"],setup(e,{emit:n}){const i=e,s=Object.fromEntries(Object.entries(i.rows).map(([p,b])=>[p,b.map(f=>i.preset.purchased.includes(f.id))])),r=Object.values(s).map(p=>p.reduce((b,f,h)=>f&&h>b?h:b,0)).reduce(({maxWidth:p,maxHeight:b},f,h)=>({maxWidth:f>p?f:p,maxHeight:f>0?h:b}),{maxWidth:0,maxHeight:0}),l=le(!1),c=le(!1),d=le("");Ct(l,()=>{var p;return d.value=(p=i.preset.name)!=null?p:""});function m(){t(d).length>0&&n("rename",t(d)),l.value=!1}return(p,b)=>($(),ie(Wt,{class:"preset",style:De({"--num-rows":t(r).maxHeight})},{default:ae(()=>[a(sn,null,{default:ae(()=>[l.value?($(),ie(Wt,{key:0},{default:ae(()=>[a(ni,{class:"title",modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=f=>d.value=f),onSubmit:m,style:{display:"contents"}},null,8,["modelValue"]),C("button",{onClick:m,class:"button"},[a(Ve,{display:"Save",direction:t(Fe).Up,class:"info"},{default:ae(()=>[pp]),_:1},8,["direction"])]),C("button",{onClick:b[1]||(b[1]=f=>l.value=!l.value),class:"button"},[a(Ve,{display:"Cancel",direction:t(Fe).Up,class:"info"},{default:ae(()=>[fp]),_:1},8,["direction"])])]),_:1})):($(),P("div",gp,ee(e.preset.name),1)),a(Wt,null,{default:ae(()=>[c.value?H("",!0):($(),ie(ki,{key:0,onClick:b[2]||(b[2]=f=>n("export")),class:"button",left:""},{default:ae(()=>[a(Ve,{display:"Export",direction:t(Fe).Up,class:"info"},{default:ae(()=>[bp]),_:1},8,["direction"])]),_:1})),c.value?H("",!0):($(),P("button",{key:1,onClick:b[3]||(b[3]=f=>n("load")),class:"button"},[a(Ve,{display:"Load",direction:t(Fe).Up,class:"info"},{default:ae(()=>[hp]),_:1},8,["direction"])])),c.value?H("",!0):($(),P("button",{key:2,class:"button",onClick:b[4]||(b[4]=f=>l.value=!l.value)},[a(Ve,{display:"Rename",direction:t(Fe).Up,class:"info"},{default:ae(()=>[vp]),_:1},8,["direction"])])),a(Ks,{onClick:b[5]||(b[5]=f=>n("delete")),onConfirmingChanged:b[6]||(b[6]=f=>c.value=f)},{default:ae(()=>[a(Ve,{display:"Delete",direction:t(Fe).Up,class:"info"},{default:ae(()=>[yp]),_:1},8,["direction"])]),_:1})]),_:1})]),_:1}),C("div",_p,[($(!0),P(g,null,Pe(t(r).maxHeight+1,f=>($(),P("div",wp,[($(!0),P(g,null,Pe(t(r).maxWidth+1,h=>($(),P("div",{class:Me(["template",{bought:t(s)[f][h-1]}])},null,2))),256))]))),256))])]),_:1},8,["style"]))}});var Sp=fe(kp,[["__scopeId","data-v-36be143f"]]);const Cp=e=>(dt("data-v-5a83e9a5"),e=e(),mt(),e),$p={class:"preset-tab"},Np={class:"preset-area"},Ip={class:"presets"},qp=Cp(()=>C("div",{class:"fade"},null,-1));var Mp=se({__name:"Presets",props:{enhancements:null,presets:null,nextID:null},setup(e){const n=e,i=le(""),s=le(!1);function r(){n.presets.push({id:t(n.nextID),name:i.value,purchased:Object.values(n.enhancements).flatMap(f=>f).filter(f=>t(f.bought)).map(f=>f.id)}),i.value="",s.value=!1}function l(f){const h=JSON.stringify({name:f.name,purchased:f.purchased}),N=btoa(unescape(encodeURIComponent(h))),I=document.createElement("textarea");I.value=N,document.body.appendChild(I),I.select(),I.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(I)}function c(f){try{const h=decodeURIComponent(escape(atob(f))),N=JSON.parse(h);if(typeof N!="object"||!("name"in N)||typeof N.name!="string"||!("purchased"in N)||typeof N.purchased!="object")return!1;for(const[I,q]of Object.entries(N.purchased))if(isNaN(I)||!isFinite(I)||I<0||typeof q!="string")return!1;return{name:N.name,purchased:N.purchased}}catch{return!1}}function d(){const f=t(s);f!==!1&&(n.presets.push({id:t(n.nextID),...f}),i.value="",s.value=!1)}function m(f){var N;const h=Object.values(n.enhancements).flatMap(I=>I);for(const I of h)I.bought.value=!1;we.entropy.value=t(we.maxEntropy);for(const I of f.purchased)(N=h.find(q=>q.id===I))==null||N.purchase()}function p(f){const h=n.presets.map(N=>N.id).indexOf(f.id);h>=0&&n.presets.splice(h,1)}function b(f,h){f.name=h}return(f,h)=>($(),P("div",$p,[u(" Enhancement Presets "),a(Wt,{class:"new-preset-area"},{default:ae(()=>[a(ni,{autofocus:!1,"model-value":i.value,"onUpdate:modelValue":h[0]||(h[0]=N=>{i.value=N,s.value=c(N)}),placeholder:"New Preset Name"},null,8,["model-value"]),C("button",{onClick:r,class:Me(["button",{locked:i.value.length===0}])},"Save",2),C("button",{onClick:d,class:Me(["button",{locked:s.value===!1}])},"Import",2)]),_:1}),a(Se),C("div",Np,[C("div",Ip,[($(!0),P(g,null,Pe(e.presets,N=>($(),ie(Sp,{rows:e.enhancements,preset:N,onExport:I=>l(N),onLoad:I=>m(N),onDelete:I=>p(N),onRename:I=>b(N,I)},null,8,["rows","preset","onExport","onLoad","onDelete","onRename"]))),256))]),qp])]))}});var Tp=fe(Mp,[["__scopeId","data-v-5a83e9a5"]]);const Ae=e=>(dt("data-v-61458aa3"),e=e(),mt(),e),xp={class:"totals"},Pp=Ae(()=>C("div",null,"Current Bonuses",-1)),Fp=Ae(()=>C("div",{class:"break"},null,-1)),Ap={key:0},Bp=Ae(()=>C("td",null,"1st Row Enhancements:",-1)),Ep={key:1},Rp=Ae(()=>C("td",null,"2nd Row Enhancements:",-1)),Op={key:2},Dp=Ae(()=>C("td",null,"3rd Row Enhancements:",-1)),Lp={key:3},jp=Ae(()=>C("td",null,"4th Row Enhancements:",-1)),Up={key:4,class:"break"},Vp=Ae(()=>C("td",null,null,-1)),Gp=Ae(()=>C("td",null,null,-1)),zp=[Vp,Gp],Hp={key:5},Wp=Ae(()=>C("td",null,"Time Speed",-1)),Yp={key:6,class:"break"},Xp=Ae(()=>C("td",null,null,-1)),Kp=Ae(()=>C("td",null,null,-1)),Qp=[Xp,Kp],Zp={key:7},Jp=Ae(()=>C("td",null,"Loop Build Speed",-1)),ef={key:8},tf=Ae(()=>C("td",null,"Loop Build Cost",-1)),nf={key:9,class:"break"},sf=Ae(()=>C("td",null,null,-1)),rf=Ae(()=>C("td",null,null,-1)),of=[sf,rf],af={key:10},lf=Ae(()=>C("td",null,"Skyrmion Cost",-1)),uf={key:11,class:"break"},cf=Ae(()=>C("td",null,null,-1)),df=Ae(()=>C("td",null,null,-1)),mf=[cf,df],pf={key:12},ff=Ae(()=>C("td",null,"2nd Loop's Effect",-1)),gf={key:13},bf=Ae(()=>C("td",null,"All Foam Gain",-1)),hf={key:14},vf=Ae(()=>C("td",null,"Infinitesimal Foam Gain",-1)),yf={key:15},_f=Ae(()=>C("td",null,"Subspatial Foam Gain",-1)),wf={key:16},kf=Ae(()=>C("td",null,"Subplanck Foam Gain",-1)),Sf={key:17},Cf=Ae(()=>C("td",null,"Free Foam Boosts",-1)),$f={key:18,class:"break"},Nf=Ae(()=>C("td",null,null,-1)),If=Ae(()=>C("td",null,null,-1)),qf=[Nf,If],Mf={key:19},Tf=Ae(()=>C("td",null,"1st Loop's Effect",-1)),xf={key:20},Pf=Ae(()=>C("td",null,"Acceleron Cost",-1)),Ff={key:21,class:"break"},Af=Ae(()=>C("td",null,null,-1)),Bf=Ae(()=>C("td",null,null,-1)),Ef=[Af,Bf],Rf={key:22},Of=Ae(()=>C("td",null,"Timecube Gain",-1));var Df=se({__name:"EnhancementTotals",setup(e){const n=we.enhancements,i={counts:{1:0,2:0,3:0,4:0},time:1,loops:{1:0,2:0,buildSpeed:1,buildCost:1},skyrmion:1,fome:{all:1,[w.infinitesimal]:1,[w.subspatial]:1,[w.subplanck]:1,boosts:0},acceleron:1,timecube:1},s={counts:{1:y(()=>0),2:y(()=>t(n.entrenchment.bought)?1:0),3:y(()=>0),4:y(()=>0)},time:y(()=>je(n.dilation)),loops:{1:y(()=>je(n.acceleration,0)),2:y(()=>je(n.expansion,0)),buildSpeed:y(()=>je(n.construction)),buildCost:y(()=>je(n.development))},skyrmion:y(()=>o.reciprocate(je(n.amplification))),fome:{all:y(()=>je(n.formation)),[w.infinitesimal]:y(()=>je(n.extension)),[w.subspatial]:y(()=>je(n.configuration)),[w.subplanck]:y(()=>je(n.invention)),boosts:y(()=>je(n.entitlement,0))},acceleron:y(()=>new o(je(n.contraction)).times(je(n.inversion)).times(je(n.rotation))),timecube:y(()=>je(n.tesselation))},r={counts:y(()=>[[s.counts[1],i.counts[1]],[s.counts[2],i.counts[2]],[s.counts[3],i.counts[3]],[s.counts[4],i.counts[4]]].map(([c,d])=>o.neq(c.value,d)).some(c=>c)),time:y(()=>o.neq(s.time.value,i.time)),loops:y(()=>[[s.loops.buildSpeed,i.loops.buildSpeed],[s.loops.buildCost,i.loops.buildCost]].map(([c,d])=>o.neq(c.value,d)).some(c=>c)),skyrmion:y(()=>o.neq(s.skyrmion.value,i.skyrmion)),fome:y(()=>[[s.loops[2],i.loops[2]],[s.fome.all,i.fome.all],[s.fome[w.infinitesimal],i.fome[w.infinitesimal]],[s.fome[w.subspatial],i.fome[w.subspatial]],[s.fome[w.subplanck],i.fome[w.subplanck]],[s.fome.boosts,i.fome.boosts]].map(([c,d])=>o.neq(c.value,d)).some(c=>c)),acceleron:y(()=>[[s.loops[1],i.loops[1]],[s.acceleron,i.acceleron]].map(([c,d])=>o.neq(c.value,d)).some(c=>c)),timecube:y(()=>o.neq(s.timecube.value,i.timecube))},l={counts:y(()=>r.counts.value&&["time","loops","skyrmion","fome","acceleron","timecube"].some(c=>r[c].value)),time:y(()=>r.time.value&&["loops","skyrmion","fome","acceleron","timecube"].some(c=>r[c].value)),loops:y(()=>r.loops.value&&["skyrmion","fome","acceleron","timecube"].some(c=>r[c].value)),skyrmion:y(()=>r.skyrmion.value&&["fome","acceleron","timecube"].some(c=>r[c].value)),fome:y(()=>r.fome.value&&["acceleron","timecube"].some(c=>r[c].value)),acceleron:y(()=>r.acceleron.value&&["timecube"].some(c=>r[c].value))};return(c,d)=>($(),P("div",xp,[Pp,Fp,C("table",null,[t(o).neq(s.counts[1].value,i.counts[1])?($(),P("tr",Ap,[Bp,C("td",null,"+"+ee(t(Q)(s.counts[1].value)),1)])):H("",!0),t(o).neq(s.counts[2].value,i.counts[2])?($(),P("tr",Ep,[Rp,C("td",null,"+"+ee(t(Q)(s.counts[2].value)),1)])):H("",!0),t(o).neq(s.counts[3].value,i.counts[3])?($(),P("tr",Op,[Dp,C("td",null,"+"+ee(t(Q)(s.counts[3].value)),1)])):H("",!0),t(o).neq(s.counts[4].value,i.counts[4])?($(),P("tr",Lp,[jp,C("td",null,"+"+ee(t(Q)(s.counts[4].value)),1)])):H("",!0),l.counts.value?($(),P("tr",Up,zp)):H("",!0),t(o).neq(s.time.value,i.time)?($(),P("tr",Hp,[Wp,C("td",null,"\xD7"+ee(t(D)(s.time.value)),1)])):H("",!0),l.time.value?($(),P("tr",Yp,Qp)):H("",!0),t(o).neq(s.loops.buildSpeed.value,i.loops.buildSpeed)?($(),P("tr",Zp,[Jp,C("td",null,"\xD7"+ee(t(D)(s.loops.buildSpeed.value)),1)])):H("",!0),t(o).neq(s.loops.buildCost.value,i.loops.buildCost)?($(),P("tr",ef,[tf,C("td",null,"\xD7"+ee(t(bt)(s.loops.buildCost.value)),1)])):H("",!0),l.loops.value?($(),P("tr",nf,of)):H("",!0),t(o).neq(s.skyrmion.value,i.skyrmion)?($(),P("tr",af,[lf,C("td",null,"/"+ee(t(Q)(s.skyrmion.value)),1)])):H("",!0),l.skyrmion.value?($(),P("tr",uf,mf)):H("",!0),t(o).neq(s.loops[2].value,i.loops[2])?($(),P("tr",pf,[ff,C("td",null,"+"+ee(t(D)(s.loops[2].value))+" minutes",1)])):H("",!0),t(o).neq(s.fome.all.value,i.fome.all)?($(),P("tr",gf,[bf,C("td",null,"\xD7"+ee(t(D)(s.fome.all.value)),1)])):H("",!0),t(o).neq(s.fome[t(w).infinitesimal].value,i.fome[t(w).infinitesimal])?($(),P("tr",hf,[vf,C("td",null,"\xD7"+ee(t(D)(s.fome[t(w).infinitesimal].value)),1)])):H("",!0),t(o).neq(s.fome[t(w).subspatial].value,i.fome[t(w).subspatial])?($(),P("tr",yf,[_f,C("td",null,"\xD7"+ee(t(D)(s.fome[t(w).subspatial].value)),1)])):H("",!0),t(o).neq(s.fome[t(w).subplanck].value,i.fome[t(w).subplanck])?($(),P("tr",wf,[kf,C("td",null,"\xD7"+ee(t(D)(s.fome[t(w).subplanck].value)),1)])):H("",!0),t(o).neq(s.fome.boosts.value,i.fome.boosts)?($(),P("tr",Sf,[Cf,C("td",null,"+"+ee(t(D)(s.fome.boosts.value,1)),1)])):H("",!0),l.fome.value?($(),P("tr",$f,qf)):H("",!0),t(o).neq(s.loops[1].value,i.loops[1])?($(),P("tr",Mf,[Tf,C("td",null,"+"+ee(t(D)(t(o).times(s.loops[1].value,100),1))+"%",1)])):H("",!0),t(o).neq(s.acceleron.value,i.acceleron)?($(),P("tr",xf,[Pf,C("td",null,"/"+ee(t(D)(s.acceleron.value)),1)])):H("",!0),l.acceleron.value?($(),P("tr",Ff,Ef)):H("",!0),t(o).neq(s.timecube.value,i.timecube)?($(),P("tr",Rf,[Of,C("td",null,"\xD7"+ee(t(D)(s.timecube.value)),1)])):H("",!0)])]))}});var Lf=fe(Df,[["__scopeId","data-v-61458aa3"]]);const jf="entropy",we=nt(jf,function(){const e="Entropy",n=at(0,e),i=ut(()=>[z(()=>({multiplier:2,enabled:A(W.upgrades.twice.bought),description:k(()=>a(g,null,[u("["),W.name,u("] Twice")]))})),z(()=>({multiplier:1.5,enabled:A(W.upgrades.triple.bought),description:k(()=>a(g,null,[u("["),W.name,u("] Triple")]))}))]),s=y(()=>i.apply(t(Ue.numBuiltLoops)));Ct(s,F=>{const M=Object.values(f).filter(T=>t(T.bought));for(const T of M)T.bought.value=!1;n.value=F;for(const T of M)T.purchase()});const r={1:["expansion","construction","dilation","contraction"],2:["formation","development","acceleration","entrenchment"],3:["extension","configuration","invention","inversion"],4:["tesselation","amplification","rotation","entitlement"]},l={1:y(()=>1+(t(W.upgrades.twist.bought)?1:0)),2:y(()=>1+(t(f.entrenchment.bought)?1:0)),3:y(()=>1),4:y(()=>1+(t(W.upgrades.twirl.bought)?1:0))},c=Object.fromEntries(Object.entries(r).map(([F,M])=>[Number(F),y(()=>M.map(T=>f[T]).filter(T=>t(T.bought)).length)])),d=y(()=>Object.values(c).map(F=>t(F)).reduce((F,M)=>F+M)),m=y(()=>o.add(t(d),t(W.getTimesquareEffect(V.BOTTOM)))),p=y(()=>pi(t(m))),b=y(()=>pi(t(d)).round()),f=(()=>{const F=E(()=>({row:1,visibility:Ue.loops.acceleron.built,display:{title:"Entropic Expansion",description:"Increase the second Entropic Loop effect based on purchased Entropic Enhancements",effect:Ke=>`+${D(Ke)} minutes`},effect:()=>t(p).pow(.9).times(je(W.upgrades.tilt))})),M=E(()=>({row:1,visibility:Ue.loops.acceleron.built,display:{title:"Entropic Construction",description:"Entropic Loops build faster based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.9).pow10()})),T=E(()=>({row:1,visibility:Ue.loops.acceleron.built,display:{title:"Entropic Dilation",description:"Increase time speed based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.8).plus(1)})),G=E(()=>({row:1,visibility:A(W.upgrades.tetrate.bought),display:{title:"Entropic Contraction",description:"Divide Acceleron cost based on number of purchased Entropic Enhancements",effect:Ke=>`/${D(Ke)}`},effect:()=>t(p).pow(.9)})),ce=E(()=>({row:2,visibility:Ue.loops.instantProd.built,display:{title:"Entropic Formation",description:"Increase Foam gain based on best Accelerons"},effect:()=>pi(o.clampMin(t(j.bestAccelerons),0).plus(1).log10().floor()).pow(2.5).plus(1)})),Y=E(()=>({row:2,visibility:Ue.loops.instantProd.built,display:{title:"Entropic Development",description:"Decrease Entropic Loop construction cost based on purchased Entropic Enhancements",effect:Ke=>`${bt(Ke)}\xD7`},effect:()=>t(p).pow_base(.7)})),U=E(()=>({row:2,visibility:Ue.loops.instantProd.built,display:{title:"Entropic Acceleration",description:"Increase the first Entropic Loop effect based on completed Entropic Loops",effect:Ke=>`+${D(o.times(Ke,100),1)}% of your Acceleron reset gain`},effect:()=>o.times(t(Ue.numBuiltLoops),.001)})),Be=E(()=>({row:2,visibility:A(W.upgrades.tetrate.bought),display:{title:"Entropic Entrenchment",description:"You may select an additional second row Entropic Enhancement"},ignoreRowLimit:!0})),O=E(()=>({row:3,visibility:Ue.loops.timecube.built,display:{title:"Entropic Extension",description:"Increase Infinitesimal Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(2).plus(1)})),v=E(()=>({row:3,visibility:Ue.loops.timecube.built,display:{title:"Entropic Configuration",description:"Increase Subspatial Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.75).plus(1)})),x=E(()=>({row:3,visibility:Ue.loops.timecube.built,display:{title:"Entropic Invention",description:"Increase Subplanck Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.5).plus(1)})),me=E(()=>({row:3,visibility:A(W.upgrades.tetrate.bought),display:{title:"Entropic Inversion",description:"Divide Acceleron cost based on Quantum Foam",effect:Ke=>`/${D(Ke)}`},effect:()=>o.max(t(S[w.quantum].amount),0).plus(1).log10().plus(1)})),Te=E(()=>({row:4,visibility:Ue.loops.tempFome.built,display:{title:"Entropic Tesselation",description:"Increase Time Cube gain based on best Accelerons"},effect:()=>o.max(t(j.bestAccelerons),0).plus(1).log10().plus(1)})),it=E(()=>({row:4,visibility:Ue.loops.tempFome.built,display:{title:"Entropic Amplification",description:"Skyrmions are cheaper based on best Time Cubes",effect:Ke=>`/${D(Ke.reciprocate())}`},effect:()=>pi(o.max(t(W.bestTimecubes),0).plus(1).log10().floor()).pow_base(.9)})),$t=E(()=>({row:4,visibility:Ue.loops.tempFome.built,display:{title:"Entropic Rotation",description:"Divide Acceleron cost based on best Time Cubes",effect:Ke=>`/${D(Ke)}`},effect:()=>o.max(t(W.bestTimecubes),0).plus(1).log10().plus(1)})),Ut=E(()=>({row:4,visibility:A(W.upgrades.tetrate.bought),display:{title:"Entropic Entitlement",description:"Each purchased Entropic Enhancement gives 0.1 free levels to each Foam Boost",effect:Ke=>`${D(Ke,1)} free levels`},effect:()=>t(m).times(.1)}));return{expansion:F,construction:M,dilation:T,contraction:G,formation:ce,development:Y,acceleration:U,entrenchment:Be,extension:O,configuration:v,invention:x,inversion:me,tesselation:Te,amplification:it,rotation:$t,entitlement:Ut}})(),h=y(()=>t(N).reduce((F,M)=>M.id>F?M.id:F,-1)+1),N=Ne([]),I=lt(()=>({canClick(){return t(d)>0},onClick(){for(const F of Object.values(f))F.bought.value=!1;n.value=t(s)},display:{description:"Reset Enhancements"},style:{minHeight:"30px",width:"100px"}})),q=Mt("Entropy Modifiers",()=>[{title:"Maximum Entropy",modifier:i,base:Ue.numBuiltLoops,baseText:k(()=>a(g,null,[u("["),j.name,u("] Entropic Loops")]))}]);return{name:e,entropy:n,maxEntropy:s,enhancements:f,enhancementCounts:c,enhancementLimits:l,presets:N,display:k(()=>a(g,null,[a(Se,null,null),u("Entropy: "),Q(t(n)),u(" / "),Q(t(s)),te(q),a("br",null,null),u("Next Enhancement: "),Q(t(b)),u(" "),n.displayName,a(Se,null,null),te(I),a(Se,null,null),a(Wt,null,{default:()=>[a(Tp,{enhancements:Object.keys(r).reduce((F,M)=>(F[M]=r[M].map(T=>f[T]),F),{}),presets:t(N),nextID:h},null),a(Se,{width:"17px"},null),a(sn,null,{default:()=>[a(mp,{rows:Object.keys(r).reduce((F,M)=>(F[M]=r[M].map(T=>f[T]),F),{})},null)]}),a(Se,{width:"17px"},null),a(Lf,null,null)]})]))};function E(F){var ce;const M=F.call({},{});K(M,"visibility"),K(M,"effect");const T=(ce=M.display.effect)!=null?ce:Y=>`${D(Y)}\xD7`,G=pe(()=>({requirements:(()=>{const Y=[X(()=>({cost:b,resource:A(n)}))];return M.ignoreRowLimit!==!0&&Y.push(Vt(()=>t(c[M.row])<t(l[M.row]))),Y})(),visibility(){var Y;return t(this.bought)||t((Y=M.visibility)!=null?Y:!0)},display:M.display.title,effect:M.effect}),ke);return Dn(G,{display:k(()=>{const Y=ue(M.display.description,"div"),U=M.effect?ue(k(()=>a(g,null,[T(t(G.effect))]))):void 0;return a(g,null,[a(Y,null,null),U?a("div",null,[u("Currently: "),a(U,null,null)]):void 0])})}),G}}),ar=o.sqrt(5),Uf=ar.plus(1).div(2);function pi(e){const n=Uf.pow(e),i=o.times(e,Math.PI).cos();return n.minus(i.dividedBy(n)).dividedBy(ar)}const Vf="timecube",W=nt(Vf,function(){const e="Time Cubes",n="#f037ea",i=y(()=>t(_e.milestones[1].earned)||t(j.loops.loops.timecube.built)),s=at(0,"Time Cubes"),r=as(s),l=ut(()=>[z(()=>({multiplier:j.upgrades.conversion.effect,enabled:A(j.upgrades.conversion.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Stability Conversion")]))})),z(()=>({multiplier:we.enhancements.tesselation.effect,enabled:A(we.enhancements.tesselation.bought),description:k(()=>a(g,null,[u("["),we.name,u("] Entropic Tesselation")]))})),z(()=>({multiplier:d.tile.effect,enabled:A(d.tile.bought),description:k(()=>a(g,null,[u("["),e,u("] Tile")]))})),z(()=>({multiplier:W.getTimesquareEffect(V.FRONT),enabled:()=>o.gt(t(Vn.squares[V.FRONT].square.amount),0),description:k(()=>a(g,null,[u("["),e,u("] Front Time Squares ("),Q(t(Vn.squares[V.FRONT].square.amount)),u(")")]))})),z(()=>({multiplier:()=>o.reciprocate(t(Ge.nerfs[V.FRONT])),enabled:()=>t(Ge.depths[V.FRONT])>0,description:k(()=>a(g,null,[u("["),e,u("] Active Front Timeline Effect")]))})),z(()=>({multiplier:Ge.buffs[V.FRONT],enabled:()=>t(Ge.scores[V.FRONT]).gt(0),description:k(()=>a(g,null,[u("["),e,u("] Passive Front Timeline Effect")]))}))]),c=y(()=>l.apply(1)),d=(()=>{const h=pe(ft=>({display:{title:"Tile",description:"log10(Accelerons) increases Time Cube gain",effect:k(()=>a(g,null,[D(t(ft.effect)),u("\xD7")]))},requirements:X(()=>({resource:A(s),cost:1})),effect(){return o.max(t(j.accelerons),0).plus(1).log10()}}),ke),N=pe(ft=>({visibility(){return t(this.bought)||t(h.bought)},display:{title:"Time",description:"log10(Best Time Cubes) increases Acceleron effect",effect:k(()=>a(g,null,[D(t(ft.effect)),u("\xD7")]))},requirements:X(()=>({resource:A(s),cost:2})),effect(){return o.max(t(r),0).plus(1).log10().plus(1)}}),ke),I=pe(ft=>({visibility(){return t(this.bought)||t(N.bought)},display:{title:"Tier",description:"Each upgrade in this row gives a free level of every Foam Boost",effect:k(()=>a(g,null,[u("+"),Q(t(ft.effect)),u(" free levels")]))},requirements:X(()=>({resource:A(s),cost:3})),effect(){return[h,N,this,q,E].filter(qi=>t(qi.bought)).length}}),ke),q=pe(()=>({visibility(){return t(this.bought)||t(I.bought)},display:{title:"Tilt",description:"Entropic Expansion is 50% stronger"},requirements:X(()=>({resource:A(s),cost:10})),effect:1.5}),ke),E=pe(()=>({visibility(){return t(this.bought)||t(q.bought)},display:{title:"Tiny",description:"Unlock another Entropic Loop"},requirements:X(()=>({resource:A(s),cost:25}))})),F=pe(()=>({visibility(){return t(this.bought)||t(E.bought)},display:()=>({title:"Twice",description:`${t(U.bought)?"Triple":"Double"} maximum entropy`}),requirements:X(()=>({resource:A(s),cost:2500})),effect(){return t(U.bought)?3:2}}),ke),M=pe(()=>({visibility(){return t(this.bought)||t(F.bought)},display:{title:"Twist",description:"You may select an additional first row Entropic Enhancement"},requirements:X(()=>({resource:A(s),cost:4e8}))})),T=pe(()=>({visibility(){return t(this.bought)||t(M.bought)},display:{title:"Ten",description:"Increase Entropic Loop build speed by 10,000x"},requirements:X(()=>({resource:A(s),cost:5e8})),effect:1e4}),ke),G=pe(()=>({visibility(){return t(this.bought)||t(T.bought)},display:{title:"Twirl",description:"You may select an additional fourth row Entropic Enhancement"},requirements:X(()=>({resource:A(s),cost:125e7}))})),ce=pe(()=>({visibility(){return t(this.bought)||t(G.bought)},display:{title:"Tetrate",description:"Unlock the fourth column of Entropic Enhancements"},requirements:X(()=>({resource:A(s),cost:5e9}))})),Y=pe(()=>({visibility(){return t(this.bought)||t(_e.expansions.timecube.bought)},display:{title:"Tesselate",description:"Unlock Time Squares"},requirements:X(()=>({resource:A(s),cost:1e6}))})),U=pe(()=>({visibility(){return t(this.bought)||t(Y.bought)},display:{title:"Triple",description:"Change <b>Twice</b> from double to triple"},requirements:X(()=>({resource:A(s),cost:1e11}))})),Be=pe(()=>({visibility(){return t(this.bought)||t(Y.bought)},display:{title:"Turn",description:"Front squares are 50% stronger"},requirements:X(()=>({resource:A(s),cost:1e12})),effect:1.5}),ke),O=pe(()=>({visibility(){return t(this.bought)||t(U.bought)&&t(Be.bought)},display:{title:"Tall",description:"Bottom squares are 50% stronger"},requirements:X(()=>({resource:A(s),cost:2e12})),effect:1.5}),ke),v=pe(()=>({visibility(){return t(this.bought)||t(U.bought)&&t(Be.bought)},display:{title:"Tour",description:"Double the Acceleron effect"},requirements:X(()=>({resource:A(s),cost:5e12})),effect:2}),ke),x=pe(()=>({visibility(){return t(this.bought)||t(v.bought)},display:{title:"Tactics",description:"Unlock Timelines"},requirements:X(()=>({resource:A(s),cost:1e13}))})),me=pe(()=>({visibility(){return t(this.bought)||t(x.bought)},display:{title:"Tower",description:"While in at least one Top timeline, Foam retainment applies to Pions and Spinors as well"},requirements:X(()=>({resource:A(s),cost:1e16}))})),Te=pe(()=>({visibility(){return t(this.bought)||t(x.bought)},display:{title:"Title",description:"Best timeline scores also increase their corresponding Time Square gain"},requirements:X(()=>({resource:A(s),cost:1e17}))})),it=pe(()=>({visibility(){return t(this.bought)||t(Te.bought)&&t(me.bought)},display:{title:"Tempo",description:"The first entropic loop always produces at least one Acceleron"},requirements:X(()=>({resource:A(s),cost:1e18}))})),$t={[w.protoversal]:1e46,[w.infinitesimal]:3e38,[w.subspatial]:1e31,[w.subplanck]:3e23,[w.quantum]:1e16},Ut=pe(()=>({visibility(){return t(this.bought)||t(Te.bought)&&t(me.bought)},display:{title:"Toil",description:"While in at least one Left timeline, Foam gain is massively increased based on how little of that Foam you have"},requirements:X(()=>({resource:A(s),cost:1e19})),effect(){return Object.fromEntries(Object.entries($t).map(([ft,qi])=>[ft,o.minus(Math.E/Math.PI,o.div(t(S[ft].amount),qi)).pow10().times(15).plus(1)]))}}),ke),Ke=pe(ft=>({visibility(){return!1},display:{description:"X"},requirements:X(()=>({resource:A(s),cost:o.dInf}))})),hn=pe(ft=>({visibility(){return!1},display:{description:"X"},requirements:X(()=>({resource:A(s),cost:o.dInf}))})),Ee=pe(ft=>({visibility(){return!1},display:{description:"X"},requirements:X(()=>({resource:A(s),cost:o.dInf}))})),an=pe(ft=>({visibility(){return!1},display:{description:"X"},requirements:X(()=>({resource:A(s),cost:o.dInf}))})),jn=pe(ft=>({visibility(){return!1},display:{description:"X"},requirements:X(()=>({resource:A(s),cost:o.dInf}))}));return{tile:h,time:N,tier:I,tilt:q,tiny:E,twice:F,twist:M,ten:T,twirl:G,tetrate:ce,tesselate:Y,triple:U,turn:Be,tall:O,tour:v,tactics:x,tower:me,title:Te,tempo:it,toil:Ut,a:Ke,b:hn,c:Ee,d:an,e:jn}})(),m={switchTab:ht(()=>({enabled:i,key:"ctrl+c",description:"Move to Timecubes",onPress(){bn.tabs.selected.value=e}}))},p=Mt("Time Cube Modifiers",()=>[{title:s.displayName,modifier:l,base:1,baseText:k(()=>a(g,null,[u("["),j.name,u("] Gain per Loop")]))}]),b=k(()=>a(Ci,{resource:s,color:n,modal:p},null)),f=ii({cubes:()=>({display:"Time Cubes",tab:Jt(()=>({display:k(()=>a(g,null,[te(b),a(fd,{upgrades:Object.values(d)},null)]))}))}),squares:()=>({display:"Time Squares",tab:Jt(()=>({display:k(()=>a(g,null,[te(b),te(t(Vn.display))]))}))}),lines:()=>({display:"Timelines",unlocked:A(d.tactics.bought),tab:Jt(()=>({display:k(()=>a(g,null,[te(b),te(t(Ge.display))]))}))})});return{name:e,color:n,unlocked:i,timecubes:s,bestTimecubes:r,production:c,upgrades:d,hotkeys:m,tabs:f,display:k(()=>a(g,null,[t(d.tesselate.bought)?te(f):te(t(f.tabs.cubes.tab))])),timesquares:Vn,timelines:Ge,getTimesquareEffect(h){return Vn.squares[h].square.effect}}});const Gf=se({props:{radius:{type:ne(Number),required:!0},width:{type:ne(Number),required:!0},distance:{type:ne(Number),required:!0},top:{type:ne(Number),required:!0},right:{type:ne(Array),required:!0},bottom:{type:ne(Number),required:!0},left:{type:ne(Array),required:!0}},setup(e){const{radius:n,width:i,distance:s,top:r,right:l,bottom:c,left:d}=ot(e),m={global:{margin:5,border:2},upgrade:{width:250,height:125},line:{x:8,y:32,radius:y(()=>t(I)+Ie(i))}},p={left:y(()=>Ie(d).filter(Y=>ve(Y.visibility)).length),right:y(()=>Ie(l).filter(Y=>ve(Y.visibility)).length)},b={top:y(()=>Ie(r)),right:y(()=>Ie(l).length),bottom:y(()=>Ie(c)),left:y(()=>Ie(d).length)},f=y(()=>Object.values(b).map(Y=>t(Y)).reduce((Y,U)=>Y+U)),h=y(()=>2*Math.PI/t(f)),N=y(()=>Ie(n)),I=y(()=>Ie(n)+Ie(i)),q=y(()=>t(N)*t(h)-(m.global.margin+m.global.border)),E=y(()=>t(I)*t(h)-(m.global.margin+m.global.border)),F=y(()=>t(q)/t(N)),M=y(()=>t(E)/t(I)),T={left:Ie(d).map((Y,U,Be)=>({base:{index:(()=>U===0?y(()=>0):y(()=>t(T.left[U-1].base.index)+(ve(Be[U-1].visibility)?1:0)))(),angle:y(()=>Math.PI-t(h)*(t(T.left[U].base.index)-t(p.left)/2+.5))},ring:{points:y(()=>{let O=t(T.left[U].base.angle),v=[O-t(F)/2,t(N)],x=[O+t(F)/2,t(N)],me=[O-t(M)/2,t(I)],Te=[O+t(M)/2,t(I)];return[v,x,Te,me].map(([it,$t])=>[Math.cos(it)*$t,Math.sin(it)*$t])}),bounds:y(()=>{let O=t(T.left[U].ring.points),v={minX:Math.min(...O.map(x=>x[0])),maxX:Math.max(...O.map(x=>x[0])),minY:Math.min(...O.map(x=>x[1])),maxY:Math.max(...O.map(x=>x[1]))};return Math.sign(v.minY)!==Math.sign(v.maxY)&&(v.minX=Math.min(-t(I),v.minX)),v}),size:y(()=>{let O=t(T.left[U].ring.bounds);return{width:O.maxX-O.minX+m.global.border,height:O.maxY-O.minY+m.global.border}}),position:y(()=>{let O=t(T.left[U].ring.bounds);return{top:`${O.minY-m.global.border/2}px`,left:`${O.minX-m.global.border/2}px`}}),path:y(()=>{let O=t(N),v=t(I),x=t(T.left[U].ring.points),me=t(T.left[U].ring.bounds),Te=x.map(it=>[it[0]-me.minX+m.global.border/2,it[1]-me.minY+m.global.border/2]);return[`M ${Te[0][0]} ${Te[0][1]}`,`A ${O} ${O} 0 0 1 ${Te[1][0]} ${Te[1][1]}`,`L ${Te[2][0]} ${Te[2][1]}`,`A ${v} ${v} 0 0 0 ${Te[3][0]} ${Te[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:Y,render:te(Y),id:Y.id,color:y(()=>t(Y.bought)?"var(--bought)":t(Y.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:y(()=>{let O=t(T.left[U].base.angle);if(O===0)return t(I);let v=(Math.PI-O)/t(h);return(m.upgrade.height+m.global.margin)*v/Math.sin(O)}),offset:y(()=>{let O=t(T.left[U].base.angle),v=t(T.left[U].upgrade.distance),x=Math.cos(O)*v,me=Math.cos(O)*t(I);return{x:Math.min(x-me,-Ie(s))+me-m.upgrade.width/2,y:Math.sin(O)*v}}),position:y(()=>{let O=t(T.left[U].upgrade.offset);return{top:`${O.y-m.upgrade.height/2}px`,left:`${O.x-m.upgrade.width/2}px`}})},line:{height:y(()=>{let O=t(T.left[U].base.angle),v=(Math.PI-O)/t(h);return(m.upgrade.height+m.global.margin)*v+m.line.y-m.upgrade.height/2}),angle:y(()=>{let O=t(m.line.radius),v=t(T.left[U].line.height),x=Math.PI-Math.asin(v/O);return Math.min(t(T.left[U].base.angle)+t(M)/2,x)}),radius:y(()=>{let O=t(T.left[U].line.height),v=t(T.left[U].line.angle);return O/Math.sin(v)}),points:y(()=>{let O=t(T.left[U].line.angle),v=t(T.left[U].line.height),x=t(T.left[U].line.radius);return[[t(T.left[U].upgrade.offset).x-m.upgrade.width/2+m.line.x,v],[Math.cos(O)*x,v],[Math.cos(O)*t(I),Math.sin(O)*t(I)]]}),bounds:y(()=>{let O=t(T.left[U].line.points);return{minX:Math.min(...O.map(v=>v[0])),maxX:Math.max(...O.map(v=>v[0])),minY:Math.min(...O.map(v=>v[1])),maxY:Math.max(...O.map(v=>v[1]))}}),size:y(()=>{let O=t(T.left[U].line.bounds);return{width:O.maxX-O.minX+m.global.border,height:O.maxY-O.minY+m.global.border}}),position:y(()=>{let O=t(T.left[U].line.bounds);return{top:`${O.minY-m.global.border/2}px`,left:`${O.minX-m.global.border/2}px`}}),path:y(()=>{let O=t(T.left[U].line.points),v=t(T.left[U].line.bounds),x=O.map(me=>[me[0]-v.minX+m.global.border/2,me[1]-v.minY+m.global.border/2]);return[`M ${x[0][0]} ${x[0][1]}`,`L ${x[1][0]} ${x[1][1]}`,`L ${x[2][0]} ${x[2][1]}`].join(" ")})}})),right:Ie(l).map((Y,U,Be)=>({base:{index:(()=>U===0?y(()=>0):y(()=>t(T.right[U-1].base.index)+(ve(Be[U-1].visibility)?1:0)))(),angle:y(()=>t(h)*(t(T.right[U].base.index)-t(p.right)/2+.5))},ring:{points:y(()=>{let O=t(T.right[U].base.angle),v=[O-t(F)/2,t(N)],x=[O+t(F)/2,t(N)],me=[O-t(M)/2,t(I)],Te=[O+t(M)/2,t(I)];return[v,x,Te,me].map(([it,$t])=>[Math.cos(it)*$t,Math.sin(it)*$t])}),bounds:y(()=>{let O=t(T.right[U].ring.points),v={minX:Math.min(...O.map(x=>x[0])),maxX:Math.max(...O.map(x=>x[0])),minY:Math.min(...O.map(x=>x[1])),maxY:Math.max(...O.map(x=>x[1]))};return Math.sign(v.minY)!==Math.sign(v.maxY)&&(v.maxX=Math.max(t(I),v.maxX)),v}),size:y(()=>{let O=t(T.right[U].ring.bounds);return{width:O.maxX-O.minX+m.global.border,height:O.maxY-O.minY+m.global.border}}),position:y(()=>{let O=t(T.right[U].ring.bounds);return{top:`${O.minY-m.global.border/2}px`,left:`${O.minX-m.global.border/2}px`}}),path:y(()=>{let O=t(N),v=t(I),x=t(T.right[U].ring.points),me=t(T.right[U].ring.bounds),Te=x.map(it=>[it[0]-me.minX+m.global.border/2,it[1]-me.minY+m.global.border/2]);return[`M ${Te[0][0]} ${Te[0][1]}`,`A ${O} ${O} 0 0 1 ${Te[1][0]} ${Te[1][1]}`,`L ${Te[2][0]} ${Te[2][1]}`,`A ${v} ${v} 0 0 0 ${Te[3][0]} ${Te[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:Y,render:te(Y),id:Y.id,color:y(()=>t(Y.bought)?"var(--bought)":t(Y.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:y(()=>{let O=t(T.right[U].base.angle);if(O===0)return t(I);let v=O/t(h);return(m.upgrade.height+m.global.margin)*v/Math.sin(O)}),offset:y(()=>{let O=t(T.right[U].base.angle),v=t(T.right[U].upgrade.distance),x=Math.cos(O)*v,me=Math.cos(O)*t(I);return{x:Math.max(x-me,Ie(s))+me+m.upgrade.width/2,y:Math.sin(O)*v}}),position:y(()=>{let O=t(T.right[U].upgrade.offset);return{top:`${O.y-m.upgrade.height/2}px`,left:`${O.x-m.upgrade.width/2}px`}})},line:{height:y(()=>{let v=t(T.right[U].base.angle)/t(h);return(m.upgrade.height+m.global.margin)*v+m.line.y-m.upgrade.height/2}),angle:y(()=>{let O=t(m.line.radius),v=t(T.right[U].line.height),x=Math.asin(v/O);return Math.max(t(T.right[U].base.angle)-t(M)/2,x)}),radius:y(()=>{let O=t(T.right[U].line.height),v=t(T.right[U].line.angle);return O/Math.sin(v)}),points:y(()=>{let O=t(T.right[U].line.angle),v=t(T.right[U].line.height),x=t(T.right[U].line.radius);return[[t(T.right[U].upgrade.offset).x+m.upgrade.width/2-m.line.x,v],[Math.cos(O)*x,v],[Math.cos(O)*t(I),Math.sin(O)*t(I)]]}),bounds:y(()=>{let O=t(T.right[U].line.points);return{minX:Math.min(...O.map(v=>v[0])),maxX:Math.max(...O.map(v=>v[0])),minY:Math.min(...O.map(v=>v[1])),maxY:Math.max(...O.map(v=>v[1]))}}),size:y(()=>{let O=t(T.right[U].line.bounds);return{width:O.maxX-O.minX+m.global.border,height:O.maxY-O.minY+m.global.border}}),position:y(()=>{let O=t(T.right[U].line.bounds);return{top:`${O.minY-m.global.border/2}px`,left:`${O.minX-m.global.border/2}px`}}),path:y(()=>{let O=t(T.right[U].line.points),v=t(T.right[U].line.bounds),x=O.map(me=>[me[0]-v.minX+m.global.border/2,me[1]-v.minY+m.global.border/2]);return[`M ${x[0][0]} ${x[0][1]}`,`L ${x[1][0]} ${x[1][1]}`,`L ${x[2][0]} ${x[2][1]}`].join(" ")})}}))};function G(Y){var U,Be;((U=document.getElementById(`${Y}-ring`))==null?void 0:U.children[1].children[1].children[0]).beginElement(),(Be=document.getElementById(`${Y}-upgrade`))==null||Be.children[0].classList.add("hover")}function ce(Y){var U,Be;((U=document.getElementById(`${Y}-ring`))==null?void 0:U.children[1].children[1].children[1]).beginElement(),(Be=document.getElementById(`${Y}-upgrade`))==null||Be.children[0].classList.remove("hover")}return{render:te,unref:t,isVisible:ve,onMouseEnter:G,onMouseLeave:ce,upgradeData:T,values:m}}}),lr=e=>(dt("data-v-37038660"),e=e(),mt(),e),zf=["width","height","id","onMouseenter","onMouseleave","onClick"],Hf=["d","stroke","stroke-width"],Wf=["id"],Yf=hr('<feOffset dx="0" dy="0" data-v-37038660></feOffset><feGaussianBlur stdDeviation="0" result="offset-blur" data-v-37038660><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="6" dur="0.5s" begin="indefinite" data-v-37038660></animate><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="0" dur="0.5s" begin="indefinite" data-v-37038660></animate></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse" data-v-37038660></feComposite>',3),Xf=["flood-color"],Kf=lr(()=>C("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"},null,-1)),Qf=lr(()=>C("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"},null,-1)),Zf=["width","height"],Jf=["d","stroke","stroke-width"],eg=["id"];function tg(e,n,i,s,r,l){return $(),P("div",{class:"ring-container",style:De({top:`${e.unref(e.radius)}px`})},[($(!0),P(g,null,Pe(e.upgradeData,(c,d)=>($(),P(g,null,[($(!0),P(g,null,Pe(e.unref(c),m=>($(),P(g,{key:m.upgrade.id},[e.isVisible(m.upgrade.upgrade.visibility)?($(),P("svg",{key:0,width:e.unref(m.ring.size).width,height:e.unref(m.ring.size).height,style:De({...e.unref(m.ring.position),"--shadow-id":`url(#${m.upgrade.id}-shadow)`}),class:"ring-segment",id:`${m.upgrade.id}-ring`,onMouseenter:p=>e.onMouseEnter(m.upgrade.id),onMouseleave:p=>e.onMouseLeave(m.upgrade.id),onClick:m.upgrade.upgrade.purchase},[C("path",{d:e.unref(m.ring.path),stroke:e.unref(m.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"var(--background)",class:Me({can:e.unref(m.upgrade.upgrade.canPurchase)})},null,10,Hf),C("filter",{id:`${m.upgrade.id}-shadow`},[Yf,C("feFlood",{"flood-color":e.unref(m.upgrade.color),"flood-opacity":"1",result:"color"},null,8,Xf),Kf,Qf],8,Wf)],44,zf)):H("",!0),e.isVisible(m.upgrade.upgrade.visibility)?($(),P("svg",{key:1,width:e.unref(m.line.size).width,height:e.unref(m.line.size).height,style:De(e.unref(m.line.position)),class:"ring-line"},[C("path",{d:e.unref(m.line.path),stroke:e.unref(m.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"none"},null,8,Jf)],12,Zf)):H("",!0),C("div",{id:`${m.upgrade.id}-upgrade`},[($(),ie($e(m.upgrade.render),{style:De({...e.unref(m.upgrade.position),width:e.values.upgrade.width,minHeight:e.values.upgrade.height}),class:Me(["ring-upgrade",d]),onMouseenter:p=>e.onMouseEnter(m.upgrade.id),onMouseleave:p=>e.onMouseLeave(m.upgrade.id)},null,40,["style","class","onMouseenter","onMouseleave"]))],8,eg)],64))),128))],64))),256))],4)}var ng=fe(Gf,[["render",tg],["__scopeId","data-v-37038660"]]);function ig(e,...n){return Xe(i=>{var r,l;const s=e.call(i,i);for(const c of n)(r=c.preConstruct)==null||r.call(c,s);s.formula=s.formula(_.variable(s.baseResource)),s.currentGain==null&&(s.currentGain=y(()=>{let c=o.floor(s.formula.evaluate(s.baseResource.value)).max(0);return t(s.buyMax)===!1&&(c=c.min(1)),c})),s.actualGain==null&&(s.actualGain=s.currentGain),s.currentAt==null&&(s.currentAt=y(()=>s.formula.invert(o.floor(t(s.currentGain))))),s.nextAt==null&&(s.nextAt=y(()=>s.formula.invert(o.floor(t(s.currentGain)).add(1)))),s.convert==null&&(s.convert=function(){var d;const c=t(s.currentGain);s.gainResource.value=o.add(s.gainResource.value,c),s.spend(c),(d=s.onConvert)==null||d.call(s,c)}),s.spend==null&&(s.spend=function(){s.baseResource.value=0}),K(s,"currentGain"),K(s,"actualGain"),K(s,"currentAt"),K(s,"nextAt"),K(s,"buyMax"),Oe(s,"buyMax",!0);for(const c of n)(l=c.postConstruct)==null||l.call(c,s);return s})}function sg(e){return ig(e)}const yn="acceleron",j=nt(yn,function(){const e="Accelerons",n="#0f52ba",i=y(()=>t(_e.milestones[1].earned)||_e.isFirstBranch(yn)||t(re.coreResearch.research.mastery.researched)?!0:t(S[w.quantum].upgrades.condense.bought)),s=at(0,e),r=as(s),l=Kc(s),c=ut(()=>[z(()=>({multiplier:1e71,enabled:()=>!_e.isFirstBranch(yn),description:k(()=>a(g,null,[u("["),re.name,u("] Inflational Interference")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(M.translation.effect).reciprocate(),enabled:A(M.translation.bought),description:k(()=>a(g,null,[u("["),e,u("] Quantum Translation")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>1/t(M.fluctuation.effect),enabled:A(M.fluctuation.bought),description:k(()=>a(g,null,[u("["),e,u("] Temporal Fluctuation")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(Ue.averageLoopValues[Ue.loops.tempAcceleron.id]).reciprocate(),enabled:A(Ue.loops.tempAcceleron.built),description:k(()=>a(g,null,[u("["),e,u("] Entropic Loop #5")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(we.enhancements.contraction.effect).reciprocate(),enabled:A(we.enhancements.contraction.bought),description:k(()=>a(g,null,[u("["),we.name,u("] Entropic Contraction")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(we.enhancements.inversion.effect).reciprocate(),enabled:A(we.enhancements.inversion.bought),description:k(()=>a(g,null,[u("["),we.name,u("] Entropic Inversion")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(we.enhancements.rotation.effect).reciprocate(),enabled:A(we.enhancements.rotation.bought),description:k(()=>a(g,null,[u("["),we.name,u("] Entropic Rotation")])),smallerIsBetter:!0}))]),d=sg(()=>({formula:O=>O.dividedBy(c.getFormula(1e9)).pow(y(()=>_e.isFirstBranch(yn)?.1:.05)),baseResource:A(S[w.quantum].amount),gainResource:A(s),onConvert(){_e.isFirstBranch(yn)&&(_e.branchOrder.value=yn)}})),m=ds(()=>({thingsToReset(){const O=[B.skyrmions,B.pion,B.spinor,S.protoversal.amount,S.protoversal.upgrades.condense,S.protoversal.upgrades.reform,S.infinitesimal.amount,S.infinitesimal.upgrades.condense,S.infinitesimal.upgrades.reform,S.subspatial.amount,S.subspatial.upgrades.condense,S.subspatial.upgrades.reform,S.subplanck.amount,S.subplanck.upgrades.condense,S.subplanck.upgrades.reform,S.quantum.amount,S.quantum.upgrades.condense,S.quantum.upgrades.reform];return t(F.protoversal.earned)||O.push(S.protoversal),t(F.infinitesimal.earned)||O.push(S.infinitesimal),t(F.subspatial.earned)||O.push(S.subspatial),t(F.subplanck.earned)||O.push(S.subplanck),t(F.quantum.earned)||O.push(S.quantum),O},onReset(){S.protoversal.upgrades.reform.amount.value=o.dOne,t(F.skyrmion.earned)&&(B.skyrmions.value=o.dTen)}})),p=em(()=>({conversion:d,style:{width:"fit-content",padding:"5px 10px",minHeight:"60px"},onClick(){m.reset(),B.skyrmions.value=t(F.skyrmion.earned)?10:1}})),b=y(()=>{let O=o.max(t(r),0).plus(1);return O.gte(1e12)?O.log10().times(5e5/6):O.sqrt()}),f=ut(()=>[z(()=>({multiplier:W.upgrades.time.effect,enabled:A(W.upgrades.time.bought),description:k(()=>a(g,null,[u("["),W.name,u("] Time")]))})),z(()=>({multiplier:we.enhancements.dilation.effect,enabled:A(we.enhancements.dilation.bought),description:k(()=>a(g,null,[u("["),e,u("] Entropic Dilation")]))})),z(()=>({multiplier:W.getTimesquareEffect(V.BACK),enabled:()=>o.gt(t(W.timesquares.squares[V.BACK].square.amount),0),description:k(()=>a(g,null,[u("["),W.name,u("] Back Time Squares ("),Q(t(W.timesquares.squares[V.BACK].square.amount)),u(")")]))})),z(()=>({multiplier:2,enabled:W.upgrades.tour.bought,description:k(()=>a(g,null,[u("["),W.name,u("] Tour")]))})),z(()=>({multiplier:()=>o.reciprocate(t(W.timelines.nerfs[V.BACK])),enabled:()=>t(W.timelines.depths[V.BACK])>0,description:k(()=>a(g,null,[u("["),W.name,u("] Active Back Timeline Effect")]))})),z(()=>({multiplier:W.timelines.buffs[V.BACK],enabled:()=>t(W.timelines.scores[V.BACK]).gt(0),description:k(()=>a(g,null,[u("["),W.name,u("] Passive Back Timeline Bonus")]))}))]),h=y(()=>new o(f.apply(t(b)))),N=Ne(0);this.on("preUpdate",O=>{N.value=o.add(t(N),O)});const I=at(A(l)),q={fontSize:"48px",fontWeight:"normal"},E=O=>y(()=>({background:"#0000002F",border:`solid ${t(O.earned)?"var(--bought)":"var(--layer-color)"} 2px`,borderRadius:0,color:t(O.earned)?"var(--bought)":"var(--layer-color)"})),F={protoversal:yt(O=>({display:k(()=>a("span",{style:q},[u("P")])),requirements:X(()=>({resource:A(I),cost:1})),small:!0,style:E(O),tooltip:{requirement:a(g,null,[u("1 Acceleron")]),effect:a(g,null,[u("Keep Protoversal Boosts and Size Upgrades on Acceleron reset"),a("br",null,null),u("Keep Foam Achievements on Acceleron reset")])}})),infinitesimal:yt(O=>({display:k(()=>a("span",{style:q},[u("I")])),requirements:X(()=>({resource:A(I),cost:2})),small:!0,style:E(O),tooltip:{requirement:a(g,null,[u("2 "),s.displayName]),effect:a(g,null,[u("Keep Infinitesimal Boosts and Size Upgrades on Acceleron reset")])}})),subspatial:yt(O=>({display:k(()=>a("span",{style:q},[u("Ss")])),requirements:X(()=>({resource:A(I),cost:3})),small:!0,style:E(O),tooltip:{requirement:a(g,null,[u("3 "),s.displayName]),effect:a(g,null,[u("Keep Subspatial Boosts and Size Upgrades on Acceleron reset")])}})),skyrmion:yt(O=>({display:k(()=>a("span",{style:q},[u("S")])),requirements:X(()=>({resource:A(I),cost:5})),small:!0,style:E(O),tooltip:{requirement:a(g,null,[u("5 "),s.displayName]),effect:a(g,null,[u("Start with 10 Skyrmions on Acceleron reset")])}})),subplanck:yt(O=>({display:k(()=>a("span",{style:q},[u("Sp")])),requirements:X(()=>({resource:A(I),cost:7})),small:!0,style:E(O),tooltip:{requirement:a(g,null,[u("7 "),s.displayName]),effect:a(g,null,[u("Keep Subplanck Boosts and Size Upgrades on Acceleron reset")])}})),quantum:yt(O=>({display:k(()=>a("span",{style:q},[u("Q")])),requirements:X(()=>({resource:A(I),cost:10})),small:!0,style:E(O),tooltip:{requirement:a(g,null,[u("10 "),s.displayName]),effect:a(g,null,[u("Keep Quantum Boosts and Size Upgrades on Acceleron reset")])}}))};for(const O of Object.values(F))Dn(O,{display:k(()=>a(g,null,[a("h3",null,[O.tooltip.requirement]),a("br",null,null),O.tooltip.effect]))});const M=(()=>{const O=pe(Ee=>({visibility(){return t(this.bought)||o.gte(t(l),4)},display:k(()=>a(g,null,[a("h3",null,[u("Minute Acceleration")]),a("br",null,null),a("br",null,null),u("Time speed massively multiplies Foam generation"),a("br",null,null),a("br",null,null),u("Currently: "),D(je(Ee,void 0,!0)),u("\xD7"),a("br",null,null),Qe(Ee.requirements)])),effect(){return t(h).abs().sqrt().times(1e3)},requirements:X(()=>({cost:1,resource:A(s)}))}),ke),v=pe(Ee=>({visibility(){return t(this.bought)||t(O.bought)},display:k(()=>a(g,null,[a("h3",null,[u("Quantum Translation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of Foam re-formations"),a("br",null,null),a("br",null,null),u("Currently: /"),Q(je(Ee,void 0,!0)),a("br",null,null),Qe(Ee.requirements)])),effect(){return Object.values(w).map(an=>t(S[an].upgrades.reform.amount)).reduce((an,jn)=>an.plus(jn),o.dZero)},requirements:X(()=>({cost:5,resource:A(s)}))}),ke),x=pe(Ee=>({visibility(){return t(this.bought)||t(O.bought)},display:k(()=>a(g,null,[a("h3",null,[u("Superpositional Acceleration")]),a("br",null,null),a("br",null,null),u("Gain a new Pion upgrade"),a("br",null,null),u("Gain a new Spinor upgrade"),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:X(()=>({cost:25,resource:A(s)}))})),me=pe(Ee=>({visibility(){return t(this.bought)||t(x.bought)},display:k(()=>a(g,null,[a("h3",null,[u("Quasi-temporal Superstructures")]),a("br",null,null),a("br",null,null),u("Consume the past to build the future"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:X(()=>({cost:50,resource:A(s)}))})),Te=pe(Ee=>({visibility(){return t(this.bought)||t(Ue.loops.acceleron.built)},display:k(()=>a(g,null,[a("h3",null,[u("Temporal Fluctuation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of completed Entropic Loops"),a("br",null,null),a("br",null,null),u("Currently: /"),Q(je(Ee,void 0,!0)),a("br",null,null),Qe(Ee.requirements)])),effect(){return t(Ue.numBuiltLoops)+1},requirements:X(()=>({cost:new o(100),resource:A(s)}))}),ke),it=pe(Ee=>({visibility(){return t(this.bought)||t(Ue.loops.instantProd.built)},display:k(()=>a(g,null,[a("h3",null,[u("Unstable Expansion")]),a("br",null,null),a("br",null,null),u("Unlock Entropic Enhancements"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:X(()=>({cost:new o(300),resource:A(s)}))})),$t=pe(Ee=>({visibility(){return t(this.bought)||t(Ue.loops.timecube.built)},display:k(()=>a(g,null,[a("h3",null,[u("Stability Conversion")]),a("br",null,null),a("br",null,null),u("Each Entropic Loop multiplies Time Cube gain"),a("br",null,null),a("br",null,null),u("Currently: "),Q(je(Ee,void 0,!0)),u("\xD7"),a("br",null,null),Qe(Ee.requirements)])),effect(){return t(Ue.numBuiltLoops)+1},requirements:X(()=>({cost:new o(15e4),resource:A(s)}))}),ke),Ut=pe(Ee=>({visibility(){return t(this.bought)||t($t.bought)},display:k(()=>a(g,null,[a("h3",null,[u("Subspatial Alacrity")]),a("br",null,null),a("br",null,null),u("Increase Subspatial Foam gain by "),Q(je(Ee,void 0,!0)),u("\xD7"),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),effect:1e4,requirements:X(()=>({cost:2e6,resource:A(s)}))})),Ke=pe(Ee=>({visibility(){return t(this.bought)||t(Ut.bought)},display:k(()=>a(g,null,[a("h3",null,[u("Cubic Tetration")]),a("br",null,null),a("br",null,null),u("Remove the ability to Acceleron reset"),a("br",null,null),u("Unlock two additional Entropic Loops"),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:X(()=>({cost:1e8,resource:A(s)}))})),hn=pe(Ee=>({visibility(){return t(this.bought)||t(Ke.bought)},display:k(()=>a(g,null,[a("h3",null,[u("Temporal Mastery")]),a("br",null,null),a("br",null,null),u("Unlock "),_e.isFirstBranch(yn)||o.gt(t(_e.strings),0)?re.inflatons.displayName:_e.strings.displayName,a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:X(()=>({cost:1e19,resource:A(s)}))}));return{acceleration:O,translation:v,skyrmion:x,superstructures:me,fluctuation:Te,expansion:it,conversion:$t,alacrity:Ut,tetration:Ke,mastery:hn}})(),T=[M.acceleration,M.fluctuation,M.tetration,M.conversion,M.skyrmion],G=[M.translation,M.expansion,M.mastery,M.alacrity,M.superstructures],ce={reset:ht(()=>({enabled:()=>t(i)&&!t(M.tetration.bought),key:"a",description:"Form your Quantum Foam into Accelerons",onPress:p.onClick})),switchTab:ht(()=>({enabled:i,key:"ctrl+a",description:"Move to Accelerons",onPress(){bn.tabs.selected.value=e}}))},Y=Mt("Acceleron Modifiers",()=>[{title:"Acceleron Cost",modifier:c,base:1e9,baseText:k(()=>a(g,null,[u("["),S.name,u("] Base Amount")])),smallerIsBetter:!0},{title:"Time Speed",modifier:f,base:b,baseText:k(()=>a(g,null,[u("["),e,u("] Best Accelerons ("),Q(t(r)),u(")")]))}]),U=k(()=>a(g,null,[a(Ci,{resource:s,color:n,effect:k(()=>a(g,null,[u("which are causing time to go "),D(t(h)),u("\xD7 faster"),te(Y),a("br",null,null),u("For every second in real time, "),a("pre",{style:{display:"inline"}},[Qi(t(h))]),u(" passes")]))},null)])),Be=ii({loops:()=>({display:"Entropic Loops",tab:Jt(()=>({display:k(()=>a(g,null,[te(U),t(M.tetration.bought)?a(Se,{height:"70px"},null):te(p),te(Ue.upperDisplay),a(ng,{radius:192,width:60,distance:150,top:4,right:G,bottom:4,left:T},null),a(Se,null,null),te(Ue.lowerDisplay),a(Se,null,null),a(Se,null,null),mn(...Object.values(F))]))}))}),enhancements:()=>({display:"Entropic Enhancements",tab:Jt(()=>({display:k(()=>a(g,null,[te(U),te(we.display)]))}))})});return{name:e,color:n,accelerons:s,bestAccelerons:r,totalAccelerons:l,conversion:d,timeMult:h,time:N,upgrades:M,achievements:F,tabs:Be,hotkeys:ce,display:k(()=>a(g,null,[t(M.expansion.bought)?te(Be):te(t(Be.tabs.loops.tab))])),unlocked:i,loops:Ue,entropy:we}}),rg="protoversal",un=nt(rg,function(){const e=at(0,"Protoversal Foam"),n=ut(()=>[...S.production,z(()=>({multiplier:r[J.height].effect,enabled:()=>o.gt(t(r[J.height].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Protoversal Foam Height ("),Q(t(r[J.height].amount)),u(")")]))})),z(()=>({multiplier:r[J.width].effect,enabled:()=>o.gt(t(r[J.width].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Protoversal Foam Width ("),Q(t(r[J.width].amount)),u(")")]))})),z(()=>({multiplier:r[J.depth].effect,enabled:()=>o.gt(t(r[J.depth].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Protoversal Foam Depth ("),Q(t(r[J.depth].amount)),u(")")]))})),z(()=>({multiplier:d[1].effect,enabled:()=>o.gt(t(d[1].total),0),description:k(()=>a(g,null,[u("["),S.name,u("] Protoversal Boost 1 ("),Q(t(d[1].total)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.delta.effect,enabled:()=>o.gt(t(B.pion.upgrades.delta.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B4 ("),Q(t(B.pion.upgrades.delta.totalAmount)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.epsilon.effect,enabled:()=>o.gt(t(B.pion.upgrades.epsilon.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B5 ("),Q(t(B.pion.upgrades.epsilon.totalAmount)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.theta.effect,enabled:()=>o.gt(t(B.pion.upgrades.theta.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B8 ("),Q(t(B.pion.upgrades.theta.totalAmount)),u(")")]))})),On(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:k(()=>a(g,null,[u("["),S.name,u("] Protoversal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Protoversal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...S.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[w.protoversal],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:k(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(B.totalSkyrmions).times(.01)));S.on("preUpdate",p=>{if(!t(S.unlocked)||o.eq(t(r.reform.amount),0))return;const b=t(j.timeMult).times(p);e.value=b.times(t(i)).plus(e.value)});const s=y(()=>t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[J.height]:Ye(p=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(4).times(2),requiresPay:()=>!t(S.achievements[w.protoversal].earned)})),display:qt(w.protoversal,J.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.protoversal].earned)}),onClick:()=>It(w.protoversal)}),ke),[J.width]:Ye(p=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(6).times(5),requiresPay:()=>!t(S.achievements[w.protoversal].earned)})),display:qt(w.protoversal,J.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.protoversal].earned)}),onClick:()=>It(w.protoversal)}),ke),[J.depth]:Ye(p=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(S.achievements[w.protoversal].earned)})),display:qt(w.protoversal,J.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.protoversal].earned)}),onClick:()=>It(w.protoversal)}),ke),condense:pe(p=>({visibility:()=>!t(p.bought),requirements:X(()=>({resource:A(e),cost:1e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){S.infinitesimal.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(S.achievements.reform.earned)})})),reform:Ye(p=>({visibility:A(r.condense.bought),requirements:X(()=>({resource:A(e),cost:()=>o.minus(t(p.amount),3).max(2).pow_base(t(p.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(S.achievements.reform.earned)})),display:ai(w.protoversal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(S.achievements.reform.earned)})}),ke)};S.on("update",()=>{if(t(S.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(S.achievements[w.protoversal].earned))for(const p of Object.values(J))t(r[p].canClick)&&r[p].onClick()});const l=y(()=>t(S.globalBoostBonus).plus(ge(w.quantum,5)).plus(ge(w.subspatial,3))),c=y(()=>t(l).plus(ge(w.protoversal,5))),d={index:Ne(1),1:We(p=>({display:()=>`Multiply the generation of Protoversal Foam by ${D(ge(w.protoversal,1))}`,effect:()=>new o(t(p.total)).times(t(B.spinor.upgrades.delta.effect)).plus(1),bonus:c})),2:We(p=>({display:()=>`Gain ${D(ge(w.protoversal,2))} bonus Pion and Spinor Upgrade \u03B1 levels`,effect:()=>new o(t(p.total)),bonus:c})),3:We(p=>({display:()=>`Gain ${D(ge(w.protoversal,3))} bonus Pion and Spinor Upgrade \u03B2 levels`,effect:()=>o.sqrt(t(p.total)),bonus:c})),4:We(p=>({display:()=>`Gain ${D(ge(w.protoversal,4))} bonus Pion and Spinor Upgrade \u03B3 levels`,effect:()=>new o(t(p.total)),bonus:c})),5:We(p=>({display:()=>`Add ${D(ge(w.protoversal,5))} levels to all above boosts`,effect:()=>o.times(t(p.total),.1),bonus:l}))},m=Mt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:d,production:i,modifierModal:m,display:"This page intentionally left blank"}});const og={class:"fome-grid"},ag={key:0},lg=["innerHTML"],ug=se({__name:"Fome",setup(e){function n(i){return`You have ${D(t(S[i].amount))} ${S[i].amount.displayName}${o.gt(t(S[i].upgrades.reform.amount),1)?`<sup>${Q(t(S[i].upgrades.reform.amount))}</sup>`:""}`}return(i,s)=>($(),P("div",og,[($(!0),P(g,null,Pe(Object.values(t(w)).slice().reverse(),r=>($(),P(g,{key:r},[t(t(j).unlocked)||t(t(re).unlocked)||t(t(_e).unlocked)||t(o).gt(t(t(S)[r].upgrades.reform.amount),0)?($(),P("div",ag,[C("div",{innerHTML:n(r),style:{"white-space":"nowrap"}},null,8,lg),C("div",null,[u("+"+ee(t(D)(t(t(S)[r].production)))+"/s",1),($(),ie($e(t(te)(t(S)[r].modifierModal))))])])):H("",!0),($(!0),P(g,null,Pe(Object.keys(t(S)[r].upgrades),l=>($(),ie($e(t(te)(t(S)[r].upgrades[l]))))),256))],64))),128))]))}});var cg=fe(ug,[["__scopeId","data-v-5a57e0e0"]]);const oi=e=>(dt("data-v-149b6b3a"),e=e(),mt(),e),dg={style:{display:"grid",gridTemplateColumns:"repeat(7, auto)",width:"fit-content",margin:"auto","padding-left":"150px"}},mg=oi(()=>C("div",null,"[",-1)),pg=oi(()=>C("div",null,"+",-1)),fg=oi(()=>C("div",null,null,-1)),gg=oi(()=>C("div",null,null,-1)),bg=oi(()=>C("div",null,"]:",-1)),hg=se({__name:"FomeBoost",setup(e){const n=Object.fromEntries(Object.values(w).map(i=>[i,Object.fromEntries(Object.values([1,2,3,4,5]).map(s=>[s,t(S[i].boosts[s].display)]))]));return(i,s)=>($(),P("div",dg,[($(!0),P(g,null,Pe(t(n),(r,l)=>($(),P(g,{key:l},[($(),P(g,null,Pe(7,c=>a(Se,{"num-labels":7,key:c})),64)),($(!0),P(g,null,Pe(r,(c,d)=>{var m,p;return $(),P(g,{key:l+"-"+d},[t(o).gt(t(t(S)[l].boosts[d].total),0)?($(),P(g,{key:0},[C("div",null,ee(t(S)[l].amount.displayName.split(" ")[0])+" Boost "+ee(d),1),mg,C("div",null,ee(t(Q)(t(t(S)[l].boosts[d].amount))),1),t(o).gt(t((m=t(S)[l].boosts[d].bonus)!=null?m:0),0)?($(),P(g,{key:0},[pg,C("div",null,ee(t(D)(t((p=t(S)[l].boosts[d].bonus)!=null?p:0))),1)],64)):($(),P(g,{key:1},[fg,gg],64)),bg,C("div",null,ee(c),1)],64)):($(),P(g,{key:1},Pe(7,b=>C("div",{"num-labels":7,key:b})),64))],64)}),128))],64))),128))]))}});var vg=fe(hg,[["__scopeId","data-v-149b6b3a"]]);function dn(e){return Xe(n=>{const i=e.call(n,n);return K(i,"fomeType"),i.partialDisplay=s=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[S[t(i.fomeType)].amount.displayName,a("sup",null,[Sn(o.floor(i.cost instanceof _?Zt(i.cost,s!=null?s:1,!1):t(i.cost)))])]),i.display=s=>a("div",null,[u("Requires: "),S[t(i.fomeType)].amount.displayName,a("sup",null,[Sn(o.floor(i.cost instanceof _?Zt(i.cost,s!=null?s:1,!1):t(i.cost)))])]),i.visibility=xe.Visible,i.requiresPay=!1,K(i,"cost"),i.requirementMet=y(()=>i.cost instanceof _?o.gte(S[t(i.fomeType)].upgrades.reform.amount.value,i.cost.evaluate()):o.gte(S[t(i.fomeType)].upgrades.reform.amount.value,t(i.cost))),i})}const yg="infinitesimal",Ai=nt(yg,function(){const e=at(0,"Infinitesimal Foam"),n=ut(()=>[...S.production,z(()=>({multiplier:r[J.height].effect,enabled:()=>o.gt(t(r[J.height].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Foam Height ("),Q(t(r[J.height].amount)),u(")")]))})),z(()=>({multiplier:r[J.width].effect,enabled:()=>o.gt(t(r[J.width].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Foam Width ("),Q(t(r[J.width].amount)),u(")")]))})),z(()=>({multiplier:r[J.depth].effect,enabled:()=>o.gt(t(r[J.depth].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Foam Depth ("),Q(t(r[J.depth].amount)),u(")")]))})),z(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Boost 1 ("),Q(t(c[1].total)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.iota.effect,enabled:()=>o.gt(t(B.pion.upgrades.iota.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B9 ("),Q(t(B.pion.upgrades.iota.totalAmount)),u(")")]))})),z(()=>({multiplier:B.spinor.upgrades.epsilon.effect,enabled:()=>o.gt(t(B.spinor.upgrades.epsilon.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B5 ("),Q(t(B.spinor.upgrades.epsilon.totalAmount)),u(")")]))})),z(()=>({multiplier:B.spinor.upgrades.iota.effect,enabled:()=>o.gt(t(B.spinor.upgrades.iota.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B9 ("),Q(t(B.spinor.upgrades.iota.totalAmount)),u(")")]))})),z(()=>({multiplier:we.enhancements.extension.effect,enabled:A(we.enhancements.extension.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Extension")]))})),On(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...S.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[w.infinitesimal],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:k(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(B.totalSkyrmions).times(.01)));S.on("preUpdate",m=>{if(!t(S.unlocked)||o.eq(t(r.reform.amount),0))return;const p=t(j.timeMult).times(m);e.value=p.times(t(i)).plus(e.value)});const s=y(()=>t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[J.height]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(5).times(6),requiresPay:()=>!t(S.achievements[w.infinitesimal].earned)})),display:qt(w.infinitesimal,J.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.infinitesimal].earned)}),onClick:()=>It(w.infinitesimal)}),ke),[J.width]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(7).times(10),requiresPay:()=>!t(S.achievements[w.infinitesimal].earned)})),display:qt(w.infinitesimal,J.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.infinitesimal].earned)}),onClick:()=>It(w.infinitesimal)}),ke),[J.depth]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(S.achievements[w.infinitesimal].earned)})),display:qt(w.infinitesimal,J.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.infinitesimal].earned)}),onClick:()=>It(w.infinitesimal)}),ke),condense:pe(m=>({visibility:()=>!t(m.bought)&&(t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(S[w.protoversal].upgrades.condense.bought)),requirements:X(()=>({resource:A(e),cost:2e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){S.subspatial.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(S.achievements.reform.earned)})})),reform:Ye(m=>({visibility:A(r.condense.bought),requirements:[X(()=>({resource:A(e),cost:()=>o.minus(t(m.amount),3).max(2).pow_base(t(m.amount)).plus(1).times(5).pow10().dividedBy(5),requiresPay:()=>!t(S.achievements.reform.earned)})),dn(()=>({fomeType:w.protoversal,cost:_.variable(m.amount).plus(2)}))],display:ai(w.infinitesimal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(S.achievements.reform.earned)})}),ke)};S.on("update",()=>{if(t(S.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(S.achievements[w.infinitesimal].earned))for(const m of Object.values(J))t(r[m].canClick)&&r[m].onClick()});const l=y(()=>t(S.globalBoostBonus).plus(ge(w.quantum,5)).plus(ge(w.subspatial,3))),c={index:Ne(1),1:We(m=>({display:()=>`Multiply the generation of Infinitesimal Foam by ${D(ge(w.infinitesimal,1))}`,effect:()=>new o(t(m.total)).times(t(B.pion.upgrades.lambda.effect)).times(t(B.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:We(m=>({display:()=>`Increase Pion and Spinor gain by ${D(o.minus(ge(w.infinitesimal,2),1).times(100))}%`,effect:()=>o.times(t(m.total),.5).plus(1),bonus:l})),3:We(m=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B1 costs to 1/${D(o.times(ge(w.infinitesimal,3),100).reciprocate())}%`,effect:()=>o.pow(.8,t(m.total)),bonus:l})),4:We(m=>({display:()=>`Reduce Skyrmion costs to 1/${D(o.minus(ge(w.infinitesimal,4),1))}\xD7`,effect:()=>o.times(t(m.total),.5).plus(1),bonus:l})),5:We(m=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B3 costs to 1/${D(o.times(ge(w.infinitesimal,5),100).reciprocate())}%`,effect:()=>o.pow(.8,t(m.total)),bonus:l}))},d=Mt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:c,production:i,modifierModal:d,display:"This page intentionally left blank"}}),_g="subspatial",Bi=nt(_g,function(){const e=at(0,"Subspatial Foam"),n=ut(()=>[...S.production,z(()=>({multiplier:r[J.height].effect,enabled:()=>o.gt(t(r[J.height].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subspatial Foam Height ("),Q(t(r[J.height].amount)),u(")")]))})),z(()=>({multiplier:r[J.width].effect,enabled:()=>o.gt(t(r[J.width].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subspatial Foam Width ("),Q(t(r[J.width].amount)),u(")")]))})),z(()=>({multiplier:r[J.depth].effect,enabled:()=>o.gt(t(r[J.depth].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subspatial Foam Depth ("),Q(t(r[J.depth].amount)),u(")")]))})),z(()=>({multiplier:d[1].effect,enabled:()=>o.gt(t(d[1].total),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subspatial Boost 1 ("),Q(t(d[1].total)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.zeta.effect,enabled:()=>o.gt(t(B.pion.upgrades.zeta.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B6 ("),Q(t(B.pion.upgrades.zeta.totalAmount)),u(")")]))})),z(()=>({multiplier:B.spinor.upgrades.theta.effect,enabled:()=>o.gt(t(B.spinor.upgrades.theta.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B8 ("),Q(t(B.spinor.upgrades.theta.totalAmount)),u(")")]))})),z(()=>({multiplier:j.upgrades.alacrity.effect,enabled:t(j.upgrades.alacrity.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Subspatial Alacrity")]))})),z(()=>({multiplier:we.enhancements.configuration.effect,enabled:A(we.enhancements.configuration.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Configuration")]))})),On(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:k(()=>a(g,null,[u("["),S.name,u("] Subspatial Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subspatial Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...S.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[w.subspatial],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:k(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(B.totalSkyrmions).times(.01)));S.on("preUpdate",p=>{if(!t(S.unlocked)||o.eq(t(r.reform.amount),0))return;const b=t(j.timeMult).times(p);e.value=b.times(t(i)).plus(e.value)});const s=y(()=>t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[J.height]:Ye(p=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(6).times(10),requiresPay:()=>!t(S.achievements[w.subspatial].earned)})),display:qt(w.subspatial,J.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.subspatial].earned)}),onClick:()=>It(w.subspatial)}),ke),[J.width]:Ye(p=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(8).times(18),requiresPay:()=>!t(S.achievements[w.subspatial].earned)})),display:qt(w.subspatial,J.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.subspatial].earned)}),onClick:()=>It(w.subspatial)}),ke),[J.depth]:Ye(p=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(10).times(60),requiresPay:()=>!t(S.achievements[w.subspatial].earned)})),display:qt(w.subspatial,J.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.subspatial].earned)}),onClick:()=>It(w.subspatial)}),ke),condense:pe(p=>({visibility:()=>!t(p.bought)&&(t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(S[w.infinitesimal].upgrades.condense.bought)),requirements:X(()=>({resource:A(e),cost:4e5})),display:{description:`Condense your ${e.displayName}`},onPurchase(){S.subplanck.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(S.achievements.reform.earned)})})),reform:Ye(p=>({visibility:A(r.condense.bought),requirements:[X(()=>({resource:A(e),cost:()=>o.minus(t(p.amount),3).max(2).pow_base(t(p.amount)).plus(1).times(6).pow10().dividedBy(2.5),requiresPay:()=>!t(S.achievements.reform.earned)})),dn(()=>({fomeType:w.infinitesimal,cost:_.variable(p.amount).plus(2)}))],display:ai(w.subspatial),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(S.achievements.reform.earned)})}),ke)};S.on("update",()=>{if(t(S.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(S.achievements[w.subspatial].earned))for(const p of Object.values(J))t(r[p].canClick)&&r[p].onClick()});const l=y(()=>t(S.globalBoostBonus).plus(ge(w.quantum,5))),c=y(()=>t(l).plus(ge(w.subspatial,3))),d={index:Ne(1),1:We(p=>({display:()=>`Multiply the generation of Subspatial Foam by ${D(ge(w.subspatial,1))}`,effect:()=>new o(t(p.total)).times(t(B.pion.upgrades.kappa.effect)),bonus:c})),2:We(p=>({display:()=>`The Pion and Spinor nerfs act as if you had ${D(ge(w.subspatial,2))} fewer upgrades`,effect:()=>new o(t(p.total)),bonus:c})),3:We(p=>({display:()=>`Add ${D(ge(w.subspatial,3))} levels to all above boosts`,effect:()=>o.times(t(p.total),.1),bonus:l})),4:We(p=>({display:()=>`Increase effective Skyrmion count by ${D(ge(w.subspatial,4))}`,effect:()=>new o(t(p.total)),bonus:l})),5:We(p=>({display:()=>`Pion and Spinor upgrades cost as if you had ${D(ge(w.subspatial,5))} fewer`,effect:()=>o.times(t(p.total),.25),bonus:l}))},m=Mt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:d,production:i,modifierModal:m,display:"This page intentionally left blank"}}),wg="subplanck",Ei=nt(wg,function(){const e=at(0,"Subplanck Foam"),n=ut(()=>[...S.production,z(()=>({multiplier:r[J.height].effect,enabled:()=>o.gt(t(r[J.height].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subplanck Foam Height ("),Q(t(r[J.height].amount)),u(")")]))})),z(()=>({multiplier:r[J.width].effect,enabled:()=>o.gt(t(r[J.width].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subplanck Foam Width ("),Q(t(r[J.width].amount)),u(")")]))})),z(()=>({multiplier:r[J.depth].effect,enabled:()=>o.gt(t(r[J.depth].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subplanck Foam Depth ("),Q(t(r[J.depth].amount)),u(")")]))})),z(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subplanck Boost 1 ("),Q(t(c[1].total)),u(")")]))})),z(()=>({multiplier:we.enhancements.invention.effect,enabled:A(we.enhancements.invention.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Invention")]))})),On(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:k(()=>a(g,null,[u("["),S.name,u("] Subplanck Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Subplanck Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...S.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[w.subplanck],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:k(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(B.totalSkyrmions).times(.01)));S.on("preUpdate",m=>{if(!t(S.unlocked)||o.eq(t(r.reform.amount),0))return;const p=t(j.timeMult).times(m);e.value=p.times(t(i)).plus(e.value)});const s=y(()=>t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[J.height]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(7).times(15),requiresPay:()=>!t(S.achievements[w.subplanck].earned)})),display:qt(w.subplanck,J.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.subplanck].earned)}),onClick:()=>It(w.subplanck)}),ke),[J.width]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(S.achievements[w.subplanck].earned)})),display:qt(w.subplanck,J.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.subplanck].earned)}),onClick:()=>It(w.subplanck)}),ke),[J.depth]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(11).times(90),requiresPay:()=>!t(S.achievements[w.subplanck].earned)})),display:qt(w.subplanck,J.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.subplanck].earned)}),onClick:()=>It(w.subplanck)}),ke),condense:pe(m=>({visibility:()=>!t(m.bought)&&(t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(S[w.subspatial].upgrades.condense.bought)),requirements:X(()=>({resource:A(e),cost:1e6})),display:{description:`Condense your ${e.displayName}`},onPurchase(){S.quantum.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(S.achievements.reform.earned)})})),reform:Ye(m=>({visibility:A(r.condense.bought),requirements:[X(()=>({resource:A(e),cost:()=>o.minus(t(m.amount),3).max(2).pow_base(t(m.amount)).plus(1).times(6).pow10(),requiresPay:()=>!t(S.achievements.reform.earned)})),dn(()=>({fomeType:w.subspatial,cost:_.variable(m.amount).plus(2)}))],display:ai(w.subplanck),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(S.achievements.reform.earned)})}),ke)};S.on("update",()=>{if(t(S.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(S.achievements[w.subplanck].earned))for(const m of Object.values(J))t(r[m].canClick)&&r[m].onClick()});const l=y(()=>t(S.globalBoostBonus).plus(ge(w.quantum,5))),c={index:Ne(1),1:We(m=>({display:()=>`Multiply the generation of Subplanck Foam by ${D(ge(w.subplanck,1))}`,effect:()=>new o(t(m.total)).times(t(B.spinor.upgrades.kappa.effect)).times(t(B.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:We(m=>({display:()=>`Gain ${D(ge(w.subplanck,2))} bonus Pion and Spinor Upgrade \u03B4 levels`,effect:()=>o.times(t(m.total),.5),bonus:l})),3:We(m=>({display:()=>`Gain ${D(ge(w.subplanck,3))} bonus Pion and Spinor Upgrade \u03B5 levels`,effect:()=>o.times(t(m.total),.5),bonus:l})),4:We(m=>({display:()=>`Gain ${D(ge(w.subplanck,4))} bonus Pion and Spinor Upgrade \u03B6 levels`,effect:()=>o.times(t(m.total),.5),bonus:l})),5:We(m=>({display:()=>`Gain ${D(ge(w.subplanck,5))} bonus Pion and Spinor Upgrade \u03B7 levels`,effect:()=>o.times(t(m.total),.5),bonus:l}))},d=Mt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:c,production:i,modifierModal:d,display:"This page intentionally left blank"}}),kg="quantum",Kt=nt(kg,function(){const e=at(0,"Quantum Foam"),n=ut(()=>[...S.production,z(()=>({multiplier:r[J.height].effect,enabled:()=>o.gt(t(r[J.height].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Quantum Foam Height ("),Q(t(r[J.height].amount)),u(")")]))})),z(()=>({multiplier:r[J.width].effect,enabled:()=>o.gt(t(r[J.width].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Quantum Foam Width ("),Q(t(r[J.width].amount)),u(")")]))})),z(()=>({multiplier:r[J.depth].effect,enabled:()=>o.gt(t(r[J.depth].amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Quantum Foam Depth ("),Q(t(r[J.depth].amount)),u(")")]))})),On(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:k(()=>a(g,null,[u("["),S.name,u("] Quantum Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:k(()=>a(g,null,[u("["),S.name,u("] Quantum Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...S.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[w.quantum],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:k(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(B.totalSkyrmions).times(.01)));S.on("preUpdate",m=>{if(!t(S.unlocked)||o.eq(t(r.reform.amount),0))return;const p=t(j.timeMult).times(m);e.value=p.times(t(i)).plus(e.value)});const s=y(()=>t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[J.height]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(S.achievements[w.quantum].earned)})),display:qt(w.quantum,J.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.quantum].earned)}),onClick:()=>It(w.quantum)}),ke),[J.width]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(10).times(30),requiresPay:()=>!t(S.achievements[w.quantum].earned)})),display:qt(w.quantum,J.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.quantum].earned)}),onClick:()=>It(w.quantum)}),ke),[J.depth]:Ye(m=>({visibility:s,requirements:X(()=>({resource:A(e),cost:()=>o.pow(t(m.amount),1.15).pow_base(12).times(100),requiresPay:()=>!t(S.achievements[w.quantum].earned)})),display:qt(w.quantum,J.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(S.achievements[w.quantum].earned)}),onClick:()=>It(w.quantum)}),ke),condense:pe(m=>({visibility:()=>!t(m.bought)&&(t(j.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(S[w.subplanck].upgrades.condense.bought)),requirements:X(()=>({resource:A(e),cost:1e5})),display:{description:`Condense your ${e.displayName}`},classes:()=>({auto:t(S.achievements.reform.earned)})})),reform:Ye(m=>({visibility:A(r.condense.bought),requirements:[X(()=>({resource:A(e),cost:()=>o.minus(t(m.amount),3).max(2).pow_base(t(m.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(S.achievements.reform.earned)})),dn(()=>({fomeType:w.subplanck,cost:_.variable(m.amount).plus(2)}))],display:ai(w.quantum),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(S.achievements.reform.earned)})}),ke)};S.on("update",()=>{if(t(S.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(S.achievements[w.quantum].earned))for(const m of Object.values(J))t(r[m].canClick)&&r[m].onClick()});const l=y(()=>t(S.globalBoostBonus).plus(ge(w.quantum,5))),c={index:Ne(1),1:We(m=>({display:()=>`Multiply the generation of all Foam types by ${D(ge(w.quantum,1))}`,effect:()=>new o(t(m.total)).times(t(B.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:We(m=>({display:()=>`Reduce the Pion and Spinor cost nerf exponent to 1/${D(o.times(ge(w.quantum,2),100).reciprocate())}%`,effect:()=>{let p=t(m.total);return o.gt(p,16)&&(p=o.ln(2).recip().times(4).times(p)),o.pow(.975,p)},bonus:l})),3:We(m=>({display:()=>`Multiply the generation of all Foam types again by ${D(ge(w.quantum,3))}\xD7`,effect:()=>{let p=t(m.total);return o.gt(p,16)&&(p=o.sqrt(p).times(4)),o.sqrt(ge(w.quantum,1)).times(p).dividedBy(10).plus(1)},bonus:l})),4:We(m=>({display:()=>`Gain ${D(ge(w.quantum,4))} bonus Pion and Spinor Upgrade \u03B8, \u03B9, and \u03BA levels`,effect:()=>o.times(t(m.total),.25),bonus:l})),5:We(m=>({display:()=>`Add ${D(ge(w.quantum,5))} bonus levels to all above boosts`,effect:()=>o.times(t(m.total),.1),bonus:S.globalBoostBonus}))},d=Mt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:k(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:c,production:i,modifierModal:d,display:"This page intentionally left blank"}});let w=function(e){return e.protoversal="protoversal",e.infinitesimal="infinitesimal",e.subspatial="subspatial",e.subplanck="subplanck",e.quantum="quantum",e}({}),J=function(e){return e.height="height",e.width="width",e.depth="depth",e}({});function It(e){const n=S[e].boosts.index,i=S[e].boosts[t(n)].amount;i.value=o.add(t(i),1),n.value=t(n)===5?1:t(n)+1}function qt(e,n){let i;switch(n){case J.height:i="Height";break;case J.width:i="Width";break;case J.depth:i="Depth";break}return k(()=>a(g,null,[a("h3",null,[u("Enlarge "),S[e].amount.displayName,u(" "),i,u(" by 1m")]),a("br",null,null),a("br",null,null),u("Current "),i,u(": "),D(t(S[e].upgrades[n].amount)),u("m"),a("br",null,null),a("br",null,null),Qe(S[e].upgrades[n].requirements)]))}function ai(e){return k(()=>a(g,null,[u("Re-form your "),S[e].amount.displayName,a("br",null,null),a("br",null,null),u("Amount: "),Q(t(S[e].upgrades.reform.amount)),a("br",null,null),a("br",null,null),Qe(S[e].upgrades.reform.requirements)]))}const Sg="fome",S=nt(Sg,function(){const e="Quantum Foam",n="#ffffff",i=y(()=>t(_e.milestones[1].earned)||t(B.upgrades.fome.bought)),s=y(()=>o.gt(t(Kt.upgrades.reform.amount),0)?w.quantum:o.gt(t(Ei.upgrades.reform.amount),0)?w.subplanck:o.gt(t(Bi.upgrades.reform.amount),0)?w.subspatial:o.gt(t(Ai.upgrades.reform.amount),0)?w.infinitesimal:w.protoversal),r=[z(()=>({multiplier:B.spinor.upgrades.eta.effect,enabled:()=>o.gt(t(B.spinor.upgrades.eta.totalAmount),0),description:k(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B7 ("),Q(t(B.spinor.upgrades.eta.totalAmount)),u(")")]))})),z(()=>({multiplier:j.upgrades.acceleration.effect,enabled:A(j.upgrades.acceleration.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Minute Acceleration")]))})),z(()=>({multiplier:j.loops.averageLoopValues[j.loops.loops.tempFome.id],enabled:A(j.loops.loops.tempFome.built),description:k(()=>a(g,null,[u("["),j.name,u("] Acceleron Loop #4")]))})),z(()=>({multiplier:we.enhancements.formation.effect,enabled:A(we.enhancements.formation.bought),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Formation")]))})),z(()=>({multiplier:re.fomeBonus,enabled:()=>t(re.coreResearch.research.fomeGain.researched),description:k(()=>a(g,null,[u("["),re.name,u("] Inflaton Resonance")]))})),z(()=>({multiplier:re.upgrades.moreFome.effect,enabled:A(re.upgrades.moreFome.bought),description:k(()=>a(g,null,[u("["),re.name,u("] Dynamic Inflational Formation")]))})),z(()=>({multiplier:Kt.boosts[1].effect,enabled:()=>o.gt(t(Kt.boosts[1].total),0),description:k(()=>a(g,null,[u("["),e,u("] Quantum Boost 1 ("),Q(t(Kt.boosts[1].total)),u(")")]))})),z(()=>({multiplier:Kt.boosts[3].effect,enabled:()=>o.gt(t(Kt.boosts[3].total),0),description:k(()=>a(g,null,[u("["),e,u("] Quantum Boost 3 ("),Q(t(Kt.boosts[3].total)),u(")")]))}))],l=[z(()=>({multiplier:Ge.buffs[V.LEFT],enabled:A(W.upgrades.tactics.bought),description:k(()=>a(g,null,[u("["),W.name,u("] Passive Left Timeline Bonus")]))})),z(()=>({multiplier:()=>o.reciprocate(t(Ge.nerfs[V.LEFT])),enabled:A(W.upgrades.tactics.bought),description:k(()=>a(g,null,[u("["),W.name,u("] Active Left Timeline Effect")]))}))],c=y(()=>o.add(je(we.enhancements.entitlement,0),je(W.upgrades.tier,0))),d={fontSize:"48px",fontWeight:"normal",color:"var(--feature-foreground)"},m={[w.protoversal]:yt(()=>({display:k(()=>a("span",{style:d},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])),requirements:Vt(()=>o.gte(t(un.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Protoversal Foam")]),effect:a(g,null,[u("Unlock the Pion and Spinor Buy All button"),a("br",null,null),u("Automatically enlarge your Protoversal Foam")])}})),[w.infinitesimal]:yt(()=>({display:k(()=>a(g,null,[a("span",{style:d},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("3")])])])),requirements:Vt(()=>o.gte(t(un.upgrades.reform.amount),3)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("3")])]),effect:a(g,null,[u("Automatically enlarge your Infinitesimal Foam")])}})),[w.subspatial]:yt(()=>({display:k(()=>a(g,null,[a("span",{style:d},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("4")])])])),requirements:Vt(()=>o.gte(t(un.upgrades.reform.amount),4)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("4")])]),effect:a(g,null,[u("Automatically enlarge your Subspatial Foam")])}})),[w.subplanck]:yt(()=>({display:k(()=>a(g,null,[a("span",{style:d},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("5")])])])),requirements:Vt(()=>o.gte(t(un.upgrades.reform.amount),5)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("5")])]),effect:a(g,null,[u("Automatically enlarge your Subplanck Foam")])}})),[w.quantum]:yt(()=>({display:k(()=>a(g,null,[a("span",{style:d},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("6")])])])),requirements:Vt(()=>o.gte(t(un.upgrades.reform.amount),6)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("6")])]),effect:a(g,null,[u("Automatically enlarge your Quantum Foam")])}})),reform:yt(()=>({display:k(()=>a(g,null,[a("span",{style:d},[u("Q"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])])),requirements:Vt(()=>o.gte(t(Kt.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Quantum Foam")]),effect:a(g,null,[u("Automatically re-form your Foam")])}}))};for(const f of Object.values(m))Dn(f,{display:k(()=>a(g,null,[a("h3",null,[f.tooltip.requirement]),a("br",null,null),f.tooltip.effect]))});const p={buyAll:ht(()=>({enabled(){return!t(i)||Object.values(m).every(f=>t(f.earned))?!1:o.gt(t(re.inflatons),0)||t(j.achievements.protoversal.earned)},key:"shift+f",description:"Buy one of each Foam upgrade",onPress(){for(const f of[un,Ai,Bi,Ei,Kt]){f.upgrades.condense.purchase();for(const h of[...Object.values(J),"reform"])f.upgrades[h].onClick()}}})),switchTab:ht(()=>({enabled:i,key:"ctrl+f",description:"Move to Foam",onPress(){bn.tabs.selected.value=e}}))},b=ii({main:()=>({display:"Foam",tab:Jt(()=>({display:k(()=>a(g,null,[a("div",null,[u("You have "),a(ri,{resource:S[t(s)].amount,color:n},null),u(" "),S[t(s)].amount.displayName,o.gt(t(S[t(s)].upgrades.reform.amount),1)?a("sup",null,[Q(t(S[t(s)].upgrades.reform.amount))]):void 0]),a(Se,null,null),a(cg,null,null),a(Se,{height:"8px"},null),Zo(...Object.values(m))]))}))}),boosts:()=>({display:"Boosts",tab:Jt(()=>({display:k(()=>a(vg,null,null))}))})});return{name:e,color:n,unlocked:i,production:r,timelineProduction:l,globalBoostBonus:c,achievements:m,hotkeys:p,display:k(()=>a(g,null,[o.gt(t(un.boosts[1].total),0)?te(b):te(t(b.tabs.main.tab))])),tabStyle:{"--bought":"#929aa9"},tabs:b,[w.protoversal]:un,[w.infinitesimal]:Ai,[w.subspatial]:Bi,[w.subplanck]:Ei,[w.quantum]:Kt}});const Cg={class:"skyrmion-container"},$g={class:"skyrmion-grid"},Ng=se({__name:"Skyrmion",setup(e){const n=B.upgrades,i={fome:{row:2,col:7},autoGain:{row:2,col:11},alpha:{row:3,col:5},beta:{row:3,col:9},gamma:{row:3,col:13},delta:{row:4,col:3},epsilon:{row:4,col:7},zeta:{row:4,col:11},eta:{row:4,col:15},theta:{row:5,col:1},iota:{row:5,col:5},kappa:{row:5,col:9},lambda:{row:5,col:13},mu:{row:5,col:17},nu:{row:6,col:3},xi:{row:6,col:7},pi:{row:6,col:11},rho:{row:6,col:15}};function s(r){return{"--row":i[r].row,"--col":i[r].col}}return(r,l)=>($(),P("div",Cg,[C("ul",$g,[C("li",Bt({class:"skyrmion-upgrade reset"},r.$attrs),[Ht(r.$slots,"default",{},void 0,!0)],16),($(!0),P(g,null,Pe(t(t(n)),(c,d)=>($(),P(g,{key:d},[t(c.visibility)!==t(xe).None?($(),P("li",Bt({key:0,class:"skyrmion-upgrade"},r.$attrs,{style:s(d)}),[($(),ie($e(t(te)(c))))],16)):H("",!0)],64))),128))])]))}});var Ig=fe(Ng,[["__scopeId","data-v-3a223863"]]);function qg(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ns(e)}const Mg="skyrmion",B=nt(Mg,function(){const e="Skyrmions",n="#37d7ff",i=ut(()=>[z(()=>({multiplier:()=>o.reciprocate(t(Re.upgrades.alpha.effect)),enabled:()=>o.gt(t(Re.upgrades.alpha.totalAmount),0),description:k(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B1 ("),Q(t(Re.upgrades.alpha.totalAmount)),u(")")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>o.reciprocate(t(S.infinitesimal.boosts[4].effect)),enabled:()=>o.gt(t(S.infinitesimal.boosts[4].total),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Boost 4 ("),Q(t(S.infinitesimal.boosts[4].total)),u(")")])),smallerIsBetter:!0})),z(()=>({multiplier:we.enhancements.amplification.effect,enabled:A(we.enhancements.amplification.bought),description:k(()=>a(g,null,[u("["),we.name,u("] Entropic Amplification")])),smallerIsBetter:!0}))]),s=h=>_.variable(h).pow10().times(i.getFormula(1)),r=Ye(h=>({initialAmount:1,requirements:[X(()=>({resource:A(st.pions),requiresPay:()=>!t(m.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:s(h.amount)})),X(()=>({resource:A(Re.spinors),requiresPay:()=>!t(m.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:s(h.amount)}))],style:{paddingHorizontal:"20px"},display:k(()=>{const N=s(h.amount),I=o.clampMin(Jn(r.requirements),1),q=Zt(N,o.clampMin(I,1),!0);return a(g,null,[a("h3",null,[u("Convert "),D(q),u(" Pions and Spinors to "),Q(I),u(" Skyrmions")])])})}));Dn(r,{direction:Fe.Up,display:k(()=>{const h=s(r.amount),N=Jn(r.requirements),I=Zt(h,o.add(N,1),!0);return a(g,null,[u("Next at "),D(I),u(" Pions and Spinors")])})}),this.on("update",()=>{t(m.autoGain.bought)&&r.onClick()});const l=at(r.amount,e),c=y(()=>o.add(t(l),ge(w.subspatial,4))),d=[z(()=>({multiplier:st.upgrades.alpha.effect,enabled:()=>o.gt(t(st.upgrades.alpha.totalAmount),0),description:k(()=>a(g,null,[u("["),e,u("] Pion Upgrade \u03B1 ("),D(t(st.upgrades.alpha.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.zeta.effect,enabled:()=>o.gt(t(Re.upgrades.zeta.totalAmount),0),description:k(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B6 ("),D(t(Re.upgrades.zeta.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.lambda.effect,enabled:()=>o.gt(t(Re.upgrades.lambda.totalAmount),0),description:k(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03BB ("),D(t(Re.upgrades.lambda.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.pi.effect,enabled:()=>o.gt(t(Re.upgrades.pi.totalAmount),0),description:k(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03C0 ("),D(t(Re.upgrades.pi.totalAmount)),u(")")]))})),z(()=>({multiplier:S[w.infinitesimal].boosts[2].effect,enabled:()=>o.gt(t(S[w.infinitesimal].boosts[2].total),0),description:k(()=>a(g,null,[u("["),S.name,u("] Infinitesimal Boost 2 ("),Q(t(S[w.infinitesimal].boosts[2].total)),u(")")]))})),z(()=>({multiplier:j.loops.averageLoopValues[j.loops.loops.tempSkyrmion.id],enabled:A(j.loops.loops.tempSkyrmion.built),description:k(()=>a(g,null,[u("["),j.name,u("] Entropic Loop #6")]))})),z(()=>({multiplier:()=>o.reciprocate(t(W.timelines.nerfs[V.BOTTOM])),enabled:()=>t(W.timelines.depths[V.BOTTOM])>0,description:k(()=>a(g,null,[u("["),W.name,u("] Active Bottom Timeline Effect")]))})),z(()=>({multiplier:W.timelines.buffs[V.BOTTOM],enabled:()=>t(W.timelines.scores[V.BOTTOM]).gt(0),description:k(()=>a(g,null,[u("["),W.name,u("] Passive Bottom Timeline Bonus")]))}))],m={fome:f({display:{title:"Condensation",description:a(g,null,[u("Begin Foam generation")])},cost:10,onPurchase(){S.protoversal.upgrades.reform.amount.value=o.dOne}}),autoGain:f({display:{title:"Reformation",description:a(g,null,[u("Automatically gain Skyrmions; they don't cost Pions or Spinors")])},cost:16}),alpha:f({visibility(){return t(this.bought)||o.gte(t(l),20)},display:{title:"Alteration",description:a(g,null,[u("Autobuy \u03B1 upgrades"),a("br",null,null),u("\u03B1 upgrades no longer consume Pions or Spinors")])},cost:24}),beta:f({visibility(){return t(this.bought)||o.gte(t(l),25)},display:{title:"Benediction",description:a(g,null,[u("Autobuy \u03B2 upgrades"),a("br",null,null),u("\u03B2 upgrades no longer consume Pions or Spinors")])},cost:28}),gamma:f({visibility(){return t(this.bought)||o.gte(t(l),30)},display:{title:"Consolidation",description:a(g,null,[u("Autobuy \u03B3 upgrades"),a("br",null,null),u("\u03B3 upgrades no longer consume Pions or Spinors")])},cost:32}),delta:f({visibility(){return t(this.bought)||o.gte(t(l),35)},display:{title:"Diversification",description:a(g,null,[u("Autobuy \u03B4 upgrades"),a("br",null,null),u("\u03B4 upgrades no longer consume Pions or Spinors")])},cost:36}),epsilon:f({visibility(){return t(this.bought)||o.gte(t(l),40)},display:{title:"Encapsulation",description:a(g,null,[u("Autobuy \u03B5 upgrades"),a("br",null,null),u("\u03B5 upgrades no longer consume Pions or Spinors")])},cost:42}),zeta:f({visibility(){return t(this.bought)||o.gte(t(l),45)},display:{title:"Fabrication",description:a(g,null,[u("Autobuy \u03B6 upgrades"),a("br",null,null),u("\u03B6 upgrades no longer consume Pions or Spinors")])},cost:48}),eta:f({visibility(){return t(this.bought)||o.gte(t(l),50)},display:{title:"Germination",description:a(g,null,[u("Autobuy \u03B7 upgrades"),a("br",null,null),u("\u03B7 upgrades no longer consume Pions or Spinors")])},cost:52}),theta:f({visibility(){return t(this.bought)||o.gte(t(l),55)},display:{title:"Hesitation",description:a(g,null,[u("Autobuy \u03B8 upgrades"),a("br",null,null),u("\u03B8 upgrades no longer consume Pions or Spinors")])},cost:56}),iota:f({visibility(){return t(this.bought)||o.gte(t(l),60)},display:{title:"Immitation",description:a(g,null,[u("Autobuy \u03B9 upgrades"),a("br",null,null),u("\u03B9 upgrades no longer consume Pions or Spinors")])},cost:64}),kappa:f({visibility(){return t(this.bought)||o.gte(t(l),65)},display:{title:"Juxtaposition",description:a(g,null,[u("Autobuy \u03BA upgrades"),a("br",null,null),u("\u03BA upgrades no longer consume Pions or Spinors")])},cost:69}),lambda:f({visibility(){return t(this.bought)||o.gte(t(l),70)},display:{title:"Lateralization",description:a(g,null,[u("Autobuy \u03BB upgrades"),a("br",null,null),u("\u03BB upgrades no longer consume Pions or Spinors")])},cost:72}),mu:f({visibility(){return t(this.bought)||o.gte(t(l),75)},display:{title:"Materialization",description:a(g,null,[u("Autobuy \u03BC upgrades"),a("br",null,null),u("\u03BC upgrades no longer consume Pions or Spinors")])},cost:92}),nu:f({visibility(){return t(this.bought)||t(oe.challenge.active)},display:{title:"Neutralization",description:a(g,null,[u("Autobuy \u03BD upgrades"),a("br",null,null),u("\u03BD upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[w.infinitesimal,w.subspatial,w.subplanck,w.quantum][t(oe.abyssUpgradeCount)])!=null?h:w.quantum},cost:2}))}),xi:f({visibility(){return t(this.bought)||t(oe.challenge.active)},display:{title:"Externalization",description:a(g,null,[u("Autobuy \u03BE upgrades"),a("br",null,null),u("\u03BE upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[w.infinitesimal,w.subspatial,w.subplanck,w.quantum][t(oe.abyssUpgradeCount)])!=null?h:w.quantum},cost:2}))}),pi:f({visibility(){return t(this.bought)||t(oe.challenge.active)},display:{title:"Prioritization",description:a(g,null,[u("Autobuy \u03C0 upgrades"),a("br",null,null),u("\u03C0 upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[w.infinitesimal,w.subspatial,w.subplanck,w.quantum][t(oe.abyssUpgradeCount)])!=null?h:w.quantum},cost:2}))}),rho:f({visibility(){return t(this.bought)||t(oe.challenge.active)},display:{title:"Obfuscation",description:a(g,null,[u("Autobuy \u03C1 upgrades"),a("br",null,null),u("\u03C1 upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[w.infinitesimal,w.subspatial,w.subplanck,w.quantum][t(oe.abyssUpgradeCount)])!=null?h:w.quantum},cost:2}))})},p={sell:ht(()=>({enabled:A(oe.challenge.active),key:"s",description:"Sell all Pion and Spinor Upgrades",onPress(){for(const h of[...Object.values(st.upgrades),...Object.values(Re.upgrades)])h.amount.value=0}})),reset:ht(()=>({enabled:()=>!t(m.autoGain.bought),key:"s",description:"Condense some Pions and Spinors into Skyrmions",onPress:r.onClick})),switchTab:ht(()=>({enabled:()=>t(S.unlocked),key:"ctrl+s",description:"Move to Skyrmions",onPress(){bn.tabs.selected.value=e}})),buy:ht(()=>({enabled(){return t(S.unlocked)?Object.keys(m).filter(h=>!t(m[h].bought)).filter(h=>h!=="autogain").filter(h=>ve(st.upgrades[h].visibility)).filter(h=>ve(Re.upgrades[h].visibility)).length>0:!1},key:"shift+s",description:"Buy one of each Pion and Spinor Upgrade",onPress(){for(const h of[...Object.values(st.upgrades),...Object.values(Re.upgrades)])h.onClick()}}))},b=Mt("Skyrmion Modifiers",()=>[{title:"Skyrmion Cost",modifier:i,base:()=>o.pow10(t(r.amount)),baseText:k(()=>a(g,null,[u("["),e,u("] Pions and Spinors")])),smallerIsBetter:!0}]);return{name:e,color:n,conversion:r,skyrmions:l,totalSkyrmions:c,production:d,upgrades:m,hotkeys:p,display:k(()=>{let h;return a(g,null,[u("You have "),a(ri,{resource:l,color:n,tag:"h2"},null),u(" "),l.displayName,te(b),o.gt(ge(w.subspatial,4),0)?a(g,null,[a("br",null,null),u("Your "),S.subspatial.amount.displayName,u(" is granting an additional "),a("h3",{style:{color:n,textShadow:`0px 0px 10px ${n}`}},[D(ge(w.subspatial,4))]),u(" "),l.displayName]):a(Se,{height:"25px"},null),a(Se,null,null),a("div",{class:"row",style:{flexFlow:"row nowrap"}},[te(st.display),t(_e.expansions.skyrmion.bought)?te(oe.challenge):a(Se,{width:"250px",height:"250px"},null),te(Re.display)]),a(Se,null,null),a(Ig,null,qg(h=te(r))?h:{default:()=>[h]})])}),pion:st,spinor:Re,abyss:oe};function f(h){const{visibility:N,cost:I,requirement:q,display:E,onPurchase:F}=h;return ld({visibility:N,requirements:q!=null?q:X(()=>({cost:I,resource:A(l),requiresPay:!1})),display:E,onPurchase:F})}}),Tg="root",bi=[B,S,j,W,re,_e],bn=nt(Tg,()=>{const e=ii(Object.fromEntries(bi.map(i=>[i.name,()=>({display:i.name,tab:Jt(()=>({style:y(()=>({"--layer-color":t(oe.challenge.active)?t(oe.color):t(i.color),...t(i.tabStyle)})),display:k(()=>a(g,null,[a("div",null,[te(t(i.display))])]))})),visibility:"unlocked"in i?()=>{var s;return t((s=i.unlocked)!=null?s:!0)}:!0})]))),n={left:ht(()=>({key:"ArrowLeft",description:"Previous Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=Object.entries(e.tabs).filter(([l,c])=>ve(c.visibility)).map(([l,c])=>l);if(s.length<=0)return;const r=s.indexOf(i);switch(r){case-1:break;case 0:e.selected.value=s.at(-1);break;default:e.selected.value=s[r-1];break}}})),right:ht(()=>({key:"ArrowRight",description:"Next Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=Object.entries(e.tabs).filter(([l,c])=>ve(c.visibility)).map(([l,c])=>l);if(s.length<=0)return;const r=s.indexOf(i);switch(r){case-1:break;case s.length-1:e.selected.value=s[0];break;default:e.selected.value=s[r+1];break}}})),shiftLeft:ht(()=>({key:"shift+ArrowLeft",description:"Previous Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=bi.find(m=>m.name===i);if(s===void 0||!("tabs"in s))return;const r=s.tabs,l=r.selected.value;if(l===void 0)return;const c=Object.entries(r.tabs).filter(([m,p])=>ve(p.visibility)).map(([m,p])=>m);if(c.length<=0)return;const d=c.indexOf(l);switch(d){case-1:break;case 0:r.selected.value=c.at(-1);break;default:r.selected.value=c[d-1];break}}})),shiftRight:ht(()=>({key:"shift+ArrowRight",description:"Next Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=bi.find(m=>m.name===i);if(s===void 0||!("tabs"in s))return;const r=s.tabs,l=r.selected.value;if(l===void 0)return;const c=Object.entries(r.tabs).filter(([m,p])=>ve(p.visibility)).map(([m,p])=>m);if(c.length<=0)return;const d=c.indexOf(l);switch(d){case-1:break;case c.length-1:r.selected.value=c[0];break;default:r.selected.value=c[d+1];break}}})),pause:ht(()=>({key:"p",description:"Pause",onPress(){be.devSpeed===0?be.devSpeed=null:be.devSpeed=0}}))};return{name:"Root",minWidth:300,display:k(()=>t(S.unlocked)?a(g,null,[te(e)]):a("div",{style:{"--layer-color":t(B.color)}},[te(t(e.tabs[B.name].tab))])),hotkeys:n,tabs:e}}),xg=e=>[...Object.values(bi),bn],bs=y(()=>!1);function Pg(e,n){}var Fg=Object.freeze(Object.defineProperty({__proto__:null,root:bn,getInitialLayers:xg,hasWon:bs,fixOldSave:Pg},Symbol.toStringTag,{value:"Module"}));const li=e=>(dt("data-v-4a50ce42"),e=e(),mt(),e),Ag={class:"game-over-modal-header"},Bg=["src","alt"],Eg={class:"game-over-modal-title"},Rg=li(()=>C("h2",null,"Congratulations!",-1)),Og={key:0},Dg=li(()=>C("br",null,null,-1)),Lg=li(()=>C("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),jg=li(()=>C("br",null,null,-1)),Ug=["href"],Vg=li(()=>C("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),Gg=se({__name:"GameOverScreen",setup(e){const{title:n,logo:i,discordName:s,discordLink:r,versionNumber:l,versionTitle:c}=ye,d=y(()=>Zi(be.timePlayed)),m=y(()=>bs.value&&!be.keepGoing),p=nn(be,"autosave");function b(){be.keepGoing=!0}function f(){_n(Tn())}return(h,N)=>($(),ie(rn,{"model-value":t(m)},{header:ae(()=>[C("div",Ag,[t(i)?($(),P("img",{key:0,class:"game-over-modal-logo",src:t(i),alt:t(n)},null,8,Bg)):H("",!0),C("div",Eg,[Rg,C("h4",null,"You've beaten "+ee(t(n))+" v"+ee(t(l))+": "+ee(t(c)),1)])])]),body:ae(({shown:I})=>[I?($(),P("div",Og,[C("div",null,"It took you "+ee(t(d))+" to beat the game.",1),Dg,Lg,jg,C("div",null,[C("a",{href:t(r),class:"game-over-modal-discord-link"},[Vg,u(" "+ee(t(s)),1)],8,Ug)]),a(Gt,{title:"Autosave",modelValue:t(p),"onUpdate:modelValue":N[0]||(N[0]=q=>ze(p)?p.value=q:null)},null,8,["modelValue"])])):H("",!0)]),footer:ae(()=>[C("div",{class:"game-over-footer"},[C("button",{onClick:b,class:"button"},"Keep Going"),C("button",{onClick:f,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var zg=fe(Gg,[["__scopeId","data-v-4a50ce42"]]);const Ii=e=>(dt("data-v-d3bb0716"),e=e(),mt(),e),Hg=Ii(()=>C("div",{class:"nan-modal-header"},[C("h2",null,"NaN value detected!")],-1)),Wg={key:0},Yg=Ii(()=>C("br",null,null,-1)),Xg=["href"],Kg=Ii(()=>C("span",{class:"material-icons nan-modal-discord"},"discord",-1)),Qg=Ii(()=>C("br",null,null,-1)),Zg={class:"nan-footer"},Jg=se({__name:"NaNScreen",setup(e){const{discordName:n,discordLink:i}=ye,s=le(!0),r=le(!0),l=nn(Je,"hasNaN"),c=le(null);Ct(l,h=>{h?(s.value=be.autosave,r.value=be.devSpeed===0):(be.autosave=s.value,be.devSpeed=r.value?0:null)});const d=y(()=>{var h;return(h=Je.NaNPath)==null?void 0:h.join(".")}),m=y(()=>Je.NaNPersistent!=null?Je.NaNPersistent.value:null);function p(){Je.NaNPersistent!=null&&(Je.NaNPersistent.value=new o(0),Je.hasNaN=!1)}function b(){Je.NaNPersistent&&(Je.NaNPersistent.value=new o(1),Je.hasNaN=!1)}function f(){Je.NaNPersistent&&(Je.NaNPersistent.value=new o(NaN),Je.hasNaN=!1)}return(h,N)=>($(),P(g,null,[a(rn,Bt({modelValue:t(l),"onUpdate:modelValue":N[4]||(N[4]=I=>ze(l)?l.value=I:null)},h.$attrs),{header:ae(()=>[Hg]),body:ae(()=>[C("div",null,[u(' Attempted to assign "'+ee(t(d))+'" to NaN',1),t(m)?($(),P("span",Wg,ee(" ")+"(previously "+ee(t(vi)(t(m)))+")",1)):H("",!0),u(". Auto-saving has been "+ee(s.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),Yg,C("div",null,[C("a",{href:t(i)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[Kg,u(" "+ee(t(n)||"Profectus & Friends"),1)],8,Xg)]),Qg,a(Gt,{title:"Autosave",modelValue:s.value,"onUpdate:modelValue":N[0]||(N[0]=I=>s.value=I)},null,8,["modelValue"]),t(ye).enablePausing?($(),ie(Gt,{key:0,title:"Pause game",modelValue:r.value,"onUpdate:modelValue":N[1]||(N[1]=I=>r.value=I)},null,8,["modelValue"])):H("",!0)]),footer:ae(()=>[C("div",Zg,[C("button",{onClick:N[2]||(N[2]=I=>{var q;return(q=c.value)==null?void 0:q.open()}),class:"button"},"Open Saves Manager"),C("button",{onClick:p,class:"button"},"Set to 0"),C("button",{onClick:b,class:"button"},"Set to 1"),t(m)&&t(o).neq(t(m),0)&&t(o).neq(t(m),1)?($(),P("button",{key:0,onClick:N[3]||(N[3]=I=>l.value=!1),class:"button"}," Set to previous ")):H("",!0),C("button",{onClick:f,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),a(Qs,{ref_key:"savesManager",ref:c},null,512)],64))}});var eb=fe(Jg,[["__scopeId","data-v-d3bb0716"]]);const tb={key:0,class:"tpsDisplay"},nb=se({__name:"TPS",setup(e){const n=y(()=>o.div(Je.lastTenTicks.length,Je.lastTenTicks.reduce((i,s)=>i+s,0)));return(i,s)=>t(n).isNan()?H("",!0):($(),P("div",tb,"TPS: "+ee(t(Sn)(t(n))),1))}});var ib=fe(nb,[["__scopeId","data-v-89b89152"]]);var sb=se({__name:"App",setup(e){const n=ye.useHeader,i=y(()=>En[qe.theme].variables),s=nn(qe,"showTPS"),r=nn(Je,"errors"),l=y(()=>ue(k(()=>a(g,null,[To.map(te)]))));return(c,d)=>t(r).length>0?($(),P("div",{key:0,class:"error-container",style:De(t(i))},[a(Ts,{errors:t(r)},null,8,["errors"])],4)):($(),P(g,{key:1},[C("div",{id:"modal-root",style:De(t(i))},null,4),C("div",{class:Me(["app",{useHeader:t(n)}]),style:De(t(i))},[t(n)?($(),ie(Zs,{key:0})):H("",!0),a(Oc),t(t(s))?($(),ie(ib,{key:1})):H("",!0),a(zg),a(eb),($(),ie($e(t(l))))],6)],64))}});var rb=fe(sb,[["__scopeId","data-v-bf4e22ac"]]);function ob(e={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:s,onRegistered:r,onRegisteredSW:l,onRegisterError:c}=e;let d,m,p,b;const f=async(N=!0)=>{await p,N&&(d==null||d.addEventListener("controlling",I=>{I.isUpdate&&window.location.reload()})),await(b==null?void 0:b())};async function h(){if("serviceWorker"in navigator){const{Workbox:N,messageSW:I}=await Yn(()=>import("./workbox-window.4a8794bb.js"),[]);b=async()=>{m&&m.waiting&&await I(m.waiting,{type:"SKIP_WAITING"})},d=new N("./sw.js",{scope:"./",type:"classic"}),d.addEventListener("activated",q=>{q.isUpdate||s==null||s()});{const q=()=>{i==null||i()};d.addEventListener("waiting",q),d.addEventListener("externalwaiting",q)}d.register({immediate:n}).then(q=>{m=q,l?l("./sw.js",q):r==null||r(q)}).catch(q=>{c==null||c(q)})}}return p=h(),f}function ab(e={}){const{immediate:n=!0,onNeedRefresh:i,onOfflineReady:s,onRegistered:r,onRegisteredSW:l,onRegisterError:c}=e,d=le(!1),m=le(!1);return{updateServiceWorker:ob({immediate:n,onNeedRefresh(){d.value=!0,i==null||i()},onOfflineReady(){m.value=!0,s==null||s()},onRegistered:r,onRegisteredSW:l,onRegisterError:c}),offlineReady:m,needRefresh:d}}const hs=console.error;console.error=function(...e){hs(...e)};window.onerror=function(e,n,i,s,r){return Je.errors.push(r instanceof Error?r:new Error(JSON.stringify(r))),hs(r),!0};window.onunhandledrejection=function(e){Je.errors.push(e.reason instanceof Error?e.reason:new Error(JSON.stringify(e.reason))),hs(e.reason)};document.title=ye.title;window.projInfo=ye;ye.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await No();const{globalBus:e}=await Yn(()=>Promise.resolve().then(function(){return Co}),void 0),{startGameLoop:n}=await Yn(()=>import("./gameLoop.77562776.js"),["assets/gameLoop.77562776.js","assets/@fontsource.f66d05e7.css","assets/vue.7234e199.js","assets/lz-string.bfbf8ec3.js","assets/@vue.6b211d3c.js","assets/nanoevents.1080beb7.js","assets/vue-next-select.1947c758.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.60c57c44.js","assets/sortablejs.93acc2fb.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-toastification.00c27ea8.js","assets/vue-toastification.4b5f8ac8.css"]),i=window.vue=vr(rb);i.config.errorHandler=function(s,r,l){console.error(s,l,r)},e.emit("setupVue",i),i.mount("#app"),fn(()=>{const s=Ms(),{updateServiceWorker:r}=ab({onNeedRefresh(){s.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){r()}})},onOfflineReady(){s.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(l){l&&setInterval(()=>l.update(),60*60*1e3)}})}),n()});export{o as D,Yn as _,Je as a,ye as b,Fg as c,pt as g,zi as l,be as p,qe as s};
