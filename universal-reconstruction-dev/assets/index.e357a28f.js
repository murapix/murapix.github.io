/* empty css                    */import"./vue.7234e199.js";import{q as Bn,C as t,ab as se,t as ae,aF as $,a1 as x,aL as Wt,bv as zn,G as qe,as as fn,_ as v,az as Jn,a2 as w,J,O as g,aK as Pe,a0 as H,I as Oe,a8 as u,a9 as a,b7 as oe,aI as ct,aG as dt,b2 as Ct,l as We,u as wi,aD as Cs,w as vt,b3 as It,ap as $s,aH as li,A as ot,$ as ie,b9 as Ui,ar as Bt,bt as lr,bc as Ns,T as ur,j as cr,bw as en,ay as dr,aM as Lt,aO as $e,z as sn,bo as mr,bs as pr,am as bi,H as fr,bx as gr,a7 as br,bf as hr}from"./@vue.6b211d3c.js";import{L as nn}from"./lz-string.bfbf8ec3.js";import{c as Is}from"./nanoevents.1080beb7.js";import{Y as vr}from"./vue-next-select.1947c758.js";import{D as yr}from"./vuedraggable.60c57c44.js";import{p as _r}from"./vue-textarea-autosize.35804eaf.js";import{s as wr,u as qs}from"./vue-toastification.00c27ea8.js";import"./sortablejs.93acc2fb.js";const kr=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}};kr();const Sr="modulepreload",hs={},Cr="./",Hn=function(n,i){return!i||i.length===0?n():Promise.all(i.map(s=>{if(s=`${Cr}${s}`,s in hs)return;hs[s]=!0;const r=s.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":Sr,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((m,d)=>{c.addEventListener("load",m),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n())},$r="./projInfo-schema.json",Nr="Universal Reconstruction",Ir="An expanded reversal of Distance Incremental",qr="universal_reconstruction",Mr="Escapee",Tr="The Paper Pilot Community",xr="https://discord.gg/WzejVAx",Pr="1.0",Ar="Revitalization",Fr=!0,Br=!1,Er=2,Rr=!0,Or=null,Dr="",Lr=["root"],jr=3600,Ur=!0,Vr="base64";var ye={$schema:$r,title:Nr,description:Ir,id:qr,author:Mr,discordName:Tr,discordLink:xr,versionNumber:Pr,versionTitle:Ar,allowGoBack:Fr,defaultShowSmall:Br,defaultDigitsShown:Er,useHeader:Rr,banner:Or,logo:Dr,initialTabs:Lr,maxTickLength:jr,enablePausing:Ur,exportEncoding:Vr};const Gr=Bn({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});var be=window.player=Gr;function Vi(e){return JSON.stringify(e,(n,i)=>t(i))}var fe=(e,n)=>{const i=e.__vccOpts||e;for(const[s,r]of n)i[s]=r;return i};const zr=["onClick"],Hr=se({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:n}){const i=ae(!1),s=ae(null);function r(){n("click"),s.value&&clearTimeout(s.value),i.value=!1,fn(()=>{i.value=!0,s.value=setTimeout(()=>i.value=!1,500)})}return(l,c)=>($(),x("button",{onClick:zn(r,["stop"]),class:qe(["feedback",{activated:i.value,left:e.left}])},[Wt(l.$slots,"default",{},void 0,!0)],10,zr))}});var ki=fe(Hr,[["__scopeId","data-v-01a1b95c"]]);const Si=e=>(ct("data-v-ac351c02"),e=e(),dt(),e),Wr={class:"error"},Yr={class:"error-title"},Kr={class:"error-details",style:{"margin-top":"-10px"}},Xr={key:0},Qr={class:"instructions"},Zr=["href"],Jr=Si(()=>w("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1)),eo=Si(()=>w("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)),to=Si(()=>w("br",null,null,-1)),no={key:0,style:{"margin-top":"20px"}},io=Si(()=>w("h3",null,"Other errors",-1)),so=[io],ro={class:"error-details"},oo={key:0,style:{"margin-top":"10px"}},ao={key:1,style:{"margin-top":"10px"}},lo=se({__name:"Error",props:{errors:null},setup(e){const n=e,i=v(()=>n.errors[0]),s=v(()=>n.errors.map(c=>c.stack==null?[]:c.stack.split(`
`))),r=v(()=>n.errors.map(c=>c.cause==null?[]:(typeof c.cause=="string"?c.cause:JSON.stringify(c.cause)).split(`
`)));function l(){let c=Vi(be);switch(ye.exportEncoding){default:console.warn(`Unknown save encoding: ${ye.exportEncoding}. Defaulting to lz`);case"lz":c=nn.compressToUTF16(c);break;case"base64":c=btoa(unescape(encodeURIComponent(c)));break;case"plain":break}console.log(c);const m=document.createElement("textarea");m.value=c,document.body.appendChild(m),m.select(),m.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(m)}return Jn(()=>{be.autosave=!1,be.devSpeed=0}),(c,m)=>($(),x("div",Wr,[w("h1",Yr,J(t(i).name)+": "+J(t(i).message),1),w("div",Kr,[t(i).cause?($(),x("div",Xr,[($(!0),x(g,null,Pe(t(r)[0],d=>($(),x("div",{key:d},J(d),1))),128))])):H("",!0),t(i).stack?($(),x("div",{key:1,style:Oe(t(i).cause?"margin-top: 10px":"")},[($(!0),x(g,null,Pe(t(s)[0],d=>($(),x("div",{key:d},J(d),1))),128))],4)):H("",!0)]),w("div",Qr,[u(" Check the console for more details, and consider sharing it with the developers on "),w("a",{href:t(ye).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,Zr),u("! "),a(ki,{onClick:l,class:"button",style:{display:"inline-flex"}},{default:oe(()=>[Jr,eo]),_:1}),to,e.errors.length>1?($(),x("div",no,so)):H("",!0),($(!0),x(g,null,Pe(e.errors.slice(1),(d,p)=>($(),x("div",{key:p,style:{"margin-top":"20px"}},[w("details",ro,[w("summary",null,J(d.name)+": "+J(d.message),1),d.cause?($(),x("div",oo,[($(!0),x(g,null,Pe(t(r)[p+1],b=>($(),x("div",{key:b},J(b),1))),128))])):H("",!0),d.stack?($(),x("div",ao,[($(!0),x(g,null,Pe(t(s)[p+1],b=>($(),x("div",{key:b},J(b),1))),128))])):H("",!0)])]))),128))])]))}});var Ms=fe(lo,[["__scopeId","data-v-ac351c02"]]);class uo{constructor(n){this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=n}get size(){return this.map.size}get(n){const i=this.map.get(n);if(i!==void 0)return i!==this.first&&(i===this.last?(this.last=i.prev,this.last.next=void 0):(i.prev.next=i.next,i.next.prev=i.prev),i.next=this.first,this.first.prev=i,this.first=i),i.value}set(n,i){if(this.maxSize<1)return;if(this.map.has(n))throw new Error("Cannot update existing keys in the cache");const s=new co(n,i);for(this.first===void 0?(this.first=s,this.last=s):(s.next=this.first,this.first.prev=s,this.first=s),this.map.set(n,s);this.map.size>this.maxSize;){const r=this.last;this.map.delete(r.key),this.last=r.prev,this.last.next=void 0}}}class co{constructor(n,i){this.next=void 0,this.prev=void 0,this.key=n,this.value=i}}const Mi=17,mo=9e15,po=Math.log10(9e15),fo=1/9e15,go=308,bo=-324,vs=5,ho=(1<<10)-1,vo=function(){const e=[];for(let i=bo+1;i<=go;i++)e.push(Number("1e"+i));const n=323;return function(i){return e[i+n]}}(),_n=[2,Math.E,3,4,5,6,7,8,9,10],yo=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],_o=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let L=function(n){return o.fromValue_noAlloc(n)},ve=function(e,n,i){return o.fromComponents(e,n,i)},Ne=function(n,i,s){return o.fromComponents_noNormalize(n,i,s)};const ln=function(n,i){const s=i+1,r=Math.ceil(Math.log10(Math.abs(n))),l=Math.round(n*Math.pow(10,s-r))*Math.pow(10,r-s);return parseFloat(l.toFixed(Math.max(s-r,0)))},Ti=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},wo=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let n=1;for(;e<10;)n=n*e,++e;e-=1;let i=.9189385332046727;i=i+(e+.5)*Math.log(e),i=i-e;const s=e*e;let r=e;return i=i+1/(12*r),r=r*s,i=i+1/(360*r),r=r*s,i=i+1/(1260*r),r=r*s,i=i+1/(1680*r),r=r*s,i=i+1/(1188*r),r=r*s,i=i+691/(360360*r),r=r*s,i=i+7/(1092*r),r=r*s,i=i+3617/(122400*r),Math.exp(i)/n},Ts=.5671432904097838,ys=function(e,n=1e-10){let i,s;if(!Number.isFinite(e)||e===0)return e;if(e===1)return Ts;e<10?i=0:i=Math.log(e)-Math.log(Math.log(e));for(let r=0;r<100;++r){if(s=(e*Math.exp(-i)+i*i)/(i+1),Math.abs(s-i)<n*Math.abs(s))return s;i=s}throw Error(`Iteration failed to converge: ${e.toString()}`)};function _s(e,n=1e-10){let i,s,r,l;if(!Number.isFinite(e.mag)||e.eq(o.dZero))return e;if(e.eq(o.dOne))return o.fromNumber(Ts);i=o.ln(e);for(let c=0;c<100;++c){if(s=i.neg().exp(),r=i.sub(e.mul(s)),l=i.sub(r.div(i.add(1).sub(i.add(2).mul(r).div(o.mul(2,i).add(2))))),o.abs(l.sub(i)).lt(o.abs(l).mul(n)))return l;i=l}throw Error(`Iteration failed to converge: ${e.toString()}`)}const O=class{constructor(e){this.sign=0,this.mag=0,this.layer=0,e instanceof O?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let n;return this.mag===5e-324?n=5:n=this.mag/vo(e),this.sign*n}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,n,i){return new O().fromComponents(e,n,i)}static fromComponents_noNormalize(e,n,i){return new O().fromComponents_noNormalize(e,n,i)}static fromMantissaExponent(e,n){return new O().fromMantissaExponent(e,n)}static fromMantissaExponent_noNormalize(e,n){return new O().fromMantissaExponent_noNormalize(e,n)}static fromDecimal(e){return new O().fromDecimal(e)}static fromNumber(e){return new O().fromNumber(e)}static fromString(e){return new O().fromString(e)}static fromValue(e){return new O().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof O)return e;if(typeof e=="string"){const n=O.fromStringCache.get(e);return n!==void 0?n:O.fromString(e)}else return typeof e=="number"?O.fromNumber(e):O.dZero}static abs(e){return L(e).abs()}static neg(e){return L(e).neg()}static negate(e){return L(e).neg()}static negated(e){return L(e).neg()}static sign(e){return L(e).sign}static sgn(e){return L(e).sign}static round(e){return L(e).round()}static floor(e){return L(e).floor()}static ceil(e){return L(e).ceil()}static trunc(e){return L(e).trunc()}static add(e,n){return L(e).add(n)}static plus(e,n){return L(e).add(n)}static sub(e,n){return L(e).sub(n)}static subtract(e,n){return L(e).sub(n)}static minus(e,n){return L(e).sub(n)}static mul(e,n){return L(e).mul(n)}static multiply(e,n){return L(e).mul(n)}static times(e,n){return L(e).mul(n)}static div(e,n){return L(e).div(n)}static divide(e,n){return L(e).div(n)}static recip(e){return L(e).recip()}static reciprocal(e){return L(e).recip()}static reciprocate(e){return L(e).reciprocate()}static cmp(e,n){return L(e).cmp(n)}static cmpabs(e,n){return L(e).cmpabs(n)}static compare(e,n){return L(e).cmp(n)}static isNaN(e){return e=L(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=L(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,n){return L(e).eq(n)}static equals(e,n){return L(e).eq(n)}static neq(e,n){return L(e).neq(n)}static notEquals(e,n){return L(e).notEquals(n)}static lt(e,n){return L(e).lt(n)}static lte(e,n){return L(e).lte(n)}static gt(e,n){return L(e).gt(n)}static gte(e,n){return L(e).gte(n)}static max(e,n){return L(e).max(n)}static min(e,n){return L(e).min(n)}static minabs(e,n){return L(e).minabs(n)}static maxabs(e,n){return L(e).maxabs(n)}static clamp(e,n,i){return L(e).clamp(n,i)}static clampMin(e,n){return L(e).clampMin(n)}static clampMax(e,n){return L(e).clampMax(n)}static cmp_tolerance(e,n,i){return L(e).cmp_tolerance(n,i)}static compare_tolerance(e,n,i){return L(e).cmp_tolerance(n,i)}static eq_tolerance(e,n,i){return L(e).eq_tolerance(n,i)}static equals_tolerance(e,n,i){return L(e).eq_tolerance(n,i)}static neq_tolerance(e,n,i){return L(e).neq_tolerance(n,i)}static notEquals_tolerance(e,n,i){return L(e).notEquals_tolerance(n,i)}static lt_tolerance(e,n,i){return L(e).lt_tolerance(n,i)}static lte_tolerance(e,n,i){return L(e).lte_tolerance(n,i)}static gt_tolerance(e,n,i){return L(e).gt_tolerance(n,i)}static gte_tolerance(e,n,i){return L(e).gte_tolerance(n,i)}static pLog10(e){return L(e).pLog10()}static absLog10(e){return L(e).absLog10()}static log10(e){return L(e).log10()}static log(e,n){return L(e).log(n)}static log2(e){return L(e).log2()}static ln(e){return L(e).ln()}static logarithm(e,n){return L(e).logarithm(n)}static pow(e,n){return L(e).pow(n)}static pow10(e){return L(e).pow10()}static pow_base(e,n){return L(e).pow_base(n)}static root(e,n){return L(e).root(n)}static factorial(e,n){return L(e).factorial()}static gamma(e,n){return L(e).gamma()}static lngamma(e,n){return L(e).lngamma()}static exp(e){return L(e).exp()}static sqr(e){return L(e).sqr()}static sqrt(e){return L(e).sqrt()}static cube(e){return L(e).cube()}static cbrt(e){return L(e).cbrt()}static tetrate(e,n=2,i=Ne(1,0,1)){return L(e).tetrate(n,i)}static iteratedexp(e,n=2,i=Ne(1,0,1)){return L(e).iteratedexp(n,i)}static iteratedlog(e,n=10,i=1){return L(e).iteratedlog(n,i)}static layeradd10(e,n){return L(e).layeradd10(n)}static layeradd(e,n,i=10){return L(e).layeradd(n,i)}static slog(e,n=10){return L(e).slog(n)}static lambertw(e){return L(e).lambertw()}static ssqrt(e){return L(e).ssqrt()}static pentate(e,n=2,i=Ne(1,0,1)){return L(e).pentate(n,i)}static sin(e){return L(e).sin()}static cos(e){return L(e).cos()}static tan(e){return L(e).tan()}static asin(e){return L(e).asin()}static acos(e){return L(e).acos()}static atan(e){return L(e).atan()}static sinh(e){return L(e).sinh()}static cosh(e){return L(e).cosh()}static tanh(e){return L(e).tanh()}static asinh(e){return L(e).asinh()}static acosh(e){return L(e).acosh()}static atanh(e){return L(e).atanh()}static affordGeometricSeries(e,n,i,s){return this.affordGeometricSeries_core(L(e),L(n),L(i),s)}static sumGeometricSeries(e,n,i,s){return this.sumGeometricSeries_core(e,L(n),L(i),s)}static affordArithmeticSeries(e,n,i,s){return this.affordArithmeticSeries_core(L(e),L(n),L(i),L(s))}static sumArithmeticSeries(e,n,i,s){return this.sumArithmeticSeries_core(L(e),L(n),L(i),L(s))}static efficiencyOfPurchase(e,n,i){return this.efficiencyOfPurchase_core(L(e),L(n),L(i))}static randomDecimalForTesting(e){if(Math.random()*20<1)return Ne(0,0,0);const n=Math.random()>.5?1:-1;if(Math.random()*20<1)return Ne(n,0,1);const i=Math.floor(Math.random()*(e+1));let s=i===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(s=Math.trunc(s));let r=Math.pow(10,s);return Math.random()>.9&&(r=Math.trunc(r)),ve(n,i,r)}static affordGeometricSeries_core(e,n,i,s){const r=n.mul(i.pow(s));return O.floor(e.div(r).mul(i.sub(1)).add(1).log10().div(i.log10()))}static sumGeometricSeries_core(e,n,i,s){return n.mul(i.pow(s)).mul(O.sub(1,i.pow(e))).div(O.sub(1,i))}static affordArithmeticSeries_core(e,n,i,s){const l=n.add(s.mul(i)).sub(i.div(2)),c=l.pow(2);return l.neg().add(c.add(i.mul(e).mul(2)).sqrt()).div(i).floor()}static sumArithmeticSeries_core(e,n,i,s){const r=n.add(s.mul(i));return e.div(2).mul(r.mul(2).plus(e.sub(1).mul(i)))}static efficiencyOfPurchase_core(e,n,i){return e.div(n).add(e.div(i))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<fo)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),n=Math.sign(this.mag);if(e>=mo)return this.layer+=1,this.mag=n*Math.log10(e),this;for(;e<po&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=n*Math.pow(10,e),e=Math.abs(this.mag),n=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this.normalize(),this}fromComponents_noNormalize(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this}fromMantissaExponent(e,n){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=n+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,n){return this.fromMantissaExponent(e,n),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const n=e,i=O.fromStringCache.get(n);if(i!==void 0)return this.fromDecimal(i);e=e.replace(",","");const s=e.split("^^^");if(s.length===2){const I=parseFloat(s[0]),q=parseFloat(s[1]),E=s[1].split(";");let P=1;if(E.length===2&&(P=parseFloat(E[1]),isFinite(P)||(P=1)),isFinite(I)&&isFinite(q)){const M=O.pentate(I,q,P);return this.sign=M.sign,this.layer=M.layer,this.mag=M.mag,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}}const r=e.split("^^");if(r.length===2){const I=parseFloat(r[0]),q=parseFloat(r[1]),E=r[1].split(";");let P=1;if(E.length===2&&(P=parseFloat(E[1]),isFinite(P)||(P=1)),isFinite(I)&&isFinite(q)){const M=O.tetrate(I,q,P);return this.sign=M.sign,this.layer=M.layer,this.mag=M.mag,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}}const l=e.split("^");if(l.length===2){const I=parseFloat(l[0]),q=parseFloat(l[1]);if(isFinite(I)&&isFinite(q)){const E=O.pow(I,q);return this.sign=E.sign,this.layer=E.layer,this.mag=E.mag,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}}e=e.trim().toLowerCase();let c,m,d=e.split("pt");if(d.length===2){c=10,m=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let I=parseFloat(d[1]);if(isFinite(I)||(I=1),isFinite(c)&&isFinite(m)){const q=O.tetrate(c,m,I);return this.sign=q.sign,this.layer=q.layer,this.mag=q.mag,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}}if(d=e.split("p"),d.length===2){c=10,m=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let I=parseFloat(d[1]);if(isFinite(I)||(I=1),isFinite(c)&&isFinite(m)){const q=O.tetrate(c,m,I);return this.sign=q.sign,this.layer=q.layer,this.mag=q.mag,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}}const p=e.split("e"),b=p.length-1;if(b===0){const I=parseFloat(e);if(isFinite(I))return this.fromNumber(I),O.fromStringCache.size>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}else if(b===1){const I=parseFloat(e);if(isFinite(I)&&I!==0)return this.fromNumber(I),O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}const f=e.split("e^");if(f.length===2){this.sign=1,f[0].charAt(0)=="-"&&(this.sign=-1);let I="";for(let q=0;q<f[1].length;++q){const E=f[1].charCodeAt(q);if(E>=43&&E<=57||E===101)I+=f[1].charAt(q);else return this.layer=parseFloat(I),this.mag=parseFloat(f[1].substr(q+1)),this.normalize(),O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}}if(b<1)return this.sign=0,this.layer=0,this.mag=0,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this;const h=parseFloat(p[0]);if(h===0)return this.sign=0,this.layer=0,this.mag=0,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this;let N=parseFloat(p[p.length-1]);if(b>=2){const I=parseFloat(p[p.length-2]);isFinite(I)&&(N*=Math.sign(I),N+=Ti(I))}if(!isFinite(h))this.sign=p[0]==="-"?-1:1,this.layer=b,this.mag=N;else if(b===1)this.sign=Math.sign(h),this.layer=1,this.mag=N+Math.log10(Math.abs(h));else if(this.sign=Math.sign(h),this.layer=b,b===2){const I=O.mul(ve(1,2,N),L(h));return this.sign=I.sign,this.layer=I.layer,this.mag=I.mag,O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}else this.mag=N;return this.normalize(),O.fromStringCache.maxSize>=1&&O.fromStringCache.set(n,O.fromDecimal(this)),this}fromValue(e){return e instanceof O?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:ln(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:ln(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=vs?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):ln(this.m,e)+"e"+ln(this.e,e):this.layer===1?ln(this.m,e)+"e"+ln(this.e,e):this.layer<=vs?(this.sign===-1?"-":"")+"e".repeat(this.layer)+ln(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+ln(this.mag,e)}abs(){return Ne(this.sign===0?0:1,this.layer,this.mag)}neg(){return Ne(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?O.dZero:this.layer===0?ve(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?O.dZero:this.layer===0?ve(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?O.dZero:this.layer===0?ve(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?O.dZero:this.layer===0?ve(this.sign,0,Math.trunc(this.mag)):this}add(e){const n=L(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer)||this.sign===0)return n;if(n.sign===0)return this;if(this.sign===-n.sign&&this.layer===n.layer&&this.mag===n.mag)return Ne(0,0,0);let i,s;if(this.layer>=2||n.layer>=2)return this.maxabs(n);if(O.cmpabs(this,n)>0?(i=this,s=n):(i=n,s=this),i.layer===0&&s.layer===0)return O.fromNumber(i.sign*i.mag+s.sign*s.mag);const r=i.layer*Math.sign(i.mag),l=s.layer*Math.sign(s.mag);if(r-l>=2)return i;if(r===0&&l===-1){if(Math.abs(s.mag-Math.log10(i.mag))>Mi)return i;{const c=Math.pow(10,Math.log10(i.mag)-s.mag),m=s.sign+i.sign*c;return ve(Math.sign(m),1,s.mag+Math.log10(Math.abs(m)))}}if(r===1&&l===0){if(Math.abs(i.mag-Math.log10(s.mag))>Mi)return i;{const c=Math.pow(10,i.mag-Math.log10(s.mag)),m=s.sign+i.sign*c;return ve(Math.sign(m),1,Math.log10(s.mag)+Math.log10(Math.abs(m)))}}if(Math.abs(i.mag-s.mag)>Mi)return i;{const c=Math.pow(10,i.mag-s.mag),m=s.sign+i.sign*c;return ve(Math.sign(m),1,s.mag+Math.log10(Math.abs(m)))}}plus(e){return this.add(e)}sub(e){return this.add(L(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const n=L(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer))return n;if(this.sign===0||n.sign===0)return Ne(0,0,0);if(this.layer===n.layer&&this.mag===-n.mag)return Ne(this.sign*n.sign,0,1);let i,s;if(this.layer>n.layer||this.layer==n.layer&&Math.abs(this.mag)>Math.abs(n.mag)?(i=this,s=n):(i=n,s=this),i.layer===0&&s.layer===0)return O.fromNumber(i.sign*s.sign*i.mag*s.mag);if(i.layer>=3||i.layer-s.layer>=2)return ve(i.sign*s.sign,i.layer,i.mag);if(i.layer===1&&s.layer===0)return ve(i.sign*s.sign,1,i.mag+Math.log10(s.mag));if(i.layer===1&&s.layer===1)return ve(i.sign*s.sign,1,i.mag+s.mag);if(i.layer===2&&s.layer===1){const r=ve(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(ve(Math.sign(s.mag),s.layer-1,Math.abs(s.mag)));return ve(i.sign*s.sign,r.layer+1,r.sign*r.mag)}if(i.layer===2&&s.layer===2){const r=ve(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(ve(Math.sign(s.mag),s.layer-1,Math.abs(s.mag)));return ve(i.sign*s.sign,r.layer+1,r.sign*r.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const n=L(e);return this.mul(n.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?O.dNaN:this.layer===0?ve(this.sign,0,1/this.mag):ve(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const n=L(e);return this.sign>n.sign?1:this.sign<n.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const n=L(e),i=this.mag>0?this.layer:-this.layer,s=n.mag>0?n.layer:-n.layer;return i>s?1:i<s?-1:this.mag>n.mag?1:this.mag<n.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const n=L(e);return this.sign===n.sign&&this.layer===n.layer&&this.mag===n.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const n=L(e);return this.lt(n)?n:this}min(e){const n=L(e);return this.gt(n)?n:this}maxabs(e){const n=L(e);return this.cmpabs(n)<0?n:this}minabs(e){const n=L(e);return this.cmpabs(n)>0?n:this}clamp(e,n){return this.max(e).min(n)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,n){const i=L(e);return this.eq_tolerance(i,n)?0:this.cmp(i)}compare_tolerance(e,n){return this.cmp_tolerance(e,n)}eq_tolerance(e,n){const i=L(e);if(n==null&&(n=1e-7),this.sign!==i.sign||Math.abs(this.layer-i.layer)>1)return!1;let s=this.mag,r=i.mag;return this.layer>i.layer&&(r=Ti(r)),this.layer<i.layer&&(s=Ti(s)),Math.abs(s-r)<=n*Math.max(Math.abs(s),Math.abs(r))}equals_tolerance(e,n){return this.eq_tolerance(e,n)}neq_tolerance(e,n){return!this.eq_tolerance(e,n)}notEquals_tolerance(e,n){return this.neq_tolerance(e,n)}lt_tolerance(e,n){const i=L(e);return!this.eq_tolerance(i,n)&&this.lt(i)}lte_tolerance(e,n){const i=L(e);return this.eq_tolerance(i,n)||this.lt(i)}gt_tolerance(e,n){const i=L(e);return!this.eq_tolerance(i,n)&&this.gt(i)}gte_tolerance(e,n){const i=L(e);return this.eq_tolerance(i,n)||this.gt(i)}pLog10(){return this.lt(O.dZero)?O.dZero:this.log10()}absLog10(){return this.sign===0?O.dNaN:this.layer>0?ve(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):ve(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?O.dNaN:this.layer>0?ve(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):ve(this.sign,0,Math.log10(this.mag))}log(e){return e=L(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?O.dNaN:this.layer===0&&e.layer===0?ve(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):O.div(this.log10(),e.log10())}log2(){return this.sign<=0?O.dNaN:this.layer===0?ve(this.sign,0,Math.log2(this.mag)):this.layer===1?ve(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?ve(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):ve(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?O.dNaN:this.layer===0?ve(this.sign,0,Math.log(this.mag)):this.layer===1?ve(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?ve(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):ve(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const n=L(e),i=this,s=n;if(i.sign===0)return s.eq(0)?Ne(1,0,1):i;if(i.sign===1&&i.layer===0&&i.mag===1)return i;if(s.sign===0)return Ne(1,0,1);if(s.sign===1&&s.layer===0&&s.mag===1)return i;const r=i.absLog10().mul(s).pow10();return this.sign===-1?Math.abs(s.toNumber()%2)%2===1?r.neg():Math.abs(s.toNumber()%2)%2===0?r:O.dNaN:r}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return O.dNaN;let e=this;if(e.layer===0){const n=Math.pow(10,e.sign*e.mag);if(Number.isFinite(n)&&Math.abs(n)>=.1)return ve(1,0,n);if(e.sign===0)return O.dOne;e=Ne(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?ve(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?ve(-e.sign,e.layer+1,-e.mag):O.dOne}pow_base(e){return L(e).pow(this)}root(e){const n=L(e);return this.pow(n.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?O.exp(O.mul(this,O.ln(this).sub(1))):O.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(Ne(1,0,24)))return O.fromNumber(wo(this.sign*this.mag));const e=this.mag-1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let s=e,r=12*s,l=1/r,c=n+l;if(c===n||(n=c,s=s*i,r=360*s,l=1/r,c=n-l,c===n))return O.exp(n);n=c,s=s*i,r=1260*s;let m=1/r;return n=n+m,s=s*i,r=1680*s,m=1/r,n=n-m,O.exp(n)}else return this.layer===1?O.exp(O.mul(this,O.ln(this).sub(1))):O.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?O.dOne:this.layer===0&&this.mag<=709.7?O.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?ve(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?ve(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):ve(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return O.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return ve(1,2,Math.log10(this.mag)-.3010299956639812);{const e=O.div(Ne(this.sign,this.layer-1,this.mag),Ne(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,n=Ne(1,0,1)){if(e===1)return O.pow(this,n);if(e===0)return new O(n);if(this.eq(O.dOne))return O.dOne;if(this.eq(-1))return O.pow(this,n);if(e===Number.POSITIVE_INFINITY){const r=this.toNumber();if(r<=1.444667861009766&&r>=.06598803584531254){if(r>1.444667861009099)return O.fromNumber(Math.E);const l=O.ln(this).neg();return l.lambertw().div(l)}else return r>1.444667861009766?O.fromNumber(Number.POSITIVE_INFINITY):O.dNaN}if(this.eq(O.dZero)){let r=Math.abs((e+1)%2);return r>1&&(r=2-r),O.fromNumber(r)}if(e<0)return O.iteratedlog(n,this,-e);n=L(n);const i=e;e=Math.trunc(e);const s=i-e;if(this.gt(O.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let r=0;r<e;++r){const l=n;if(n=this.pow(n),l.eq(n))return n}if(s!=0){const r=this.pow(n);return n.mul(1-s).add(r.mul(s))}return n}s!==0&&(n.eq(O.dOne)?this.gt(10)?n=this.pow(s):(n=O.fromNumber(O.tetrate_critical(this.toNumber(),s)),this.lt(2)&&(n=n.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?n=n.layeradd10(s):n=n.layeradd(s,this));for(let r=0;r<e;++r){if(n=this.pow(n),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(n.layer-this.layer>3)return Ne(n.sign,n.layer+(e-r-1),n.mag);if(r>1e4)return n}return n}iteratedexp(e=2,n=Ne(1,0,1)){return this.tetrate(e,n)}iteratedlog(e=10,n=1){if(n<0)return O.tetrate(e,-n,this);e=L(e);let i=O.fromDecimal(this);const s=n;n=Math.trunc(n);const r=s-n;if(i.layer-e.layer>3){const l=Math.min(n,i.layer-e.layer-3);n-=l,i.layer-=l}for(let l=0;l<n;++l){if(i=i.log(e),!isFinite(i.layer)||!isFinite(i.mag))return i.normalize();if(l>1e4)return i}return r>0&&r<1&&(e.eq(10)?i=i.layeradd10(-r):i=i.layeradd(-r,e)),i}slog(e=10,n=100){let i=.001,s=!1,r=!1,l=this.slog_internal(e).toNumber();for(let c=1;c<n;++c){const d=new O(e).tetrate(l).gt(this);if(c>1&&r!=d&&(s=!0),r=d,s?i/=2:i*=2,i=Math.abs(i)*(d?-1:1),l+=i,i===0)break}return O.fromNumber(l)}slog_internal(e=10){if(e=L(e),e.lte(O.dZero)||e.eq(O.dOne))return O.dNaN;if(e.lt(O.dOne))return this.eq(O.dOne)?O.dZero:this.eq(O.dZero)?O.dNegOne:O.dNaN;if(this.mag<0||this.eq(O.dZero))return O.dNegOne;let n=0,i=O.fromDecimal(this);if(i.layer-e.layer>3){const s=i.layer-e.layer-3;n+=s,i.layer-=s}for(let s=0;s<100;++s)if(i.lt(O.dZero))i=O.pow(e,i),n-=1;else{if(i.lte(O.dOne))return O.fromNumber(n+O.slog_critical(e.toNumber(),i.toNumber()));n+=1,i=O.log(i,e)}return O.fromNumber(n)}static slog_critical(e,n){return e>10?n-1:O.critical_section(e,n,_o)}static tetrate_critical(e,n){return O.critical_section(e,n,yo)}static critical_section(e,n,i){n*=10,n<0&&(n=0),n>10&&(n=10),e<2&&(e=2),e>10&&(e=10);let s=0,r=0;for(let c=0;c<_n.length;++c)if(_n[c]==e){s=i[c][Math.floor(n)],r=i[c][Math.ceil(n)];break}else if(_n[c]<e&&_n[c+1]>e){const m=(e-_n[c])/(_n[c+1]-_n[c]);s=i[c][Math.floor(n)]*(1-m)+i[c+1][Math.floor(n)]*m,r=i[c][Math.ceil(n)]*(1-m)+i[c+1][Math.ceil(n)]*m;break}const l=n-Math.floor(n);return s<=0||r<=0?s*(1-l)+r*l:Math.pow(e,Math.log(s)/Math.log(e)*(1-l)+Math.log(r)/Math.log(e)*l)}layeradd10(e){e=O.fromValue_noAlloc(e).toNumber();const n=O.fromDecimal(this);if(e>=1){n.mag<0&&n.layer>0?(n.sign=0,n.mag=0,n.layer=0):n.sign===-1&&n.layer==0&&(n.sign=1,n.mag=-n.mag);const i=Math.trunc(e);e-=i,n.layer+=i}if(e<=-1){const i=Math.trunc(e);if(e-=i,n.layer+=i,n.layer<0)for(let s=0;s<100;++s){if(n.layer++,n.mag=Math.log10(n.mag),!isFinite(n.mag))return n.sign===0&&(n.sign=1),n.layer<0&&(n.layer=0),n.normalize();if(n.layer>=0)break}}for(;n.layer<0;)n.layer++,n.mag=Math.log10(n.mag);return n.sign===0&&(n.sign=1,n.mag===0&&n.layer>=1&&(n.layer-=1,n.mag=1)),n.normalize(),e!==0?n.layeradd(e,10):n}layeradd(e,n){const s=this.slog(n).toNumber()+e;return s>=0?O.tetrate(n,s):Number.isFinite(s)?s>=-1?O.log(O.tetrate(n,s+1),n):O.log(O.log(O.tetrate(n,s+2),n),n):O.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return O.fromNumber(ys(this.toNumber()));if(this.layer===0)return O.fromNumber(ys(this.sign*this.mag));if(this.layer===1)return _s(this);if(this.layer===2)return _s(this);if(this.layer>=3)return Ne(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return Ne(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,n=Ne(1,0,1)){n=L(n);const i=e;e=Math.trunc(e);const s=i-e;s!==0&&(n.eq(O.dOne)?(++e,n=O.fromNumber(s)):this.eq(10)?n=n.layeradd10(s):n=n.layeradd(s,this));for(let r=0;r<e;++r){if(n=this.tetrate(n.toNumber()),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(r>10)return n}return n}sin(){return this.mag<0?this:this.layer===0?O.fromNumber(Math.sin(this.sign*this.mag)):Ne(0,0,0)}cos(){return this.mag<0?O.dOne:this.layer===0?O.fromNumber(Math.cos(this.sign*this.mag)):Ne(0,0,0)}tan(){return this.mag<0?this:this.layer===0?O.fromNumber(Math.tan(this.sign*this.mag)):Ne(0,0,0)}asin(){return this.mag<0?this:this.layer===0?O.fromNumber(Math.asin(this.sign*this.mag)):Ne(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?O.fromNumber(Math.acos(this.toNumber())):this.layer===0?O.fromNumber(Math.acos(this.sign*this.mag)):Ne(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?O.fromNumber(Math.atan(this.sign*this.mag)):O.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return O.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return O.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?Ne(Number.NaN,Number.NaN,Number.NaN):O.ln(this.add(1).div(O.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(O.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let o=O;o.fromStringCache=new uo(ho);o.dZero=Ne(0,0,0);o.dOne=Ne(1,0,1);o.dNegOne=Ne(-1,0,1);o.dTwo=Ne(1,0,2);o.dTen=Ne(1,0,10);o.dNaN=Ne(Number.NaN,Number.NaN,Number.NaN);o.dInf=Ne(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);o.dNegInf=Ne(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);o.dNumberMax=ve(1,0,Number.MAX_VALUE);o.dNumberMin=ve(1,0,Number.MIN_VALUE);L=o.fromValue_noAlloc;ve=o.fromComponents;Ne=o.fromComponents_noNormalize;o.fromMantissaExponent;o.fromMantissaExponent_noNormalize;const pt=Is();"fonts"in document&&(document.fonts.onloadingdone=()=>pt.emit("fontsLoaded"));var ko=Object.freeze(Object.defineProperty({__proto__:null,globalBus:pt},Symbol.toStringTag,{value:"Module"})),ze=(e=>(e.standard="standard",e.thousands="thousands",e.engineering="engineering",e.scientific="scientific",e))(ze||{});function xs(e={}){return Object.assign({id:`${ye.id}-0`,name:"Default Save",tabs:ye.initialTabs.slice(),time:Date.now(),autosave:!0,timePlayed:0,keepGoing:!1,modID:ye.id,modVersion:ye.versionNumber,layers:{}},e)}const So=ae(!1);function Ft(e){var i;if(t(So))return(i=localStorage.getItem((e!=null?e:be).id))!=null?i:"";const n=nn.compressToUTF16(Vi(e!=null?e:be));return localStorage.setItem((e!=null?e:be).id,n),n}async function Co(){No();try{let e=localStorage.getItem(Be.active);if(e==null){await kn(Tn());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=nn.decompressFromUTF16(e);else throw"Unable to determine save encoding";const n=JSON.parse(e);if(n.modID!==ye.id){await kn(Tn());return}n.id=Be.active,await kn(n)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await kn(Tn())}}function Tn(){const e=pi(),n=xs({id:e});return Ft(n),Be.saves.push(e),n}function pi(){let e,n=0;do e=`${ye.id}-${n++}`;while(localStorage.getItem(e)!=null);return e}const Gi=ae(!1);async function kn(e){console.info("Loading save",e),Gi.value=!0;const{layers:n,removeLayer:i,addLayer:s}=await Hn(()=>Promise.resolve().then(function(){return jl}),void 0),{fixOldSave:r,getInitialLayers:l}=await Hn(()=>Promise.resolve().then(function(){return Rg}),void 0);for(const c in n){const m=n[c];m&&i(m)}l(e).forEach(c=>s(c,e)),e=xs(e),e.time=Date.now(),e.modVersion!==ye.versionNumber&&(r(e.modVersion,e),e.modVersion=ye.versionNumber),Object.assign(be,e),Be.active=be.id,pt.emit("onLoad")}setInterval(()=>{be.autosave&&Ft()},1e3);window.onbeforeunload=()=>{be.autosave&&Ft()};window.save=Ft;const $o=window.hardReset=async()=>{await kn(Tn())};window.deleteLowerSaves=()=>{const e=Object.values(Be.saves).indexOf(be.id)+1;Object.values(Be.saves).slice(e).forEach(n=>localStorage.removeItem(n)),Be.saves=Be.saves.slice(0,e)};const Wn=Bn({active:"",saves:[],showTPS:!0,unthrottled:!1,alignUnits:!1,numberFormat:ze.scientific,backupNumberFormat:ze.scientific});Ct(Wn,e=>{const n=nn.compressToUTF16(JSON.stringify(e));localStorage.setItem(ye.id,n)},{deep:!0});var Be=window.settings=Wn;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,alignUnits:!1,numberFormat:ze.scientific,backupNumberFormat:ze.scientific};pt.emit("loadSettings",e),Object.assign(Wn,e),$o()};function No(){try{let e=localStorage.getItem(ye.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=nn.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const n=JSON.parse(e);typeof n=="object"&&Object.assign(Wn,n)}pt.emit("loadSettings",Wn)}catch{}}const Ps=Bn([]);function As(e){Ps.push(e)}const Fs=Bn([]);function Io(e){Fs.push(e)}const qo=Bn([]),Mo=o.pow10(1e3),zi=new o(.001),ui=o.pow10(1e4),To=o.pow10(Number.MAX_SAFE_INTEGER),xo=new o("eeee1000");var Hi=(e=>(e.decimal="decimal",e.total="total",e))(Hi||{});function D(e,n=ye.defaultDigitsShown,i=ye.defaultShowSmall,s=Be.numberFormat){if(e=new o(e),o.isNaN(e))return"NaN";if(e.sign<0)return`-${D(e.negate(),n,i,s)}`;if(!o.isFinite(e))return"Infinity";if(e.gte(xo))return Bs(e);if(e.gte(To))return xn(e,n);if(e.eq(o.dZero))return 0 .toFixed(n);if(e.lt(zi)&&i)return e=Ls(e),e.gte(Mo)?`${D(e,n)}\u207B\xB9`:xn(e,n).replace(/([^(?:e|F)]*)$/,"-$1");if(e.gte(1e9))switch(s){case ze.standard:return Es(e,Be.backupNumberFormat,n+1,"total",e.gte(ui));case ze.thousands:return Yi(e,n+1,"total",e.gte(ui));case ze.engineering:return Ki(e,n+1,"total",e.gte(ui));case ze.scientific:return xn(e,n,"decimal",e.gte(ui))}if(e.gte(1e3))switch(s){case ze.standard:case ze.thousands:case ze.engineering:return Yn(e,n,"total");case ze.scientific:return Yn(e,n,"decimal")}return gn(e,n)}function Q(e,n=ye.defaultShowSmall,i=Be.numberFormat){if(e=new o(e),e.gte(1e9)||e.lte(.98)&&e.neq(0)&&n)return D(e,void 0,n,i);switch(i){case ze.standard:case ze.thousands:return e.gte(1e4)?D(e,void 0,n,i):D(e,0,n,ze.scientific);default:return D(e,0,n,i)}}function Bs(e){e=new o(e);const n=e.slog();if(n.gte(1e6))return`F${D(n.floor())}`;const i=n.sub(n.floor()).pow10(),s=n.floor();return`${i.toStringWithDecimalPlaces(3)}F${Yn(s,0)}`}function Es(e,n=Be.backupNumberFormat,i=ye.defaultDigitsShown+1,s="total",r=!1){i<3&&(i=3);const[l,c]=Po(e,i);if(typeof c=="string"){if(r)return`1 ${c}`;switch(s){case"decimal":return`${gn(l,i)} ${c}`;case"total":return`${l.toPrecision(i)} ${c}`}}if(c.eq(0))switch(s){case"decimal":return gn(l,i);case"total":return l.toPrecision(i)}switch(n){case ze.thousands:return Yi(e,i,void 0,r);case ze.engineering:return Ki(e,i,void 0,r);case ze.scientific:return xn(e,i-1,void 0,r)}}function Po(e,n=ye.defaultDigitsShown+1){let[s,r]=Rs(e,n);if(r.gt(1e3))return[s,r];if(r.eq(0))return[s,r];if(r.eq(1))return[s,"K"];if(r.eq(2))return[s,"M"];if(r.eq(3))return[s,"B"];const l=r.minus(1).toNumber(),c=l%10,m=Math.trunc(l%100/10),d=Math.trunc(l%1e3/100);return[s,[Wi(c),Ao(m,c),Fo(d)].join("")]}function Wi(e){switch(e){default:return"";case 1:return"U";case 2:return"D";case 3:return"T";case 4:return"Qa";case 5:return"Qi";case 6:return"Sx";case 7:return"Sp";case 8:return"Oc";case 9:return"No"}}function Ao(e,n){return e===0?"":e===1?n===0?"Dc":"D":e===2?"Vg":`${Wi(e)}g`}function Fo(e){return e===0?"":e===1?"C":`${Wi(e)}C`}function Yi(e,n=ye.defaultDigitsShown+1,i="total",s=!1){n<3&&(n=3);const[r,l]=Rs(e,n,i);if(l.eq(0))switch(i){case"decimal":return gn(r);case"total":return r.toPrecision(n)}if(s)return`t${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${gn(r)}t${l.toStringWithDecimalPlaces(0)}`;case"total":return`${r.toPrecision(n)}t${l.toStringWithDecimalPlaces(0)}`}}function Rs(e,n=ye.defaultDigitsShown+1,i="total"){let[s,r]=Os(e,n,i);return[s,r.div(3)]}function Ki(e,n=ye.defaultDigitsShown+1,i="total",s=!1){n<3&&(n=3);const[r,l]=Os(e,n,i);if(l.eq(0))switch(i){case"decimal":return gn(r);case"total":return r.toPrecision(n)}if(s)return`e${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${r.toStringWithDecimalPlaces(n)}e${l.toStringWithDecimalPlaces(0)}`;case"total":return`${r.toPrecision(n)}e${l.toStringWithDecimalPlaces(0)}`}}function Os(e,n=ye.defaultDigitsShown+1,i="total"){let[s,r]=Ds(e,n,i);if(r.gte(Number.MAX_SAFE_INTEGER))return[s,r];const l=r.toNumber()%3;return[o.pow10(l).times(s),r.minus(l)]}const Bo=xn;function xn(e,n=ye.defaultDigitsShown,i="decimal",s=!1){let[r,l]=Ds(e,n,i);const c=l.gte(1e9)?D(l,Math.max(n,3,ye.defaultDigitsShown)):l.gte(1e4)?Yn(l,0):l.toStringWithDecimalPlaces(0);return s?`e${c}`:`${(()=>{switch(i){case"decimal":return gn(r);case"total":return r.toPrecision(n)}})()}e${c}`}function Ds(e,n=ye.defaultDigitsShown,i="decimal"){let s=o.log10(e).floor(),r=o.div(e,s.pow10());return(()=>{switch(i){case"decimal":return r.toStringWithDecimalPlaces(n);case"total":return r.toPrecision(n)}})()==="10"&&(r=o.dOne,s=s.plus(1)),[r,s]}function Yn(e,n=ye.defaultDigitsShown,i="decimal"){if(e=new o(e),e.lt(zi))return 0 .toFixed(n);const r=(()=>{switch(i){case"decimal":return e.toStringWithDecimalPlaces(n);case"total":return e.toStringWithDecimalPlaces(Math.max(n-e.log10().floor().toNumber(),0))}})().split(".");return r[0]=r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),r.join(".")}function gn(e,n=ye.defaultDigitsShown){return e=new o(e),e.lt(zi)?0 .toFixed(n):(e.lt(.1)&&n>0&&(n=Math.max(n,e.log10().negate().ceil().toNumber(),ye.defaultDigitsShown)),e.toStringWithDecimalPlaces(n))}const Ri=60,Eo=60,Ro=24,Oo=365,Oi=Ri*Eo,Di=Oi*Ro,xi=Di*Oo;function Xi(e){if(e=new o(e),e.lt(0))return`-${Xi(e.negate())}`;if(e.gt(Number.MAX_SAFE_INTEGER))return`${D(e.div(xi))}y`;e=e.toNumber();const n=Math.floor(e/xi);e-=n*xi;const i=Math.floor(e/Di);e-=i*Di;const s=Math.floor(e/Oi);e-=s*Oi;const r=Math.floor(e/Ri);e-=r*Ri;const l=e.toPrecision(2),c=String(i).padStart(3),m=String(s).padStart(2),d=String(r).padStart(2),p=l.padStart(2);return n>0?`${n}y ${c}d ${m}h`:i>0?`${c}d ${m}h ${d}m`:s>0?`${m}h ${d}m ${p}s`:r>0?`${d}m ${p}s`:`${p}s`}function Do(e,n,i){e=new o(e);let s=e.toStringWithDecimalPlaces(n);return o.gte(s,i)&&(s=o.minus(i,Math.pow(.1,n)).toStringWithDecimalPlaces(n)),s}function bt(e,n=ye.defaultDigitsShown,i=Be.numberFormat){return D(e,n,!0,i)}function Ls(e){const n=o.log10(e).ceil(),i=o.divide(e,n.pow10());return n.negate().pow10().times(i)}var Lo=Object.freeze(Object.defineProperty({__proto__:null,default:o,PrecisionType:Hi,format:D,formatWhole:Q,slogFormat:Bs,standardNotation:Es,thousandsNotation:Yi,engineeringNotation:Ki,exponentialFormat:Bo,scientificNotation:xn,commaFormat:Yn,regularFormat:gn,formatTime:Xi,toPlaces:Do,formatSmall:bt,invertOOM:Ls},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:jo,commaFormat:Uo,regularFormat:Vo,format:hi,formatWhole:$n,formatTime:Qi,toPlaces:Go,formatSmall:An,invertOOM:zo}=Lo;window.Decimal=o;window.exponentialFormat=(e,n,i)=>jo(e,n,Hi.decimal,!i);window.commaFormat=Uo;window.regularFormat=Vo;window.format=hi;window.formatWhole=$n;window.formatTime=Qi;window.toPlaces=Go;window.formatSmall=An;window.invertOOM=zo;function Ho(e){let n=e.replace(/([A-Z])/g," $1");return n=n.charAt(0).toUpperCase()+n.slice(1),n}function Wo(e){return(e[0]+e.slice(1).replace(/[A-Z]/g,n=>`-${n}`)).toLowerCase()}function Kn(e){return typeof e=="function"}var Ae=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(Ae||{});const Xn=Symbol("DoNotCache");function X(e,n){const i=e[n];Kn(i)&&i.length===0&&!i[Xn]?e[n]=v(i.bind(e)):Kn(i)&&(e[n]=i.bind(e),e[n][Xn]=!0)}function et(e){return Kn(e)&&!e[Xn]&&(e=v(e)),e}const mt=Symbol("Component"),kt=Symbol("GatherProps");let Yo=0;function Ut(e="feature-"){return e+Yo++}var Te=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(Te||{});function he(e){const n=t(e);return n!==2&&n!==!1}function jt(e){return t(e)===1}function S(e){return e[Xn]=!0,e}function De(e,n,i){e[n]===void 0&&i!=null&&(e[n]=i)}function js(e,...n){const i=[],s=r=>{Object.keys(r).forEach(l=>{const c=r[l];c!=null&&typeof c=="object"&&(n.includes(c.type)?i.push(c):!(c instanceof o)&&!We(c)&&s(c))})};return s(e),i}var Je=window.state=wi({lastTenTicks:[],hasNaN:!1,NaNPath:[],errors:Bn([])});const Ko={class:"table"},rn=se({__name:"Column",props:{mergeAdjacent:{type:Boolean}},setup(e){return(n,i)=>($(),x("div",Ko,[w("div",{class:qe(["col",{mergeAdjacent:e.mergeAdjacent}])},[Wt(n.$slots,"default")],2)]))}}),Xo={class:"table"},Yt=se({__name:"Row",props:{mergeAdjacent:{type:Boolean}},setup(e){return(n,i)=>($(),x("div",Xo,[w("div",{class:qe(["row",{mergeAdjacent:e.mergeAdjacent}])},[Wt(n.$slots,"default")],2)]))}});function Zi(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$s(e)}function le(e,n="span"){return typeof e=="function"?se({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${n}>${e}</${n}>`),se({template:e})):se({render:()=>({})}):e}function te(e){if(St(e))return typeof e=="function"?e():le(e);const n=e[mt];return a(n,e[kt](),null)}function mn(...e){let n;return a(Yt,null,Zi(n=e.map(te))?n:{default:()=>[n]})}function Pi(...e){let n;return a(rn,null,Zi(n=e.map(te))?n:{default:()=>[n]})}function Pt(e){if(St(e))return typeof e=="function"?e():typeof e=="string"?a(g,null,[e]):a(e,null,null);const n=e[mt];return a(n,e[kt](),null)}function Qo(...e){let n;return a(Yt,null,Zi(n=e.map(Pt))?n:{default:()=>[n]})}function Li(e,n){return e.reduce((i,s)=>a(g,null,[i,n,s]))}function St(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[Xn]===!0}function Us(e,n){const i=ae(null),s=ae(void 0);function r(m){i.value||(i.value=setInterval(c,250)),s.value=m}function l(){i.value&&(clearInterval(i.value),i.value=null)}function c(){n&&n.value?n.value():e&&e.value&&e.value(s.value)}return Cs(l),{start:r,stop:l,handleHolding:c}}function Ji(e,n="div"){const i=vt();return It(()=>{i.value=le(Ce(e),n)}),i}function ei(e,n="div"){const i=vt(null);return It(()=>{const s=Ce(e);i.value=s==""||s==null?null:le(s,n)}),i}function Ce(e){return t(t(e))}function ne(...e){return e.includes(Object)||e.push(Object),e}function Zo(e){return Object.keys(e).reduce((n,i)=>(n[Wo(i)]=e[i],n),{})}const Jo=se({__name:"Context",emits:["updateNodes"],setup(e,{emit:n}){var b;const i=ae({}),s=new ResizeObserver(m),r=ae(null);Jn(()=>{const f=r.value;f!=null&&s.observe(f)});let l=!0,c=ae((b=r.value)==null?void 0:b.getBoundingClientRect());function m(){l&&(l=!1,fn(()=>{var f;c.value=(f=r.value)==null?void 0:f.getBoundingClientRect(),Object.values(i.value).filter(h=>h).forEach(h=>h.rect=h.element.getBoundingClientRect()),n("updateNodes",i.value),l=!0}))}pt.on("fontsLoaded",m);const d={attributes:!1,childList:!0,subtree:!1};li(es,(f,h)=>{const N=new MutationObserver(()=>p(f));N.observe(h,d),i.value[f]={element:h,observer:N,rect:h.getBoundingClientRect()},m()}),li(ts,f=>{var h;(h=i.value[f])==null||h.observer.disconnect(),i.value[f]=void 0,m()}),li(ns,i),li(is,c);function p(f){const h=i.value[f];h!=null&&(h.rect=h.element.getBoundingClientRect(),n("updateNodes",i.value))}return(f,h)=>($(),x(g,null,[Wt(f.$slots,"default",{},void 0,!0),w("div",{ref_key:"resizeListener",ref:r,class:"resize-listener"},null,512)],64))}});var Vs=fe(Jo,[["__scopeId","data-v-2b1dc1bc"]]);const ea=["onPointerdown"],ta={class:"modal-wrapper"},na={class:"modal-container"},ia={class:"modal-header"},sa={class:"modal-body"},ra={class:"modal-footer"},oa=w("div",{class:"modal-default-flex-grow"},null,-1),tn=se({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const r=ot(e),l=v(()=>t(r.modelValue)||m.value);function c(){i("update:modelValue",!1)}const m=ae(!1),d=ae(null),p=v(()=>{var b,f;return(f=(b=d.value)==null?void 0:b.nodes)!=null?f:null});return n({isOpen:l,nodes:p}),(b,f)=>($(),ie(ur,{to:"#modal-root"},[a(Ns,{name:"modal",onBeforeEnter:f[0]||(f[0]=h=>m.value=!0),onAfterLeave:f[1]||(f[1]=h=>m.value=!1)},{default:oe(()=>[Ui(w("div",Bt({class:"modal-mask",onPointerdown:zn(c,["self"])},b.$attrs),[w("div",ta,[w("div",na,[w("div",ia,[Wt(b.$slots,"header",{shown:t(l)},()=>[u(" default header ")])]),w("div",sa,[a(Vs,{ref_key:"contextRef",ref:d},{default:oe(()=>[Wt(b.$slots,"body",{shown:t(l)},()=>[u(" default body ")])]),_:3},512)]),w("div",ra,[Wt(b.$slots,"footer",{shown:t(l)},()=>[w("div",{class:"modal-default-footer"},[oa,w("button",{class:"button modal-default-button",onClick:c}," Close ")])])])])])],16,ea),[[lr,e.modelValue]])]),_:3})]))}}),Gs=o.ln(10);function fi(e){return e}function jn(e,...n){const i=n.find(s=>Z(s));return i==null?(console.error("Could not invert due to no input being a variable"),0):i.invert(e)}function aa(e,n){return Z(n)?n.invert(o.neg(e)):(console.error("Could not invert due to no input being a variable"),0)}function la(e,n){return Z(n)?n.isIntegrable()?_.neg(n.getIntegralFormula(e)):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function ua(e){return _.neg(e)}function ca(e,n,i){return Z(n)?n.invert(o.sub(e,tt(i))):Z(i)?i.invert(o.sub(e,tt(n))):(console.error("Could not invert due to no input being a variable"),0)}function da(e,n,i){var s,r;if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=n.getIntegralFormula(e);return _.times(i,(s=n.innermostVariable)!=null?s:0).add(l)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=i.getIntegralFormula(e);return _.times(n,(r=i.innermostVariable)!=null?r:0).add(l)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ma(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.add(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.add(s,n)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function pa(e,n,i){return Z(n)?n.invert(o.add(e,tt(i))):Z(i)?i.invert(o.sub(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function fa(e,n,i){var s,r;if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=n.getIntegralFormula(e);return _.sub(l,_.times(i,(s=n.innermostVariable)!=null?s:0))}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const l=i.getIntegralFormula(e);return _.times(n,(r=i.innermostVariable)!=null?r:0).sub(l)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ga(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.sub(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.sub(s,n)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ba(e,n,i){return Z(n)?n.invert(o.div(e,tt(i))):Z(i)?i.invert(o.div(e,tt(n))):(console.error("Could not invert due to no input being a variable"),0)}function ha(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.times(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.times(s,n)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function va(e,n,i){return Z(n)?_.div(e,i):Z(i)?_.div(e,n):(console.error("Could not apply substitution due to no input being a variable"),_.constant(0))}function ya(e,n,i){return Z(n)?n.invert(o.mul(e,tt(i))):Z(i)?i.invert(o.div(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function _a(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.div(s,i)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.div(n,s)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function wa(e,n,i){return Z(n)?_.mul(e,i):Z(i)?_.mul(e,n):(console.error("Could not apply substitution due to no input being a variable"),_.constant(0))}function ka(e,n){return Z(n)?n.invert(o.recip(e)):(console.error("Could not invert due to no input being a variable"),0)}function Sa(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.ln(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Ca(e,n){return Z(n)?n.invert(o.pow10(e)):(console.error("Could not invert due to no input being a variable"),0)}function $a(e){return o.ln(e).sub(1).times(e).div(Gs)}function Na(e,n){if(Z(n)){const i=Gs.times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ia(e,n){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e)],evaluate:$a,invert:Na}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function qa(e,n,i){return Z(n)?n.invert(o.pow(tt(i),e)):Z(i)?i.invert(o.root(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function Ma(e,n){return o.ln(e).sub(1).times(e).div(o.ln(n))}function Ta(e,n,i){if(Z(n)){const s=o.ln(tt(i)).times(e);return n.invert(s.div(s.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function xa(e,n,i){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e),i],evaluate:Ma,invert:Ta}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function Pa(e,n){return Z(n)?n.invert(o.pow(2,e)):(console.error("Could not invert due to no input being a variable"),0)}function Aa(e){return o.ln(e).sub(1).times(e).div(o.ln(2))}function Fa(e,n){if(Z(n)){const i=o.ln(2).times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ba(e,n){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e)],evaluate:Aa,invert:Fa}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function Ea(e,n){return Z(n)?n.invert(o.exp(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ra(e){return o.ln(e).sub(1).times(e)}function Oa(e,n){return Z(n)?n.invert(o.div(e,o.div(e,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function Da(e,n){return Z(n)?n.isIntegrable()?new _({inputs:[n.getIntegralFormula(e)],evaluate:Ra,invert:Oa}):(console.error("Could not integrate due to variable not being integrable"),_.constant(0)):(console.error("Could not integrate due to no input being a variable"),_.constant(0))}function La(e,n,i){return Z(n)?n.invert(o.root(e,tt(i))):Z(i)?i.invert(o.ln(e).div(o.ln(tt(n)))):(console.error("Could not invert due to no input being a variable"),0)}function ja(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e),r=_.add(i,1);return _.pow(s,r).div(r)}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e);return _.pow(n,s).div(_.ln(n))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Ua(e,n){return Z(n)?n.invert(o.root(e,10)):(console.error("Could not invert due to no input being a variable"),0)}function Va(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.pow10(i).div(_.ln(10))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Ga(e,n,i){return Z(n)?n.invert(o.ln(e).div(o.ln(tt(i)))):Z(i)?i.invert(o.root(tt(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function za(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.pow(i,s).div(_.ln(i))}else if(Z(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=i.getIntegralFormula(e),r=_.add(n,1);return _.pow(s,r).div(r)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Ha(e,n,i){return Z(n)?n.invert(o.root(e,o.recip(tt(i)))):Z(i)?i.invert(o.ln(tt(n)).div(o.ln(e))):(console.error("Could not invert due to no input being a variable"),0)}function Wa(e,n,i){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const s=n.getIntegralFormula(e);return _.pow(s,_.recip(i).add(1)).times(i).div(_.add(i,1))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Ya(e,n){return Z(n)?n.invert(o.ln(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ka(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.exp(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Xa(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const s=o.minabs(n,1e308).toNumber();return o.tetrate(e,s,i)}function Qa(e,n,i,s){return Z(n)?n.invert(o.ssqrt(e)):(console.error("Could not invert due to no input being a variable"),0)}function Za(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const s=o.minabs(n,1e308).toNumber();return o.iteratedexp(e,s,new o(i))}function Ja(e,n,i,s){return Z(n)?n.invert(o.iteratedlog(e,Math.E,o.minabs(1e308,tt(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function el(e,n=10,i=2){const s=o.minabs(i,1e308).toNumber();return o.iteratedlog(e,n,s)}function tl(e,n=10){const i=o.minabs(n,1e308).toNumber();return o.slog(e,i)}function nl(e,n,i){return Z(n)?n.invert(o.tetrate(e,o.minabs(1e308,tt(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function il(e,n,i){const s=o.minabs(n,1e308).toNumber();return o.layeradd(e,s,i)}function sl(e,n,i,s){return Z(n)?n.invert(o.layeradd(e,o.minabs(1e308,tt(i)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function rl(e,n){return Z(n)?n.invert(o.pow(Math.E,e).times(e)):(console.error("Could not invert due to no input being a variable"),0)}function ol(e,n){return Z(n)?n.invert(o.tetrate(e,2)):(console.error("Could not invert due to no input being a variable"),0)}function al(e,n,i){const s=o.minabs(n,1e308).toNumber();return o.pentate(e,s,i)}function ll(e,n){return Z(n)?n.invert(o.asin(e)):(console.error("Could not invert due to no input being a variable"),0)}function ul(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cos(i).neg()}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function cl(e,n){return Z(n)?n.invert(o.acos(e)):(console.error("Could not invert due to no input being a variable"),0)}function dl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.sin(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ml(e,n){return Z(n)?n.invert(o.atan(e)):(console.error("Could not invert due to no input being a variable"),0)}function pl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cos(i).ln().neg()}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function fl(e,n){return Z(n)?n.invert(o.sin(e)):(console.error("Could not invert due to no input being a variable"),0)}function gl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.asin(i).times(i).add(_.sqrt(_.sub(1,_.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function bl(e,n){return Z(n)?n.invert(o.cos(e)):(console.error("Could not invert due to no input being a variable"),0)}function hl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.acos(i).times(i).sub(_.sqrt(_.sub(1,_.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function vl(e,n){return Z(n)?n.invert(o.tan(e)):(console.error("Could not invert due to no input being a variable"),0)}function yl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.atan(i).times(i).sub(_.ln(_.pow(i,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function _l(e,n){return Z(n)?n.invert(o.asinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function wl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cosh(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function kl(e,n){return Z(n)?n.invert(o.acosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Sl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.sinh(i)}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Cl(e,n){return Z(n)?n.invert(o.atanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function $l(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.cosh(i).ln()}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Nl(e,n){return Z(n)?n.invert(o.sinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Il(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.asinh(i).times(i).sub(_.pow(i,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function ql(e,n){return Z(n)?n.invert(o.cosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ml(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.acosh(i).times(i).sub(_.add(i,1).sqrt().times(_.sub(i,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function Tl(e,n){return Z(n)?n.invert(o.tanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function xl(e,n){if(Z(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),_.constant(0);const i=n.getIntegralFormula(e);return _.atanh(i).times(i).add(_.sub(1,_.pow(i,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),_.constant(0)}function En(e){return(n,i)=>new _({inputs:[n,i],evaluate:e,invert:fi})}function Z(e){return e instanceof Ze&&e.hasVariable()}function tt(e,n){return e instanceof Ze?e.evaluate(n):t(e)}function Pl(){return _.pow(this,2).div(2)}function Al(){return this}const rt=class{constructor(e){this.negate=this.neg,this.negated=this.neg,this.sgn=this.sign,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mul,this.times=this.mul,this.divide=this.div,this.divideBy=this.div,this.dividedBy=this.div,this.reciprocal=this.recip,this.reciprocate=this.recip,this.logarithm=this.log;let n;"inputs"in e&&(e.inputs=e.inputs.map(i=>typeof i=="object"&&Qt in i?i[Qt]:i)),"variable"in e?(typeof e.variable=="object"&&Qt in e.variable&&(e.variable=e.variable[Qt]),n=this.setupVariable(e)):"evaluate"in e?n=this.setupFormula(e):n=this.setupConstant(e),this.inputs=n.inputs,this.internalVariables=n.internalVariables,this.innermostVariable=n.innermostVariable,this.internalEvaluate=n.internalEvaluate,this.internalInvert=n.internalInvert,this.internalIntegrate=n.internalIntegrate,this.internalIntegrateInner=n.internalIntegrateInner,this.applySubstitution=n.applySubstitution}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:Pl,internalIntegrateInner:Al,applySubstitution:fi}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){var h,N;const{inputs:n,evaluate:i,invert:s,integrate:r,integrateInner:l,applySubstitution:c}=e,m=n.reduce((I,q)=>I+(q instanceof rt?q.internalVariables:0),0),d=n.find(I=>I instanceof rt&&I.hasVariable()),p=m===1?d==null?void 0:d.innermostVariable:void 0,b=(h=d==null?void 0:d.isInvertible())!=null?h:!1,f=(N=d==null?void 0:d.isIntegrable())!=null?N:!1;return{inputs:n,internalEvaluate:i,internalInvert:b?s:void 0,internalIntegrate:f?r:void 0,internalIntegrateInner:l,applySubstitution:c,innermostVariable:p,internalVariables:m}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var n,i,s;return(s=(i=(n=this.internalEvaluate)==null?void 0:n.call(this,...this.inputs.map(r=>tt(r,e))))!=null?i:this.hasVariable()?e:null)!=null?s:tt(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((n,i)=>n instanceof rt&&e.inputs[i]instanceof rt?n.equals(e.inputs[i]):!(n instanceof rt)&&!(e.inputs[i]instanceof rt)&&o.eq(t(n),t(e.inputs[i])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new _({inputs:[e]})}static variable(e){return new _({variable:e})}static step(e,n,i){const s=i(_.variable(0)),r=et(n);function l(m){return o.lt(m,t(r))?m:o.add(s.evaluate(o.sub(m,t(r))),t(r))}function c(m,d){return Z(d)&&s.isInvertible()?(o.gt(m,t(r))&&(m=o.add(s.invert(o.sub(m,t(r))),t(r))),d.invert(m)):(console.error("Could not invert due to no input being a variable"),0)}return new _({inputs:[e],evaluate:l,invert:s.isInvertible()&&s.hasVariable()?c:void 0})}static if(e,n,i,s){const r=ae(0),l=_.variable(r),c=i(l),m=s==null?void 0:s(l),d=et(n);function p(f){return t(d)?(r.value=f,c.evaluate()):m?(r.value=f,m.evaluate()):f}function b(f,h){return!Z(h)||!c.isInvertible()||m!=null&&!m.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):t(d)?h.invert(c.invert(f)):m?h.invert(m.invert(f)):h.invert(f)}return new _({inputs:[e],evaluate:p,invert:c.isInvertible()&&c.hasVariable()?b:void 0})}static conditional(e,n,i,s){return _.if(e,n,i,s)}static abs(e){return new _({inputs:[e],evaluate:o.abs})}static neg(e){return new _({inputs:[e],evaluate:o.neg,invert:aa,applySubstitution:ua,integrate:la})}static sign(e){return new _({inputs:[e],evaluate:o.sign})}static round(e){return new _({inputs:[e],evaluate:o.round,invert:jn})}static floor(e){return new _({inputs:[e],evaluate:o.floor,invert:jn})}static ceil(e){return new _({inputs:[e],evaluate:o.ceil,invert:jn})}static trunc(e){return new _({inputs:[e],evaluate:o.trunc,invert:jn})}static add(e,n){return new _({inputs:[e,n],evaluate:o.add,invert:ca,integrate:da,integrateInner:ma,applySubstitution:fi})}static sub(e,n){return new _({inputs:[e,n],evaluate:o.sub,invert:pa,integrate:fa,integrateInner:ga,applySubstitution:fi})}static mul(e,n){return new _({inputs:[e,n],evaluate:o.mul,invert:ba,integrate:ha,applySubstitution:va})}static div(e,n){return new _({inputs:[e,n],evaluate:o.div,invert:ya,integrate:_a,applySubstitution:wa})}static recip(e){return new _({inputs:[e],evaluate:o.recip,invert:ka,integrate:Sa})}static clamp(e,n,i){return new _({inputs:[e,n,i],evaluate:o.clamp,invert:jn})}static pLog10(e){return new _({inputs:[e],evaluate:o.pLog10})}static absLog10(e){return new _({inputs:[e],evaluate:o.absLog10})}static log10(e){return new _({inputs:[e],evaluate:o.log10,invert:Ca,integrate:Ia})}static log(e,n){return new _({inputs:[e,n],evaluate:o.log,invert:qa,integrate:xa})}static log2(e){return new _({inputs:[e],evaluate:o.log2,invert:Pa,integrate:Ba})}static ln(e){return new _({inputs:[e],evaluate:o.ln,invert:Ea,integrate:Da})}static pow(e,n){return new _({inputs:[e,n],evaluate:o.pow,invert:La,integrate:ja})}static pow10(e){return new _({inputs:[e],evaluate:o.pow10,invert:Ua,integrate:Va})}static pow_base(e,n){return new _({inputs:[e,n],evaluate:o.pow_base,invert:Ga,integrate:za})}static root(e,n){return new _({inputs:[e,n],evaluate:o.root,invert:Ha,integrate:Wa})}static factorial(e){return new _({inputs:[e],evaluate:o.factorial})}static gamma(e){return new _({inputs:[e],evaluate:o.gamma})}static lngamma(e){return new _({inputs:[e],evaluate:o.lngamma})}static exp(e){return new _({inputs:[e],evaluate:o.exp,invert:Ya,integrate:Ka})}static sqr(e){return _.pow(e,2)}static sqrt(e){return _.root(e,2)}static cube(e){return _.pow(e,3)}static cbrt(e){return _.root(e,3)}static tetrate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new _({inputs:[e,n,i],evaluate:Xa,invert:Qa})}static iteratedexp(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new _({inputs:[e,n,i],evaluate:Za,invert:Ja})}static iteratedlog(e,n=10,i=1){return new _({inputs:[e,n,i],evaluate:el})}static slog(e,n=10){return new _({inputs:[e,n],evaluate:tl,invert:nl})}static layeradd10(e,n){return new _({inputs:[e,n],evaluate:o.layeradd10})}static layeradd(e,n,i=10){return new _({inputs:[e,n,i],evaluate:il,invert:sl})}static lambertw(e){return new _({inputs:[e],evaluate:o.lambertw,invert:rl})}static ssqrt(e){return new _({inputs:[e],evaluate:o.ssqrt,invert:ol})}static pentate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new _({inputs:[e,n,i],evaluate:al})}static sin(e){return new _({inputs:[e],evaluate:o.sin,invert:fl,integrate:ul})}static cos(e){return new _({inputs:[e],evaluate:o.cos,invert:bl,integrate:dl})}static tan(e){return new _({inputs:[e],evaluate:o.tan,invert:vl,integrate:pl})}static asin(e){return new _({inputs:[e],evaluate:o.asin,invert:ll,integrate:gl})}static acos(e){return new _({inputs:[e],evaluate:o.acos,invert:cl,integrate:hl})}static atan(e){return new _({inputs:[e],evaluate:o.atan,invert:ml,integrate:yl})}static sinh(e){return new _({inputs:[e],evaluate:o.sinh,invert:Nl,integrate:wl})}static cosh(e){return new _({inputs:[e],evaluate:o.cosh,invert:ql,integrate:Sl})}static tanh(e){return new _({inputs:[e],evaluate:o.tanh,invert:Tl,integrate:$l})}static asinh(e){return new _({inputs:[e],evaluate:o.asinh,invert:_l,integrate:Il})}static acosh(e){return new _({inputs:[e],evaluate:o.acosh,invert:kl,integrate:Ml})}static atanh(e){return new _({inputs:[e],evaluate:o.atanh,invert:Cl,integrate:xl})}step(e,n){return _.step(this,e,n)}if(e,n,i){return _.if(this,e,n,i)}conditional(e,n,i){return _.if(this,e,n,i)}abs(){return _.abs(this)}neg(){return _.neg(this)}sign(){return _.sign(this)}round(){return _.round(this)}floor(){return _.floor(this)}ceil(){return _.ceil(this)}trunc(){return _.trunc(this)}add(e){return _.add(this,e)}sub(e){return _.sub(this,e)}mul(e){return _.mul(this,e)}div(e){return _.div(this,e)}recip(){return _.recip(this)}max(e){return _.max(this,e)}min(e){return _.min(this,e)}maxabs(e){return _.maxabs(this,e)}minabs(e){return _.minabs(this,e)}clamp(e,n){return _.clamp(this,e,n)}clampMin(e){return _.clampMin(this,e)}clampMax(e){return _.clampMax(this,e)}pLog10(){return _.pLog10(this)}absLog10(){return _.absLog10(this)}log10(){return _.log10(this)}log(e){return _.log(this,e)}log2(){return _.log2(this)}ln(){return _.ln(this)}pow(e){return _.pow(this,e)}pow10(){return _.pow10(this)}pow_base(e){return _.pow_base(this,e)}root(e){return _.root(this,e)}factorial(){return _.factorial(this)}gamma(){return _.gamma(this)}lngamma(){return _.lngamma(this)}exp(){return _.exp(this)}sqr(){return _.pow(this,2)}sqrt(){return _.root(this,2)}cube(){return _.pow(this,3)}cbrt(){return _.root(this,3)}tetrate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return _.tetrate(this,e,n)}iteratedexp(e=2,n=o.fromComponents_noNormalize(1,0,1)){return _.iteratedexp(this,e,n)}iteratedlog(e=10,n=1){return _.iteratedlog(this,e,n)}slog(e=10){return _.slog(this,e)}layeradd10(e){return _.layeradd10(this,e)}layeradd(e,n){return _.layeradd(this,e,n)}lambertw(){return _.lambertw(this)}ssqrt(){return _.ssqrt(this)}pentate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return _.pentate(this,e,n)}sin(){return _.sin(this)}cos(){return _.cos(this)}tan(){return _.tan(this)}asin(){return _.asin(this)}acos(){return _.acos(this)}atan(){return _.atan(this)}sinh(){return _.sinh(this)}cosh(){return _.cosh(this)}tanh(){return _.tanh(this)}asinh(){return _.asinh(this)}acosh(){return _.acosh(this)}atanh(){return _.atanh(this)}};let Ze=rt;Ze.negate=rt.neg;Ze.negated=rt.neg;Ze.sgn=rt.sign;Ze.plus=rt.add;Ze.subtract=rt.sub;Ze.minus=rt.sub;Ze.multiply=rt.mul;Ze.times=rt.mul;Ze.divide=rt.div;Ze.divideBy=rt.div;Ze.dividedBy=rt.div;Ze.reciprocal=rt.recip;Ze.reciprocate=rt.recip;Ze.max=En(o.max);Ze.min=En(o.min);Ze.minabs=En(o.minabs);Ze.maxabs=En(o.maxabs);Ze.clampMin=En(o.clampMin);Ze.clampMax=En(o.clampMax);Ze.logarithm=rt.log;class _ extends Ze{invert(n){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,n,...this.inputs):this.inputs.length===1&&this.hasVariable()?n:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(n){return this.isIntegrable()?this.getIntegralFormula().evaluate(n):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(n){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(n)}calculateConstantOfIntegration(){const n=this.getIntegralFormula().evaluate(1),i=o.add(this.evaluate(0),this.evaluate(1)).div(2);return o.sub(i,n)}getIntegralFormula(n){if(this.integralFormula!=null&&n==null)return this.integralFormula;if(n==null){if(this.applySubstitution==null){if(n=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),_.constant(0);let i=this.internalIntegrate.call(this,n,...this.inputs);n.forEach(s=>i=s(i)),this.integralFormula=i}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),_.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),_.constant(0)):(n.push(i=>this.applySubstitution.call(this,i,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,n,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,n,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),_.constant(0)))}}function Fl(e,n,i=!0,s,r=o.dInf){const l=et(i),c=et(s),m=et(r);return v(()=>{var h,N,I,q;const d=t(m);if(o.eq(d,1))return o.gte(n.value,e.evaluate())?o.dOne:o.dZero;const p=t(l),b=(h=t(c))!=null?h:p?10:0;let f=0;if(o.gt(d,b)){if(!e.isInvertible())return console.error("Cannot calculate max affordable of non-invertible formula with more maxBulkAmount than directSum"),0;if(p){if(!e.isIntegralInvertible())return console.error("Cannot calculate max affordable of formula with non-invertible integral"),0;f=o.floor(e.invertIntegral(o.add(n.value,e.evaluateIntegral()))).sub((N=t(e.innermostVariable))!=null?N:0)}else f=o.floor(e.invert(n.value))}if(f=o.clampMax(f,d),b>0){const E=f;f=o.sub(f,b).clampMin(0);let P;for(p?P=Zt(e,f,!0,0):P=e.evaluate(o.add((I=t(e.innermostVariable))!=null?I:0,f));o.lt(f,d)&&o.lt(f,Number.MAX_SAFE_INTEGER)&&o.add(E,1).gte(f);){const M=e.evaluate(f.add((q=t(e.innermostVariable))!=null?q:0));if(o.add(P,M).lte(n.value))f=f.add(1),P=o.add(P,M);else break}}return f})}function Zt(e,n,i=!0,s){var d;if(o.eq(n,1))return e.evaluate();const r=(d=t(e.innermostVariable))!=null?d:0;let l=o.add(n,r);const c=l;s!=null||(s=i?10:0),l=l.sub(s).clampMin(r);let m=0;if(o.gt(n,s)){if(!e.isInvertible())return console.error("Cannot calculate cost with indirect sum of non-invertible formula"),0;if(i){if(!e.isIntegrable())return console.error("Cannot calculate cost with cumulative cost of non-integrable formula"),0;if(m=o.sub(e.evaluateIntegral(l),e.evaluateIntegral()),c.gt(1e308))return o.add(m,o.sub(c,l).times(e.evaluate(l)))}else if(m=e.evaluate(l),l=l.add(1),c.gt(1e308))return o.sub(c,l).add(1).times(m)}for(let p=l.toNumber();p<c.toNumber();p++)m=o.add(m,e.evaluate(p));return m}const pn=Symbol("PersistentState"),Kt=Symbol("DefaultValue"),vi=Symbol("StackTrace"),yi=Symbol("Deleted"),Qt=Symbol("NonPersistent"),Sn=Symbol("SaveDataPath"),Ht=Symbol("SkipPersistence");function Bl(){var e,n;return(n=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(i=>i.trim()).join(`
`))!=null?n:""}function ws(e,n){var i;o.isNaN(n)&&(Je.hasNaN||(be.autosave=!1,Je.hasNaN=!0,Je.NaNPath=e[Sn],Je.NaNPersistent=e),console.error(`Attempted to save NaN value to ${(i=e[Sn])==null?void 0:i.join(".")}`)),e[pn].value=n}function Ie(e,n=!0){const i=We(e)?e:ae(e);We(e)&&(e=e.value);const s=v({get(){return i.value},set(l){n?ws(r,l):r[pn].value=l}});s[Kt]=e;const r={get value(){return i.value},set value(l){n?ws(r,l):r[pn].value=l},__v_isRef:!0,[pn]:i,[Kt]:e,[vi]:Bl(),[yi]:!1,[Qt]:s,[Sn]:void 0};return xt.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",r,`
Created at:
`+r[vi]):Cn[xt[xt.length-1]].add(r),r}function El(e){return e!=null&&typeof e=="object"&&pn in e}function F(e){return!(cn in e)&&Qt in e?e[Qt]:new Proxy(e,{get(n,i){if(i!==pn)return i===Ht?!0:n[i]},set(n,i,s){return n[i]=s,!0},has(n,i){return i===pn?!1:i==Ht?!0:Reflect.has(n,i)}})}function Rl(e){xt.length===0?console.warn("Deleting a persistent ref outside of a layer. Ignoring...",e):Cn[xt[xt.length-1]].delete(e),e[yi]=!0}pt.on("addLayer",(e,n)=>{const i=[],s=(r,l=[])=>{let c=!1;return Object.keys(r).forEach(m=>{let d=r[m];if(d!=null&&typeof d=="object"){if(d[Ht]===!0)return;if(cn in d&&(d=d[cn]),El(d)){if(c=!0,d[yi]){console.warn("Deleted persistent ref present in returned object. Ignoring...",d,`
Created at:
`+d[vi]);return}Cn[e.id].delete(d);const p=[e.id,...l,m];d[Sn]!=null&&JSON.stringify(p)!==JSON.stringify(d[Sn])&&console.error(`Persistent ref is being saved to \`${p.join(".")}\` when it's already present at \`${d[Sn].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),d[Sn]=p;const b=l.reduce((h,N)=>(N in h||(h[N]={}),h[N]),n),f=b[m];b[m]=d[pn],cr(b)?f!=null?b[m]=f:b[m]=d[Kt]:f!=null?b[m].value=f:b[m].value=d[Kt]}else!(d instanceof o)&&!(d instanceof _)&&!We(d)&&!i.includes(d)&&(typeof d.type=="symbol"&&i.push(d),s(d,[...l,m])&&(en(d)&&!en(r)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",cn in r?r[cn]:r,m):c=!0))}}),c};s(e[cn]),Cn[e.id].forEach(r=>{r[yi]||console.error(`Created persistent ref in ${e.id} without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+r[vi])}),Cn[e.id].clear()});const cn=Symbol("ProxyState");function Ke(e,n={}){const i=n;let s=!1,r=!1;function l(){return s||(r&&console.error("Cyclical dependency detected. Cannot evaluate lazy proxy."),r=!0,Object.assign(i,e.call(i,i)),s=!0),i}return new Proxy(i,{get(c,m){if(m===cn)return l();const d=l()[m];return d!=null&&typeof d=="object"&&Qt in d?d[Qt]:d},set(c,m,d){return l()[m]=d,!0},has(c,m){return m===cn?!0:Reflect.has(l(),m)},ownKeys(){return Reflect.ownKeys(l())},getOwnPropertyDescriptor(c,m){return s||(Object.assign(i,e.call(i,i)),s=!0),Object.getOwnPropertyDescriptor(c,m)}})}const es=Symbol("RegisterNode"),ts=Symbol("UnregisterNode"),ns=Symbol("Nodes"),is=Symbol("Bounds"),wt=wi({});window.layers=wt;const Cn={},xt=[];function nt(e,n){return Ke(()=>{const i={},s=i.emitter=Is();if(i.on=s.on.bind(s),i.emit=s.emit.bind(s),i.nodes=ae({}),i.id=e,xt.push(e),Cn[e]=new Set,Object.assign(i,n.call(i,i)),xt[xt.length-1]==null||xt[xt.length-1]!==e)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${xt}
Trying to pop ${i.id}`);xt.pop(),X(i,"theme"),X(i,"display"),X(i,"classes"),X(i,"style"),X(i,"name"),De(i,"name",i.id),X(i,"minWidth"),De(i,"minWidth",600);const r=i.style;return i.style=v(()=>{var c;let l=t(i.minWidth);return(typeof l=="number"||!Number.isNaN(parseInt(l)))&&(l=l+"px"),[(c=t(r))!=null?c:"",{flexGrow:"",flexShrink:"",width:"",minWidth:l,flexBasis:l,margin:""}]}),i})}function zs(e,n){if(console.info("Adding layer",e.id),wt[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,wt[e.id]);return}De(n,"layers",{}),n.layers[e.id]==null&&(n.layers[e.id]={}),wt[e.id]=e,pt.emit("addLayer",e,n.layers[e.id])}function Ol(e){return wt[e]}function Hs(e){console.info("Removing layer",e.id),pt.emit("removeLayer",e),wt[e.id]=void 0}function Dl(e){Hs(e),zs(e,be)}function Ll(e){const n=ae(!1);return{openModal:()=>n.value=!0,modal:S(()=>a(tn,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i},{header:()=>a("h2",null,[t(e.name)]),body:t(e.display)}))}}pt.on("update",function(n){Object.values(wt).forEach(i=>{i==null||i.emit("preUpdate",n)}),Object.values(wt).forEach(i=>{i==null||i.emit("update",n)}),Object.values(wt).forEach(i=>{i==null||i.emit("postUpdate",n)})});var jl=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:es,UnregisterNodeInjectionKey:ts,NodesInjectionKey:ns,BoundsInjectionKey:is,layers:wt,persistentRefs:Cn,addingLayers:xt,createLayer:nt,addLayer:zs,getLayer:Ol,removeLayer:Hs,reloadLayer:Dl,setupLayerModal:Ll},Symbol.toStringTag,{value:"Module"}));const Ul=se({components:{Context:Vs,ErrorVue:Ms},props:{index:{type:Number,required:!0},display:{type:ne(Object,String,Function),required:!0},name:{type:ne(String),required:!0},theme:ne(Object),nodes:{type:Object,required:!0}},emits:["setMinimized"],setup(e){const{display:n,index:i}=ot(e),s=Ji(n),r=v(()=>ye.allowGoBack&&i.value>0);function l(){be.tabs.splice(t(e.index),1/0)}function c(d){e.nodes.value=d}const m=ae([]);return dr((d,p,b)=>(console.warn(`Error caught in "${e.name}" layer`,d,p,b),m.value.push(d instanceof Error?d:new Error(JSON.stringify(d))),!1)),{component:s,showGoBack:r,updateNodes:c,unref:t,goBack:l,errors:m}}});function Vl(e,n,i,s,r,l){const c=Lt("ErrorVue"),m=Lt("Context");return e.errors.length>0?($(),ie(c,{key:0,errors:e.errors},null,8,["errors"])):($(),x("div",Bt({key:1,class:"layer-container",style:e.theme},e.$attrs),[e.showGoBack?($(),x("button",{key:0,class:"goBack",onClick:n[0]||(n[0]=(...d)=>e.goBack&&e.goBack(...d))},"\u274C")):($(),x("div",{key:1,class:qe(["layer-tab",{showGoBack:e.showGoBack}])},[a(m,{onUpdateNodes:e.updateNodes},{default:oe(()=>[($(),ie($e(e.component)))]),_:1},8,["onUpdateNodes"])],2))],16))}var Gl=fe(Ul,[["render",Vl],["__scopeId","data-v-4fc3b5f1"]]);const Ws=e=>(ct("data-v-635f9971"),e=e(),dt(),e),zl=Ws(()=>w("h2",null,"Changelog",-1)),Hl=Ws(()=>w("details",{open:""},[w("summary",null,[u("v1.0 Revitalization - "),w("time",null,"2021-09-04")]),u(" Moved everything over to Profectus "),w("ul",null,[w("li",{class:"feature"},"Did everything"),w("li",{class:"fix"},"Had some fun"),w("li",{class:"breaking"},"Removed everything"),w("li",{class:"balancing"},"Created some bugs to fix later")])],-1)),Wl=se({__name:"Changelog",setup(e,{expose:n}){const i=ae(!1);return n({open(){i.value=!0}}),(s,r)=>($(),ie(tn,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l)},{header:oe(()=>[zl]),body:oe(()=>[Hl]),_:1},8,["modelValue"]))}});var Yl=fe(Wl,[["__scopeId","data-v-635f9971"]]),Kl=se({props:{element:Object,display:{type:ne(Object,String,Function),required:!0},style:ne(Object,String,Array),classes:ne(Object),direction:ne(String),xoffset:ne(String),yoffset:ne(String),pinned:Object},setup(e){const{element:n,display:i,pinned:s}=ot(e),r=ae(!1),l=v(()=>(Ce(s)||r.value)&&c.value),c=ei(i),m=vt(le(S(()=>{const p=Ce(n);return p==null?"":Pt(p)})));function d(p){const b=s;p.shiftKey&&b&&(b.value=!b.value,p.stopPropagation(),p.preventDefault())}return{Direction:Ae,isHovered:r,isShown:l,comp:c,elementComp:m,unref:t,togglePinned:d}}});const Xl={key:0,class:"material-icons pinned"};function Ql(e,n,i,s,r,l){return $(),x("div",{class:qe(["tooltip-container",{shown:e.isShown}]),onMouseenter:n[0]||(n[0]=c=>e.isHovered=!0),onMouseleave:n[1]||(n[1]=c=>e.isHovered=!1),onClickCapture:n[2]||(n[2]=(...c)=>e.togglePinned&&e.togglePinned(...c))},[Wt(e.$slots,"default",{},void 0,!0),e.elementComp?($(),ie($e(e.elementComp),{key:0})):H("",!0),a(Ns,{name:"fade"},{default:oe(()=>{var c;return[e.isShown?($(),x("div",{key:0,class:qe(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:Oe([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(c=e.unref(e.style))!=null?c:{}])},[e.pinned?($(),x("span",Xl,"push_pin")):H("",!0),e.comp?($(),ie($e(e.comp),{key:1})):H("",!0)],6)):H("",!0)]}),_:1})],34)}var Ve=fe(Kl,[["render",Ql],["__scopeId","data-v-c9511810"]]);const Nn=e=>(ct("data-v-10effbe8"),e=e(),dt(),e),Zl={class:"info-modal-header"},Jl=["src","alt"],eu={class:"info-modal-title"},tu={key:0},nu={key:0},iu={key:0},su=Nn(()=>w("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),ru=Nn(()=>w("br",null,null,-1)),ou=Nn(()=>w("br",null,null,-1)),au=["href"],lu=Nn(()=>w("span",{class:"material-icons info-modal-discord"},"discord",-1)),uu=Nn(()=>w("div",null,[w("a",{href:"https://discord.gg/yJ4fjnjU54",class:"info-modal-discord-link",target:"_blank"},[w("span",{class:"material-icons info-modal-discord"},"discord"),u(" Profectus & Friends ")])],-1)),cu=Nn(()=>w("div",null,[w("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[w("span",{class:"material-icons info-modal-discord"},"discord"),u(" The Modding Tree ")])],-1)),du=Nn(()=>w("br",null,null,-1));var mu=se({__name:"Info",props:{changelog:null},setup(e,{expose:n}){const i=e,{title:s,logo:r,author:l,discordName:c,discordLink:m,versionNumber:d,versionTitle:p}=ye,b=ot(i),f=ae(!1),h=v(()=>Qi(be.timePlayed)),N=v(()=>le(S(()=>a(g,null,[Fs.map(te)]))));n({open(){f.value=!0}});function I(){var q;(q=t(b.changelog))==null||q.open()}return(q,E)=>($(),ie(tn,{modelValue:f.value,"onUpdate:modelValue":E[0]||(E[0]=P=>f.value=P)},{header:oe(()=>[w("div",Zl,[t(r)?($(),x("img",{key:0,class:"info-modal-logo",src:t(r),alt:t(s)},null,8,Jl)):H("",!0),w("div",eu,[w("h2",null,J(t(s)),1),w("h4",null,[u(" v"+J(t(d)),1),t(p)?($(),x("span",tu,": "+J(t(p)),1)):H("",!0)])])])]),body:oe(({shown:P})=>[P?($(),x("div",nu,[t(l)?($(),x("div",iu,"By "+J(t(l)),1)):H("",!0),su,ru,w("div",{class:"link",onClick:I},"Changelog"),ou,w("div",null,[t(m)?($(),x("a",{key:0,href:t(m),class:"info-modal-discord-link",target:"_blank"},[lu,u(" "+J(t(c)),1)],8,au)):H("",!0)]),uu,cu,du,w("div",null,"Time Played: "+J(t(h)),1),($(),ie($e(t(N))))])):H("",!0)]),_:1},8,["modelValue"]))}});var pu=fe(mu,[["__scopeId","data-v-10effbe8"]]);const fu={class:"field"},gu={key:0,class:"field-title"},_i=se({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){var c;const i=e,s=ei(sn(i,"title"),"span"),r=ae((c=i.options.find(m=>m.value===i.modelValue))!=null?c:null);Ct(sn(i,"modelValue"),m=>{var d;Ce(r)!==m&&(r.value=(d=i.options.find(p=>p.value===m))!=null?d:null)});function l(m){n("update:modelValue",m.value)}return(m,d)=>($(),x("div",fu,[t(s)?($(),x("span",gu,[($(),ie($e(t(s))))])):H("",!0),a(t(vr),{options:e.options,modelValue:r.value,"onUpdate:modelValue":[d[0]||(d[0]=p=>r.value=p),l],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const bu={class:"field"},hu=se({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,s=v(()=>{var l;return le((l=t(i.title))!=null?l:"<span></span>","span")}),r=v({get(){return!!i.modelValue},set(l){n("update:modelValue",l)}});return(l,c)=>($(),x("label",bu,[Ui(w("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":c[0]||(c[0]=m=>We(r)?r.value=m:null)},null,512),[[mr,t(r)]]),($(),ie($e(t(s))))]))}});var zt=fe(hu,[["__scopeId","data-v-11046116"]]);const vu={class:"header"},yu=w("h2",null,"Settings",-1),_u={class:"option-tabs"},wu={key:0},ku={key:1};var Su=se({__name:"Options",setup(e,{expose:n}){const i=ae(!1),s=ae("behaviour");function r(j){return j==s.value}function l(j){s.value=j}n({isTab:r,setTab:l,save:Ft,open(){i.value=!0}});const c=[{label:"Standard",value:ze.standard},{label:"Thousands",value:ze.thousands},{label:"Engineering",value:ze.engineering},{label:"Scientific",value:ze.scientific}],m=c.filter(j=>j.value!==ze.standard),d=v(()=>le(S(()=>a(g,null,[Ps.map(te)])))),{showTPS:p,unthrottled:b,alignUnits:f,numberFormat:h,backupNumberFormat:N}=ot(Be),{autosave:I}=ot(be),q=v({get(){return be.devSpeed===0},set(j){be.devSpeed=j?0:null}}),E=S(()=>a("span",{class:"option-title"},[u("Unthrottled"),a("desc",null,[u("Allow the game to run as fast as possible. Not battery friendly.")])])),P=S(()=>a("span",{class:"option-title"},[u("Autosave"),a(Ve,{display:"Save-specific",direction:Ae.Right},{default:()=>[u("*")]}),a("desc",null,[u("Automatically save the game every second or when the game is closed.")])])),M=S(()=>a("span",{class:"option-title"},[u("Pause game"),a(Ve,{display:"Save-specific",direction:Ae.Right},{default:()=>[u("*")]}),a("desc",null,[u("Stop everything from moving.")])])),T=S(()=>a("span",{class:"option-title"},[u("Show TPS"),a("desc",null,[u("Show TPS meter at the bottom-left corner of the page.")])])),G=S(()=>a("span",{class:"option-title"},[u("Align modifier units"),a("desc",null,[u("Align numbers to the beginning of the unit in modifier view.")])])),ue=S(()=>a("span",{class:"option-title"},[u("Number Notation"),a("desc",null,[u("Change how numbers are formatted for display.")])])),Y=S(()=>a("span",{class:"option-title"},[u("Backup Number Notation"),a("desc",null,[u("Change how numbers are formatted beyond the limit of Standard Notation")])]));return(j,de)=>($(),ie(tn,{modelValue:i.value,"onUpdate:modelValue":de[10]||(de[10]=A=>i.value=A)},{header:oe(()=>[w("div",vu,[yu,w("div",_u,[w("button",{class:qe({selected:r("behaviour")}),onClick:de[0]||(de[0]=A=>l("behaviour"))},"Behaviour",2),w("button",{class:qe({selected:r("appearance")}),onClick:de[1]||(de[1]=A=>l("appearance"))},"Appearance",2)])])]),body:oe(()=>[r("behaviour")?($(),x("div",wu,[a(zt,{title:t(E),modelValue:t(b),"onUpdate:modelValue":de[2]||(de[2]=A=>We(b)?b.value=A:null)},null,8,["title","modelValue"]),t(ye).enablePausing?($(),ie(zt,{key:0,title:t(M),modelValue:t(q),"onUpdate:modelValue":de[3]||(de[3]=A=>We(q)?q.value=A:null)},null,8,["title","modelValue"])):H("",!0),a(zt,{title:t(P),modelValue:t(I),"onUpdate:modelValue":de[4]||(de[4]=A=>We(I)?I.value=A:null)},null,8,["title","modelValue"]),t(I)?H("",!0):($(),ie(ki,{key:1,class:"button save-button",onClick:de[5]||(de[5]=A=>t(Ft)())},{default:oe(()=>[u("Manually save")]),_:1}))])):H("",!0),r("appearance")?($(),x("div",ku,[a(_i,{title:t(ue),options:c,modelValue:t(h),"onUpdate:modelValue":de[6]||(de[6]=A=>We(h)?h.value=A:null)},null,8,["title","modelValue"]),t(h)===t(ze).standard?($(),ie(_i,{key:0,title:t(Y),options:t(m),modelValue:t(N),"onUpdate:modelValue":de[7]||(de[7]=A=>We(N)?N.value=A:null)},null,8,["title","options","modelValue"])):H("",!0),($(),ie($e(t(d)))),a(zt,{title:t(T),modelValue:t(p),"onUpdate:modelValue":de[8]||(de[8]=A=>We(p)?p.value=A:null)},null,8,["title","modelValue"]),a(zt,{title:t(G),modelValue:t(f),"onUpdate:modelValue":de[9]||(de[9]=A=>We(f)?f.value=A:null)},null,8,["title","modelValue"])])):H("",!0)]),_:1},8,["modelValue"]))}});const Cu=["onSubmit"],$u={class:"field"},Nu={key:0,class:"field-title"},Iu=["placeholder"],qu=se({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean},autofocus:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:n}){var d;const i=e,s=ei(sn(i,"title"),"span"),r=vt(null);((d=i.autofocus)==null||d)&&Jn(()=>{var p;(p=r.value)==null||p.focus()});const l=v({get(){var p;return(p=t(i.modelValue))!=null?p:""},set(p){n("update:modelValue",p)}});function c(){n("submit")}function m(){i.submitOnBlur!==!1?n("submit"):n("cancel")}return(p,b)=>($(),x("form",{onSubmit:zn(c,["prevent"])},[w("div",$u,[t(s)?($(),x("span",Nu,[($(),ie($e(t(s))))])):H("",!0),e.textArea?($(),ie(t(_r),{key:1,modelValue:t(l),"onUpdate:modelValue":b[0]||(b[0]=f=>We(l)?l.value=f:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:m,ref_key:"field",ref:r},null,8,["modelValue","placeholder","maxHeight"])):Ui(($(),x("input",{key:2,type:"text","onUpdate:modelValue":b[1]||(b[1]=f=>We(l)?l.value=f:null),placeholder:e.placeholder,class:qe({fullWidth:!e.title}),onBlur:m,ref_key:"field",ref:r},null,42,Iu)),[[pr,t(l)]])])],40,Cu))}});var ti=fe(qu,[["__scopeId","data-v-7e1eaf88"]]);const Mu={key:0},Tu=["onClick","disabled"],xu={key:0},Pu=["onClick"],Au=se({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:n}){const s=ot(e),r=ae(!1);Ct(r,m=>{n("confirmingChanged",m)});function l(){if(t(s.skipConfirm)){n("click");return}r.value&&n("click"),r.value=!r.value}function c(){r.value=!1}return(m,d)=>($(),x("span",{class:qe(["container",{confirming:r.value}])},[r.value?($(),x("span",Mu,"Are you sure?")):H("",!0),w("button",{onClick:zn(l,["stop"]),class:"button danger",disabled:e.disabled},[r.value?($(),x("span",xu,"Yes")):Wt(m.$slots,"default",{key:1},void 0,!0)],8,Tu),r.value?($(),x("button",{key:1,class:"button",onClick:zn(c,["stop"])},"No",8,Pu)):H("",!0)],2))}});var Ys=fe(Au,[["__scopeId","data-v-2f8ef34c"]]);const on=e=>(ct("data-v-32313015"),e=e(),dt(),e),Fu=on(()=>w("div",{class:"handle material-icons"},"drag_handle",-1)),Bu={key:0,class:"actions"},Eu=on(()=>w("span",{class:"material-icons"},"content_paste",-1)),Ru=on(()=>w("span",{class:"material-icons"},"content_copy",-1)),Ou=on(()=>w("span",{class:"material-icons"},"edit",-1)),Du=on(()=>w("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),Lu={key:1,class:"actions"},ju=on(()=>w("span",{class:"material-icons"},"check",-1)),Uu=on(()=>w("span",{class:"material-icons"},"close",-1)),Vu={key:2,class:"details"},Gu={class:"save-version"},zu=on(()=>w("br",null,null,-1)),Hu={key:0},Wu={key:3,class:"details"},Yu={key:4,class:"details error"},Ku=on(()=>w("br",null,null,-1)),Xu=se({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:n}){const i=e,{save:s}=ot(i),r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),l=ae(!1),c=ae(!1),m=ae("");Ct(l,()=>{var f;return m.value=(f=s.value.name)!=null?f:""});const d=v(()=>s.value!=null&&s.value.id===be.id),p=v(()=>{var f;return d.value?be.time:(f=s.value!=null&&s.value.time)!=null?f:0});function b(){n("editName",m.value),l.value=!1}return(f,h)=>($(),x("div",{class:qe(["save",{active:t(d)}])},[Fu,l.value?($(),x("div",Lu,[w("button",{onClick:b,class:"button"},[a(Ve,{display:"Save",direction:t(Ae).Left,class:"info"},{default:oe(()=>[ju]),_:1},8,["direction"])]),w("button",{onClick:h[5]||(h[5]=N=>l.value=!l.value),class:"button"},[a(Ve,{display:"Cancel",direction:t(Ae).Left,class:"info"},{default:oe(()=>[Uu]),_:1},8,["direction"])])])):($(),x("div",Bu,[t(s).error==null&&!c.value?($(),ie(ki,{key:0,onClick:h[0]||(h[0]=N=>n("export")),class:"button",left:""},{default:oe(()=>[a(Ve,{display:"Export",direction:t(Ae).Left,class:"info"},{default:oe(()=>[Eu]),_:1},8,["direction"])]),_:1})):H("",!0),t(s).error==null&&!c.value?($(),x("button",{key:1,onClick:h[1]||(h[1]=N=>n("duplicate")),class:"button"},[a(Ve,{display:"Duplicate",direction:t(Ae).Left,class:"info"},{default:oe(()=>[Ru]),_:1},8,["direction"])])):H("",!0),t(s).error==null&&!c.value?($(),x("button",{key:2,onClick:h[2]||(h[2]=N=>l.value=!l.value),class:"button"},[a(Ve,{display:"Edit Name",direction:t(Ae).Left,class:"info"},{default:oe(()=>[Ou]),_:1},8,["direction"])])):H("",!0),a(Ys,{disabled:t(d),onClick:h[3]||(h[3]=N=>n("delete")),onConfirmingChanged:h[4]||(h[4]=N=>c.value=N)},{default:oe(()=>[a(Ve,{display:"Delete",direction:t(Ae).Left,class:"info"},{default:oe(()=>[Du]),_:1},8,["direction"])]),_:1},8,["disabled"])])),t(s).error==null&&!l.value?($(),x("div",Vu,[w("button",{class:"button open",onClick:h[6]||(h[6]=N=>n("open"))},[w("h3",null,J(t(s).name),1)]),w("span",Gu,"v"+J(t(s).modVersion),1),zu,t(p)?($(),x("div",Hu,"Last played "+J(t(r).format(t(p))),1)):H("",!0)])):t(s).error==null&&l.value?($(),x("div",Wu,[a(ti,{modelValue:m.value,"onUpdate:modelValue":h[7]||(h[7]=N=>m.value=N),class:"editname",onSubmit:b},null,8,["modelValue"])])):($(),x("div",Yu,[u(" Error: Failed to load save with id "+J(t(s).id),1),Ku,u(J(t(s).error),1)]))],2))}});var Qu=fe(Xu,[["__scopeId","data-v-32313015"]]);const ss=e=>(ct("data-v-2a4275be"),e=e(),dt(),e),Zu=ss(()=>w("h2",null,"Saves Manager",-1)),Ju={class:"modal-footer"},ec={class:"field"},tc=ss(()=>w("span",{class:"field-title"},"Create Save",-1)),nc={class:"field-buttons"},ic={class:"footer"},sc=ss(()=>w("div",{style:{"flex-grow":"1"}},null,-1)),rc=se({__name:"SavesManager",setup(e,{expose:n}){const i=ae(!1),s=ae(null);n({open(){i.value=!0}});const r=ae(!1),l=ae(""),c=ae(null);Ct(l,M=>{M?fn(()=>{try{if(M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=nn.decompressFromUTF16(M);else{console.warn("Unable to determine preset encoding",M),r.value=!0;return}const T=JSON.parse(M);if(typeof T!="object"){r.value=!0;return}const G=pi();T.id=G,Ft(T),l.value="",r.value=!1,Be.saves.push(G)}catch{r.value=!0}}):r.value=!1});let m={},d=ae(Object.keys(m).reduce((M,T)=>(M.push({label:T.split("/").slice(-1)[0].slice(0,-4),value:m[T]}),M),[]));const p=wi({});function b(M){if(p[M]==null){let T=localStorage.getItem(M);if(T==null)p[M]={error:"Save doesn't exist in localStorage",id:M};else if(T==="dW5kZWZpbmVk")p[M]={error:"Save is undefined",id:M};else try{if(T[0]!=="{")if(T[0]==="e")T=decodeURIComponent(escape(atob(T)));else if(T[0]==="\u1BE1")T=nn.decompressFromUTF16(T);else return console.warn("Unable to determine preset encoding",T),r.value=!0,p[M]={error:"Unable to determine preset encoding",id:M},p[M];p[M]={...JSON.parse(T),id:M}}catch(G){p[M]={error:G,id:M},console.warn(`SavesManager: Failed to load info about save with id ${M}:
${G}
${T}`)}}return p[M]}Ct(i,M=>{M&&Object.keys(p).forEach(T=>delete p[T])});const f=v(()=>Be.saves.reduce((M,T)=>(M[T]=b(T),M),{}));function h(M){let T;switch(be.id===M?T=Vi(be):T=JSON.stringify(f.value[M]),ye.exportEncoding){default:console.warn(`Unknown save encoding: ${ye.exportEncoding}. Defaulting to lz`);case"lz":T=nn.compressToUTF16(T);break;case"base64":T=btoa(unescape(encodeURIComponent(T)));break;case"plain":break}const G=document.createElement("textarea");G.value=T,document.body.appendChild(G),G.select(),G.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(G)}function N(M){be.id===M&&Ft();const T={...f.value[M],id:pi()};Ft(T),Be.saves.push(T.id)}function I(M){Be.saves=Be.saves.filter(T=>T!==M),localStorage.removeItem(M),p[M]=void 0}function q(M){f.value[be.id].time=be.time,Ft(),p[be.id]=void 0,kn(f.value[M]),p[M]=void 0}function E(M){if(c.value=M,fn(()=>{c.value=null}),M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=nn.decompressFromUTF16(M);else{console.warn("Unable to determine preset encoding",M);return}const T=JSON.parse(M);T.id=pi(),Ft(T),Be.saves.push(T.id),q(T.id)}function P(M,T){const G=f.value[M];G!=null&&(G.name=T,be.id===M?(be.name=T,Ft()):(Ft(G),p[M]=void 0))}return(M,T)=>($(),ie(tn,{modelValue:i.value,"onUpdate:modelValue":T[4]||(T[4]=G=>i.value=G),ref_key:"modal",ref:s},{header:oe(()=>[Zu]),body:oe(({shown:G})=>[G?($(),ie(t(yr),{key:0,list:t(Be).saves,handle:".handle",itemKey:ue=>ue},{item:oe(({element:ue})=>[a(Qu,{save:t(f)[ue],onOpen:Y=>q(ue),onExport:Y=>h(ue),onEditName:Y=>P(ue,Y),onDuplicate:Y=>N(ue),onDelete:Y=>I(ue)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):H("",!0)]),footer:oe(()=>[w("div",Ju,[a(ti,{modelValue:l.value,"onUpdate:modelValue":T[0]||(T[0]=G=>l.value=G),title:"Import Save",placeholder:"Paste your save here!",class:qe({importingFailed:r.value})},null,8,["modelValue","class"]),w("div",ec,[tc,w("div",nc,[w("button",{class:"button",onClick:T[1]||(T[1]=G=>q(t(Tn)().id))},"New Game"),Object.keys(t(d)).length>0?($(),ie(_i,{key:0,options:t(d),modelValue:c.value,"onUpdate:modelValue":T[2]||(T[2]=G=>E(G)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):H("",!0)])]),w("div",ic,[sc,w("button",{class:"button modal-default-button",onClick:T[3]||(T[3]=G=>i.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var Ks=fe(rc,[["__scopeId","data-v-2a4275be"]]);const Et=e=>(ct("data-v-2a357bf1"),e=e(),dt(),e),oc=["src","alt"],ac={key:1,class:"title"},lc={key:2,class:"devspeed"},uc={key:3,class:"devspeed"},cc=Et(()=>w("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),dc={class:"discord"},mc={class:"discord-links"},pc={key:0},fc=["href"],gc=Et(()=>w("li",null,[w("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),bc=Et(()=>w("li",null,[w("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),hc={href:"https://forums.moddingtree.com/",target:"_blank"},vc=Et(()=>w("span",{class:"material-icons"},"forum",-1)),yc=Et(()=>w("span",{class:"material-icons"},"info",-1)),_c=Et(()=>w("span",{class:"material-icons"},"library_books",-1)),wc=Et(()=>w("span",{class:"material-icons"},"settings",-1)),kc=Et(()=>w("span",{class:"material-icons"},"library_books",-1)),Sc=Et(()=>w("span",{class:"material-icons"},"settings",-1)),Cc=Et(()=>w("span",{class:"material-icons"},"info",-1)),$c={href:"https://forums.moddingtree.com/",target:"_blank"},Nc=Et(()=>w("span",{class:"material-icons"},"forum",-1)),Ic={class:"discord"},qc={class:"discord-links"},Mc={key:0},Tc=["href"],xc=Et(()=>w("li",null,[w("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),Pc=Et(()=>w("li",null,[w("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Ac=se({__name:"Nav",setup(e){const n=ae(null),i=ae(null),s=ae(null),r=ae(null),{useHeader:l,banner:c,title:m,discordName:d,discordLink:p,versionNumber:b}=ye;function f(){window.open(p,"mywindow")}return(h,N)=>($(),x(g,null,[t(l)?($(),x("div",Bt({key:0,class:"nav"},h.$attrs),[t(c)?($(),x("img",{key:0,src:t(c),class:"banner",alt:t(m)},null,8,oc)):($(),x("div",ac,J(t(m)),1)),w("div",{onClick:N[0]||(N[0]=I=>{var q;return(q=r.value)==null?void 0:q.open()}),class:"version-container"},[a(Ve,{display:"Changelog",direction:t(Ae).Down,class:"version"},{default:oe(()=>[w("span",null,"v"+J(t(b)),1)]),_:1},8,["direction"])]),t(be).devSpeed===0?($(),x("div",lc,"Game Paused")):t(be).devSpeed&&t(be).devSpeed!==1?($(),x("div",uc,"Dev Speed: "+J(t(D)(t(be).devSpeed))+"x",1)):H("",!0),cc,w("div",dc,[w("span",{onClick:f,class:"material-icons"},"discord"),w("ul",mc,[t(p)?($(),x("li",pc,[w("a",{href:t(p),target:"_blank"},J(t(d)),9,fc)])):H("",!0),gc,bc])]),w("div",null,[w("a",hc,[a(Ve,{display:"Forums",direction:t(Ae).Down,yoffset:"5px"},{default:oe(()=>[vc]),_:1},8,["direction"])])]),w("div",{onClick:N[1]||(N[1]=I=>{var q;return(q=n.value)==null?void 0:q.open()})},[a(Ve,{display:"Info",direction:t(Ae).Down,class:"info"},{default:oe(()=>[yc]),_:1},8,["direction"])]),w("div",{onClick:N[2]||(N[2]=I=>{var q;return(q=i.value)==null?void 0:q.open()})},[a(Ve,{display:"Saves",direction:t(Ae).Down,xoffset:"-20px"},{default:oe(()=>[_c]),_:1},8,["direction"])]),w("div",{onClick:N[3]||(N[3]=I=>{var q;return(q=s.value)==null?void 0:q.open()})},[a(Ve,{display:"Settings",direction:t(Ae).Down,xoffset:"-66px"},{default:oe(()=>[wc]),_:1},8,["direction"])])],16)):($(),x("div",Bt({key:1,class:"overlay-nav"},h.$attrs),[w("div",{onClick:N[4]||(N[4]=I=>{var q;return(q=r.value)==null?void 0:q.open()}),class:"version-container"},[a(Ve,{display:"Changelog",direction:t(Ae).Right,xoffset:"25%",class:"version"},{default:oe(()=>[w("span",null,"v"+J(t(b)),1)]),_:1},8,["direction"])]),w("div",{onClick:N[5]||(N[5]=I=>{var q;return(q=i.value)==null?void 0:q.open()})},[a(Ve,{display:"Saves",direction:t(Ae).Right},{default:oe(()=>[kc]),_:1},8,["direction"])]),w("div",{onClick:N[6]||(N[6]=I=>{var q;return(q=s.value)==null?void 0:q.open()})},[a(Ve,{display:"Settings",direction:t(Ae).Right},{default:oe(()=>[Sc]),_:1},8,["direction"])]),w("div",{onClick:N[7]||(N[7]=I=>{var q;return(q=n.value)==null?void 0:q.open()})},[a(Ve,{display:"Info",direction:t(Ae).Right},{default:oe(()=>[Cc]),_:1},8,["direction"])]),w("div",null,[w("a",$c,[a(Ve,{display:"Forums",direction:t(Ae).Right,xoffset:"7px"},{default:oe(()=>[Nc]),_:1},8,["direction"])])]),w("div",Ic,[w("span",{onClick:f,class:"material-icons"},"discord"),w("ul",qc,[t(p)?($(),x("li",Mc,[w("a",{href:t(p),target:"_blank"},J(t(d)),9,Tc)])):H("",!0),xc,Pc])])],16)),a(pu,{ref_key:"info",ref:n,changelog:r.value},null,8,["changelog"]),a(Ks,{ref_key:"savesManager",ref:i},null,512),a(Su,{ref_key:"options",ref:s},null,512),a(Yl,{ref_key:"changelog",ref:r},null,512)],64))}});var Xs=fe(Ac,[["__scopeId","data-v-2a357bf1"]]);const Fc=["id"],Bc={class:"inner-tab"},Ec=se({__name:"Game",setup(e){const n=sn(be,"tabs"),i=v(()=>Object.keys(wt)),s=ye.useHeader;function r(l){const{display:c,name:m,theme:d,nodes:p}=l;return{display:c,name:m,theme:d,nodes:p}}return(l,c)=>($(),x("div",{class:qe(["tabs-container",{useHeader:t(s)}])},[($(!0),x(g,null,Pe(t(n),(m,d)=>{var p,b;return $(),x("div",{key:d,id:m,class:qe(["tab",t((p=t(wt)[m])==null?void 0:p.classes)]),style:Oe(t((b=t(wt)[m])==null?void 0:b.style))},[d===0&&!t(s)?($(),ie(Xs,{key:0})):H("",!0),w("div",Bc,[t(i).includes(m)?($(),ie(Gl,Bt({key:0},r(t(wt)[m]),{index:d}),null,16,["index"])):($(),ie($e(m),{key:1,index:d},null,8,["index"]))])],14,Fc)}),128))],2))}});var Rc=fe(Ec,[["__scopeId","data-v-a75d3130"]]);const Oc=se({__name:"Tab",props:{display:null},setup(e){const n=e,{display:i}=ot(n),s=Ji(i);return(r,l)=>($(),ie($e(t(s))))}}),Dc=Symbol("Tab");function Jt(e){return Ke(n=>{const i=e.call(n,n);return i.id=Ut("tab-"),i.type=Dc,i[mt]=Oc,i[kt]=function(){const{display:s}=this;return{display:s}},i})}pt.on("setupVue",e=>e.use(wr));function Ci(e="white",n="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${n} ${e}`,zIndex:1}}function Qs(){return Ci("red","20px")}const Lc=se({props:{visibility:{type:ne(Number,Boolean),required:!0},display:{type:ne(Object,String,Function),required:!0},style:ne(String,Object,Array),classes:ne(Object),glowColor:ne(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:n}){const{display:i,glowColor:s,floating:r}=ot(e),l=Ji(i),c=v(()=>{const d=Ce(s);return d==null||d===""?{}:t(r)?Ci(d):{boxShadow:`0px 9px 5px -6px ${d}`}});function m(){n("selectTab")}return{selectTab:m,component:l,glowColorStyle:c,unref:t,Visibility:Te,isVisible:he,isHidden:jt}}});function jc(e,n,i,s,r,l){var c;return e.isVisible(e.visibility)?($(),x("button",{key:0,onClick:n[0]||(n[0]=(...m)=>e.selectTab&&e.selectTab(...m)),class:qe(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.glowColorStyle,(c=e.unref(e.style))!=null?c:{}])},[($(),ie($e(e.component)))],6)):H("",!0)}var Zs=fe(Lc,[["render",jc],["__scopeId","data-v-1db9253b"]]);const Uc=se({__name:"Sticky",props:{style:null},setup(e){const n=ae("0"),i=new ResizeObserver(r),s=vt(null);function r(){let l=s.value;if(l==null)return;let c=0;for(;l.previousSibling;){const m=l.previousSibling;m.dataset&&"vSticky"in m.dataset&&(c+=m.offsetHeight),l=m}n.value=c+"px"}return fn(r),document.fonts.ready.then(r),Jn(()=>{var c;const l=(c=s.value)==null?void 0:c.parentElement;l&&i.observe(l)}),(l,c)=>{var m;return $(),x("div",{class:"sticky",style:Oe([(m=e.style)!=null?m:{},{top:n.value}]),ref_key:"element",ref:s,"data-v-sticky":""},[Wt(l.$slots,"default",{},void 0,!0)],4)}}});var Js=fe(Uc,[["__scopeId","data-v-4627c2ee"]]);const Vc=se({props:{visibility:{type:ne(Number,Boolean),required:!0},activeTab:{type:ne(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:ne(Object),required:!0},style:ne(String,Object,Array),classes:ne(Object),buttonContainerStyle:ne(String,Object,Array),buttonContainerClasses:ne(Object)},components:{Sticky:Js,TabButton:Zs},setup(e){const{activeTab:n,buttonContainerClasses:i}=ot(e),s=v(()=>{var d;return(d=Ce(i))==null?void 0:d.floating}),r=vt("");It(()=>{const d=Ce(n);if(d==null){r.value="";return}if(St(d)){r.value=le(d);return}r.value=le(t(d.display))});const l=v(()=>{const d=Ce(n);return St(d)||!d?void 0:t(d.classes)}),c=v(()=>{const d=Ce(n);return St(d)||!d?void 0:t(d.style)});function m(d){const{display:p,style:b,classes:f,glowColor:h,visibility:N}=d;return{display:p,style:t(b),classes:f,glowColor:h,visibility:N}}return{floating:s,tabClasses:l,tabStyle:c,Visibility:Te,component:r,gatherButtonProps:m,unref:t,isVisible:he,isHidden:jt}}});function Gc(e,n,i,s,r,l){var d,p;const c=Lt("TabButton"),m=Lt("Sticky");return e.isVisible(e.visibility)?($(),x("div",{key:0,class:qe(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[],(p=e.tabStyle)!=null?p:[]])},[a(m,{class:qe(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:Oe(e.unref(e.buttonContainerStyle))},{default:oe(()=>[w("div",{class:qe(["tab-buttons",{floating:e.floating}])},[($(!0),x(g,null,Pe(e.unref(e.tabs),(b,f)=>($(),ie(c,Bt({onSelectTab:h=>e.selected.value=f,floating:e.floating,key:f,active:e.unref(b.tab)===e.unref(e.activeTab)},e.gatherButtonProps(b)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?($(),ie($e(e.unref(e.component)),{key:0})):H("",!0)],6)):H("",!0)}var zc=fe(Vc,[["render",Gc],["__scopeId","data-v-47dac459"]]);const Hc=Symbol("TabButton"),Wc=Symbol("TabFamily");function ni(e,n){Object.keys(e).length===0&&console.error("Cannot create tab family with 0 tabs");const i=Ie(Object.keys(e)[0],!1);return Ke(s=>{var c;const r=(c=n==null?void 0:n.call(s,s))!=null?c:{};r.id=Ut("tabFamily-"),r.type=Wc,r[mt]=zc,r.tabs=Object.keys(e).reduce((m,d)=>{const p=e[d]();return p.type=Hc,p[mt]=Zs,X(p,"visibility"),De(p,"visibility",Te.Visible),X(p,"tab"),X(p,"display"),X(p,"classes"),X(p,"style"),X(p,"glowColor"),m[d]=p,m},{}),r.selected=i,r.activeTab=v(()=>{const m=t(l.tabs);if(i.value in m&&he(m[i.value].visibility))return t(m[i.value].tab);const d=Object.values(m).find(p=>he(p.visibility));return d?t(d.tab):null}),X(r,"visibility"),De(r,"visibility",Te.Visible),X(r,"classes"),X(r,"style"),X(r,"buttonContainerClasses"),X(r,"buttonContainerStyle"),r[kt]=function(){const{visibility:m,activeTab:d,selected:p,tabs:b,style:f,classes:h,buttonContainerClasses:N,buttonContainerStyle:I}=this;return{visibility:m,activeTab:d,selected:p,tabs:b,style:t(f),classes:h,buttonContainerClasses:N,buttonContainerStyle:I}};const l=r;return l})}function at(e,n="points",i=0,s=void 0){const r=We(e)?e:Ie(e);if(r.displayName=n,r.precision=i,r.small=s,!We(e)){const l=r[Qt];l.displayName=n,l.precision=i,l.small=s}return r}function rs(e){const n=Ie(e.value);return Ct(e,i=>{Gi.value||o.gt(i,n.value)&&(n.value=i)}),n}function Yc(e){const n=Ie(e.value);return Ct(e,(i,s)=>{Gi.value||o.gt(i,s)&&(n.value=o.add(n.value,o.sub(i,s)))}),n}new o("10^^8");new o("1e100");function bn(e,n){const i=n!=null?n:e.value;return e.small&&o.lt(i,.98)?hi(i,void 0,e.small):o.eq(e.precision,0)?$n(e.small?i:o.floor(i)):hi(i,e.precision,e.small)}function Kc(e){return Ke(n=>{const{addend:i,description:s,enabled:r,smallerIsBetter:l}=e.call(n,n),c=et(i),m=et(s),d=r==null?void 0:et(r);return{apply:p=>o.add(p,t(c)),invert:p=>o.sub(p,t(c)),getFormula:p=>_.add(p,c),enabled:d,description:s==null?void 0:S(()=>a("div",{class:"modifier-container"},[t(m)!=null?a("span",{class:"modifier-description"},[Pt(t(m))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(c),0):o.lt(t(c),0))?"color: var(--danger)":""},[o.gte(t(c),0)?"+":"",An(t(c))])]))}})}function z(e){return Ke(n=>{const{multiplier:i,description:s,enabled:r,smallerIsBetter:l}=e.call(n,n),c=et(i),m=et(s),d=r==null?void 0:et(r);return{apply:p=>o.times(p,t(c)),invert:p=>o.div(p,t(c)),getFormula:p=>_.times(p,c),enabled:d,description:s==null?void 0:S(()=>a("div",{class:"modifier-container"},[t(m)!=null?a("span",{class:"modifier-description"},[Pt(t(m))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(c),1):o.lt(t(c),1))?"color: var(--danger)":""},[u("\xD7"),An(t(c))])]))}})}function Rn(e){return Ke(n=>{const{exponent:i,description:s,enabled:r,supportLowNumbers:l,smallerIsBetter:c}=e.call(n,n),m=et(i),d=et(s),p=r==null?void 0:et(r);return{apply:b=>{let f=b;return l&&(f=o.add(f,1)),f=o.pow(f,t(m)),l&&(f=o.sub(f,1)),f},invert:b=>{let f=b;return l&&(f=o.add(f,1)),f=o.root(f,t(m)),l&&(f=o.sub(f,1)),f},getFormula:b=>l?_.add(b,1).pow(m).sub(1):_.pow(b,m),enabled:p,description:s==null?void 0:S(()=>a("div",{class:"modifier-container"},[t(d)!=null?a("span",{class:"modifier-description"},[Pt(t(d)),l?" (+1 effective)":null]):null,a("span",{class:"modifier-amount",style:(c===!0?o.gt(t(m),1):o.lt(t(m),1))?"color: var(--danger)":""},[u("^"),An(t(m))])]))}})}function ut(e){return Ke(()=>{const n=e();return{apply:i=>n.filter(s=>t(s.enabled)!==!1).reduce((s,r)=>r.apply(s),i),invert:n.every(i=>i.invert!=null)?i=>n.filter(s=>t(s.enabled)!==!1).reduceRight((s,r)=>r.invert(s),i):void 0,getFormula:n.every(i=>i.getFormula!=null)?i=>n.reduce((s,r)=>r.enabled==null||r.enabled===!0?r.getFormula(s):_.if(s,r.enabled,l=>r.getFormula(l)),i):void 0,enabled:n.some(i=>i.enabled!=null)?v(()=>n.filter(i=>t(i.enabled)!==!1).length>0):void 0,description:n.some(i=>i.description!=null)?S(()=>a(g,null,[n.filter(i=>t(i.enabled)!==!1).map(i=>t(i.description)).filter(i=>i).map(Pt)])):void 0}})}const Se=se({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(n,i)=>($(),x("div",{style:Oe({width:e.width,height:e.height})},null,4))}});function On(e,n){return X(n,"display"),X(n,"classes"),X(n,"style"),X(n,"direction"),De(n,"direction",Ae.Up),X(n,"xoffset"),X(n,"yoffset"),n.pinnable&&(n.pinned=Ie(!1,!1)),fn(()=>{const i=e[mt];e[mt]=Ve;const s=e[kt].bind(e);e[kt]=function(){const{display:l,classes:c,style:m,direction:d,xoffset:p,yoffset:b,pinned:f}=this;return{element:{[mt]:i,[kt]:s},display:l,classes:c,style:t(m),direction:d,xoffset:p,yoffset:b,pinned:f}}.bind(n)}),n}const Xc={key:0},Qc={key:0,class:"mark star"},Zc=["src"],Jc=se({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(n,i)=>e.mark?($(),x("div",Xc,[e.mark===!0?($(),x("div",Qc)):($(),x("img",{key:1,class:"mark",src:e.mark},null,8,Zc))])):H("",!0)}});var ii=fe(Jc,[["__scopeId","data-v-782ef5ff"]]);const ed=se({__name:"Node",props:{id:null},setup(e){const i=ot(e),s=bi(es,()=>{}),r=bi(ts,()=>{}),l=vt(null),c=v(()=>l.value&&l.value.parentElement);return Ct([c,i.id],([m,d],[p,b])=>{p&&r(t(b)),m&&s(d,m)}),Cs(()=>r(t(i.id))),(m,d)=>($(),x("div",{class:"node",ref_key:"node",ref:l},null,512))}});var hn=fe(ed,[["__scopeId","data-v-a48cb382"]]);function K(e){return Ke(n=>{var s;const i=e.call(n,n);return i.partialDisplay=r=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[bn(i.resource,i.cost instanceof _?Zt(i.cost,r!=null?r:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),i.display=r=>a("div",null,[t(i.requiresPay)?"Costs: ":"Requires: ",bn(i.resource,i.cost instanceof _?Zt(i.cost,r!=null?r:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),X(i,"visibility"),De(i,"visibility",Te.Visible),X(i,"cost"),X(i,"requiresPay"),De(i,"requiresPay",!0),X(i,"cumulativeCost"),De(i,"cumulativeCost",!0),X(i,"maxBulkAmount"),De(i,"maxBulkAmount",1),X(i,"directSum"),De(i,"pay",function(r){const l=i.cost instanceof _?Zt(i.cost,r!=null?r:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost);i.resource.value=o.sub(i.resource.value,l).max(0)}),i.canMaximize=v(()=>{var m;if(!(i.cost instanceof _))return!1;const r=t(i.maxBulkAmount);if(o.lte(r,1))return!1;const l=t(i.cumulativeCost),c=(m=t(i.directSum))!=null?m:l?10:0;return o.lte(r,c)?!0:!(!i.cost.isInvertible()||l===!0&&!i.cost.isIntegrable())}),i.cost instanceof _?i.requirementMet=Fl(i.cost,i.resource,(s=i.cumulativeCost)!=null?s:!0,i.directSum,i.maxBulkAmount):i.requirementMet=v(()=>o.gte(i.resource.value,t(i.cost))?1:0),i})}function os(e){return Ke(()=>({requirementMet:v(()=>he(e.visibility)),visibility:Te.None,requiresPay:!1}))}function Gt(e,n){return Ke(()=>({requirementMet:et(e),partialDisplay:n==null?void 0:S(()=>Pt(n)),display:n==null?void 0:S(()=>a(g,null,[u("Req: "),Pt(n)])),visibility:n==null?Te.None:Te.Visible,requiresPay:!1}))}function Dt(e){if(en(e))return e.every(Dt);const n=t(e.requirementMet);return typeof n=="boolean"?n:o.gt(n,0)}function Qn(e){if(en(e))return e.map(Qn).reduce(o.min);const n=t(e.requirementMet);return typeof n=="boolean"?n?o.dInf:0:o.gt(n,1)&&t(e.canMaximize)!==!0?1:n}function Qe(e,n=1){var i,s;if(en(e)&&(e=e.filter(r=>he(r.visibility)),e.length===1&&(e=e[0])),en(e)){e=e.filter(c=>"partialDisplay"in c);const r=e.filter(c=>t(c.requiresPay)),l=e.filter(c=>!t(c.requiresPay));return a(g,null,[r.length>0?a("div",null,[u("Costs:")," ",Li(r.map(c=>c.partialDisplay(n)),a(g,null,[u(", ")]))]):null,l.length>0?a("div",null,[u("Requires:")," ",Li(l.map(c=>c.partialDisplay(n)),a(g,null,[u(", ")]))]):null])}return(s=(i=e.display)==null?void 0:i.call(e))!=null?s:a(g,null,null)}function Gn(e,n=1){var i;en(e)?e.filter(s=>t(s.requiresPay)).forEach(s=>{var r;return(r=s.pay)==null?void 0:r.call(s,n)}):t(e.requiresPay)&&((i=e.pay)==null||i.call(e,n))}var td=se({props:{display:{type:ne(String,Object,Function),required:!0},visibility:{type:ne(Number,Boolean),required:!0},style:ne(String,Object,Array),classes:ne(Object),requirements:{type:Object,required:!0},canPurchase:{type:ne(Boolean),required:!0},bought:{type:ne(Boolean),required:!0},mark:ne(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:hn,MarkNode:ii},setup(e){const{display:n,requirements:i,bought:s}=ot(e),r=vt("");return It(()=>{const l=Ce(n);if(l==null){r.value="";return}if(St(l)){r.value=le(l);return}const c=le(l.title||"","h3"),m=le(l.description,"div"),d=le(l.effect||"");r.value=le(S(()=>a("span",null,[l.title!=null?a("div",null,[a(c,null,null)]):null,a(m,null,null),l.effect!=null?a("div",null,[u("Currently: "),a(d,null,null)]):null,s.value?null:a(g,null,[a("br",null,null),Qe(i.value)])])))}),{component:r,unref:t,Visibility:Te,isVisible:he,isHidden:jt}}});const nd=["disabled"];function id(e,n,i,s,r,l){var d;const c=Lt("MarkNode"),m=Lt("Node");return e.isVisible(e.visibility)?($(),x("button",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:{}]),onClick:n[0]||(n[0]=(...p)=>e.purchase&&e.purchase(...p)),class:qe({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?($(),ie($e(e.unref(e.component)),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],14,nd)):H("",!0)}var sd=fe(td,[["render",id],["__scopeId","data-v-67ed4380"]]);const rd=Symbol("Upgrade");function me(e,...n){const i=Ie(!1,!1),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Ke(r=>{var d,p;const l=e.call(r,r);l.id=Ut("upgrade-"),l.type=rd,l[mt]=sd;for(const b of n)(d=b.preConstruct)==null||d.call(b,l);l.bought=i,Object.assign(l,s),l.canPurchase=v(()=>!i.value&&Dt(l.requirements)),l.purchase=function(){var f;const b=l;!t(b.canPurchase)||(Gn(l.requirements),i.value=!0,(f=b.onPurchase)==null||f.call(b))};const c=os(l);en(l.requirements)?l.requirements.unshift(c):l.requirements=[c,l.requirements],X(l,"visibility"),De(l,"visibility",Te.Visible),X(l,"classes"),X(l,"style"),X(l,"display"),X(l,"mark");for(const b of n)(p=b.postConstruct)==null||p.call(b,l);const m=n.reduce((b,f)=>{var h;return Object.assign(b,(h=f.getGatheredProps)==null?void 0:h.call(f,l))},{});return l[kt]=function(){const{display:b,visibility:f,style:h,classes:N,requirements:I,canPurchase:q,bought:E,mark:P,id:M,purchase:T}=this;return{display:b,visibility:f,style:t(h),classes:N,requirements:I,canPurchase:q,bought:E,mark:P,id:M,purchase:T,...m}},l})}function je(e,n=1,i=!1){if(!("effect"in e))throw new TypeError(`Upgrade ${e.id} does not have an effect`);return i||t(e.bought)?t(e.effect):n}function od(e){const n=me(()=>({visibility:e.visibility,requirements:e.requirements,display:e.display.title,onPurchase:e.onPurchase}));return On(n,{direction:Ae.Up,display:S(()=>a(g,null,[e.display.description,a(Se,null,null),Qe(e.requirements)]))}),n}const ke={postConstruct(e){X(e,"effect")}},si=se({__name:"Resource",props:{resource:null,color:null,tag:null,override:null},setup(e){const n=e,i=v(()=>bn(n.resource,n.override));return(s,r)=>{var l;return $(),ie($e((l=e.tag)!=null?l:"h2"),{style:Oe({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},{default:oe(()=>[u(J(t(i)),1)]),_:1},8,["style"])}}});const ad={class:"main-display"},ld={key:0},ud={key:1},$i=se({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,stickyStyle:null,effect:null,modal:null},setup(e){const i=ot(e),s=ae(null),r=ei(i.effect),l=v(()=>o.lt(i.resource.value,"1e1000"));return(c,m)=>($(),ie(Js,{style:Oe(e.stickyStyle)},{default:oe(()=>{var d,p,b,f;return[w("div",{class:qe(["main-display-container",(d=e.classes)!=null?d:{}]),style:Oe([{height:`${((b=(p=s.value)==null?void 0:p.$el.clientHeight)!=null?b:0)+50}px`},(f=e.style)!=null?f:{}])},[w("div",ad,[t(l)?($(),x("span",ld,"You have ")):H("",!0),a(si,{resource:e.resource,color:e.color||"var(--feature-background)"},null,8,["resource","color"]),u(" "+J(e.resource.displayName),1),t(r)?($(),x("span",ud,[u(", "),($(),ie($e(t(r)),{ref_key:"effectRef",ref:s},null,512))])):H("",!0),e.modal?($(),ie($e(t(te)(e.modal)),{key:2})):H("",!0)])],6)]}),_:1},8,["style"]))}});const cd={class:"timecube row"},dd=se({__name:"TimecubeUpgrades",props:{upgrades:null},setup(e){const n=e,i=[];for(let b=0;b<t(n.upgrades).length;b+=5)i.push([]);let s=0;for(const b of t(n.upgrades))i[s].push(b),i[s].length>=5&&s++;const r=i.map(b=>b.map((f,h)=>h===0?!1:v(()=>he(b[h-1].visibility)))),l=i.map(b=>b.map((f,h)=>h>=b.length-1?!1:v(()=>he(b[h+1].visibility)))),c=i.map(b=>v(()=>b.filter(f=>he(f.visibility)).length)),m=i.map((b,f)=>b.map(()=>v(()=>f===0?!1:t(c[f])<=t(c[f-1])))),d=i.map((b,f)=>b.map(()=>v(()=>f>=i.length-1?!1:t(c[f])<=t(c[f+1])))),p=i.map((b,f)=>b.map((h,N)=>v(()=>({upgrade:h,classes:{left:t(r[f][N]),right:t(l[f][N]),top:t(m[f][N]),bottom:t(d[f][N])}}))));return(b,f)=>($(!0),x(g,null,Pe(t(p),h=>($(),x("div",cd,[($(!0),x(g,null,Pe(h,N=>($(),ie($e(t(te)(t(N).upgrade)),{classes:t(N).classes},null,8,["classes"]))),256))]))),256))}});var md=fe(dd,[["__scopeId","data-v-46085314"]]),pd=se({props:{display:{type:ne(Object,String,Function),required:!0},visibility:{type:ne(Number,Boolean),required:!0},style:ne(Object,String,Array),classes:ne(Object),onClick:Function,onHold:Function,canClick:{type:ne(Boolean),required:!0},small:Boolean,mark:ne(Boolean,String),id:{type:String,required:!0}},components:{Node:hn,MarkNode:ii},setup(e){const{display:n,onClick:i,onHold:s}=ot(e),r=vt("");It(()=>{var b;const m=Ce(n);if(m==null){r.value="";return}if(St(m)){r.value=le(m);return}const d=le((b=m.title)!=null?b:"","h3"),p=le(m.description,"div");r.value=le(S(()=>a("span",null,[m.title!=null?a("div",null,[a(d,null,null)]):null,a(p,null,null)])))});const{start:l,stop:c}=Us(i,s);return{start:l,stop:c,comp:r,Visibility:Te,isVisible:he,isHidden:jt,unref:t}}});function fd(e,n,i,s,r,l){var d;const c=Lt("MarkNode"),m=Lt("Node");return e.isVisible(e.visibility)?($(),x("button",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[]]),onClick:n[0]||(n[0]=(...p)=>e.onClick&&e.onClick(...p)),onMousedown:n[1]||(n[1]=(...p)=>e.start&&e.start(...p)),onMouseleave:n[2]||(n[2]=(...p)=>e.stop&&e.stop(...p)),onMouseup:n[3]||(n[3]=(...p)=>e.stop&&e.stop(...p)),onTouchstartPassive:n[4]||(n[4]=(...p)=>e.start&&e.start(...p)),onTouchendPassive:n[5]||(n[5]=(...p)=>e.stop&&e.stop(...p)),onTouchcancelPassive:n[6]||(n[6]=(...p)=>e.stop&&e.stop(...p)),class:qe({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?($(),ie($e(e.unref(e.comp)),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],38)):H("",!0)}var er=fe(pd,[["render",fd],["__scopeId","data-v-211328c0"]]);const gd=Symbol("Clickable");function lt(e,...n){const i=n.reduce((s,r)=>{var l;return Object.assign(s,(l=r.getPersistentData)==null?void 0:l.call(r))},{});return Ke(s=>{var c,m,d;const r=(c=e==null?void 0:e.call(s,s))!=null?c:{};r.id=Ut("clickable-"),r.type=gd,r[mt]=er;for(const p of n)(m=p.preConstruct)==null||m.call(p,r);if(Object.assign(r,i),X(r,"visibility"),De(r,"visibility",Te.Visible),X(r,"canClick"),De(r,"canClick",!0),X(r,"classes"),X(r,"style"),X(r,"mark"),X(r,"display"),r.onClick){const p=r.onClick.bind(r);r.onClick=function(b){t(r.canClick)!==!1&&p(b)}}if(r.onHold){const p=r.onHold.bind(r);r.onHold=function(){t(r.canClick)!==!1&&p()}}for(const p of n)(d=p.postConstruct)==null||d.call(p,r);const l=n.reduce((p,b)=>{var f;return Object.assign(p,(f=b.getGatheredProps)==null?void 0:f.call(b,r))},{});return r[kt]=function(){const{display:p,visibility:b,style:f,classes:h,onClick:N,onHold:I,canClick:q,small:E,mark:P,id:M}=this;return{display:p,visibility:b,style:t(f),classes:h,onClick:N,onHold:I,canClick:q,small:E,mark:P,id:M,...l}},r})}const bd=["disabled"],hd={key:0};var vd=se({__name:"Research",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,research:null},setup(e){const n=e,i=vt("");It(()=>{var p,b;const r=t(n.display);if(r==null){i.value="";return}if(St(r)){i.value=le(r);return}const l=t(n.requirements),c=le((p=r.title)!=null?p:"","h3"),m=le(r.description),d=le((b=r.effect)!=null?b:"");i.value=le(S(()=>a(g,null,[r.title?a("span",null,[a(c,null,null)]):null,a("span",null,[a(m,null,null)]),r.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,Qe(l)])))});const s=v(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(r,l)=>($(),x("button",{style:Oe([{visibility:t(jt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(s)))}%`}]),onClick:l[0]||(l[0]=c=>e.research(!1)),class:qe({research:!0,hidden:t(jt)(e.visibility),locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching)&&!t(e.researched),queued:t(e.isResearching),done:t(e.researched)}),disabled:!t(e.canResearch)},[t(he)(e.visibility)?t(t(i))?($(),ie($e(t(t(i))),{key:1})):H("",!0):($(),x("div",hd,"???")),a(hn,{id:e.id},null,8,["id"])],14,bd))}});var yd=fe(vd,[["__scopeId","data-v-3f9bf19b"]]);const _d=Symbol("Research");function as(e,...n){const i=Ie(0),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Ke(r=>{var p,b;const l=e.call(r,r);l.id=Ut("research-"),l.type=_d,l[mt]=yd;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.progress=i,Object.assign(l,s),X(l,"canResearch");const c=l.canResearch;l.canResearch=v(()=>{var f,h;return c!=null&&!t(c)?!1:(h=(f=l.prerequisites)==null?void 0:f.every(N=>t(N.researched)))!=null?h:!0}),X(l,"visibility");const m=l.visibility;l.visibility=v(()=>{var f,h,N;return t(l.researched)?Te.Visible:(h=(f=l.prerequisites)==null?void 0:f.every(I=>t(I.researched)||t(I.canResearch)))==null||h?(N=t(m))!=null?N:Te.Visible:Te.None}),X(l,"display"),X(l,"isResearching"),l.progressPercentage=v(()=>{if(Array.isArray(l.requirements)){let f=o.dZero,h=o.dZero;for(const N of l.requirements){if(!("cost"in N&&"resource"in N))continue;const I=N.cost,q=N.resource;f=f.plus(I instanceof _?Zt(I,1,!1,0):t(I)),h=h.plus(t(q))}return f.gte(0)?f.div(h):0}else{if(!("cost"in l.requirements&&"resource"in l.requirements))return 0;const f=l.requirements.cost,h=l.requirements.resource;return o.div(t(h),f instanceof _?Zt(f,1,!1,0):t(f))}}),l.researched=v(()=>Dt(l.requirements));for(const f of n)(b=f.postConstruct)==null||b.call(f,l);const d=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,l))},{});return l[kt]=function(){const{visibility:f,display:h,id:N,requirements:I,canResearch:q,research:E,isResearching:P,progress:M,progressPercentage:T,researched:G}=this;return{visibility:f,display:h,id:N,requirements:I,canResearch:q,research:E,isResearching:P,progress:M,progressPercentage:T,researched:G,...d}},l})}function gt(e,n){return t(e.researched)?t(e.effect):n}const tr={postConstruct(e){e.amount===void 0&&console.error(`Decorated feature ${e.id} does not contain the required 'amount' property"`),X(e,"bonusAmount"),e.totalAmount===void 0&&(e.totalAmount=v(()=>{var n;return o.add(t((n=e.amount)!=null?n:0),t(e.bonusAmount))}))}},wd=Symbol("Repeatable");function Ye(e,...n){const i=Ie(0),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Ke(r=>{var h,N,I;const l=e.call(r,r);l.id=Ut("repeatable-"),l.type=wd,l[mt]=er;for(const q of n)(h=q.preConstruct)==null||h.call(q,l);l.amount=i,l.amount[Kt]=(N=l.initialAmount)!=null?N:0,Object.assign(l,s);const c={requirementMet:v(()=>o.sub(t(l.limit),l.amount.value)),requiresPay:!1,visibility:Te.None,canMaximize:!0},m=os(l);en(l.requirements)?(l.requirements.unshift(m),l.requirements.push(c)):l.requirements=[m,l.requirements,c],l.maxed=v(()=>o.gte(l.amount.value,t(l.limit))),X(l,"classes");const d=l.classes;l.classes=v(()=>{const q=t(d)||{};return l.maxed.value&&(q.bought=!0),q}),l.amountToIncrease=v(()=>o.clampMin(Qn(l.requirements),1)),l.canClick=v(()=>Dt(l.requirements));const p=l.onClick;l.onClick=function(q){var M;const E=l;if(!t(E.canClick))return;const P=(M=t(l.amountToIncrease))!=null?M:1;Gn(l.requirements,P),E.amount.value=o.add(E.amount.value,P),p==null||p(q)},X(l,"display");const b=l.display;l.display=S(()=>{var E,P,M;const q=t(b);if(St(q)){const T=le(q);return a(T,null,null)}if(q!=null){const T=l,G=le((E=q.title)!=null?E:"","h3"),ue=le((P=q.description)!=null?P:""),Y=le((M=q.effect)!=null?M:"");return a("span",null,[q.title==null?null:a("div",null,[a(G,null,null)]),q.description==null?null:a(ue,null,null),q.showAmount===!1?null:a("div",null,[a("br",null,null),a(g,null,[u("Amount: "),$n(T.amount.value)]),o.isFinite(t(T.limit))?a(g,null,[u(" / "),$n(t(T.limit))]):void 0]),q.effect==null?null:a("div",null,[a("br",null,null),u("Currently: "),a(Y,null,null)]),T.maxed.value?null:a("div",null,[a("br",null,null),Qe(T.requirements,t(l.amountToIncrease))])])}return""}),X(l,"visibility"),De(l,"visibility",Te.Visible),X(l,"limit"),De(l,"limit",o.dInf),X(l,"style"),X(l,"mark"),X(l,"small");for(const q of n)(I=q.postConstruct)==null||I.call(q,l);const f=n.reduce((q,E)=>{var P;return Object.assign(q,(P=E.getGatheredProps)==null?void 0:P.call(E,l))},{});return l[kt]=function(){const{display:q,visibility:E,style:P,classes:M,onClick:T,canClick:G,small:ue,mark:Y,id:j}=this;return{display:q,visibility:E,style:t(P),classes:M,onClick:T,canClick:G,small:ue,mark:Y,id:j,...f}},l})}const kd=["disabled"],Sd={key:0};var Cd=se({__name:"RepeatableResearch",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,amount:null,limit:null,research:null},setup(e){const n=e,i=vt("");It(()=>{var p,b;const r=t(n.display);if(r==null){i.value="";return}if(St(r)){i.value=le(r);return}const l=n.requirements,c=le((p=r.title)!=null?p:"","h3"),m=le(r.description),d=le((b=r.effect)!=null?b:"");i.value=le(S(()=>a(g,null,[r.title?a(c,null,null):null,a("span",null,[a(m,null,null)]),r.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,Qe(l)])))});const s=v(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(r,l)=>t(he)(e.visibility)?($(),x("button",{key:0,style:Oe([{visibility:t(jt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(s)))}%`}]),onClick:l[0]||(l[0]=c=>e.research(!1)),class:qe({research:!0,repeatable:!0,locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching),queued:t(e.isResearching)}),disabled:!t(e.canResearch)},[t(he)(e.visibility)?t(t(i))?($(),ie($e(t(t(i))),{key:1})):H("",!0):($(),x("div",Sd,"???")),a(hn,{id:e.id},null,8,["id"])],14,kd)):H("",!0)}});var $d=fe(Cd,[["__scopeId","data-v-4340ade8"]]);const Nd={getPersistentData(){return{amount:Ie(0)}},preConstruct(e){if(e[mt]=$d,St(e.display)||We(e.display)||Kn(e.display))return;const n=e.display.title;e.display.title=S(()=>{var s;const i=le(n!=null?n:"");return a("h3",null,[u("Repeatable: "),a(i,null,null),u(" "),ls(o.add(t((s=e.amount)!=null?s:0),1))])})},postConstruct(e){X(e,"limit"),De(e,"limit",3998),e.maxed=v(()=>o.gte(t(e.amount),t(e.limit))),e.researched=v(()=>o.gt(t(e.amount),0));const n=e.onResearch;e.onResearch=()=>{n==null||n(),e.amount.value=o.add(t(e.amount),1),e.progress.value=0}},getGatheredProps(e){return{amount:e.amount}}};function ls(e){const n=[[1,"I"],[4,"IV"],[5,"V"],[9,"IX"],[10,"X"],[40,"XL"],[50,"L"],[90,"XC"],[100,"C"],[400,"CD"],[500,"D"],[900,"CM"],[1e3,"M"]];let i=new o(e).trunc().toNumber();if(i>=4e3)return D(e);if(i<1)return"Nulla";const s=[];for(let r=n.length-1;i>0;r--){for(let l=Math.floor(i/n[r][0]);l>0;l--)s.push(n[r][1]);i%=n[r][0]}return s.join("")}const Id=["x1","y1","x2","y2"],qd=se({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=e,i=ot(n),s=v(()=>{const c=i.startNode.value.rect,m=i.boundingRect.value,d=m?{x:c.x+c.width/2-m.x,y:c.y+c.height/2-m.y}:{x:0,y:0};return i.link.value.offsetStart&&(d.x+=i.link.value.offsetStart.x,d.y+=i.link.value.offsetStart.y),d}),r=v(()=>{const c=i.endNode.value.rect,m=i.boundingRect.value,d=m?{x:c.x+c.width/2-m.x,y:c.y+c.height/2-m.y}:{x:0,y:0};return i.link.value.offsetEnd&&(d.x+=i.link.value.offsetEnd.x,d.y+=i.link.value.offsetEnd.y),d}),l=v(()=>Zo(n.link));return(c,m)=>($(),x("line",Bt({"stroke-width":"15px",stroke:"white"},t(l),{x1:t(s).x,y1:t(s).y,x2:t(r).x,y2:t(r).y}),null,16,Id))}});const Md=se({__name:"Links",props:{links:null},setup(e){var d;const i=sn(e,"links"),s=ae(null),r=bi(ns,ae({})),l=bi(is,ae(void 0)),c=ae((d=s.value)==null?void 0:d.getBoundingClientRect());Ct(l,()=>{var p;return c.value=(p=s.value)==null?void 0:p.getBoundingClientRect()}),Jn(()=>{var p;return c.value=(p=s.value)==null?void 0:p.getBoundingClientRect()});const m=v(()=>{var b,f;const p=r.value;return(f=(b=i.value)==null?void 0:b.filter(h=>{var N,I;return((N=p[h.startNode.id])==null?void 0:N.rect)&&((I=p[h.startNode.id])==null?void 0:I.rect)}))!=null?f:[]});return(p,b)=>($(),x(g,null,[t(m)?($(),x("svg",fr(Bt({key:0},p.$attrs)),[($(!0),x(g,null,Pe(t(m),(f,h)=>($(),ie(qd,{key:h,link:f,boundingRect:c.value,startNode:t(r)[f.startNode.id],endNode:t(r)[f.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):H("",!0),w("div",{ref_key:"resizeListener",ref:s,class:"resize-listener"},null,512)],64))}});var nr=fe(Md,[["__scopeId","data-v-063f6d6b"]]);const Td=e=>(ct("data-v-498b9b86"),e=e(),dt(),e),xd={class:"container"},Pd={class:"row research-tree"},Ad={class:"col"},Fd=Td(()=>w("div",{class:"fade"},null,-1)),Bd=se({__name:"ResearchTree",props:{research:null},setup(e){const n=e,i=v(()=>n.research.flatMap(s=>s).flatMap(s=>{var r,l;return(l=(r=s.prerequisites)==null?void 0:r.map(c=>({startNode:{id:s.id},endNode:{id:c.id},stroke:he(s.visibility)?t(c.researched)?"var(--feature-background)":"white":"var(--locked)","stroke-width":"5px"})))!=null?l:[]}));return(s,r)=>($(),x("div",xd,[w("div",Pd,[a(Se,{width:"30px"}),w("div",Ad,[a(Se,{height:"30px"}),($(!0),x(g,null,Pe(e.research,l=>($(),ie(Yt,null,{default:oe(()=>[($(!0),x(g,null,Pe(l,c=>($(),x(g,null,[t(he)(c.visibility)?($(),ie($e(t(te)(c)),{key:0})):H("",!0)],64))),256))]),_:2},1024))),256)),a(Se,{height:"30px"}),a(nr,{links:t(t(i))},null,8,["links"])]),a(Se,{width:"30px"})]),Fd]))}});var Ed=fe(Bd,[["__scopeId","data-v-498b9b86"]]);const Rd=["disabled"],Od={key:0},Dd={key:1},Ld=se({__name:"ResearchQueueSlot",props:{node:null,name:null,index:null},setup(e){const n=e,i=v(()=>n.node!==void 0),s=v(()=>{var l,c;return o.times((c=t((l=n.node)==null?void 0:l.progressPercentage))!=null?c:0,1.1).minus(.05).times(100)}),r=()=>t(i)?hm(n.node):{};return(l,c)=>{var m;return $(),x("button",{disabled:!t(i),class:qe({queue:!0,can:t(i)}),style:Oe([{"--fill-percent":`${t(D)(t(t(s)))}%`}]),onClick:r},[t(i)?($(),x("span",Od,[($(),ie($e(t(le)((m=t(e.name))!=null?m:""))))])):($(),x("span",Dd,"Research Slot "+J(t(e.index)+1),1))],14,Rd)}}});var ks=fe(Ld,[["__scopeId","data-v-76cebe8d"]]);const jd={key:0},Ud=se({__name:"ResearchQueue",props:{queue:null,parallel:{default:1}},setup(e){const n=e,i=[ce.research,ce.repeatables].flatMap(l=>Object.values(l)),s=v(()=>t(n.queue).map(l=>i.find(c=>c.id===l)));function r(l){const c=t(s)[l];if(c!==void 0)return St(c.display)||We(c.display)||Kn(c.display)?c.id:c.display.title}return(l,c)=>($(),ie(rn,null,{default:oe(()=>[($(!0),x(g,null,Pe(t(s),(m,d)=>($(),x(g,{key:m?m.id:`empty-${d}`},[d===t(e.parallel)?($(),x("h3",jd,"Next Up:")):H("",!0),m?($(),ie(ks,{key:2,node:m,name:r(d),index:d},null,8,["node","name","index"])):($(),ie(ks,{key:1,index:d},null,8,["index"]))],64))),128))]),_:1}))}});var Vd=fe(Ud,[["__scopeId","data-v-5504435e"]]);const Gd={class:"timesquare"},zd={class:"timesquare-buy-buttons"};var Hd=se({__name:"TimesquareComponent",props:{square:null,buy:null,buyNext:null,buyMax:null},setup(e){return(n,i)=>($(),x("div",Gd,[($(),ie($e(t(te)(e.square)))),w("div",zd,[($(),ie($e(t(te)(e.buy)))),($(),ie($e(t(te)(e.buyNext)))),($(),ie($e(t(te)(e.buyMax))))])]))}});var Wd=fe(Hd,[["__scopeId","data-v-95b7ffd2"]]);const Yd=Symbol("Reset");function us(e){return Ke(n=>{const i=e.call(n,n);return i.id=Ut("reset-"),i.type=Yd,i.reset=function(){var r;const s=l=>{if(l!=null&&typeof l=="object"&&!(l instanceof o)&&!(l instanceof _)){if(Ht in l&&l[Ht]===!0)return;if(Kt in l){const c=l;c.value=c[Kt]}else!(l instanceof o)&&!We(l)&&Object.values(l).forEach(c=>s(c))}};t(i.thingsToReset).forEach(s),pt.emit("reset",i),(r=i.onReset)==null||r.call(i)},X(i,"thingsToReset"),i})}const ci={};pt.on("removeLayer",e=>{var n;(n=ci[e.id])==null||n.call(ci),ci[e.id]=void 0});var Kd=se({__name:"TimelineComponent",props:{id:null,sides:null,active:null,next:null,score:null,onClick:null},setup(e){const n=e,i=n.sides.map(l=>l[0].toUpperCase()+l.slice(1)),s=v(()=>o.add(t(n.score),1).log10().dividedBy(10)),r={[n.sides[0]]:v(()=>t(s).times(Ge.scoreMultipliers[n.sides[0]])),[n.sides[1]]:v(()=>t(s).times(Ge.scoreMultipliers[n.sides[1]]))};return(l,c)=>($(),x("button",{onClick:c[0]||(c[0]=(...m)=>e.onClick&&e.onClick(...m)),class:qe({feature:!0,timeline:!0,active:t(e.active),next:t(e.next)})},[w("h2",null,J(t(i)[0])+" "+J(t(i)[1]),1),w("div",null,"Amount: "+J(t(D)(t(e.score))),1),w("div",null,J(t(i)[0])+": +"+J(t(D)(t(r[e.sides[0]]).times(100)))+"%",1),w("div",null,J(t(i)[1])+": +"+J(t(D)(t(r[e.sides[1]]).times(100)))+"%",1)],2))}});var Xd=fe(Kd,[["__scopeId","data-v-67f078c8"]]);const Qd=Symbol("Timeline");function Rt(e){const n=Ie(!1),i=Ie(!1),s=Ie(0);return Ke(()=>{const r=e;return r.id=Ut("timeline-"),r.type=Qd,r[mt]=Xd,r.active=n,r.next=i,r.score=s,r.onClick=()=>{i.value=!i.value},r[kt]=function(){const{id:l,sides:c,active:m,next:d,score:p,onClick:b}=this;return{id:l,sides:c,active:m,next:d,score:p,onClick:b}},r})}se({props:{nodes:{type:ne(Array),required:!0},leftSideNodes:ne(Array),rightSideNodes:ne(Array),branches:ne(Array)},components:{Links:nr},setup(e){const{nodes:n,leftSideNodes:i,rightSideNodes:s}=ot(e),r=vt();It(()=>{const m=Ce(n);r.value=le(S(()=>a(g,null,[m.map(d=>a("span",{class:"row tree-row",style:"margin: 50px auto;"},[d.map(Pt)]))])))});const l=vt();It(()=>{const m=Ce(i);l.value=m?le(S(()=>a("span",{class:"left-side-nodes small"},[m.map(Pt)]))):""});const c=vt();return It(()=>{const m=Ce(s);c.value=m?le(S(()=>a("span",{class:"side-nodes small"},[m.map(Pt)]))):""}),{unref:t,nodesComp:r,leftNodesComp:l,rightNodesComp:c}}});se({props:{display:ne(Object,String,Function),visibility:{type:ne(Number,Boolean),required:!0},style:ne(String,Object,Array),classes:ne(Object),onClick:Function,onHold:Function,color:ne(String),glowColor:ne(String),canClick:{type:ne(Boolean),required:!0},mark:ne(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:ii,Node:hn},setup(e){const{onClick:n,onHold:i,display:s}=ot(e),r=ei(s),{start:l,stop:c}=Us(n,i);return{start:l,stop:c,comp:r,unref:t,Visibility:Te,isCoercableComponent:St,isVisible:he,isHidden:jt}}});function Zd(e){return lt(n=>{const i=e.call(n,n);X(i,"showNextAt"),De(i,"showNextAt",!0),De(i,"minimumGain",1),i.resetDescription==null?i.resetDescription=v(()=>o.lt(i.conversion.gainResource.value,1e3)?"Reset for ":""):X(i,"resetDescription"),i.display==null&&(i.display=S(()=>a("span",null,[t(i.resetDescription),a("b",null,[bn(i.conversion.gainResource,o.max(t(i.conversion.actualGain),t(i.minimumGain)))])," ",i.conversion.gainResource.displayName,t(i.showNextAt)!=null?a("div",null,[a("br",null,null),t(i.conversion.buyMax)?"Next:":"Req:"," ",bn(i.conversion.baseResource,!t(i.conversion.buyMax)&&o.gte(t(i.conversion.actualGain),1)?t(i.conversion.currentAt):t(i.conversion.nextAt))," ",i.conversion.baseResource.displayName]):null]))),i.canClick==null&&(i.canClick=v(()=>o.gte(t(i.conversion.actualGain),t(i.minimumGain))));const s=i.onClick;return i.onClick=function(r){t(i.canClick)!==!1&&(i.conversion.convert(),i.resetTime&&(i.resetTime.value=i.resetTime[Kt]),s==null||s(r))},i})}function Jd(e){const n=[],i={};let s=!1;function r(){return s||(n.push(...e()),i.base=n.map(m=>et(m.base)),i.baseText=n.map(m=>et(m.baseText)),i.visible=n.map(m=>et(m.visible)),i.title=n.map(m=>et(m.title)),i.subtitle=n.map(m=>et(m.subtitle)),s=!0),n}const l=Ie({},!1);return[S(()=>{const m=r();let d=!0;const p=m.map((b,f)=>{var P,M,T;if(t(i.visible[f])===!1)return null;const h=a("h3",{onClick:()=>l.value[f]=!l.value[f],style:"cursor: pointer"},[a("span",{class:"modifier-toggle"+(t(l.value[f])?" collapsed":"")},[u("\u25BC")]),t(i.title[f]),t(i.subtitle[f])!=null?a("span",{class:"subtitle"},[u(" ("),t(i.subtitle[f]),u(")")]):null]),N=t(l.value[f])?null:a(g,null,[a("div",{class:"modifier-container"},[a("span",{class:"modifier-description"},[Pt((P=t(i.baseText[f]))!=null?P:"Base")]),a("span",{class:"modifier-amount"},[An((M=t(i.base[f]))!=null?M:1),b.unit])]),b.modifier.description==null?null:Pt(t(b.modifier.description))]),I=!d;d=!1;const q=(T=t(i.base[f]))!=null?T:1,E=b.modifier.apply(q);return a(g,null,[I?a("br",null,null):null,a("div",{style:{"--unit":Be.alignUnits&&b.unit!=null?"'"+b.unit+"'":""}},[h,a("br",null,null),N,a("hr",null,null),a("div",{class:"modifier-container"},[a("span",{class:"modifier-description"},[u("Total")]),a("span",{class:"modifier-amount",style:(b.smallerIsBetter===!0?o.gt(E,q!=null?q:1):o.lt(E,q!=null?q:1))?"color: var(--danger)":""},[An(E),b.unit])])])])});return a(g,null,[p])}),l]}function yt(e){if(e==null||typeof e!="object"||e instanceof o||e instanceof _||Ht in e&&e[Ht]===!0)return;if(Kt in e)return Ie(e[Kt]);if(We(e))return;const n={};for(const[i,s]of Object.entries(e)){if(["requirements","tabs","prerequisites"].includes(i))continue;let r=yt(s);r!==void 0&&(n[i]=r)}if(Object.keys(n).length!==0)return n}function ji(e,n){if(!(e==null||n==null)&&!(typeof e!="object"||typeof n!="object")&&!(e instanceof o||n instanceof o)&&!(e instanceof _||n instanceof _)&&!(Ht in e&&e[Ht]===!0)&&!(Ht in n&&n[Ht]===!0)){if(Kt in n){const i=e,s=n,r=i.value;i.value=s.value,s.value=r;return}if(!We(e)&&!We(n))for(const i in n)ji(e[i],n[i])}}function Tt(e,n,i){const[s,r]=Jd(n);Rl(r);const l=ae(!1);return S(()=>a(g,null,[a("button",{class:"button",style:{display:"inline-block",fontSize:i!=null?i:"20px"},onClick:()=>l.value=!0},[u("\u{1F6C8}")]),a(tn,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c},{header:()=>a("h2",null,[e]),body:s})]))}const cs=e=>(ct("data-v-1b082719"),e=e(),dt(),e),em={class:"totals"},tm=cs(()=>w("div",null,"Active Penalties",-1)),nm=cs(()=>w("div",{class:"break"},null,-1)),im=cs(()=>w("td",null,"\u2192",-1));var sm=se({__name:"TimelineNerfs",props:{activeNerfs:null,nextNerfs:null},setup(e){const n=Object.fromEntries(Object.values(V).map(s=>[s,s[0].toUpperCase()+s.slice(1)])),i={[V.FRONT]:"Time Cube Gain",[V.RIGHT]:"Foam Gain",[V.TOP]:"Universe Size",[V.BACK]:"Time Speed",[V.LEFT]:"Entropic Loop Effects",[V.BOTTOM]:"Pion and Spinor Gain"};return(s,r)=>($(),x("div",em,[tm,nm,w("table",null,[($(!0),x(g,null,Pe(t(V),l=>($(),x("tr",null,[w("td",null,J(t(n)[l]),1),w("td",null,"/"+J(t(Q)(t(e.activeNerfs[l]))),1),im,w("td",null,"/"+J(t(Q)(t(e.nextNerfs[l]))),1),w("td",null,J(i[l]),1)]))),256))])]))}});var rm=fe(sm,[["__scopeId","data-v-1b082719"]]);const Ni=e=>(ct("data-v-5311720e"),e=e(),dt(),e),om={class:"totals"},am=Ni(()=>w("div",null,"Active Penalties",-1)),lm=Ni(()=>w("div",{class:"break"},null,-1)),um=Ni(()=>w("td",null,"(",-1)),cm=Ni(()=>w("td",null,")",-1));var dm=se({__name:"TimelineBuffs",props:{scores:null,buffs:null},setup(e){const n=Object.fromEntries(Object.values(V).map(s=>[s,s[0].toUpperCase()+s.slice(1)])),i={[V.FRONT]:"Time Cube Gain",[V.RIGHT]:"Foam Gain",[V.TOP]:"Universe Size",[V.BACK]:"Time Speed",[V.LEFT]:"Entropic Loop Effects",[V.BOTTOM]:"Pion and Spinor Gain"};return(s,r)=>($(),x("div",om,[am,lm,w("table",null,[($(!0),x(g,null,Pe(t(V),l=>($(),x("tr",null,[w("td",null,J(i[l]),1),w("td",null,"\xD7"+J(t(D)(t(e.buffs[l]))),1),um,w("td",null,J(t(D)(t(e.scores[l]))),1),cm,w("td",null,J(t(n)[l]),1)]))),256))])]))}});var mm=fe(dm,[["__scopeId","data-v-5311720e"]]);const pm="timeline",Ge=nt(pm,function(){const e={topLeft:Rt({sides:[V.TOP,V.LEFT]}),topFront:Rt({sides:[V.TOP,V.FRONT]}),topBack:Rt({sides:[V.TOP,V.BACK]}),topRight:Rt({sides:[V.TOP,V.RIGHT]}),frontLeft:Rt({sides:[V.FRONT,V.LEFT]}),frontRight:Rt({sides:[V.FRONT,V.RIGHT]}),backLeft:Rt({sides:[V.BACK,V.LEFT]}),backRight:Rt({sides:[V.BACK,V.RIGHT]}),bottomLeft:Rt({sides:[V.BOTTOM,V.LEFT]}),bottomFront:Rt({sides:[V.BOTTOM,V.FRONT]}),bottomBack:Rt({sides:[V.BOTTOM,V.BACK]}),bottomRight:Rt({sides:[V.BOTTOM,V.RIGHT]})},n={[V.FRONT]:[e.topFront,e.frontLeft,e.frontRight,e.bottomFront],[V.RIGHT]:[e.topRight,e.frontRight,e.backRight,e.bottomRight],[V.TOP]:[e.topLeft,e.topFront,e.topBack,e.topRight],[V.BACK]:[e.topBack,e.backLeft,e.backRight,e.bottomBack],[V.LEFT]:[e.topLeft,e.frontLeft,e.backLeft,e.bottomLeft],[V.BOTTOM]:[e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight]},i=Object.fromEntries(Object.entries(n).map(([M,T])=>[M,v(()=>T.filter(G=>t(G.active)).length)])),s=Object.fromEntries(Object.entries(n).map(([M,T])=>[M,v(()=>T.filter(G=>t(G.next)).length)])),r=v(()=>Object.values(i).some(M=>t(M)>0)),l={[V.FRONT]:100,[V.RIGHT]:.01,[V.TOP]:1,[V.BACK]:1,[V.LEFT]:1e3,[V.BOTTOM]:1},c=Object.fromEntries(Object.entries(n).map(([M,T])=>[M,v(()=>T.reduce((G,ue)=>G.plus(t(ue.score)),o.dZero))])),m=Object.fromEntries(Object.entries(c).map(([M,T])=>[M,v(()=>t(T).times(l[M]).plus(1))])),d={[V.FRONT]:[1,1e8,1e80,"1e800","1e8000"],[V.RIGHT]:[1,1e12,1e120,"1e1200","1e12000"],[V.TOP]:[1,1e3,1e30,1e300,"1e3000"],[V.BACK]:[1,1e6,1e60,"1e600","1e6000"],[V.LEFT]:[1,100,1e20,1e200,"1e2000"],[V.BOTTOM]:[1,1e5,1e50,"1e500","1e5000"]},p=Object.fromEntries(Object.entries(i).map(([M,T])=>[M,v(()=>t(d[M])[t(T)])])),b=Object.fromEntries(Object.entries(s).map(([M,T])=>[M,v(()=>t(d[M])[t(T)])])),f=ut(()=>[z(()=>({multiplier(){return[t(B.pion.pions),t(B.spinor.spinors)].map(M=>o.add(M,1).log10()).reduce((M,T)=>M.plus(T)).dividedBy(10)},description:S(()=>a(g,null,[u("1/10th of the magnitude of "),B.pion.pions.displayName,u(" and "),B.spinor.spinors.displayName]))})),z(()=>({multiplier(){return[k.protoversal,k.infinitesimal,k.subspatial,k.subplanck,k.quantum].map(M=>o.add(t(C[M].amount),1).log10()).reduce((M,T)=>M.plus(T),o.dZero).dividedBy(50)},description:S(()=>a(g,null,[u("1/50th of the magnitude of all types of Foam")]))})),z(()=>({multiplier(){return o.add(t(U.accelerons),1).log10()},description:S(()=>a(g,null,[u("The magnitude of "),U.accelerons.displayName]))})),z(()=>({multiplier(){return o.add(t(re.buildings.buildings.storage.effect),10).log10().log10().times(5)},description:S(()=>a(g,null,[u("5x the magnitude"),a("sup",null,[u("2")]),u(" of Stored "),re.inflatons.displayName]))})),z(()=>({multiplier(){return o.add(t(W.timecubes),1).log10()},description:S(()=>a(g,null,[u("The magnitude of "),W.timecubes.displayName]))})),Rn(()=>({exponent(){return Object.values(e).filter(M=>t(M.active)).length/2},description:S(()=>a(g,null,[u("Number of active Timelines")]))}))]),h=v(()=>f.apply(1e-4)),N=lt(()=>({display(){return Object.values(e).some(M=>t(M.next))?"Enter Timeline":Object.values(e).some(M=>t(M.active))?"Exit Timeline":"Enter Timeline"},canClick(){return Object.values(e).some(M=>t(M.next)||t(M.active))},onClick(){const M=new o(t(h));for(const T of Object.values(e))!t(T.active)||M.gt(t(T.score))&&(T.score.value=M);I.reset(),C.protoversal.upgrades.reform.amount.value=o.dOne,re.inflatons.value=o.dOne;for(const T of Object.values(e))T.active.value=t(T.next)}})),I=us(()=>({thingsToReset(){return[B.skyrmions,B.pion,B.spinor,C[k.protoversal],C[k.infinitesimal],C[k.subspatial],C[k.subplanck],C[k.quantum],U.accelerons,U.totalAccelerons,U.upgrades.acceleration,U.upgrades.fluctuation,U.upgrades.conversion,U.upgrades.translation,U.upgrades.alacrity,W.timecubes,re.inflatons,re.buildings.buildings,re.buildings.maxSize,re.inflating,re.upgrades.moreFome,re.coreResearch.repeatables.buildingSize]}})),q=Tt("Timeline Score",()=>[{title:"Timeline Score",modifier:f,base:1e-4}]),E=ae(!1),P=S(()=>a(g,null,[a("button",{class:"button",onClick:()=>E.value=!0},[u("What are Timelines?")]),a(tn,{modelValue:E.value,"onUpdate:modelValue":M=>E.value=M},{header:()=>a("h2",null,[u("Timeline Information")]),body:()=>a(g,null,[a("span",{style:{fontWeight:"normal"}},[u("Timelines are extra difficulty modes on top of normal play, which will provide passive bonuses depending on how much progress you are able to make while in them."),a("br",null,null),a("br",null,null),u("The grid of selectors below allows you to choose the level of difficulty that the next timeline will bring, with more active selectors providing an exponentially harder challenge, in return for a higher score - assuming you can handle their strength."),a("br",null,null),a("br",null,null),u("Each selector increases the depth in two different directions, providing two different and stacking production penalties. The penalty grows massively the deeper in a direction you go, so it is highly suggested to "),a("b",null,[u("start with a single active selector, and increase only when you feel comfortable with your current progress")]),u("."),a("br",null,null),a("br",null,null),u("When you have decided on a desired difficulty, simply "),a("b",null,[u("Enter Timeline")]),u(". All resources aside from Entangled Strings will be reset, as well as any Acceleron and Inflaton upgrades to production - you will need to buy them again. Additionally, "),a("code",null,[u("Repeatable Research: Subspatial Construction")]),u(" will also be reset to its initial level.")])])})]));return{timelines:e,scores:c,buffs:m,nerfs:p,depths:i,scoreMultipliers:l,inTimeline:r,display:S(()=>a(g,null,[te(N),te(P),a("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto auto 1fr",width:"fit-content"}},[a(rm,{activeNerfs:p,nextNerfs:b},null),a(Se,null,null),a(rn,null,{default:()=>[mn(e.topLeft,e.topFront,e.topBack,e.topRight),mn(e.frontLeft,e.frontRight,e.backLeft,e.backRight),mn(e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight)]}),a(Se,null,null),a(mm,{scores:c,buffs:m},null)]),a(Se,null,null),u("Current Score: "),D(t(h)),te(q)]))}}),fm=Symbol("Timesquare");function In(e,n){return Ke(i=>{const{display:s,buyAmount:r,baseCost:l,resource:c,effect:m}=n.call(i,i),d=et(l),p=et(r),b=v(()=>o.dOne.plus(t(W.upgrades.title.bought)?t(Ge.scores[e]):0).reciprocate().times(t(d))),f=(()=>{const h={buyAmount:p},N={buyAmount:v(()=>{const q=t(i.square.amount),E=o.clampMin(q,1).log10().floor().pow10();return o.div(q,E).floor().plus(1).times(E).minus(q)})},I={buyAmount:v(()=>{const q=t(i.square.amount),E=o.add(q,1).times(q).div(2).times(t(b));return o.clampMin(t(c),1).plus(E).div(t(b)).times(8).plus(1).sqrt().minus(1).div(2).floor().minus(q)})};for(const q of[h,N,I])q.cost=K(()=>({cost(){const E=t(i.square.amount),P=o.add(E,t(q.buyAmount)),M=P.plus(1).times(P).div(2),T=o.add(E,1).times(E).div(2);return M.minus(T).times(t(b))},resource:c}));return{buy:h,buyNext:N,buyMax:I}})();return i.square=Ye(()=>({requirements:Gt(!1),display:s,effect:m}),ke),i.buy=lt(()=>({canClick:()=>Dt(f.buy.cost),display:{title:"Buy",description:S(()=>a(g,null,[u("+"),D(t(f.buy.buyAmount)),u(": "),Q(t(f.buy.cost.cost)),u(" "),c.displayName]))},onClick(){const h=t(f.buy.buyAmount);Gn(f.buy.cost),i.square.amount.value=o.add(t(i.square.amount),h)}})),i.buyNext=lt(()=>({canClick:()=>Dt(f.buyNext.cost),display:{title:"Buy Next",description:S(()=>a(g,null,[u("+"),D(t(f.buyNext.buyAmount)),u(": "),Q(t(f.buyNext.cost.cost)),u(" "),c.displayName]))},onClick(){const h=t(f.buyNext.buyAmount);Gn(f.buyNext.cost),i.square.amount.value=o.add(t(i.square.amount),h)}})),i.buyMax=lt(()=>({canClick:()=>Dt(f.buyMax.cost),display:{title:"Buy Max",description:S(()=>a(g,null,[u("+"),D(t(f.buyMax.buyAmount)),u(": "),Q(t(f.buyMax.cost.cost)),u(" "),c.displayName]))},onClick(){const h=t(f.buyMax.buyAmount);Gn(f.buyMax.cost),i.square.amount.value=o.add(t(i.square.amount),h)}})),i.type=fm,i[mt]=Wd,i[kt]=function(){const{square:h,buy:N,buyNext:I,buyMax:q}=this;return{square:h,buy:N,buyNext:I,buyMax:q}},i})}const gm="timesquare",Un=nt(gm,function(){const e=Ie(1),n=v(()=>o.clampMin(t(e),1).log10().floor().minus(1).pow10()),i=v(()=>o.gt(t(e),1)),s={minHeight:"30px",width:"50px"},r={timesTen:lt(()=>({display:"x10",onClick(){e.value=o.times(t(e),10)},style:s})),plusTen:lt(()=>({display:S(()=>a(g,null,[u("+"),Q(t(n).times(10))])),onClick(){e.value=t(n).times(10).plus(t(e))},style:s})),plusOne:lt(()=>({canClick(){return o.gte(t(e),10)},display:S(()=>a(g,null,[u("+"),Q(t(n))])),onClick(){e.value=t(n).plus(t(e))},style:s})),minusOne:lt(()=>({canClick:i,display:S(()=>a(g,null,[u("-"),Q(t(n))])),onClick(){e.value=o.minus(t(e),t(n)).clampMin(1)},style:s})),minusTen:lt(()=>({canClick:i,display:S(()=>a(g,null,[u("-"),Q(t(n).times(10))])),onClick(){e.value=o.minus(t(e),t(n).times(10)).clampMin(1)},style:s})),overTen:lt(()=>({canClick:i,display:"/10",onClick(){e.value=o.div(t(e),10).clampMin(1)},style:s}))},l={[V.FRONT]:In(V.FRONT,m=>({display:{title:S(()=>a(g,null,[u("Front")])),effect:S(()=>a(g,null,[u("+"),D(t(m.square.effect).minus(1).times(100)),u("% "),W.timecubes.displayName]))},effect(){return o.pow(t(m.square.amount),.45).times(je(W.upgrades.turn)).plus(1)},resource:F(W.timecubes),baseCost:1e6,buyAmount:e})),[V.RIGHT]:In(V.RIGHT,m=>({display:{title:S(()=>a(g,null,[u("Right")])),effect:S(()=>a(g,null,[u("+"),D(t(m.square.effect)),u("\xD7 Entropic Loop build speed")]))},effect(){return o.pow(t(m.square.amount),.7).plus(1)},resource:F(W.timecubes),baseCost:1e6,buyAmount:e})),[V.TOP]:In(V.TOP,m=>({display:{title:S(()=>a(g,null,[u("Top")])),effect:S(()=>a(g,null,[u("+"),D(t(m.square.effect).minus(1).times(100)),u("% increased Universe diameter")]))},effect(){return o.pow(t(m.square.amount),.15).dividedBy(15).plus(1)},resource:F(W.timecubes),baseCost:1e6,buyAmount:e})),[V.BACK]:In(V.BACK,m=>({display:{title:S(()=>a(g,null,[u("Back")])),effect:S(()=>a(g,null,[u("+"),D(t(m.square.effect).minus(1).times(100)),u("% "),U.accelerons.displayName,u(" effect")]))},effect(){return o.pow(t(m.square.amount),.2).dividedBy(5).plus(1)},resource:F(W.timecubes),baseCost:1e6,buyAmount:e})),[V.LEFT]:In(V.LEFT,m=>({display:{title:S(()=>a(g,null,[u("Left")])),effect:S(()=>a(g,null,[u("1/"),D(t(m.square.effect)),u("\xD7 Subspatial Construction cost")]))},effect(){return o.pow(t(m.square.amount),.5).plus(1)},resource:F(W.timecubes),baseCost:1e6,buyAmount:e})),[V.BOTTOM]:In(V.BOTTOM,m=>({display:{title:S(()=>a(g,null,[u("Bottom")])),effect:S(()=>a(g,null,[u("+"),D(t(m.square.effect)),u(" effective Entropic Enhancements")]))},effect(){return o.pow(t(m.square.amount),.1).times(je(W.upgrades.tall))},resource:F(W.timecubes),baseCost:1e6,buyAmount:e}))},c=ae("1");return Ct(c,m=>{if(m===""){e.value=o.dOne;return}if(!o.isNaN(m)){if(o.lt(m,1)){e.value=o.dOne;return}e.value=o.floor(m)}}),{buyAmount:e,squares:l,display:S(()=>a(g,null,[a(Yt,null,{default:()=>[te(r.overTen),te(r.minusTen),te(r.minusOne),a(ti,{style:{width:"fit-content"},"onUpdate:modelValue":m=>c.value=m,modelValue:c.value,autofocus:!1},null),te(r.plusOne),te(r.plusTen),te(r.timesTen)]}),a(Se,null,null),mn(l.front,l.right,l.top),mn(l.back,l.left,l.bottom)]))}});let V=function(e){return e.FRONT="front",e.RIGHT="right",e.TOP="top",e.BACK="back",e.LEFT="left",e.BOTTOM="bottom",e}({});const bm="coreResearch",ce=nt(bm,function(){const e=(()=>{const h=At(()=>({cost:75,display:{title:"Branon Induction Phases",description:"Quintuple the effect of M-field Condensers"},effect:5})),N=Ot(()=>({cost:500,display:{title:"Inflaton Containment Strategies",description:"Allow construction of Inflaton Containment Units"},prerequisites:[j]})),I=At(()=>({cost:1500,display:{title:"Enhanced Isolation Protocols",description:"Improve the Inflaton Containment Unit's storage capabilities"},effect:1,prerequisites:[T]})),q=Ot(()=>({cost:6e3,display:{title:"Inflationary Tolerances",description:"Allow stored Inflatons to inflate to fill your storage"},prerequisites:[T,I]})),E=Ot(()=>({cost:25e3,display:{title:"Secondary Isolation Standards",description:"M-field Condensers no longer reduce the effect of Stored Inflatons"},prerequisites:[P]})),P=Ot(()=>({cost:15e3,display:{title:"Active Restoration Protocols",description:"Allow the construction of Active Redistribution Centers"},prerequisites:[yn,I]})),M=At(()=>({cost:25e3,display:{title:"Macroscale Synergies",description:"Increase subspace building size tenfold, and their potency by twice as much"},effect:{size:10,effect:2},prerequisites:[it,Vt,P],onResearch(){for(const ft of Object.values(Le.buildings))ft.amount.value=0}})),T=Ot(()=>({cost:750,display:{title:"Superstructural Stability Patterns",description:"Enable individual building respecs"},prerequisites:[N]})),G=Ot(()=>({cost:1e5,display:{title:"Mechanized Superscale Subsystems",description:"Automatically build subspace buildings, and building them no longer consumes Foam"},prerequisites:[E,an]})),ue=At(()=>({cost:100,display:{title:"Banach-Tarski Point Manipulation",description:"You can stabilize the universe at double the size"},effect:2,prerequisites:[h]})),Y=At(()=>({cost:750,display:{title:"Von Neumann Transformation",description:"Double the size of the universe, again"},effect:2,prerequisites:[y]})),j=Ot(()=>({cost:100,display:{title:"Subspatial Binding Constants",description:"Reduce the cost scaling of Quantum Flux Analyzers"},prerequisites:[h]})),de=v(()=>o.times(t(n.analysis.effect),1.8)),A=At(ft=>({cost:1500,display:{title:"Distributed Analysis Framework",description:S(()=>a("span",null,[u("Transform 10% of your Quantum Flux Analyzers into networking nodes, increasing Research Point gain by up to "),D(t(de)),u("\xD7")])),effect:S(()=>a(g,null,[D(t(ft.effect))]))},effect(){return o.pow(1.1,t(Le.buildings.lab.amount)).clampMax(t(de))},prerequisites:[ue,j]})),y=At(()=>({cost:500,display:{title:"Counter-Inflational Cycles",description:"Gain up to 1e6x more Foam, based on your current Stored Inflatons"},effect:1e6,prerequisites:[ue]})),R=At(()=>({cost:1500,display:{title:"Scatter-Field Repulsion",description:"Retain up to 1e12x more Foam, based on your current Stored Inflatons"},effect:1e12,prerequisites:[Me,$t]})),xe=At(()=>({cost:9e3,display:{title:"Scalar Flux Reduction",description:"Retain up to 1e12x more Foam yet again, based on your current Stored Inflatons"},effect:1e12,prerequisites:[it,Vt]})),Me=At(()=>({cost:750,display:{title:"Quantum Phasor Coherence",description:"Halve the effect of inflation on Quantum Foam"},effect:.5,prerequisites:[y]})),it=At(()=>({cost:6e3,display:{title:"Aggressive Flow Diffusion",description:"Halve the effect of inflation on Quantum Foam, again"},effect:.5,prerequisites:[Me,R]})),$t=Ot(()=>({cost:750,display:{title:"Quantum Inflationo-dynamics",description:"Unlock two more Inflaton upgrades"},prerequisites:[N]})),Vt=Ot(()=>({cost:6e3,display:{title:"Infinite Expansion Theories",description:"Unlock two repeatable researches"},prerequisites:[Y]})),Xe=Ot(()=>({cost:1e5,display:{title:"Sustainable Expansion Hypothesis",description:"Unlock three more repeatable research projects"},prerequisites:[xe,M]})),yn=At(()=>({cost:1e4,display:{title:"Scheduled Itemization",description:"You can queue up to 2 additional researches"},effect:2,prerequisites:[A]})),Ee=At(()=>({cost:1e5,display:{title:"Static Proposal Induction",description:"Increase the research queue size by another 2 researches"},effect:2,prerequisites:[yn,Vt]})),an=Ot(()=>({cost:25e3,display:{title:"Instantaneous Limit Testing",description:"Beginning Inflation instantly expands the universe to the limit of your M-field Condensers' safe operation"},prerequisites:[P,q]})),Ln=Ot(()=>({cost:75e4,display:{title:"Spatial Mastery",description:S(()=>a("span",null,[u("Unlock "),_e.isFirstBranch(Nt)||o.gt(t(_e.strings),0)?U.accelerons.displayName:_e.strings.displayName]))},prerequisites:[Xe,Ee,G]}));return{quintupleCondenser:h,doubleSize:ue,cheaperLabs:j,fomeGain:y,researchBoost:A,storage:N,halfQuantum:Me,quadrupleSize:Y,upgrades:$t,respecs:T,moreFomeGain:R,queueTwo:yn,improvedStorage:I,quarterQuantum:it,repeatableUnlock:Vt,inflationResearch:P,autofillStorage:q,evenMoreFomeGain:xe,biggerBuildings:M,isolatedStorage:E,instantInflation:an,moreRepeatables:Xe,queueFour:Ee,autobuild:G,mastery:Ln}})(),n=(()=>{const h=Vn(P=>({visibility:v(()=>t(e.repeatableUnlock.researched)?Te.Visible:Te.Hidden),display:{title:"Eternal Inflation",description:"Double the size of your universe",effect:S(()=>a(g,null,[Q(t(P.effect)),u("\xD7")]))},cost(){return o.pow(4,t(P.amount)).times(12e3).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(2,t(P.amount))}})),N=Vn(P=>({visibility:e.repeatableUnlock.researched,display:{title:"Perpetual Testing",description:"Increase Distributed Analysis Framework's maximum bonus by 80%",effect:S(()=>a(g,null,[Q(t(P.effect)),u("\xD7")]))},cost(){return o.pow(8,t(P.amount)).times(15e3).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(1.8,t(P.amount))}})),I=Vn(P=>({visibility:e.moreRepeatables.researched,display:{title:"Subspatial Construction",description:"Increase Subspace building size tenfold, and their potency by twice as much",effect:S(()=>a(g,null,[Q(t(P.effect).size),u("\xD7, "),Q(o.times(t(P.effect).size,t(P.effect).effect)),u("\xD7")]))},cost(){return o.pow(200,t(P.amount)).times(15e4).dividedBy(t(B.spinor.upgrades.nu.effect)).div(t(W.getTimesquareEffect(V.LEFT)))},effect(){return{size:o.pow(10,t(P.amount)),effect:o.pow(2,t(P.amount))}},canResearch(){const M=t(Pn);for(const T of Object.values(Le.buildings))if(M.times(10).gt(t(T.amount)))return!1;return!0},onResearch(){for(const M of Object.values(Le.buildings))M.amount.value=0}})),q=Vn(P=>({visibility:e.moreRepeatables.researched,display:{title:"Efficient Design",description:"Decrease Subspace building cost scaling by 1.5x",effect:S(()=>a(g,null,[u("/"),D(t(P.effect))]))},cost(){return o.pow(3,t(P.amount)).times(12e4).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(1.5,t(P.amount))}})),E=Vn(P=>({visibility:e.moreRepeatables.researched,display:{title:"Inflational Dynamics",description:"Retain up to 1e6x more Foam",effect:S(()=>a(g,null,[Q(t(P.effect)),u("\xD7")]))},cost(){return o.pow(5,t(P.amount)).times(16e4).dividedBy(t(B.spinor.upgrades.nu.effect))},effect(){return o.pow(1e6,t(P.amount))}}));return{universeSize:h,analysis:N,buildingSize:I,buildingCost:q,fome:E}})(),i=v(()=>1+gt(e.queueTwo,0)+gt(e.queueFour,0)),s=v(()=>1),r=Ie([]),l=ut(()=>[z(()=>({multiplier:n.analysis.effect,enabled:()=>o.gt(t(n.analysis.amount),0),description:S(()=>a(g,null,[u("["),re.name,u("] Repeatable: Perpetual Testing "),ls(t(n.analysis.amount))]))}))]),c=ut(()=>[z(()=>({multiplier:.9,enabled:F(e.researchBoost.researched),description:S(()=>a(g,null,[u("["),re.name,u("] Reserved for Networking Nodes")]))})),z(()=>({multiplier:e.researchBoost.effect,enabled:F(e.researchBoost.researched),description:S(()=>a(g,null,[u("["),re.name,u("] Distributed Analysis Framework")]))})),z(()=>({multiplier:B.pion.upgrades.nu.effect,enabled:()=>o.gt(t(B.pion.upgrades.nu.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03BD ("),Q(t(B.pion.upgrades.nu.totalAmount)),u(")")]))}))]),m=ut(()=>[c,Kc(()=>({addend:()=>o.negate(t(Le.buildings.tuner.effect).cost),enabled:()=>o.gt(t(Le.buildings.tuner.totalAmount),0),description:S(()=>a(g,null,[u("["),re.name,u("] Active Redistribution Centers")]))}))]),d=v(()=>c.apply(t(Le.buildings.lab.effect))),p=v(()=>o.clampMin(m.apply(t(Le.buildings.lab.effect)),0)),b=Ie(!1);re.on("preUpdate",h=>{if(t(r).length<=0)return;const N=o.times(t(p),h);for(const I of t(r).slice(0,t(s))){const q=[e,n].flatMap(E=>Object.values(E)).find(E=>E.id===I);q!==void 0&&(q.progress.value=N.plus(q.progress.value))}}),re.on("update",()=>{if(!!t(b)){if(t(r).length>=t(s)){if(!t(n.buildingSize.canResearch)||t(r).some(h=>h===n.buildingSize.id)||t(r).length>=t(i))return;r.value=[n.buildingSize.id,...t(r)].map(h=>[e,n].flatMap(N=>Object.values(N)).find(N=>N.id===h)).filter(h=>h!==void 0).sort((h,N)=>o.compare(t(h.requirements.cost),t(N.requirements.cost))).map(h=>h.id);return}Object.values(n).filter(h=>o.gte(t(h.amount),1)).filter(h=>!t(h.isResearching)).filter(h=>t(h.canResearch)).sort((h,N)=>o.compare(t(h.requirements.cost),t(N.requirements.cost))).slice(0,t(s)-t(r).length).forEach(h=>h.research(!0))}}),re.on("postUpdate",()=>{r.value=t(r).filter(h=>{var I;const N=[e,n].flatMap(q=>Object.values(q)).find(q=>q.id===h);return N===void 0?!1:o.gte(t(N.progressPercentage),1)?((I=N.onResearch)==null||I.call(N),!1):!0})});const f=Tt("Research Modifiers",()=>[{title:"Maximum Distributed Analysis Framework Bonus",modifier:l,visible:F(e.researchBoost.researched),base:1.8,baseText:S(()=>a(g,null,[u("["),re.name,u("] Distributed Analysis Framework")]))},{title:"Research Point Production",modifier:m,base:Le.buildings.lab.effect,baseText:S(()=>a(g,null,[u("["),re.name,u("] Quantum Flux Analyzers")]))}]);return{research:e,repeatables:n,queueLength:i,parallelResearchCount:s,researchQueue:r,researchGain:d,totalResearchGain:p,autoResearching:b,display:S(()=>a(g,null,[a("div",null,[u("Your buildings are producing "),Q(t(p)),u(" Research Points"),te(f)]),a("div",{class:"row",style:{flexFlow:"row-reverse nowrap",alignItems:"flex-start",justifyContent:"space-evenly"}},[a(rn,null,{default:()=>[a(Vd,{parallel:s,queue:v(()=>Array.from({...t(r),length:Math.max(t(r).length,t(i))}))},null),t(e.repeatableUnlock.researched)?a(g,null,[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Repeatable Research:")]),a(zt,{modelValue:b.value,"onUpdate:modelValue":h=>b.value=h,style:{marginTop:0}},null),a(Se,null,null)]):void 0]}),a(Ed,{research:[[e.quintupleCondenser],[e.doubleSize,e.cheaperLabs],[e.fomeGain,e.researchBoost,e.storage],[e.halfQuantum,e.quadrupleSize,e.upgrades,e.respecs],[e.moreFomeGain,e.queueTwo,e.improvedStorage],[e.quarterQuantum,e.repeatableUnlock,e.inflationResearch,e.autofillStorage],[e.evenMoreFomeGain,e.biggerBuildings,e.isolatedStorage,e.instantInflation],[e.moreRepeatables,e.queueFour,e.autobuild],[e.mastery]]},null),a(rn,null,{default:()=>[...Object.values(n).map(te).map(h=>a("div",{style:{margin:"var(--feature-margin) 0px"}},[h]))]})])]))}});function hm(e){ce.researchQueue.value=t(ce.researchQueue).filter(n=>n!==e.id)}const vm=v(()=>[ce.research,ce.repeatables].flatMap(e=>Object.values(e)));function ds(e=!1){if(e||t(ce.researchQueue).length<t(ce.queueLength)){const n=t(vm).find(i=>i.id===this.id);n&&t(ce.researchQueue).push(n.id)}}function ms(){return t(ce.researchQueue).some(e=>e===this.id)}function Ot(e){return as(n=>{const{visibility:i,prerequisites:s,cost:r,display:l,canResearch:c,onResearch:m}=e.call(n,n);return{visibility:i,prerequisites:s,requirements:K(()=>({resource:F(at(F(n.progress),"Research Points")),cost:r})),display:l,canResearch:c,onResearch:m,research:ds,isResearching:ms}})}function At(e){return as(n=>{const{visibility:i,prerequisites:s,cost:r,display:l,canResearch:c,onResearch:m,effect:d}=e.call(n,n);return{visibility:i,prerequisites:s,requirements:K(()=>({resource:F(at(F(n.progress),"Research Points")),cost:r})),display:l,canResearch:c,onResearch:m,research:ds,isResearching:ms,effect:d}},ke)}function Vn(e){return as(n=>{const{visibility:i,prerequisites:s,cost:r,display:l,canResearch:c,onResearch:m,effect:d,limit:p}=e.call(n,n);return{visibility:i,prerequisites:s,requirements:K(()=>({resource:F(at(F(n.progress),"Research Points")),cost:r})),display:l,canResearch:c,onResearch:m,research:ds,isResearching:ms,effect:d,limit:p}},ke,Nd)}function di(e){return Ye(n=>{var c;const{effect:i,cost:s,display:r,size:l}=e.call(n,n);return(c=s.free)!=null||(s.free=ce.research.autobuild.researched),{bonusAmount(){return o.times(t(this.amount),t(B.spinor.upgrades.rho.effect))},visibility:r.visibility,requirements:[Gt(_m(l!=null?l:1)),K(()=>({cost(){const m=t(s.multiplier),d=new o(t(s.base)),p=o.div(t(n.amount),gt(ce.repeatables.buildingCost,1)).div(t(B.pion.upgrades.rho.effect)),b=t(Pn);return t(ce.research.autobuild.researched)?d.pow(p).times(m):d.pow(b).minus(1).times(m).times(d.pow(p)).dividedBy(d.minus(1))},resource:F(s.resource),requiresPay:()=>!t(s.free),cumulativeCost:!1,maxBulkAmount:Pn}))],onClick(){n.amount.value=t(Pn).minus(1).plus(t(n.amount))},effect(){return i(wm(this))},display:S(()=>{var f,h;const m=le(r.title,"h3"),d=le(r.description),p=le(r.effect),b=n;return a("span",null,[a("div",null,[a(m,null,null)]),a(d,null,null),a("div",null,[a("br",null,null),a("b",null,[u("Size:")]),u(" "),Fn(o.times(t(b.amount),(f=b.size)!=null?f:1),0),o.gt(t(b.bonusAmount),0)?Fn(o.times(t(b.bonusAmount),(h=b.size)!=null?h:1),0):void 0]),a("div",null,[a("br",null,null),a("b",null,[u("Currently:")]),u(" "),a(p,null,null)]),a("div",null,[a("br",null,null),Qe(b.requirements)])])}),style:ym,size:l}},ke,tr)}const ym=v(()=>({width:"250px",minHeight:"150px",borderBottomLeftRadius:t(ce.research.respecs.researched)?0:"var(--border-radius)",borderBottomRightRadius:t(ce.research.respecs.researched)?0:"var(--border-radius)"})),Pn=v(()=>o.times(gt(ce.research.biggerBuildings,{size:1,effect:1}).size,gt(ce.repeatables.buildingSize,{size:1,effect:1}).size));function _m(e){return v(()=>o.minus(t(Le.maxSize),t(Le.usedSize)).gte(t(Pn).times(e)))}function wm(e){var n;return o.times(t(e.totalAmount),(n=e.size)!=null?n:1).times(gt(ce.research.biggerBuildings,{size:1,effect:1}).effect).times(t(ce.repeatables.buildingSize.effect).effect)}function Fn(e,n){return e=new o(e),e.lt(6187e7)?a(g,null,[D(e,n),u("\u2113"),a("sub",null,[u("P")])]):(e=e.dividedBy(6187e7),e.lt(1e3)?`${D(e,n)}ym`:e.lt(1e6)?`${D(e.dividedBy(1e3),n)}zm`:e.lt(1e9)?`${D(e.dividedBy(1e6),n)}am`:e.lt(1e12)?`${D(e.dividedBy(1e9),n)}fm`:e.lt(1e15)?`${D(e.dividedBy(1e12),n)}pm`:e.lt(1e18)?`${D(e.dividedBy(1e15),n)}nm`:e.lt(1e21)?`${D(e.dividedBy(1e18),n)}\u03BCm`:e.lt(1e24)?`${D(e.dividedBy(1e21),n)}mm`:e.lt(1e27)?`${D(e.dividedBy(1e24),n)}m`:e.lt(1e30)?`${D(e.dividedBy(1e27),n)}km`:e.lt(1e33)?`${D(e.dividedBy(1e30),n)}Mm`:e.lt(1e36)?`${D(e.dividedBy(1e33),n)}Gm`:e.lt(1e39)?`${D(e.dividedBy(1e36),n)}Tm`:e.lt(1e42)?`${D(e.dividedBy(1e39),n)}Pm`:e.lt(9461e39)?`${D(e.dividedBy(1e42),n)}ly`:e.lt(3086e40)?`${D(e.dividedBy(9461e39),n)}pc`:e.lt(3086e43)?`${D(e.dividedBy(3086e40),n)}kcp`:e.lt(3086e46)?`${D(e.dividedBy(3086e43),n)}Mpc`:`${D(e.dividedBy(3086e46),n)}Gpc`)}const km="buildings",Le=nt(km,function(){const e=(()=>{const p=di(N=>({effect(I){return o.times(I,gt(ce.research.quintupleCondenser,1)).pow_base(.975)},cost:{resource:F(C[k.subspatial].amount),base:1.1,multiplier:v(()=>_e.isFirstBranch(Nt)?1e30:1e82)},display:{visibility:F(re.upgrades.subspaceBuildings.bought),title:"M-Field Condenser",description:"Slightly reduce the loss of resources to Inflation",effect:S(()=>a(g,null,[bt(t(N.effect))]))}})),b=di(()=>({effect:N=>N,cost:{resource:F(C[k.subspatial].amount),base:v(()=>t(ce.research.cheaperLabs.researched)?1.5:15),multiplier:v(()=>_e.isFirstBranch(Nt)?1e30:1e82)},display:{visibility:F(re.upgrades.research.bought),title:"Quantum Flux Analyzer",description:"Study fluctuations in the quantum field",effect:S(()=>a(g,null,[u("+"),Q(t(ce.researchGain)),u(" research points/s")]))}})),f=di(N=>({effect(I){return o.times(I,gt(ce.research.improvedStorage,1/3)).pow_base(500)},cost:{resource:F(C[k.quantum].amount),base:1.2,multiplier:v(()=>_e.isFirstBranch(Nt)?1e15:1e48)},display:{visibility:ce.research.storage.researched,title:"Inflaton Containment Unit",description:"Specialized storage facilities designed to keep Inflatons separated and inert",effect:S(()=>a(g,null,[u("Safely store up to "),Q(t(N.effect)),u(" Inflatons")]))},size:3})),h=di(N=>({effect(I){let q=o.times(I,.01).plus(1),E=new o(I),P=t(ce.researchGain);return E.gt(P)?{gain:q.times(P).dividedBy(E),cost:P}:{gain:q,cost:E}},cost:{resource:F(C[k.subspatial].amount),base:1.5,multiplier:v(()=>_e.isFirstBranch(Nt)?1e40:1e92)},display:{visibility:ce.research.inflationResearch.researched,title:"Active Redistribution Center",description:"Tune your M-field Condensers with continuous analysis of inflation patterns",effect:S(()=>a(g,null,[D(t(N.effect).gain),u("\xD7"),a("br",null,null),a("b",null,[u("Consumes:")]),u(" "),D(t(N.effect).cost),u(" Research/s")]))}}));return{condenser:p,lab:b,storage:f,tuner:h}})(),n=at(v(()=>{if(o.lt(t(re.inflatons),1))return o.dZero;let p=o.clampMin(t(re.inflatons),2).log2().log2().times(gt(ce.research.doubleSize,1)).times(gt(ce.research.quadrupleSize,1)).times(gt(ce.repeatables.universeSize,1));const b=6187e7;return p.gt(b)&&(p=p.pow(.1).times(o.dOne.minus(.1).pow_base(b))),p.times(t(W.getTimesquareEffect(V.TOP))).div(t(Ge.nerfs[V.TOP])).times(t(Ge.buffs[V.TOP]))})),i=rs(n),s=v(()=>Object.values(e).map(p=>{var b;return o.times(t(p.amount),(b=p.size)!=null?b:1)}).reduce((p,b)=>p.plus(b),o.dZero)),r={width:"125px",minHeight:"25px",borderRadius:0},l=Object.fromEntries(Object.entries(e).map(([p,b])=>[p,{one:lt(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell One"},onClick(){b.amount.value=o.minus(b.amount.value,t(Pn)).clampMin(0)},style:{...r,borderBottomLeftRadius:"var(--border-radius)"}})),all:lt(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell All"},onClick(){b.amount.value=o.dZero},style:{...r,borderBottomRightRadius:"var(--border-radius)"}}))}])),c=lt(()=>({canClick(){return Object.values(e).some(p=>o.gt(t(p.amount),0))},display:{description:"Sell All"},onClick(){for(const p of Object.values(e))p.amount.value=o.dZero},style:{...r,borderRadius:"var(--border-radius)"}})),m=Ie(!1);re.on("update",()=>{if(!!t(m))for(const p of Object.values(e))!he(p.visibility)||!t(p.canClick)||p.onClick()});const d=Object.fromEntries(Object.entries(e).map(([p,b])=>[p,S(()=>he(b.visibility)?a("div",{class:"col mergeAdjacent"},[te(b),t(ce.research.respecs.researched)?a("div",{class:"row mergeAdjacent"},[te(l[p].one),te(l[p].all)]):void 0]):a("span",null,null))]));return{buildings:e,currentSize:n,maxSize:i,usedSize:s,autoBuilding:m,display:S(()=>a(g,null,[a("div",null,[u("Your buildings are taking up "),Fn(t(s),0),u(" / "),Fn(o.floor(t(i)),0)]),a(Se,null,null),mn(...Object.values(d)),a(Se,null,null),t(ce.research.autobuild.researched)?a(g,null,[a(rn,null,{default:()=>[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Building Construction")]),a(zt,{modelValue:m.value,"onUpdate:modelValue":p=>m.value=p,style:{marginTop:0}},null)]})]):void 0,te(c)]))}});const ir=e=>(ct("data-v-3da2d5ce"),e=e(),dt(),e),Sm=ir(()=>w("div",{class:"key"},"Ctrl",-1)),Cm=ir(()=>w("div",{class:"key"},"Shift",-1)),$m={class:"key"},Nm=se({__name:"Hotkey",props:{hotkey:null},setup(e){const n=e;let i="",s=!1,r=!1,l=!1;return It(()=>{i=n.hotkey.key,s=i.startsWith("ctrl+"),s&&(i=i.slice(5)),r=i.startsWith("shift+"),r&&(i=i.slice(6)),l=i.length==1&&i.toLowerCase()!=i.toUpperCase(),l&&(i=i.toUpperCase())}),(c,m)=>($(),x(g,null,[t(s)?($(),x(g,{key:0},[Sm,u("+")],64)):H("",!0),t(r)?($(),x(g,{key:1},[Cm,u("+")],64)):H("",!0),w("div",$m,J(t(i)),1)],64))}});var Im=fe(Nm,[["__scopeId","data-v-3da2d5ce"]]);const Zn=wi({}),ps=Symbol("Hotkey"),Ss=[")","!","@","#","$","%","^","&","*","("];function ht(e){return Ke(n=>{const i=e.call(n,n);return i.type=ps,X(i,"enabled"),De(i,"enabled",!0),X(i,"description"),i})}pt.on("addLayer",e=>{js(e,ps).forEach(n=>{Zn[n.key]=n})});pt.on("removeLayer",e=>{js(e,ps).forEach(n=>{Zn[n.key]=void 0})});document.onkeydown=function(e){var s,r;if(((s=e.target)==null?void 0:s.tagName)==="INPUT"||gs.value&&!be.keepGoing)return;let n=e.key;Ss.includes(n)?n="shift+"+Ss.indexOf(n):e.shiftKey&&(n="shift+"+n),e.ctrlKey&&(n="ctrl+"+n);const i=(r=Zn[n])!=null?r:Zn[n.toLowerCase()];i&&t(i.enabled)&&(e.preventDefault(),i.onPress())};Io(S(()=>{const e=Object.values(Zn).filter(n=>t(n==null?void 0:n.enabled));return e.length===0?"":a("div",null,[a("br",null,null),a("h4",null,[u("Hotkeys")]),a("div",{style:"column-count: 2"},[e.filter(n=>{var i;return(i=n==null?void 0:n.description)!=null?i:!1}).map(n=>a("div",null,[a(Im,{hotkey:n},null),u(" "),n==null?void 0:n.description]))])])}));const Nt="inflaton",re=nt(Nt,function(){const e="Inflatons",n={"--feature-background":"#ff5e13","--bought":"#b14e24"},i=v(()=>t(_e.milestones[1].earned)||_e.isFirstBranch(Nt)||t(U.upgrades.mastery.bought)?!0:t(C[k.quantum].upgrades.condense.bought)),s=at(0,e),r=K(()=>({resource:F(C[k.quantum].amount),cost:()=>_e.isFirstBranch(Nt)?1e9:1e50,requiresPay:!1})),l=lt(()=>({canClick:()=>Dt(r),display:S(()=>a(g,null,[u("1 "),s.displayName,a("br",null,null),a("br",null,null),Qe(r)])),onClick(){s.value=o.dOne,_e.isFirstBranch(Nt)&&(_e.branchOrder.value=Nt)},style:{width:"fit-content",minHeight:"60px"},visibility:()=>o.eq(t(s),0)})),c=lt(()=>({display:S(()=>t(p)?a(g,null,[u("DISPERSE")]):a(g,null,[u("INFLATE")])),onClick(){t(p)?d():m()},style:{width:"150px",minHeight:"60px"},visibility:()=>o.gte(t(s),1)}));function m(){p.value=!0,s.value=t(ce.research.instantInflation.researched)?o.reciprocate(t(Le.buildings.condenser.effect)).dividedBy(10).pow10():o.add(t(s),1)}function d(){p.value=!1,s.value=o.min(t(s),t(Le.buildings.storage.effect))}const p=Ie(!1),b=v(()=>{let Y=o.clampMin(t(s),1).log10();return(t(p)||!t(ce.research.isolatedStorage.researched))&&(Y=Y.times(t(Le.buildings.condenser.effect))),Y.pow_base(2).clampMin(1)}),f=v(()=>t(b).dividedBy(gt(ce.research.fomeGain,1)).dividedBy(gt(ce.research.moreFomeGain,1)).dividedBy(gt(ce.research.evenMoreFomeGain,1)).dividedBy(gt(ce.repeatables.fome,1)).clampMin(1)),h=v(()=>t(W.upgrades.tower.bought)?t(W.timelines.inTimeline)?t(f):t(b):t(b)),N={pion:h,spinor:h,[k.protoversal]:f,[k.infinitesimal]:f,[k.subspatial]:f,[k.subplanck]:f,[k.quantum]:v(()=>o.times(t(f),gt(ce.research.halfQuantum,1)).times(gt(ce.research.quarterQuantum,1)).clampMin(1)),acceleron:b,timecube:b},I=v(()=>{let j=o.clampMin(t(s),1).log10().plus(1).dividedBy(10).pow_base(2).times(t(s));return j.layer>=3?o.fromComponents(j.sign,j.layer,j.mag*1.000000000000001):j}),q=ut(()=>[z(()=>({multiplier:ce.research.fomeGain.effect,enabled:ce.research.fomeGain.researched,description:S(()=>a(g,null,[u("["),e,u("] Counter-Inflational Cycles")]))})),z(()=>({multiplier:ce.research.moreFomeGain.effect,enabled:ce.research.moreFomeGain.researched,description:S(()=>a(g,null,[u("["),e,u("] Scatter-Field Repulsion")]))})),z(()=>({multiplier:ce.research.evenMoreFomeGain.effect,enabled:ce.research.evenMoreFomeGain.researched,description:S(()=>a(g,null,[u("["),e,u("] Scalar Flux Reduction")]))})),z(()=>({multiplier:ce.repeatables.fome.effect,enabled:()=>o.gt(t(ce.repeatables.fome.amount),0),description:S(()=>a(g,null,[u("["),e,u("] Repeatable: Inflational Dynamics "),ls(t(ce.repeatables.fome.amount))]))}))]),E=v(()=>t(p)?o.dOne:o.clampMax(q.apply(o.dOne),t(b))),P=(()=>{const Y=me(()=>({display:{title:"Subspatial Field Stabilizers",description:"<br />Allow the creation of Subspatial Structures<br />"},requirements:K(()=>({cost:()=>_e.isFirstBranch(Nt)?5e5:5e46,resource:C[k.quantum].amount})),visibility(){return t(this.bought)||t(_e.milestones[1].earned)||o.gte(t(Le.maxSize),6)},style:{width:"250px"}})),j=me(()=>({display:{title:"Quantum Field Investigations",description:"<br />Stabilization isn't enough. Maybe the constant bubbling of the quantum field may hold the secret to sustaining inflation<br />"},requirements:K(()=>({cost:()=>_e.isFirstBranch(Nt)?1e6:1e47,resource:C[k.quantum].amount})),visibility(){return t(this.bought)||t(_e.milestones[1].earned)||t(Y.bought)&&o.gte(t(Le.maxSize),7)},style:{width:"250px"}})),de=me(()=>({display:{title:"Dynamic Inflational Formation",description:"<br />Generate more Foam based on the size of your universe<br />"},requirements:K(()=>({cost:()=>_e.isFirstBranch(Nt)?1e25:1e58,resource:C[k.quantum].amount})),visibility(){return t(this.bought)||t(ce.research.upgrades.researched)},effect:Le.maxSize,style:{width:"250px"}}),ke),A=me(()=>({display:{title:"Micro-Inflational Subsystems",description:"<br />Gain a new Pion and Spinor Upgrade<br />"},requirements:K(()=>({cost:()=>_e.isFirstBranch(Nt)?1e27:1e60,resource:C[k.quantum].amount})),visibility(){return t(this.bought)||t(ce.research.upgrades.researched)},style:{width:"250px"}}));return{subspaceBuildings:Y,research:j,moreFome:de,skyrmionUpgrades:A}})();this.on("preUpdate",()=>{if(!!t(p)){for(const[Y,j]of[[B.pion.pions,N.pion],[B.spinor.spinors,N.spinor],[C[k.protoversal].amount,N[k.protoversal]],[C[k.infinitesimal].amount,N[k.infinitesimal]],[C[k.subspatial].amount,N[k.subspatial]],[C[k.subplanck].amount,N[k.subplanck]],[C[k.quantum].amount,N[k.quantum]],[U.accelerons,N.acceleron],[W.timecubes,N.timecube]])Y.value=o.divide(Y.value,j.value);[B.pion.pions,B.spinor.spinors,...Object.values(k).map(Y=>C[Y].amount)].some(Y=>o.lt(t(Y),1))&&d()}}),this.on("postUpdate",Y=>{let j=!1;t(p)&&(j=!0),t(ce.research.autofillStorage.researched)&&o.lt(t(s),t(Le.buildings.storage.effect))&&(j=!0),j?s.value=t(I).times(Y).plus(t(s)):o.gt(t(s),t(Le.buildings.storage.effect))&&(s.value=t(Le.buildings.storage.effect))});const M={switchTab:ht(()=>({enabled:i,key:"ctrl+i",description:"Move to Inflatons",onPress(){vn.tabs.selected.value=e}}))},T=Tt("Inflaton Resonance",()=>[{title:"Maximum Potential Foam Gain",modifier:q}],"12px"),G=S(()=>a(g,null,[a($i,{resource:s,stickyStyle:{background:"unset"}},null),a("div",{style:{marginTop:"-20px",fontSize:"12px"}},[t(p)?a(g,null,[u("Runaway inflation is dividing all other resources by "),a("span",{style:{color:"var(--feature-background)",textShadow:"var(--feature-background) 0px 0px 10px"}},[Q(t(b))])]):a(g,null,[t(ce.research.fomeGain.researched)?a(g,null,[u("Inflaton resonance is increasing Foam generation by "),a("span",{style:{color:"var(--feature-background)",textShadow:"var(--feature-background) 0px 0px 10px"}},[Q(t(E))])]):void 0]),t(ce.research.fomeGain.researched)?te(T):void 0]),te(c),te(l),o.gt(t(s),0)&&o.gt(t(Le.maxSize),0)?a("div",null,[u("You have managed to stabilize the universe at a diameter of "),Fn(t(Le.maxSize)),t(p)&&o.lt(t(Le.currentSize),t(Le.maxSize))?a(g,null,[u(" ("),Fn(t(Le.currentSize)),u(")")]):void 0]):void 0,a(Se,null,null)])),ue=ni({buildings:()=>({display:"Structures",tab:Jt(()=>({display:S(()=>a(g,null,[te(G),o.gt(t(s),0)?a(g,null,[t(P.subspaceBuildings.bought)?te(Le.display):void 0,a(Se,null,null),mn(P.moreFome,P.subspaceBuildings,P.research,P.skyrmionUpgrades)]):void 0]))}))}),research:()=>({display:"Research",tab:Jt(()=>({display:S(()=>a(g,null,[te(G),te(ce.display)]))}))})});return{id:Nt,name:e,theme:n,unlocked:i,inflatons:s,inflating:p,fomeBonus:E,upgrades:P,hotkeys:M,tabs:ue,display:S(()=>a(g,null,[t(P.research.bought)?te(ue):te(t(ue.tabs.buildings.tab))])),buildings:Le,coreResearch:ce}});var qm=se({props:{visibility:{type:ne(Number,Boolean),required:!0},display:ne(Object,String,Function),earned:{type:ne(Boolean),required:!0},requirements:ne(Object,Array),image:ne(String),style:ne(String,Object,Array),classes:ne(Object),mark:ne(Boolean,String),small:ne(Boolean),id:{type:String,required:!0}},components:{Node:hn,MarkNode:ii},setup(e){const{display:n,requirements:i,earned:s}=ot(e),r=vt("");return It(()=>{const l=Ce(n);if(l==null){r.value="";return}if(St(l)){r.value=le(l);return}const c=le(l.requirement?l.requirement:S(()=>{var p;return Qe((p=Ce(i))!=null?p:[])}),"h3"),m=le(l.effect||"","b"),d=Ce(s)?le(l.optionsDisplay||"","span"):"";r.value=le(S(()=>a("span",null,[a(c,null,null),l.effect!=null?a("div",null,[a(m,null,null)]):null,l.optionsDisplay!=null?a("div",{class:"equal-spaced"},[a(d,null,null)]):null])))}),{comp:r,unref:t,Visibility:Te,isVisible:he,isHidden:jt}}});function Mm(e,n,i,s,r,l){var d;const c=Lt("MarkNode"),m=Lt("Node");return e.isVisible(e.visibility)?($(),x("div",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0,backgroundImage:e.earned&&e.image&&`url(${e.image})`||""},(d=e.unref(e.style))!=null?d:[]]),class:qe({feature:!0,achievement:!0,locked:!e.unref(e.earned),done:e.unref(e.earned),small:e.unref(e.small),...e.unref(e.classes)})},[e.comp?($(),ie($e(e.comp),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],6)):H("",!0)}var Tm=fe(qm,[["render",Mm],["__scopeId","data-v-78143a58"]]);const xm=qs(),Pm=Symbol("Achievement");let Mn=function(e){return e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none",e}({});function _t(e,...n){const i=Ie(!1,!1),s=n.reduce((r,l)=>{var c;return Object.assign(r,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return Ke(r=>{var d,p,b;const l=(d=e==null?void 0:e.call(r,r))!=null?d:{};l.id=Ut("achievement-"),l.type=Pm,l[mt]=Tm;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.earned=i,l.complete=function(){var h,N;if(i.value)return;i.value=!0;const f=l;if((h=f.onComplete)==null||h.call(f),f.display!=null&&t(f.showPopups)===!0){const I=t(f.display);let q;St(I)?q=le(I):I.requirement!=null?q=le(I.requirement):q=Qe((N=f.requirements)!=null?N:[]),xm.info(a("div",null,[a("h3",null,[u("Achievement earned!")]),a("div",null,[a(q,null,null)])]))}},Object.assign(l,s),X(l,"visibility"),De(l,"visibility",Te.Visible);const c=l.visibility;l.visibility=gr(()=>{const f=t(l.display);switch(Be.msDisplay){default:case Mn.All:return t(c);case Mn.Configurable:return t(l.earned)&&!(f!=null&&typeof f=="object"&&"optionsDisplay"in f)?Te.None:t(c);case Mn.Incomplete:return t(l.earned)?Te.None:t(c);case Mn.None:return Te.None}}),X(l,"display"),X(l,"mark"),X(l,"small"),X(l,"image"),X(l,"style"),X(l,"classes"),X(l,"showPopups"),De(l,"showPopups",!0);for(const f of n)(b=f.postConstruct)==null||b.call(f,l);const m=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,l))},{});if(l[kt]=function(){const{visibility:f,display:h,requirements:N,earned:I,image:q,style:E,classes:P,mark:M,small:T,id:G}=this;return{visibility:f,display:h,requirements:N,earned:I,image:q,style:t(E),classes:P,mark:M,small:T,id:G,...m}},l.requirements){const f=l,h=[os(f),Gt(()=>!f.earned.value),...en(l.requirements)?l.requirements:[l.requirements]];It(()=>{Be.active===be.id&&Dt(h)&&f.complete()})}return l})}pt.on("loadSettings",e=>{De(e,"msDisplay",Mn.All)});const Am=Object.values(Mn).map(e=>({label:Ho(e),value:e}));As(S(()=>a(_i,{title:S(()=>a("span",{class:"option-title"},[u("Show achievements"),a("desc",null,[u("Select which achievements to display based on criterias.")])])),options:Am,"onUpdate:modelValue":e=>Be.msDisplay=e,modelValue:Be.msDisplay},null)));const _e=nt("entangled",()=>{const e="Entangled Strings",n={"--feature-background":"#9a4500"},i=v(()=>t(I[1].earned)||t(U.upgrades.mastery.bought)&&t(re.coreResearch.research.mastery.researched)),s=at(0,"Entangled Strings"),r=Ie("",!1);function l(E){return t(I[1].earned)?!0:E===t(r)}const c="160px",m=(()=>{const E=v(()=>[P,M,T,G,ue].filter(Y=>t(Y.bought)).length+2),P=me(()=>({requirements:K(()=>({resource:F(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Grasp the Void",description:"You have long since extracted all you can from your Skyrmions, but new insights show there may be yet more to gain"},style:{width:c,height:c}})),M=me(()=>({requirements:K(()=>({resource:F(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Architectural Renaissance (TBD)",description:"Look to the past, and see what glories the future may hold"},style:{width:c,height:c}})),T=me(()=>({requirements:K(()=>({resource:F(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Tetradimensional Engineering (TBD)",description:"Application of structural ideas gained from Entropic Loops may give rise to a powerful new sector of exploration and progress"},style:{width:c,height:c}})),G=me(()=>({requirements:K(()=>({resource:F(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Enigmatic Engineering",description:"Time Cubes seem helpful, but limited in power. Maybe your newfound mastery over space and time can reveal more of their secrets"},style:{width:c,height:c}})),ue=me(()=>({requirements:K(()=>({resource:F(s),cost:E,requiresPay:!1})),visibility:I[2].earned,display:{title:"Technological Ascendency (TBD)",description:"You have shown mastery over space and time, at least individually. Together, though, there are more secrets to unlock"},style:{width:c,height:c}}));return{skyrmion:P,fome:M,acceleron:T,timecube:G,inflaton:ue}})(),d=v(()=>Object.values(m).filter(E=>E.bought.value).length),p=v(()=>(t(m.skyrmion.bought)?1:0)+(t(m.fome.bought)?2:0)+(t(m.acceleron.bought)?4:0)+(t(m.timecube.bought)?8:0)+(t(m.inflaton.bought)?16:0)),b=v(()=>o.lte(s.value,1)?!0:o.lte(s.value,d.value+1)),f={expansion:Gt(b),acceleron:K(()=>({resource:F(U.accelerons),cost(){const E=(()=>o.eq(t(s),0)?1e19:[1e29,15e40,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,25e40,1e64,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(E,t(B.pion.upgrades.xi.effect))}})),inflaton:K(()=>({resource:F(re.inflatons),cost(){const E=(()=>o.eq(t(s),0)?8e3:[18e3,85e11,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,37e4,45e16,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(E,t(B.spinor.upgrades.xi.effect)).pow10()}})),timecube:K(()=>({resource:at(v(()=>Object.values(W.timelines.timelines).map(E=>t(E.score)).reduce((E,P)=>E.plus(P),o.dZero))),cost(){return t(m.timecube.bought)?[o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,1e4,5e6,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)]:0},visibility:F(m.timecube.bought)}))},h=lt(()=>({canClick(){return Dt(Object.values(f))},onClick(){s.value=o.add(t(s.value),1),fn(()=>{const E=(t(I[3].earned)?[re.coreResearch.research.queueTwo,re.coreResearch.research.queueFour]:[]).filter(P=>t(P.researched));N.reset(),t(I[2].earned)&&(C.protoversal.upgrades.reform.amount.value=o.dOne);for(const P of E)P.researched.value=!0;B.skyrmions.value=t(U.achievements.skyrmion.earned)?10:1})},display:"<h2>Condense reality into 1 Entangled String</h2>",style:{width:c,height:c}})),N=us(()=>({thingsToReset(){const E=[B.skyrmions,B.pion,B.spinor,C.protoversal,C.infinitesimal,C.subspatial,C.subplanck,C.quantum,U.accelerons,U.bestAccelerons,U.totalAccelerons,U.time,U.upgrades,U.loops,W,re.inflatons,re.inflating,re.upgrades,re.buildings,re.coreResearch];return t(I[2].earned)||E.push(B.upgrades,C.achievements),E}})),I={1:_t(()=>({requirements:K(()=>({resource:F(s),cost:1})),display:{requirement:`1 ${s.displayName}`,effect:`${U.accelerons.displayName} and ${re.inflatons.displayName} no longer inflate each other's costs`},small:!1})),2:_t(()=>({requirements:K(()=>({resource:F(s),cost:2})),display:{requirement:`2 ${s.displayName}`,effect:S(()=>a(g,null,[u("Unlock expansions to previous content"),a("br",null,null),u("Keep Skyrmion upgrades and Foam milestones")]))},small:!1})),3:_t(()=>({requirements:K(()=>({resource:F(s),cost:3})),display:{requirement:`3 ${s.displayName}`,effect:"Keep all parallel research and research queue researches"},small:!1})),7:_t(()=>({requirements:K(()=>({resource:F(s),cost:7})),display:{requirement:`7 ${s.displayName}`,effect:"Unlock Fundamental Particles"},small:!1}))},q={reset:ht(()=>({enabled:i,key:"e",description:"Entangle spacetime into another String",onPress:h.onClick})),switchTab:ht(()=>({enabled:i,key:"ctrl+e",description:"Move to Entangled Strings",onPress(){vn.tabs.selected.value=e}}))};return{name:e,theme:n,unlocked:i,strings:s,expansions:m,milestones:I,hotkeys:q,display:S(()=>a(g,null,[a($i,{resource:s},null),a(Yt,null,{default:()=>[Pi(m.skyrmion,m.fome),a(rn,null,{default:()=>[te(h),a(Se,{height:c},null),te(m.acceleron)]}),Pi(m.inflaton,m.timecube)]}),a(Se,null,null),a("div",null,[u("The next "),s.displayName,u(" requires:")]),a(Se,null,null),a("div",{style:{color:U.theme["--feature-background"]}},[U.accelerons.displayName,u(": "),D(t(f.acceleron.resource)),u(" / "),D(t(f.acceleron.cost))]),a("div",{style:{color:re.theme["--feature-background"]}},[u("Stored "),re.inflatons.displayName,u(": "),D(t(f.inflaton.resource)),u(" / "),D(t(f.inflaton.cost))]),he(f.timecube.visibility)?a("div",{style:{color:W.theme["--feature-background"]}},[u("Total Timeline Score: "),D(t(f.timecube.resource)),u(" / "),D(t(f.timecube.cost))]):void 0,a(Se,null,null),Pi(...Object.values(I))])),branchOrder:r,isFirstBranch:l}}),Fm=["stroke-width","cx","cy","r"],Bm=["stroke","stroke-width","stroke-dasharray","cx","cy","r"],sr=se({__name:"Loop",props:{color:null,width:null,radius:null,offset:null,angle:null},setup(e){const n=e,i=v(()=>n.radius*Math.PI*2),s=v(()=>t(i)*n.angle/360),r=v(()=>n.radius+n.width/2),l=v(()=>`${t(s)}, ${t(i)}`),c=v(()=>`rotate(${n.offset}deg)`);return(m,d)=>($(),x(g,null,[w("circle",{stroke:"#242526","stroke-width":e.width/2,cx:t(r),cy:t(r),r:e.radius},null,8,Fm),e.angle>0?($(),x("circle",{key:0,stroke:e.color,"stroke-width":e.width,"stroke-dasharray":t(l),cx:t(r),cy:t(r),r:e.radius,"stroke-linecap":"round",style:Oe({transitionDuration:"0s",transform:t(c),transformOrigin:`${t(r)}px ${t(r)}px`})},null,12,Bm)):H("",!0)],64))}}),Em=Symbol("Loop");function qn(e,...n){const i=Ie(0),s=Ie(0),r=Ie(!1),l=n.reduce((c,m)=>{var d;return Object.assign(c,(d=m.getPersistentData)==null?void 0:d.call(m))},{});return Ke(c=>{var p,b;const m=e.call(c,c);m.id=Ut("loop-"),m.type=Em,m[mt]=sr;for(const f of n)(p=f.preConstruct)==null||p.call(f,m);m.triggerProgress=i,m.buildProgress=s,m.built=r,Object.assign(m,l),Ct(m.buildProgress,f=>{o.gte(f,t(m.buildRequirement))&&(r.value=!0)}),X(m,"visibility"),X(m,"buildRequirement"),X(m,"triggerRequirement"),X(m,"display"),X(m,"effect");for(const f of n)(b=f.postConstruct)==null||b.call(f,m);const d=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,m))},{});return m[kt]=function(){const{visibility:f,display:h,buildProgress:N,buildRequirement:I,built:q,triggerProgress:E,triggerRequirement:P}=this;return{visibility:f,display:h,buildProgress:N,buildRequirement:I,built:q,triggerProgress:E,triggerRequirement:P,...d}},m})}const Ai={getPersistentData(){return{value:Ie(0)}},getGatheredProps(e){return{value:e.value}}};const Rm=["transform"],Om=se({__name:"Loops",props:{radius:null,loops:null,buildButton:null},setup(e){const n=e,i=n.radius*2,s=n.loops.map((p,b,f)=>b===f.length-1?v(()=>he(p.visibility)?n.radius-t(p.display).width/2:n.radius):v(()=>he(p.visibility)?t(s[b+1])-t(f[b+1].display).width/2-t(p.display).width/2:t(s[b+1]))),r=n.loops.map((p,b,f)=>b===f.length-1?v(()=>0):v(()=>{const h=f[b],N=f[b+1],I=t(r[b+1]),q=he(N.visibility)?t(N.display).width/2:0,E=he(h.visibility)?t(h.display).width/2:0;return I+q+E})),l=n.loops.map(p=>v(()=>t(p.built)?o.div(t(p.triggerProgress),t(p.triggerRequirement)):o.div(t(p.buildProgress),t(p.buildRequirement)))),c=n.loops.map(p=>v(()=>o.times(t(U.time),t(U.timeMult)).div(t(p.triggerRequirement)).toNumber()%360)),m=n.loops.map((p,b)=>v(()=>t(l[b]).times(360).toNumber()%360)),d=n.loops.map((p,b)=>({id:p.id,visibility:p.visibility,color:v(()=>t(t(p.display).color)),width:v(()=>t(p.display).width),radius:s[b],offset:c[b],angle:m[b],translation:v(()=>{const f=t(r[b]);return`translate(${f},${f})`})}));return(p,b)=>($(),x("div",{class:"loop-container",style:Oe({width:`${i}px`,height:`${i}px`})},[($(),x("svg",{height:i,width:i},[($(!0),x(g,null,Pe(t(d).filter(f=>t(he)(f.visibility)).reverse(),f=>($(),x("g",{key:f.id,fill:"none",transform:t(f.translation)},[t(he)(f.visibility)&&!t(jt)(f.visibility)?($(),ie(sr,{key:0,color:t(f.color),width:t(f.width),radius:t(f.radius),offset:t(f.offset),angle:t(f.angle)},null,8,["color","width","radius","offset","angle"])):H("",!0)],8,Rm))),128))])),e.buildButton?($(),ie($e(t(te)(t(e.buildButton))),{key:0})):H("",!0)],4))}}),Dm=e=>(ct("data-v-761e0687"),e=e(),dt(),e),Lm=Dm(()=>w("div",null,"Hover for Current Effects",-1));var jm=se({__name:"LoopDescriptions",props:{loops:null},setup(e){const n=e,i=v(()=>n.loops.filter(r=>t(r.built)).map(r=>Pt(t(r.display).description))),s=S(()=>Li(t(i),a(g,null,[a("br",null,null)])));return(r,l)=>t(t(i)).length>0?($(),ie(Ve,{key:0,display:t(s),direction:t(Ae).Up},{default:oe(()=>[Lm]),_:1},8,["display","direction"])):H("",!0)}});var Um=fe(jm,[["__scopeId","data-v-761e0687"]]),Vm=se({props:{active:{type:ne(Boolean),required:!0},maxed:{type:ne(Boolean),required:!0},canComplete:{type:ne(Boolean),required:!0},display:ne(String,Object,Function),requirements:ne(Object,Array),visibility:{type:ne(Number,Boolean),required:!0},style:ne(String,Object,Array),classes:ne(Object),completed:{type:ne(Boolean),required:!0},canStart:{type:ne(Boolean),required:!0},mark:ne(Boolean,String),id:{type:String,required:!0},toggle:{type:Function,required:!0}},components:{MarkNode:ii,Node:hn},setup(e){const{active:n,maxed:i,canComplete:s,display:r,requirements:l}=ot(e),c=v(()=>n.value?s.value?"Finish":"Exit Early":i.value?"Completed":"Start"),m=vt(""),d=v(()=>{const p=Ce(n),b=Ce(s);return p?b?Qs():Ci():{}});return It(()=>{const p=Ce(r);if(p==null){m.value="";return}if(St(p)){m.value=le(p);return}const b=le(p.title||"","h3"),f=le(p.description,"div"),h=le(p.goal!=null?p.goal:S(()=>{var q;return Qe((q=Ce(l))!=null?q:[])}),"h3"),N=le(p.reward||""),I=le(p.effect||"");m.value=le(S(()=>a("span",null,[p.title!=null?a("div",null,[a(b,null,null)]):null,a(f,null,null),a("div",null,[a("br",null,null),u("Goal: "),a(h,null,null)]),p.reward!=null?a("div",null,[a("br",null,null),u("Reward: "),a(N,null,null)]):null,p.effect!=null?a("div",null,[u("Currently: "),a(I,null,null)]):null])))}),{buttonText:c,notifyStyle:d,comp:m,Visibility:Te,isVisible:he,isHidden:jt,unref:t}}});const Gm=["disabled"];function zm(e,n,i,s,r,l){var d;const c=Lt("MarkNode"),m=Lt("Node");return e.isVisible(e.visibility)?($(),x("div",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.notifyStyle,(d=e.unref(e.style))!=null?d:{}]),class:qe({feature:!0,challenge:!0,done:e.unref(e.completed),canStart:e.unref(e.canStart)&&!e.unref(e.maxed),maxed:e.unref(e.maxed),...e.unref(e.classes)})},[w("button",{class:"toggleChallenge",onClick:n[0]||(n[0]=(...p)=>e.toggle&&e.toggle(...p)),disabled:!e.unref(e.canStart)||e.unref(e.maxed)},J(e.buttonText),9,Gm),e.unref(e.comp)?($(),ie($e(e.unref(e.comp)),{key:0})):H("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],6)):H("",!0)}var Hm=fe(Vm,[["render",zm],["__scopeId","data-v-73fd263c"]]);const Wm=Symbol("Challenge");function Ym(e,...n){const i=Ie(0),s=Ie(!1,!1),r=n.reduce((l,c)=>{var m;return Object.assign(l,(m=c.getPersistentData)==null?void 0:m.call(c))},{});return Ke(l=>{var p,b;const c=e.call(l,l);c.id=Ut("challenge-"),c.type=Wm,c[mt]=Hm;for(const f of n)(p=f.preConstruct)==null||p.call(f,c);c.completions=i,c.active=s,Object.assign(c,r),c.completed=v(()=>o.gt(c.completions.value,0)),c.maxed=v(()=>o.gte(c.completions.value,t(c.completionLimit))),c.toggle=function(){var h,N,I,q,E;const f=c;if(f.active.value){if(o.gt(t(f.canComplete),0)&&!f.maxed.value){const P=t(f.canComplete);f.completions.value=o.min(o.add(f.completions.value,P),t(f.completionLimit)),(h=f.onComplete)==null||h.call(f)}f.active.value=!1,(N=f.onExit)==null||N.call(f),(I=f.reset)==null||I.reset()}else t(f.canStart)&&he(f.visibility)&&!f.maxed.value&&((q=f.reset)==null||q.reset(),f.active.value=!0,(E=f.onEnter)==null||E.call(f))},c.canComplete=v(()=>Qn(c.requirements)),c.complete=function(f){var I,q,E;const h=c,N=t(h.canComplete);h.active.value&&o.gt(N,0)&&!h.maxed.value&&(h.completions.value=o.min(o.add(h.completions.value,N),t(h.completionLimit)),(I=h.onComplete)==null||I.call(h),f!==!0&&(h.active.value=!1,(q=h.onExit)==null||q.call(h),(E=h.reset)==null||E.reset()))},X(c,"visibility"),De(c,"visibility",Te.Visible);const m=c.visibility;c.visibility=v(()=>Be.hideChallenges===!0&&t(c.maxed)?Te.None:t(m)),c.mark==null&&(c.mark=v(()=>o.gt(t(c.completionLimit),1)&&!!t(c.maxed))),X(c,"canStart"),De(c,"canStart",!0),X(c,"completionLimit"),De(c,"completionLimit",1),X(c,"mark"),X(c,"classes"),X(c,"style"),X(c,"display"),c.reset!=null&&pt.on("reset",f=>{f===c.reset&&c.active.value&&c.toggle()});for(const f of n)(b=f.postConstruct)==null||b.call(f,c);const d=n.reduce((f,h)=>{var N;return Object.assign(f,(N=h.getGatheredProps)==null?void 0:N.call(h,c))},{});return c[kt]=function(){const{active:f,maxed:h,canComplete:N,display:I,visibility:q,style:E,classes:P,completed:M,canStart:T,mark:G,id:ue,toggle:Y,requirements:j}=this;return{active:f,maxed:h,canComplete:N,display:I,visibility:q,style:t(E),classes:P,completed:M,canStart:T,mark:G,id:ue,toggle:Y,requirements:j,...d}},c})}pt.on("loadSettings",e=>{De(e,"hideChallenges",!1)});As(S(()=>a(zt,{title:S(()=>a("span",{class:"option-title"},[u("Hide maxed challenges"),a("desc",null,[u("Hide challenges that have been fully completed.")])])),"onUpdate:modelValue":e=>Be.hideChallenges=e,modelValue:Be.hideChallenges},null)));function rr(e){e.effect===void 0&&(e.effect=i=>i),e.display.effect===void 0&&(e.display.effect=i=>`${bt(i)}\xD7`);const n=Ye(i=>{var s;return{visibility:e.visibility,requirements:e.requirements,display:e.display.name,effect:()=>e.effect(t(i.totalAmount)),bonusAmount:(s=e.bonusAmount)!=null?s:0}},ke,tr);return On(n,{direction:Ae.Down,yoffset:"var(--upgrade-width)",display:S(()=>{const i=t(n.bonusAmount);let s;o.gt(i,0)&&(s=a(g,null,[u("+"),Q(t(n.bonusAmount))]));const r=e.display.effect(t(n.effect));return a(g,null,[e.display.description,a("br",null,null),u("Amount: "),Q(t(n.amount)),s,a("br",null,null),u("Currently: "),r,a("br",null,null),Qe(n.requirements)])})}),n}const Km={class:"spinor-container"},Xm={class:"spinor-grid"},Qm=se({__name:"Spinor",setup(e){const n=Re.upgrades,i={alpha:{row:1,col:1},beta:{row:2,col:3},gamma:{row:3,col:1},delta:{row:4,col:3},epsilon:{row:5,col:1},zeta:{row:3,col:5},eta:{row:5,col:5},theta:{row:6,col:3},iota:{row:7,col:1},kappa:{row:4,col:7},lambda:{row:6,col:7},mu:{row:7,col:5},nu:{row:8,col:3},xi:{row:8,col:7},pi:{row:9,col:5},rho:{row:10,col:7}};function s(r){return{"--row":i[r].row,"--col":i[r].col}}return(r,l)=>($(),x("div",Km,[w("ul",Xm,[($(!0),x(g,null,Pe(t(n),(c,m)=>($(),x(g,{key:m},[t(c.visibility)!==t(Te).None?($(),x("li",Bt({key:0,class:"spinor-upgrade"},r.$attrs,{style:s(m)}),[($(),ie($e(t(te)(c))))],16)):H("",!0)],64))),128))])]))}});var Zm=fe(Qm,[["__scopeId","data-v-41962e7a"]]);const Jm=Symbol("Boost");function He(e){const n=Ie(0);return Ke(i=>{const s=e.call(i,i);return s.id=Ut("boost-"),s.type=Jm,s.amount=n,X(s,"display"),X(s,"effect"),s.bonus===void 0&&(s.bonus=0),X(s,"bonus"),s.total=v(()=>o.add(t(s.amount),t(s.bonus))),s})}function ge(e,n){return t(C[e].boosts[n].effect)}const ep="spinor",Re=nt(ep,function(){const e="Spinors",n=at(0,e,void 0,!0),i=ut(()=>[...B.production,z(()=>({multiplier:st.upgrades.gamma.effect,enabled:()=>o.gt(t(st.upgrades.gamma.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B3 ("),D(t(st.upgrades.gamma.totalAmount)),u(")")]))})),z(()=>({multiplier:st.upgrades.mu.effect,enabled:()=>o.gt(t(st.upgrades.mu.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03BC ("),D(t(st.upgrades.mu.totalAmount)),u(")")]))}))]),s=v(()=>i.apply(t(B.totalSkyrmions).times(.01)));B.on("preUpdate",b=>{const f=t(U.timeMult).times(b);n.value=f.times(t(s)).plus(n.value)});const r=v(()=>Object.values(m).map(b=>t(b.amount)).reduce((b,f)=>b.plus(f),o.dZero)),l=v(()=>t(r).minus(ge(k.subspatial,2))),c=v(()=>{const b=t(pe.challenge.active)?t(pe.upgradeCount):t(st.upgradeCount),f=b.times(.2).times(t(st.upgrades.beta.effect)).plus(1),h=b.times(.25).times(ge(k.quantum,2));return f.pow(h)}),m=(()=>{const b=p({cost(y){let R=y.pow_base(1.2).times(.1);return y.gt(25)&&(R=y.pow_base(7.9).times(342e-25).times(R)),y.gt(90)&&(R=y.pow_base(19.75).times(208e-106).times(R)),R.times(ge(k.infinitesimal,2))},shouldAutobuy:F(B.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Reduce the cost of "),B.skyrmions.displayName,u(" by 33%")]),effect:y=>`/${D(y)}`},effect:y=>o.pow(1.5,y),bonusAmount:C[k.protoversal].boosts[2].effect}),f=p({cost(y){let R=y.pow_base(1.3).times(.1);return y.gt(15)&&(R=y.pow_base(7.7).times(6e-14).times(R)),y.gt(45)&&(R=y.pow_base(29.25).times(1e-39).times(R)),R.plus(.9)},shouldAutobuy:F(B.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Pion upgrade cost by 10%")]),effect:y=>`Pion upgrade cost nerf reduced to ${bt(o.times(y,100))}%`},effect:y=>o.pow(.9,y),bonusAmount:C[k.protoversal].boosts[3].effect}),h=p({cost(y){let R=y.pow_base(1.7).times(.1);return y.gt(10)&&(R=y.pow_base(7.35).times(268e-11).times(R)),y.gt(60)&&(R=y.pow_base(29.4).times(89e-75).times(R)),R.plus(4.9).times(ge(k.infinitesimal,5))},shouldAutobuy:F(B.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Pions")])},effect:y=>o.pow(1.75,y),bonusAmount:C[k.protoversal].boosts[4].effect}),N=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.protoversal].boosts[1].total),0),cost(y){let R=y.pow_base(6).times(30);return y.gt(60)&&(R=y.pow_base(37.5).times(27e-72).times(R)),R},shouldAutobuy:F(B.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Boost 1 effect")])},effect:y=>o.pow(1.7,y),bonusAmount:C[k.subplanck].boosts[2].effect}),I=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.infinitesimal].upgrades.reform.amount),0),cost(y){let R=y.pow_base(5).times(50);return y.gt(60)&&(R=y.pow_base(28.8).times(177e-67).times(R)),R},shouldAutobuy:F(B.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Infinitesimal Foam gain by 50% per order of magnitude of Protoversal Foam")])},effect:y=>o.max(t(C[k.protoversal].amount),0).plus(1).log10().times(y).times(.5).plus(1),bonusAmount:()=>o.add(ge(k.subplanck,3),t(st.upgrades.eta.effect))}),q=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.subspatial].upgrades.reform.amount),0),cost(y){let R=y.pow_base(5.5).times(5e3);return y.gt(60)&&(R=y.pow_base(35.64).times(1e-68).times(R)),R},shouldAutobuy:F(B.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Pion and Spinor gain by 30% per order of magnitude of Subspatial Foam")])},effect:y=>o.max(t(C[k.subspatial].amount),0).plus(1).log10().times(y).times(.3).plus(1),bonusAmount:C[k.subplanck].boosts[4].effect}),E=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.protoversal].upgrades.reform.amount),1),cost(y){let R=y.pow_base(5).times(3e5);return y.gt(60)&&(R=y.pow_base(28.8).times(177e-66).times(R)),R},shouldAutobuy:F(B.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain 120% increased Foam generation")])},effect:y=>o.times(y,1.2).plus(1),bonusAmount:C[k.subplanck].boosts[5].effect}),P=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.subplanck].upgrades.reform.amount),0),cost(y){let R=y.pow_base(6.5).times(7e5);return y.gt(45)&&(R=y.pow_base(26).times(545e-36).times(R)),R},shouldAutobuy:F(B.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Subspatial Foam gain by 30% per order of magnitude of Protoversal and Infinitesimal Foam")])},effect:y=>o.add(o.max(t(C[k.protoversal].amount),0).plus(1).log10(),o.max(t(C[k.infinitesimal].amount),0).plus(1).log10()).times(y).times(.3).plus(1),bonusAmount:C[k.quantum].boosts[4].effect}),M=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.protoversal].upgrades.reform.amount),2),cost(y){let R=y.pow_base(7.5).times(4e8);return y.gt(45)&&(R=y.pow_base(30).times(595e-50).times(R)),R},shouldAutobuy:F(B.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Pions increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:y=>o.max(t(st.pions),0).plus(1).log10().times(y).times(.02).plus(1),bonusAmount:C[k.quantum].boosts[4].effect}),T=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.infinitesimal].upgrades.reform.amount),1),cost(y){let R=y.pow_base(7).times(5e9);return y.gt(45)&&(R=y.pow_base(26).times(145e-45).times(R)),R},shouldAutobuy:F(B.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Increase Subplanck Boost 1 effect by 40% per order of magnitude of Subplanck Foam")])},effect:y=>o.max(t(C[k.subplanck].amount),0).plus(1).log10().times(y).times(.4).plus(1),bonusAmount:C[k.quantum].boosts[4].effect}),G=p({visibility:()=>t(pe.challenge.active)||t(U.upgrades.skyrmion.bought),cost(y){let R=y.pow_base(5).times(7e10);return y.gt(45)&&(R=y.pow_base(20).times(1e-35).times(R)),R},shouldAutobuy:F(B.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("ln(Best Accelerons) increases Pion and Spinor gain")])},effect:y=>o.max(t(U.bestAccelerons),0).plus(1).ln().times(y).plus(1)}),ue=p({visibility:()=>t(pe.challenge.active)||t(re.upgrades.skyrmionUpgrades.bought),cost(y){let R=y.pow_base(5).times(7e10);return y.gt(45)&&(R=y.pow_base(20).times(1e-35).times(R)),R},shouldAutobuy:F(B.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Pions per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:y=>o.clamp(t(re.inflatons),1,t(re.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(y)}),Y=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.nu.bought),cost(y){return y.pow_base(150).times(1e50)},shouldAutobuy:F(B.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Add "),bt(25e-5),u(" to a repeatable research cost divider per order of magnitude of Spinors")]),effect:y=>`/${bt(y)}\xD7`},effect:y=>o.clampMin(t(n),0).plus(1).log10().times(y).times(25e-5).plus(1)}),j=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.xi.bought),cost(y){return y.pow_base(135).times(1e50)},shouldAutobuy:F(B.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the magnitude of the Entangled String Inflaton requirement by 5%")]),effect:y=>`${bt(y)}\xD7`},effect:y=>o.pow(.95,y)}),de=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.pi.bought),cost(y){return y.pow_base(160).times(1e50)},shouldAutobuy:F(B.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Pion and Spinor gain by 0.25% per total "),we.entropy.displayName])},effect:y=>o.times(y,.0025).times(t(we.maxEntropy)).plus(1)}),A=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.rho.bought),cost(y){return y.pow_base(175).times(1e50)},shouldAutobuy:F(B.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Increase effective Subspace building count by 0.1%")]),effect:y=>`${D(o.times(y,100),1)}%`},effect:y=>o.times(y,.001)});return{alpha:b,beta:f,gamma:h,delta:N,epsilon:I,zeta:q,eta:E,theta:P,iota:M,kappa:T,lambda:G,mu:ue,nu:Y,xi:j,pi:de,rho:A}})(),d=Tt("Spinor Modifiers",()=>[{title:n.displayName,modifier:i,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{name:e,spinors:n,upgradeCount:l,upgrades:m,display:S(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-start"},[a("div",{class:"col",style:"align-items: flex-start"},[a("div",null,[u("You have "),a(si,{resource:n,color:"var(--feature-background)",tag:"h3"},null),u(" "),n.displayName,u(" (+"),bn(n,s.value),u("/s)"),te(d)]),a("div",{style:"font-size: 12px"},[u("Your Pion upgrades are increasing Spinor upgrade costs by "),bt(t(c).minus(1).times(100)),u("%")]),a(Se,null,null),a(Zm,null,null)])]))};function p(b){const{visibility:f,cost:h,shouldAutobuy:N,display:I,effect:q,bonusAmount:E}=b,P=rr({visibility:f,display:I,bonusAmount:E,effect:q,requirements:K(()=>({resource:F(n),cost:()=>h(o.sub(t(P.amount),ge(k.subplanck,5))).times(t(c)),requiresPay:()=>!t(N),canMaximize:!1}))});return B.on("update",()=>{t(pe.challenge.active)||t(N)&&Dt(P.requirements)&&P.onClick()}),P}});const tp={class:"pion-container"},np={class:"pion-grid"},ip=se({__name:"Pion",setup(e){const n=st.upgrades,i={alpha:{row:1,col:7},beta:{row:2,col:5},gamma:{row:3,col:7},delta:{row:4,col:5},epsilon:{row:5,col:7},zeta:{row:3,col:3},eta:{row:5,col:3},theta:{row:6,col:5},iota:{row:7,col:7},kappa:{row:4,col:1},lambda:{row:6,col:1},mu:{row:7,col:3},nu:{row:8,col:5},xi:{row:8,col:1},pi:{row:9,col:3},rho:{row:10,col:1}};function s(r){return{"--row":i[r].row,"--col":i[r].col}}return(r,l)=>($(),x("div",tp,[w("ul",np,[($(!0),x(g,null,Pe(t(n),(c,m)=>($(),x(g,{key:m},[t(c.visibility)!==t(Te).None?($(),x("li",Bt({key:0,class:"pion-upgrade"},r.$attrs,{style:s(m)}),[($(),ie($e(t(te)(c))))],16)):H("",!0)],64))),128))])]))}});var sp=fe(ip,[["__scopeId","data-v-4a683717"]]);const rp="pion",st=nt(rp,function(){const e="Pions",n=at(0,e,void 0,!0),i=ut(()=>[...B.production,z(()=>({multiplier:Re.upgrades.gamma.effect,enabled:()=>o.gt(t(Re.upgrades.gamma.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B3 ("),D(t(Re.upgrades.gamma.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.mu.effect,enabled:()=>o.gt(t(Re.upgrades.mu.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03BC ("),D(t(Re.upgrades.mu.totalAmount)),u(")")]))}))]),s=v(()=>i.apply(t(B.totalSkyrmions).times(.01)));B.on("preUpdate",b=>{const f=t(U.timeMult).times(b);n.value=f.times(t(s)).plus(n.value)});const r=v(()=>Object.values(m).map(b=>t(b.amount)).reduce((b,f)=>b.plus(f),o.dZero)),l=v(()=>t(r).minus(ge(k.subspatial,2))),c=v(()=>{const b=t(pe.challenge.active)?t(pe.upgradeCount):t(Re.upgradeCount),f=b.times(.2).times(t(Re.upgrades.beta.effect)).plus(1),h=b.times(.25).times(ge(k.quantum,2));return f.pow(h)}),m=(()=>{const b=p({cost(y){let R=y.pow_base(1.2).times(.1);return y.gt(25)&&(R=y.pow_base(7.9).times(342e-25).times(R)),y.gt(90)&&(R=y.pow_base(19.75).times(208e-106).times(R)),R.times(ge(k.infinitesimal,3))},shouldAutobuy:F(B.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Gain 50% more Pions and Spinors")])},effect:y=>o.pow(1.5,y),bonusAmount:C[k.protoversal].boosts[2].effect}),f=p({cost(y){let R=y.pow_base(1.3).times(.1);return y.gt(15)&&(R=y.pow_base(7.7).times(6e-14).times(R)),y.gt(45)&&(R=y.pow_base(29.25).times(1e-39).times(R)),R.plus(.9)},shouldAutobuy:F(B.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Spinor upgrade cost by 10%")]),effect:y=>`Spinor upgrade cost nerf reduced to ${bt(o.times(y,100))}%`},effect:y=>o.pow(.9,y),bonusAmount:C[k.protoversal].boosts[3].effect}),h=p({cost(y){let R=y.pow_base(1.7).times(.1);return y.gt(10)&&(R=y.pow_base(7.35).times(268e-11).times(R)),y.gt(60)&&(R=y.pow_base(29.4).times(89e-75).times(R)),R.plus(4.9).times(ge(k.infinitesimal,5))},shouldAutobuy:F(B.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Spinors")])},effect:y=>o.pow(1.75,y),bonusAmount:C[k.protoversal].boosts[4].effect}),N=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.protoversal].boosts[1].total),0),cost(y){let R=y.pow_base(6).times(30);return y.gt(60)&&(R=y.pow_base(37.5).times(27e-72).times(R)),R},shouldAutobuy:F(B.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Foam from Skyrmions")])},effect:y=>o.pow(y,1.7),bonusAmount:C[k.subplanck].boosts[2].effect}),I=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.infinitesimal].upgrades.reform.amount),0),cost(y){let R=y.pow_base(5).times(50);return y.gt(60)&&(R=y.pow_base(28.8).times(177e-67).times(R)),R},shouldAutobuy:F(B.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Protoversal Foam gain by 50% per order of magnitude of Infinitesimal Foam")])},effect:y=>o.max(t(C[k.infinitesimal].amount),0).plus(1).log10().times(y).times(.5).plus(1),bonusAmount:C[k.subplanck].boosts[3].effect}),q=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.subspatial].upgrades.reform.amount),0),cost(y){let R=y.pow_base(5.5).times(5e3);return y.gt(60)&&(R=y.pow_base(35.64).times(1e-68).times(R)),R},shouldAutobuy:F(B.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Subspatial Foam gain by 5% per Skyrmion")])},effect:y=>t(B.totalSkyrmions).times(y).times(.05).plus(1),bonusAmount:C[k.subplanck].boosts[4].effect}),E=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.protoversal].upgrades.reform.amount),1),cost(y){let R=y.pow_base(5).times(3e5);return y.gt(60)&&(R=y.pow_base(28.8).times(177e-66).times(R)),R},shouldAutobuy:F(B.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain a free level of "),a("b",null,[u("Spinor Upgrade \u03B5")])]),effect:y=>`${D(y)} free levels`},effect:y=>y,bonusAmount:C[k.subplanck].boosts[5].effect}),P=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.subplanck].upgrades.reform.amount),0),cost(y){let R=y.pow_base(6.5).times(7e5);return y.gt(45)&&(R=y.pow_base(26).times(545e-36).times(R)),R},shouldAutobuy:F(B.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Protoversal Foam gain by 100% per order of magnitude of Subspatial Foam")])},effect:y=>o.max(t(C[k.subspatial].amount),0).plus(1).log10().times(y).plus(1),bonusAmount:C[k.quantum].boosts[4].effect}),M=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.protoversal].upgrades.reform.amount),2),cost(y){let R=y.pow_base(7.5).times(4e8);return y.gt(45)&&(R=y.pow_base(30).times(595e-50).times(R)),R},shouldAutobuy:F(B.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Spinors increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:y=>o.max(t(Re.spinors),0).plus(1).log10().times(y).times(.02).plus(1),bonusAmount:C[k.quantum].boosts[4].effect}),T=p({visibility:()=>t(pe.challenge.active)||o.gt(t(C[k.infinitesimal].upgrades.reform.amount),1),cost(y){let R=y.pow_base(7).times(5e9);return y.gt(45)&&(R=y.pow_base(26).times(145e-45).times(R)),R},shouldAutobuy:F(B.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Protoversal Boost 1 levels each increase other Foam Boost 1 effects by 30%")])},effect:y=>o.times(t(C[k.protoversal].boosts[1].total),y).times(.3).plus(1),bonusAmount:C[k.quantum].boosts[4].effect}),G=p({visibility:()=>t(pe.challenge.active)||t(U.upgrades.skyrmion.bought),cost(y){let R=y.pow(1.1).pow_base(5).times(700);return y.gt(45)&&(R=y.pow(1.1).pow_base(20).times(7e-17).times(R)),R},shouldAutobuy:F(B.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("Double the Infinitesimal Foam Boost 1 effect")])},effect:y=>o.pow(2,y)}),ue=p({visibility:()=>t(pe.challenge.active)||t(re.upgrades.skyrmionUpgrades.bought),cost(y){let R=y.pow_base(5).times(7e10);return y.gt(45)&&(R=y.pow_base(20).times(1e-35).times(R)),R},shouldAutobuy:F(B.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Spinors per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:y=>o.clamp(t(re.inflatons),1,t(re.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(y)}),Y=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.nu.bought),cost(y){return y.pow_base(150).times(1e50)},shouldAutobuy:F(B.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Increase research speed by "),bt(25e-5),u("\xD7 per order of magnitude of Pions")]),effect:y=>`${bt(y)}\xD7`},effect:y=>o.clampMin(t(n),0).plus(1).log10().times(y).times(25e-5).plus(1)}),j=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.xi.bought),cost(y){return y.pow_base(135).times(1e50)},shouldAutobuy:F(B.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the Entangled String Acceleron requirement by 5%")]),effect:y=>`${bt(y)}\xD7`},effect:y=>o.pow(.95,y)}),de=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.pi.bought),cost(y){return y.pow_base(160).times(1e50)},shouldAutobuy:F(B.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Entropic Loop construction speed by 5% per completed Entropic Loop")])},effect:y=>o.times(y,.05).times(t(U.loops.numBuiltLoops))}),A=p({visibility:()=>t(pe.challenge.active)||t(B.upgrades.rho.bought),cost(y){return y.pow_base(175).times(1e50)},shouldAutobuy:F(B.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Decrease Subspace building cost scaling by 1.1x")])},effect:y=>o.pow(1.1,y)});return{alpha:b,beta:f,gamma:h,delta:N,epsilon:I,zeta:q,eta:E,theta:P,iota:M,kappa:T,lambda:G,mu:ue,nu:Y,xi:j,pi:de,rho:A}})(),d=Tt("Pion Modifiers",()=>[{title:n.displayName,modifier:i,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{name:e,pions:n,upgradeCount:l,upgrades:m,display:S(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-end"},[a("div",{class:"col",style:"align-items: flex-end"},[a("div",null,[u("You have "),a(si,{resource:n,color:"var(--feature-background)",tag:"h3"},null),u(" "),n.displayName,u(" (+"),bn(n,s.value),u("/s)"),te(d)]),a("div",{style:"font-size: 12px"},[u("Your Spinor upgrades are increasing Pion upgrade costs by "),bt(t(c).minus(1).times(100)),u("%")]),a(Se,null,null),a(sp,null,null)])]))};function p(b){const{visibility:f,cost:h,shouldAutobuy:N,display:I,effect:q,bonusAmount:E}=b,P=rr({visibility:f,display:I,bonusAmount:E,effect:q,requirements:K(()=>({resource:F(n),cost:()=>h(o.sub(t(P.amount),ge(k.subspatial,5))).times(t(c)),requiresPay:()=>!t(N),canMaximize:!1}))});return B.on("update",()=>{t(pe.challenge.active)||t(N)&&Dt(P.requirements)&&P.onClick()}),P}}),fs=e=>(ct("data-v-88473402"),e=e(),dt(),e),op=fs(()=>w("span",null,"A dark mirror to reality, spawned deep within the endless void",-1)),ap=["disabled"],lp=fs(()=>w("h2",null,"Knowledge of the Abyss",-1)),up=fs(()=>w("span",{style:{fontWeight:"normal"}},[u(" The Abyss is a twisted version of reality, featuring several unique differences. Entering this alternate reality will pause your progress outside, yet what you do here will remain - and some features may even be brought out, with some effort. "),w("br"),w("br"),u("Abyssal Pion and Spinor upgrades, unlike the versions you are used to, share a singular cost nerf, and are not affected by the automation provided by the Skyrmion upgrades. "),w("br"),w("br"),u("There do seem to be a few more Skyrmion, Pion, and Spinor upgrades available though, maybe those will be of use? ")],-1));var cp=se({__name:"AbyssChallenge",props:{challenge:null},setup(e){const n=e,i=ae(!1),s=v(()=>{const l=Ce(n.challenge.active),c=Ce(n.challenge.canComplete);return l?c?Qs():Ci():{}}),r=vt("");return It(()=>{r.value=le(S(()=>{const l=n.challenge.requirements;return a("div",null,[u("Current Goal: "),bn(l.resource,t(l.cost)),u(" "),l.resource.displayName])}))}),(l,c)=>{var m;return t(he)(e.challenge.visibility)?($(),x("div",{key:0,style:Oe([{visibility:t(jt)(e.challenge.visibility)?"hidden":void 0},t(s),(m=t(e.challenge.style))!=null?m:{}]),class:qe(["feature challenge",{done:t(e.challenge.completed),canStart:t(e.challenge.canStart)&&!t(e.challenge.maxed),maxed:t(e.challenge.maxed),...t(e.challenge.classes)}])},[op,w("button",{class:"toggleChallenge",onClick:c[0]||(c[0]=(...d)=>e.challenge.toggle&&e.challenge.toggle(...d)),disabled:!t(e.challenge.canStart)},J(`${t(e.challenge.active)?"Exit":"Enter"} the Abyss`),9,ap),w("button",{class:"button",onClick:c[1]||(c[1]=()=>i.value=!0)},"What is the Abyss?"),a(tn,{"model-value":i.value,"onUpdate:modelValue":c[2]||(c[2]=d=>i.value=d)},{header:oe(()=>[lp]),body:oe(()=>[up]),_:1},8,["model-value"]),($(),ie($e(t(t(r))),{class:"goal"})),a(hn,{id:e.challenge.id},null,8,["id"])],6)):H("",!0)}}});var dp=fe(cp,[["__scopeId","data-v-88473402"]]);const mp="abyss",pe=nt(mp,function(){const e={"--feature-background":"#ff0000"},n=Ym(l=>({requirements:K(()=>({cost:()=>o.add(t(l.completions),1),resource:s,requiresPay:!1})),completionLimit:4,onEnter(){ji(wt,r)},onExit(){ji(wt,r)}})),i=v(()=>o.add(t(st.upgradeCount),t(Re.upgradeCount)).times(.75)),s=at(v(()=>[B.upgrades.nu,B.upgrades.xi,B.upgrades.pi,B.upgrades.rho].filter(l=>t(l.bought)).length),"Abyssal Skyrmion Upgrades");Ct(s,l=>n.completions.value=o.max(t(n.completions),l));const r=(()=>({skyrmion:{conversion:{amount:Ie(1)},pion:yt(B.pion),spinor:yt(B.spinor)},fome:{protoversal:yt(C.protoversal),infinitesimal:yt(C.infinitesimal),subspatial:yt(C.subspatial),subplanck:yt(C.subplanck),quantum:yt(C.quantum)},acceleron:{accelerons:yt(U.accelerons),bestAccelerons:yt(U.bestAccelerons),totalAccelerons:yt(U.totalAccelerons),entropy:yt(U.entropy),loops:yt(U.loops),upgrades:yt(U.upgrades)},timecube:yt(W),inflaton:yt(re)}))();return{theme:e,challenge:n,upgradeCount:i,abyssUpgradeCount:s,swapData:r,display:S(()=>a(g,null,[a(dp,{challenge:n},null)]))}}),pp="loops",Ue=nt(pp,function(){const e=Ie(!1),n=lt(()=>({visibility:F(U.upgrades.superstructures.bought),canClick(){return t(b)!==void 0},onClick(){e.value=!t(e)},display:S(()=>a("h3",null,[t(e)?"Halt":"Begin",a("br",null,null),u("Construction")])),style(){return{borderRadius:"50%",borderColor:t(this.canClick)?"var(--feature-background)":"var(--locked)",backgroundColor:"var(--transparent)",color:t(this.canClick)?"var(--feature-background)":"var(--locked)"}}})),i=ut(()=>[z(()=>({multiplier:we.enhancements.construction.effect,enabled:F(we.enhancements.construction.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Construction")]))})),z(()=>({multiplier:W.upgrades.ten.effect,enabled:F(W.upgrades.ten.bought),description:S(()=>a(g,null,[u("["),W.name,u("] Ten")]))})),z(()=>({multiplier:B.pion.upgrades.pi.effect,enabled:()=>o.gt(t(B.pion.upgrades.pi.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03C0 ("),D(t(B.pion.upgrades.pi.totalAmount)),u(")")]))})),z(()=>({multiplier:W.getTimesquareEffect(V.RIGHT),enabled:()=>o.gt(t(W.timesquares.squares[V.RIGHT].square.amount),0),description:S(()=>a(g,null,[u("["),W.name,u("] Right Time Squares ("),Q(t(W.timesquares.squares[V.RIGHT].square.amount)),u(")")]))}))]),s=v(()=>i.apply(t(U.timeMult))),r=ut(()=>[z(()=>({multiplier:we.enhancements.development.effect,enabled:F(we.enhancements.development.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Development")])),smallerIsBetter:!0}))]),l=v(()=>r.apply(1)),c=v(()=>{const I=t(b);return I===void 0?o.dZero:o.minus(t(I.buildRequirement),t(I.buildProgress))}),m=v(()=>t(c).times(t(l)));U.on("update",I=>{if(!t(e))return;const q=t(b);if(q===void 0){e.value=!1;return}const E=t(c),P=o.div(t(U.accelerons),t(l)),M=o.times(t(s),I).clampMax(E).clampMax(P);q.buildProgress.value=M.plus(t(q.buildProgress)).clampMax(t(q.buildRequirement)),U.accelerons.value=o.subtract(t(U.accelerons),M.times(t(l))).clampMin(0),t(q.built)&&(e.value=!1)}),U.on("preUpdate",I=>{if(t(e))return;const q=t(U.timeMult).times(I);for(const E of Object.values(d).filter(P=>t(P.built))){E.triggerProgress.value=q.plus(t(E.triggerProgress));const P=o.divide(t(E.triggerProgress),t(E.triggerRequirement)).floor();P.gte(1)&&(E.triggerProgress.value=o.sub(t(E.triggerProgress),P.times(t(E.triggerRequirement))),E.trigger(P))}});const d=(()=>{const I=qn(G=>({visibility:F(U.upgrades.superstructures.bought),buildRequirement:new o(60),triggerRequirement:o.dOne,display:{color:v(()=>t(pe.challenge.active)?"var(--feature-background)":U.theme["--feature-background"]),width:10,description:S(()=>a(g,null,[u("Every second, gain "),a("span",{style:{color:t(t(G.display).color)}},[bt(t(G.effect).times(100),1),u("%")]),u(" of your Acceleron gain. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.times(t(U.conversion.currentGain),t(U.timeMult)).times(t(G.effect)).div(t(G.triggerRequirement)))]),u(" Accelerons/s")]))},effect(){return o.add(.001,je(we.enhancements.acceleration,0)).div(t(Ge.nerfs[V.RIGHT])).times(t(Ge.buffs[V.RIGHT]))},trigger(ue){let Y=new o(t(U.conversion.currentGain));Y=Y.times(t(G.effect)),Y=Y.times(ue),t(W.upgrades.tempo.bought)&&(Y=Y.clampMin(1)),U.accelerons.value=o.add(t(U.accelerons),Y)}})),q=qn(G=>({visibility(){return t(G.built)||t(I.built)},buildRequirement:new o(360),triggerRequirement:new o(60),display:()=>({color:v(()=>t(pe.challenge.active)?"var(--feature-background)":B.theme["--feature-background"]),width:10,description:S(()=>a(g,null,[u("Every minute, gain "),a("span",{style:{color:t(t(G.display).color)}},[bt(t(G.effect))]),u(" minutes of Foam and Skyrmion production. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.times(t(G.effect),t(U.timeMult)).div(t(G.triggerRequirement)))]),u(" minutes/s")]))}),effect(){return o.plus(1,je(we.enhancements.expansion,0)).div(t(Ge.nerfs[V.RIGHT])).times(t(Ge.buffs[V.RIGHT]))},trigger(ue){const Y=new o(t(this.triggerRequirement)).times(t(G.effect)).times(ue);B.pion.pions.value=Y.times(t(1)).plus(t(B.pion.pions)),B.spinor.spinors.value=Y.times(t(1)).plus(t(B.spinor.spinors)),Object.values(k).forEach(j=>C[j].amount.value=Y.times(t(C[j].production)).plus(t(C[j].amount)))}})),E=qn(G=>({visibility(){return t(this.built)||t(q.built)},buildRequirement:new o(600),triggerRequirement:new o(3600),display:{color:v(()=>t(pe.challenge.active)?"var(--feature-background)":W.theme["--feature-background"]),width:10,description:S(()=>a(g,null,[u("Every hour, gain "),a("span",{style:{color:t(t(G.display).color)}},[D(t(G.effect))]),u(" Time Cubes. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.times(t(G.effect),t(U.timeMult)).div(t(G.triggerRequirement)))]),u(" Time Cubes/s")]))},effect(){return new o(t(W.production)).div(t(Ge.nerfs[V.RIGHT])).times(t(Ge.buffs[V.RIGHT]))},trigger(ue){W.timecubes.value=t(G.effect).times(ue).plus(t(W.timecubes))}})),P=qn(G=>({visibility(){return t(this.built)||t(U.upgrades.tetration.bought)||t(W.upgrades.tiny.bought)},buildRequirement:new o(25e4),triggerRequirement:new o(86400),display:{color:v(()=>t(pe.challenge.active)?"var(--feature-background)":C.theme["--feature-background"]),width:10,description:S(()=>a(g,null,[u("Every day, gain a decaying boost to Foam production. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.gte(t(U.timeMult),t(G.triggerRequirement))?t(h[G.id]):t(G.value))]),u("\xD7")]))},effect(){return new o(1e6)},trigger(ue){this.value.value=t(G.effect).div(o.div(t(Ge.nerfs[V.RIGHT]),t(Ge.buffs[V.RIGHT]))).times(ue)}}),Ai),M=qn(G=>({visibility(){return t(this.built)||t(U.upgrades.tetration.bought)&&t(P.built)},buildRequirement:new o(1e11),triggerRequirement:new o(31536e3),display:{color:v(()=>t(pe.challenge.active)?"var(--feature-background)":U.theme["--feature-background"]),width:10,description:S(()=>a(g,null,[u("Every year, gain a decaying divider to Acceleron cost. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[u("/"),D(o.gte(t(U.timeMult),t(G.triggerRequirement))?t(h[G.id]):t(G.value))]),u("\xD7")]))},effect(){return new o(1e3)},trigger(ue){this.value.value=t(G.effect).div(o.div(t(Ge.nerfs[V.RIGHT]),t(Ge.buffs[V.RIGHT]))).times(ue)}}),Ai),T=qn(G=>({visibility(){return t(this.built)||t(U.upgrades.tetration.bought)&&t(W.upgrades.tiny.bought)&&t(M.built)},buildRequirement:new o(4e17),triggerRequirement:new o(31536e4),display:{color:v(()=>t(pe.challenge.active)?"var(--feature-background)":B.theme["--feature-background"]),width:10,description:S(()=>a(g,null,[u("Every decade, gain a decaying boost to Pion and Spinor production. Currently: "),a("span",{style:{color:t(t(G.display).color)}},[D(o.gte(t(U.timeMult),t(G.triggerRequirement))?t(h[G.id]):t(G.value))]),u("\xD7")]))},effect(){return new o(1e9)},trigger(ue){this.value.value=t(G.effect).div(o.div(t(Ge.nerfs[V.RIGHT]),t(Ge.buffs[V.RIGHT]))).times(ue)}}),Ai);return{acceleron:I,instantProd:q,timecube:E,tempFome:P,tempAcceleron:M,tempSkyrmion:T}})(),p=v(()=>Object.values(d).filter(I=>t(I.built)).length),b=v(()=>Object.values(d).find(I=>he(I.visibility)&&!t(I.built))),f={[d.tempFome.id]:ae([]),[d.tempAcceleron.id]:ae([]),[d.tempSkyrmion.id]:ae([])},h=Object.fromEntries(Object.entries(f).map(([I,q])=>[I,v(()=>t(q).reduce((E,P)=>E.plus(P),o.dZero).dividedBy(t(q).length||1).plus(1))]));U.on("postUpdate",I=>{const q=t(U.timeMult),E=o.pow(.2,I);for(const P of[d.tempFome,d.tempAcceleron,d.tempSkyrmion])f[P.id].value=[...t(f[P.id]).slice(-9),P.value.value],!o.gte(q,t(P.triggerRequirement))&&(P.value.value=E.times(t(P.value)).clampMin(1))});const N=Tt("Entropic Loop Modifiers",()=>[{title:"Build Speed",modifier:i,base:U.timeMult,baseText:S(()=>a(g,null,[u("["),U.name,u("] Time Speed")]))},{title:"Build Cost",modifier:r,base:1,baseText:S(()=>a(g,null,[u("["),U.name,u("] "),U.accelerons.displayName,u("/sec")])),smallerIsBetter:!0}]);return{isBuilding:e,loops:d,averageLoopValues:h,numBuiltLoops:p,upperDisplay:S(()=>{var I,q,E,P;return a(g,null,[t(b)===void 0?a(Se,{height:"50px"},null):a(g,null,[a(Se,{height:"18px"},null),a("div",{style:{fontSize:"12px",color:"var(--link)"}},[u("Construction Progress: "),Q(t((q=(I=t(b))==null?void 0:I.buildProgress)!=null?q:0)),u(" / "),Q(t((P=(E=t(b))==null?void 0:E.buildRequirement)!=null?P:0)),te(N),a("br",null,null),u("Construction will consume "),Q(t(m)),u(" "),U.accelerons.displayName])])])}),lowerDisplay:S(()=>a(g,null,[a(Om,{radius:175,loops:Object.values(d),buildButton:n},null),a(Se,null,null),a(Um,{loops:Object.values(d)},null)])),display:"This page intentionally left blank"}});const fp={class:"enhancementRow"},gp=se({__name:"Enhancements",props:{rows:null},setup(e){const n=e,i=[1,2,3,4].map(s=>({limit:we.enhancementLimits[s],count:we.enhancementCounts[s],row:t(n.rows)[s]}));return(s,r)=>($(!0),x(g,null,Pe(t(i),(l,c)=>($(),x("div",fp,[l.row.some(m=>t(he)(m.visibility))?($(),ie(Yt,{key:0},{default:oe(()=>[w("div",{class:qe({bought:t(l.count)>=t(l.limit)})},[w("span",null,"Row "+J(c+1)+": "+J(t(l.count))+"/"+J(t(l.limit)),1)],2),($(!0),x(g,null,Pe(l.row,m=>($(),x(g,null,[t(he)(m.visibility)?($(),ie($e(t(te)(m)),{key:0})):H("",!0)],64))),256))]),_:2},1024)):H("",!0)]))),256))}});var bp=fe(gp,[["__scopeId","data-v-71c22e60"]]);const Dn=e=>(ct("data-v-41fc982c"),e=e(),dt(),e),hp=Dn(()=>w("span",{class:"material-icons"},"check",-1)),vp=Dn(()=>w("span",{class:"material-icons"},"close",-1)),yp={key:1,class:"title"},_p=Dn(()=>w("span",{class:"material-icons"},"content_paste",-1)),wp=Dn(()=>w("span",{class:"material-icons"},"content_copy",-1)),kp=Dn(()=>w("span",{class:"material-icons"},"edit",-1)),Sp=Dn(()=>w("span",{class:"material-icons"},"delete",-1)),Cp={class:"grid"},$p={class:"row"};var Np=se({__name:"Preset",props:{rows:null,preset:null},emits:["export","load","delete","rename"],setup(e,{emit:n}){const i=e,s=Object.fromEntries(Object.entries(i.rows).map(([p,b])=>[p,b.map(f=>i.preset.purchased.includes(f.id))])),r=Object.values(s).map(p=>p.reduce((b,f,h)=>f&&h>b?h:b,0)).reduce(({maxWidth:p,maxHeight:b},f,h)=>({maxWidth:f>p?f:p,maxHeight:f>0?h:b}),{maxWidth:0,maxHeight:0}),l=ae(!1),c=ae(!1),m=ae("");Ct(l,()=>{var p;return m.value=(p=i.preset.name)!=null?p:""});function d(){t(m).length>0&&n("rename",t(m)),l.value=!1}return(p,b)=>($(),ie(Yt,{class:"preset",style:Oe({"--num-rows":t(r).maxHeight})},{default:oe(()=>[a(rn,null,{default:oe(()=>[l.value?($(),ie(Yt,{key:0},{default:oe(()=>[a(ti,{class:"title",modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=f=>m.value=f),onSubmit:d,style:{display:"contents"}},null,8,["modelValue"]),w("button",{onClick:d,class:"button"},[a(Ve,{display:"Save",direction:t(Ae).Up,class:"info"},{default:oe(()=>[hp]),_:1},8,["direction"])]),w("button",{onClick:b[1]||(b[1]=f=>l.value=!l.value),class:"button"},[a(Ve,{display:"Cancel",direction:t(Ae).Up,class:"info"},{default:oe(()=>[vp]),_:1},8,["direction"])])]),_:1})):($(),x("div",yp,J(e.preset.name),1)),a(Yt,null,{default:oe(()=>[c.value?H("",!0):($(),ie(ki,{key:0,onClick:b[2]||(b[2]=f=>n("export")),class:"button",left:""},{default:oe(()=>[a(Ve,{display:"Export",direction:t(Ae).Up,class:"info"},{default:oe(()=>[_p]),_:1},8,["direction"])]),_:1})),c.value?H("",!0):($(),x("button",{key:1,onClick:b[3]||(b[3]=f=>n("load")),class:"button"},[a(Ve,{display:"Load",direction:t(Ae).Up,class:"info"},{default:oe(()=>[wp]),_:1},8,["direction"])])),c.value?H("",!0):($(),x("button",{key:2,class:"button",onClick:b[4]||(b[4]=f=>l.value=!l.value)},[a(Ve,{display:"Rename",direction:t(Ae).Up,class:"info"},{default:oe(()=>[kp]),_:1},8,["direction"])])),a(Ys,{onClick:b[5]||(b[5]=f=>n("delete")),onConfirmingChanged:b[6]||(b[6]=f=>c.value=f)},{default:oe(()=>[a(Ve,{display:"Delete",direction:t(Ae).Up,class:"info"},{default:oe(()=>[Sp]),_:1},8,["direction"])]),_:1})]),_:1})]),_:1}),w("div",Cp,[($(!0),x(g,null,Pe(t(r).maxHeight+1,f=>($(),x("div",$p,[($(!0),x(g,null,Pe(t(r).maxWidth+1,h=>($(),x("div",{class:qe(["template",{bought:t(s)[f][h-1]}])},null,2))),256))]))),256))])]),_:1},8,["style"]))}});var Ip=fe(Np,[["__scopeId","data-v-41fc982c"]]);const qp=e=>(ct("data-v-5b6deaf1"),e=e(),dt(),e),Mp={class:"preset-tab"},Tp={class:"preset-area"},xp={class:"presets"},Pp=qp(()=>w("div",{class:"fade"},null,-1));var Ap=se({__name:"Presets",props:{enhancements:null,presets:null,nextID:null},setup(e){const n=e,i=ae(""),s=ae(!1);function r(){n.presets.push({id:t(n.nextID),name:i.value,purchased:Object.values(n.enhancements).flatMap(f=>f).filter(f=>t(f.bought)).map(f=>f.id)}),i.value="",s.value=!1}function l(f){const h=JSON.stringify({name:f.name,purchased:f.purchased}),N=btoa(unescape(encodeURIComponent(h))),I=document.createElement("textarea");I.value=N,document.body.appendChild(I),I.select(),I.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(I)}function c(f){try{const h=decodeURIComponent(escape(atob(f))),N=JSON.parse(h);if(typeof N!="object"||!("name"in N)||typeof N.name!="string"||!("purchased"in N)||typeof N.purchased!="object")return!1;for(const[I,q]of Object.entries(N.purchased))if(isNaN(I)||!isFinite(I)||I<0||typeof q!="string")return!1;return{name:N.name,purchased:N.purchased}}catch{return!1}}function m(){const f=t(s);f!==!1&&(n.presets.push({id:t(n.nextID),...f}),i.value="",s.value=!1)}function d(f){var N;const h=Object.values(n.enhancements).flatMap(I=>I);for(const I of h)I.bought.value=!1;we.entropy.value=t(we.maxEntropy);for(const I of f.purchased)(N=h.find(q=>q.id===I))==null||N.purchase()}function p(f){const h=n.presets.map(N=>N.id).indexOf(f.id);h>=0&&n.presets.splice(h,1)}function b(f,h){f.name=h}return(f,h)=>($(),x("div",Mp,[u(" Enhancement Presets "),a(Yt,{class:"new-preset-area"},{default:oe(()=>[a(ti,{autofocus:!1,"model-value":i.value,"onUpdate:modelValue":h[0]||(h[0]=N=>{i.value=N,s.value=c(N)}),placeholder:"New Preset Name"},null,8,["model-value"]),w("button",{onClick:r,class:qe(["button",{locked:i.value.length===0}])},"Save",2),w("button",{onClick:m,class:qe(["button",{locked:s.value===!1}])},"Import",2)]),_:1}),a(Se),w("div",Tp,[w("div",xp,[($(!0),x(g,null,Pe(e.presets,N=>($(),ie(Ip,{rows:e.enhancements,preset:N,onExport:I=>l(N),onLoad:I=>d(N),onDelete:I=>p(N),onRename:I=>b(N,I)},null,8,["rows","preset","onExport","onLoad","onDelete","onRename"]))),256))]),Pp])]))}});var Fp=fe(Ap,[["__scopeId","data-v-5b6deaf1"]]);const Fe=e=>(ct("data-v-4befd7f1"),e=e(),dt(),e),Bp={class:"totals"},Ep=Fe(()=>w("div",null,"Current Bonuses",-1)),Rp=Fe(()=>w("div",{class:"break"},null,-1)),Op={key:0},Dp=Fe(()=>w("td",null,"1st Row Enhancements:",-1)),Lp={key:1},jp=Fe(()=>w("td",null,"2nd Row Enhancements:",-1)),Up={key:2},Vp=Fe(()=>w("td",null,"3rd Row Enhancements:",-1)),Gp={key:3},zp=Fe(()=>w("td",null,"4th Row Enhancements:",-1)),Hp={key:4,class:"break"},Wp=Fe(()=>w("td",null,null,-1)),Yp=Fe(()=>w("td",null,null,-1)),Kp=[Wp,Yp],Xp={key:5},Qp=Fe(()=>w("td",null,"Time Speed",-1)),Zp={key:6,class:"break"},Jp=Fe(()=>w("td",null,null,-1)),ef=Fe(()=>w("td",null,null,-1)),tf=[Jp,ef],nf={key:7},sf=Fe(()=>w("td",null,"Loop Build Speed",-1)),rf={key:8},of=Fe(()=>w("td",null,"Loop Build Cost",-1)),af={key:9,class:"break"},lf=Fe(()=>w("td",null,null,-1)),uf=Fe(()=>w("td",null,null,-1)),cf=[lf,uf],df={key:10},mf=Fe(()=>w("td",null,"Skyrmion Cost",-1)),pf={key:11,class:"break"},ff=Fe(()=>w("td",null,null,-1)),gf=Fe(()=>w("td",null,null,-1)),bf=[ff,gf],hf={key:12},vf=Fe(()=>w("td",null,"2nd Loop's Effect",-1)),yf={key:13},_f=Fe(()=>w("td",null,"All Foam Gain",-1)),wf={key:14},kf=Fe(()=>w("td",null,"Infinitesimal Foam Gain",-1)),Sf={key:15},Cf=Fe(()=>w("td",null,"Subspatial Foam Gain",-1)),$f={key:16},Nf=Fe(()=>w("td",null,"Subplanck Foam Gain",-1)),If={key:17},qf=Fe(()=>w("td",null,"Free Foam Boosts",-1)),Mf={key:18,class:"break"},Tf=Fe(()=>w("td",null,null,-1)),xf=Fe(()=>w("td",null,null,-1)),Pf=[Tf,xf],Af={key:19},Ff=Fe(()=>w("td",null,"1st Loop's Effect",-1)),Bf={key:20},Ef=Fe(()=>w("td",null,"Acceleron Cost",-1)),Rf={key:21,class:"break"},Of=Fe(()=>w("td",null,null,-1)),Df=Fe(()=>w("td",null,null,-1)),Lf=[Of,Df],jf={key:22},Uf=Fe(()=>w("td",null,"Timecube Gain",-1));var Vf=se({__name:"EnhancementTotals",setup(e){const n=we.enhancements,i={counts:{1:0,2:0,3:0,4:0},time:1,loops:{1:0,2:0,buildSpeed:1,buildCost:1},skyrmion:1,fome:{all:1,[k.infinitesimal]:1,[k.subspatial]:1,[k.subplanck]:1,boosts:0},acceleron:1,timecube:1},s={counts:{1:v(()=>0),2:v(()=>t(n.entrenchment.bought)?1:0),3:v(()=>0),4:v(()=>0)},time:v(()=>je(n.dilation)),loops:{1:v(()=>je(n.acceleration,0)),2:v(()=>je(n.expansion,0)),buildSpeed:v(()=>je(n.construction)),buildCost:v(()=>je(n.development))},skyrmion:v(()=>o.reciprocate(je(n.amplification))),fome:{all:v(()=>je(n.formation)),[k.infinitesimal]:v(()=>je(n.extension)),[k.subspatial]:v(()=>je(n.configuration)),[k.subplanck]:v(()=>je(n.invention)),boosts:v(()=>je(n.entitlement,0))},acceleron:v(()=>new o(je(n.contraction)).times(je(n.inversion)).times(je(n.rotation))),timecube:v(()=>je(n.tesselation))},r={counts:v(()=>[[s.counts[1],i.counts[1]],[s.counts[2],i.counts[2]],[s.counts[3],i.counts[3]],[s.counts[4],i.counts[4]]].map(([c,m])=>o.neq(c.value,m)).some(c=>c)),time:v(()=>o.neq(s.time.value,i.time)),loops:v(()=>[[s.loops.buildSpeed,i.loops.buildSpeed],[s.loops.buildCost,i.loops.buildCost]].map(([c,m])=>o.neq(c.value,m)).some(c=>c)),skyrmion:v(()=>o.neq(s.skyrmion.value,i.skyrmion)),fome:v(()=>[[s.loops[2],i.loops[2]],[s.fome.all,i.fome.all],[s.fome[k.infinitesimal],i.fome[k.infinitesimal]],[s.fome[k.subspatial],i.fome[k.subspatial]],[s.fome[k.subplanck],i.fome[k.subplanck]],[s.fome.boosts,i.fome.boosts]].map(([c,m])=>o.neq(c.value,m)).some(c=>c)),acceleron:v(()=>[[s.loops[1],i.loops[1]],[s.acceleron,i.acceleron]].map(([c,m])=>o.neq(c.value,m)).some(c=>c)),timecube:v(()=>o.neq(s.timecube.value,i.timecube))},l={counts:v(()=>r.counts.value&&["time","loops","skyrmion","fome","acceleron","timecube"].some(c=>r[c].value)),time:v(()=>r.time.value&&["loops","skyrmion","fome","acceleron","timecube"].some(c=>r[c].value)),loops:v(()=>r.loops.value&&["skyrmion","fome","acceleron","timecube"].some(c=>r[c].value)),skyrmion:v(()=>r.skyrmion.value&&["fome","acceleron","timecube"].some(c=>r[c].value)),fome:v(()=>r.fome.value&&["acceleron","timecube"].some(c=>r[c].value)),acceleron:v(()=>r.acceleron.value&&["timecube"].some(c=>r[c].value))};return(c,m)=>($(),x("div",Bp,[Ep,Rp,w("table",null,[t(o).neq(s.counts[1].value,i.counts[1])?($(),x("tr",Op,[Dp,w("td",null,"+"+J(t(Q)(s.counts[1].value)),1)])):H("",!0),t(o).neq(s.counts[2].value,i.counts[2])?($(),x("tr",Lp,[jp,w("td",null,"+"+J(t(Q)(s.counts[2].value)),1)])):H("",!0),t(o).neq(s.counts[3].value,i.counts[3])?($(),x("tr",Up,[Vp,w("td",null,"+"+J(t(Q)(s.counts[3].value)),1)])):H("",!0),t(o).neq(s.counts[4].value,i.counts[4])?($(),x("tr",Gp,[zp,w("td",null,"+"+J(t(Q)(s.counts[4].value)),1)])):H("",!0),l.counts.value?($(),x("tr",Hp,Kp)):H("",!0),t(o).neq(s.time.value,i.time)?($(),x("tr",Xp,[Qp,w("td",null,"\xD7"+J(t(D)(s.time.value)),1)])):H("",!0),l.time.value?($(),x("tr",Zp,tf)):H("",!0),t(o).neq(s.loops.buildSpeed.value,i.loops.buildSpeed)?($(),x("tr",nf,[sf,w("td",null,"\xD7"+J(t(D)(s.loops.buildSpeed.value)),1)])):H("",!0),t(o).neq(s.loops.buildCost.value,i.loops.buildCost)?($(),x("tr",rf,[of,w("td",null,"\xD7"+J(t(bt)(s.loops.buildCost.value)),1)])):H("",!0),l.loops.value?($(),x("tr",af,cf)):H("",!0),t(o).neq(s.skyrmion.value,i.skyrmion)?($(),x("tr",df,[mf,w("td",null,"/"+J(t(Q)(s.skyrmion.value)),1)])):H("",!0),l.skyrmion.value?($(),x("tr",pf,bf)):H("",!0),t(o).neq(s.loops[2].value,i.loops[2])?($(),x("tr",hf,[vf,w("td",null,"+"+J(t(D)(s.loops[2].value))+" minutes",1)])):H("",!0),t(o).neq(s.fome.all.value,i.fome.all)?($(),x("tr",yf,[_f,w("td",null,"\xD7"+J(t(D)(s.fome.all.value)),1)])):H("",!0),t(o).neq(s.fome[t(k).infinitesimal].value,i.fome[t(k).infinitesimal])?($(),x("tr",wf,[kf,w("td",null,"\xD7"+J(t(D)(s.fome[t(k).infinitesimal].value)),1)])):H("",!0),t(o).neq(s.fome[t(k).subspatial].value,i.fome[t(k).subspatial])?($(),x("tr",Sf,[Cf,w("td",null,"\xD7"+J(t(D)(s.fome[t(k).subspatial].value)),1)])):H("",!0),t(o).neq(s.fome[t(k).subplanck].value,i.fome[t(k).subplanck])?($(),x("tr",$f,[Nf,w("td",null,"\xD7"+J(t(D)(s.fome[t(k).subplanck].value)),1)])):H("",!0),t(o).neq(s.fome.boosts.value,i.fome.boosts)?($(),x("tr",If,[qf,w("td",null,"+"+J(t(D)(s.fome.boosts.value,1)),1)])):H("",!0),l.fome.value?($(),x("tr",Mf,Pf)):H("",!0),t(o).neq(s.loops[1].value,i.loops[1])?($(),x("tr",Af,[Ff,w("td",null,"+"+J(t(D)(t(o).times(s.loops[1].value,100),1))+"%",1)])):H("",!0),t(o).neq(s.acceleron.value,i.acceleron)?($(),x("tr",Bf,[Ef,w("td",null,"/"+J(t(D)(s.acceleron.value)),1)])):H("",!0),l.acceleron.value?($(),x("tr",Rf,Lf)):H("",!0),t(o).neq(s.timecube.value,i.timecube)?($(),x("tr",jf,[Uf,w("td",null,"\xD7"+J(t(D)(s.timecube.value)),1)])):H("",!0)])]))}});var Gf=fe(Vf,[["__scopeId","data-v-4befd7f1"]]);const zf="entropy",we=nt(zf,function(){const e="Entropy",n=at(0,e),i=ut(()=>[z(()=>({multiplier:2,enabled:F(W.upgrades.twice.bought),description:S(()=>a(g,null,[u("["),W.name,u("] Twice")]))})),z(()=>({multiplier:1.5,enabled:F(W.upgrades.triple.bought),description:S(()=>a(g,null,[u("["),W.name,u("] Triple")]))}))]),s=v(()=>i.apply(t(Ue.numBuiltLoops)));Ct(s,P=>{const M=Object.values(f).filter(T=>t(T.bought));for(const T of M)T.bought.value=!1;n.value=P;for(const T of M)T.purchase()});const r={1:["expansion","construction","dilation","contraction"],2:["formation","development","acceleration","entrenchment"],3:["extension","configuration","invention","inversion"],4:["tesselation","amplification","rotation","entitlement"]},l={1:v(()=>1+(t(W.upgrades.twist.bought)?1:0)),2:v(()=>1+(t(f.entrenchment.bought)?1:0)),3:v(()=>1),4:v(()=>1+(t(W.upgrades.twirl.bought)?1:0))},c=Object.fromEntries(Object.entries(r).map(([P,M])=>[Number(P),v(()=>M.map(T=>f[T]).filter(T=>t(T.bought)).length)])),m=v(()=>Object.values(c).map(P=>t(P)).reduce((P,M)=>P+M)),d=v(()=>o.add(t(m),t(W.getTimesquareEffect(V.BOTTOM)))),p=v(()=>mi(t(d))),b=v(()=>mi(t(m)).round()),f=(()=>{const P=E(()=>({row:1,visibility:Ue.loops.acceleron.built,display:{title:"Entropic Expansion",description:"Increase the second Entropic Loop effect based on purchased Entropic Enhancements",effect:Xe=>`+${D(Xe)} minutes`},effect:()=>t(p).pow(.9).times(je(W.upgrades.tilt))})),M=E(()=>({row:1,visibility:Ue.loops.acceleron.built,display:{title:"Entropic Construction",description:"Entropic Loops build faster based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.9).pow10()})),T=E(()=>({row:1,visibility:Ue.loops.acceleron.built,display:{title:"Entropic Dilation",description:"Increase time speed based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.8).plus(1)})),G=E(()=>({row:1,visibility:F(W.upgrades.tetrate.bought),display:{title:"Entropic Contraction",description:"Divide Acceleron cost based on number of purchased Entropic Enhancements",effect:Xe=>`/${D(Xe)}`},effect:()=>t(p).pow(.9)})),ue=E(()=>({row:2,visibility:Ue.loops.instantProd.built,display:{title:"Entropic Formation",description:"Increase Foam gain based on best Accelerons"},effect:()=>mi(o.clampMin(t(U.bestAccelerons),0).plus(1).log10().floor()).pow(2.5).plus(1)})),Y=E(()=>({row:2,visibility:Ue.loops.instantProd.built,display:{title:"Entropic Development",description:"Decrease Entropic Loop construction cost based on purchased Entropic Enhancements",effect:Xe=>`${bt(Xe)}\xD7`},effect:()=>t(p).pow_base(.7)})),j=E(()=>({row:2,visibility:Ue.loops.instantProd.built,display:{title:"Entropic Acceleration",description:"Increase the first Entropic Loop effect based on completed Entropic Loops",effect:Xe=>`+${D(o.times(Xe,100),1)}% of your Acceleron reset gain`},effect:()=>o.times(t(Ue.numBuiltLoops),.001)})),de=E(()=>({row:2,visibility:F(W.upgrades.tetrate.bought),display:{title:"Entropic Entrenchment",description:"You may select an additional second row Entropic Enhancement"},ignoreRowLimit:!0})),A=E(()=>({row:3,visibility:Ue.loops.timecube.built,display:{title:"Entropic Extension",description:"Increase Infinitesimal Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(2).plus(1)})),y=E(()=>({row:3,visibility:Ue.loops.timecube.built,display:{title:"Entropic Configuration",description:"Increase Subspatial Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.75).plus(1)})),R=E(()=>({row:3,visibility:Ue.loops.timecube.built,display:{title:"Entropic Invention",description:"Increase Subplanck Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.5).plus(1)})),xe=E(()=>({row:3,visibility:F(W.upgrades.tetrate.bought),display:{title:"Entropic Inversion",description:"Divide Acceleron cost based on Quantum Foam",effect:Xe=>`/${D(Xe)}`},effect:()=>o.max(t(C[k.quantum].amount),0).plus(1).log10().plus(1)})),Me=E(()=>({row:4,visibility:Ue.loops.tempFome.built,display:{title:"Entropic Tesselation",description:"Increase Time Cube gain based on best Accelerons"},effect:()=>o.max(t(U.bestAccelerons),0).plus(1).log10().plus(1)})),it=E(()=>({row:4,visibility:Ue.loops.tempFome.built,display:{title:"Entropic Amplification",description:"Skyrmions are cheaper based on best Time Cubes",effect:Xe=>`/${D(Xe.reciprocate())}`},effect:()=>mi(o.max(t(W.bestTimecubes),0).plus(1).log10().floor()).pow_base(.9)})),$t=E(()=>({row:4,visibility:Ue.loops.tempFome.built,display:{title:"Entropic Rotation",description:"Divide Acceleron cost based on best Time Cubes",effect:Xe=>`/${D(Xe)}`},effect:()=>o.max(t(W.bestTimecubes),0).plus(1).log10().plus(1)})),Vt=E(()=>({row:4,visibility:F(W.upgrades.tetrate.bought),display:{title:"Entropic Entitlement",description:"Each purchased Entropic Enhancement gives 0.1 free levels to each Foam Boost",effect:Xe=>`${D(Xe,1)} free levels`},effect:()=>t(d).times(.1)}));return{expansion:P,construction:M,dilation:T,contraction:G,formation:ue,development:Y,acceleration:j,entrenchment:de,extension:A,configuration:y,invention:R,inversion:xe,tesselation:Me,amplification:it,rotation:$t,entitlement:Vt}})(),h=v(()=>t(N).reduce((P,M)=>M.id>P?M.id:P,-1)+1),N=Ie([]),I=lt(()=>({canClick(){return t(m)>0},onClick(){for(const P of Object.values(f))P.bought.value=!1;n.value=t(s)},display:{description:"Reset Enhancements"},style:{minHeight:"30px",width:"100px"}})),q=Tt("Entropy Modifiers",()=>[{title:"Maximum Entropy",modifier:i,base:Ue.numBuiltLoops,baseText:S(()=>a(g,null,[u("["),U.name,u("] Entropic Loops")]))}]);return{name:e,entropy:n,maxEntropy:s,enhancements:f,enhancementCounts:c,enhancementLimits:l,presets:N,display:S(()=>a(g,null,[a(Se,null,null),u("Entropy: "),Q(t(n)),u(" / "),Q(t(s)),te(q),a("br",null,null),u("Next Enhancement: "),Q(t(b)),u(" "),n.displayName,a(Se,null,null),te(I),a(Se,null,null),a(Yt,null,{default:()=>[a(Fp,{enhancements:Object.keys(r).reduce((P,M)=>(P[M]=r[M].map(T=>f[T]),P),{}),presets:t(N),nextID:h},null),a(Se,{width:"17px"},null),a(rn,null,{default:()=>[a(bp,{rows:Object.keys(r).reduce((P,M)=>(P[M]=r[M].map(T=>f[T]),P),{})},null)]}),a(Se,{width:"17px"},null),a(Gf,null,null)]})]))};function E(P){var ue;const M=P.call({},{});X(M,"visibility"),X(M,"effect");const T=(ue=M.display.effect)!=null?ue:Y=>`${D(Y)}\xD7`,G=me(()=>({requirements:(()=>{const Y=[K(()=>({cost:b,resource:F(n)}))];return M.ignoreRowLimit!==!0&&Y.push(Gt(()=>t(c[M.row])<t(l[M.row]))),Y})(),visibility(){var Y;return t(this.bought)||t((Y=M.visibility)!=null?Y:!0)},display:M.display.title,effect:M.effect}),ke);return On(G,{display:S(()=>{const Y=le(M.display.description,"div"),j=M.effect?le(S(()=>a(g,null,[T(t(G.effect))]))):void 0;return a(g,null,[a(Y,null,null),j?a("div",null,[u("Currently: "),a(j,null,null)]):void 0])})}),G}}),or=o.sqrt(5),Hf=or.plus(1).div(2);function mi(e){const n=Hf.pow(e),i=o.times(e,Math.PI).cos();return n.minus(i.dividedBy(n)).dividedBy(or)}const Wf="timecube",W=nt(Wf,function(){const e="Time Cubes",n={"--feature-background":"#f037ea"},i=v(()=>t(_e.milestones[1].earned)||t(U.loops.loops.timecube.built)),s=at(0,"Time Cubes"),r=rs(s),l=ut(()=>[z(()=>({multiplier:U.upgrades.conversion.effect,enabled:F(U.upgrades.conversion.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Stability Conversion")]))})),z(()=>({multiplier:we.enhancements.tesselation.effect,enabled:F(we.enhancements.tesselation.bought),description:S(()=>a(g,null,[u("["),we.name,u("] Entropic Tesselation")]))})),z(()=>({multiplier:m.tile.effect,enabled:F(m.tile.bought),description:S(()=>a(g,null,[u("["),e,u("] Tile")]))})),z(()=>({multiplier:W.getTimesquareEffect(V.FRONT),enabled:()=>o.gt(t(Un.squares[V.FRONT].square.amount),0),description:S(()=>a(g,null,[u("["),e,u("] Front Time Squares ("),Q(t(Un.squares[V.FRONT].square.amount)),u(")")]))})),z(()=>({multiplier:()=>o.reciprocate(t(Ge.nerfs[V.FRONT])),enabled:()=>t(Ge.depths[V.FRONT])>0,description:S(()=>a(g,null,[u("["),e,u("] Active Front Timeline Effect")]))})),z(()=>({multiplier:Ge.buffs[V.FRONT],enabled:()=>t(Ge.scores[V.FRONT]).gt(0),description:S(()=>a(g,null,[u("["),e,u("] Passive Front Timeline Effect")]))}))]),c=v(()=>l.apply(1)),m=(()=>{const h=me(ft=>({display:{title:"Tile",description:"log10(Accelerons) increases Time Cube gain",effect:S(()=>a(g,null,[D(t(ft.effect)),u("\xD7")]))},requirements:K(()=>({resource:F(s),cost:1})),effect(){return o.max(t(U.accelerons),0).plus(1).log10()}}),ke),N=me(ft=>({visibility(){return t(this.bought)||t(h.bought)},display:{title:"Time",description:"log10(Best Time Cubes) increases Acceleron effect",effect:S(()=>a(g,null,[D(t(ft.effect)),u("\xD7")]))},requirements:K(()=>({resource:F(s),cost:2})),effect(){return o.max(t(r),0).plus(1).log10().plus(1)}}),ke),I=me(ft=>({visibility(){return t(this.bought)||t(N.bought)},display:{title:"Tier",description:"Each upgrade in this row gives a free level of every Foam Boost",effect:S(()=>a(g,null,[u("+"),Q(t(ft.effect)),u(" free levels")]))},requirements:K(()=>({resource:F(s),cost:3})),effect(){return[h,N,this,q,E].filter(qi=>t(qi.bought)).length}}),ke),q=me(()=>({visibility(){return t(this.bought)||t(I.bought)},display:{title:"Tilt",description:"Entropic Expansion is 50% stronger"},requirements:K(()=>({resource:F(s),cost:10})),effect:1.5}),ke),E=me(()=>({visibility(){return t(this.bought)||t(q.bought)},display:{title:"Tiny",description:"Unlock another Entropic Loop"},requirements:K(()=>({resource:F(s),cost:25}))})),P=me(()=>({visibility(){return t(this.bought)||t(E.bought)},display:()=>({title:"Twice",description:`${t(j.bought)?"Triple":"Double"} maximum entropy`}),requirements:K(()=>({resource:F(s),cost:2500})),effect(){return t(j.bought)?3:2}}),ke),M=me(()=>({visibility(){return t(this.bought)||t(P.bought)},display:{title:"Twist",description:"You may select an additional first row Entropic Enhancement"},requirements:K(()=>({resource:F(s),cost:4e8}))})),T=me(()=>({visibility(){return t(this.bought)||t(M.bought)},display:{title:"Ten",description:"Increase Entropic Loop build speed by 10,000x"},requirements:K(()=>({resource:F(s),cost:5e8})),effect:1e4}),ke),G=me(()=>({visibility(){return t(this.bought)||t(T.bought)},display:{title:"Twirl",description:"You may select an additional fourth row Entropic Enhancement"},requirements:K(()=>({resource:F(s),cost:125e7}))})),ue=me(()=>({visibility(){return t(this.bought)||t(G.bought)},display:{title:"Tetrate",description:"Unlock the fourth column of Entropic Enhancements"},requirements:K(()=>({resource:F(s),cost:5e9}))})),Y=me(()=>({visibility(){return t(this.bought)||t(_e.expansions.timecube.bought)},display:{title:"Tesselate",description:"Unlock Time Squares"},requirements:K(()=>({resource:F(s),cost:1e6}))})),j=me(()=>({visibility(){return t(this.bought)||t(Y.bought)},display:{title:"Triple",description:"Change <b>Twice</b> from double to triple"},requirements:K(()=>({resource:F(s),cost:1e11}))})),de=me(()=>({visibility(){return t(this.bought)||t(Y.bought)},display:{title:"Turn",description:"Front squares are 50% stronger"},requirements:K(()=>({resource:F(s),cost:1e12})),effect:1.5}),ke),A=me(()=>({visibility(){return t(this.bought)||t(j.bought)&&t(de.bought)},display:{title:"Tall",description:"Bottom squares are 50% stronger"},requirements:K(()=>({resource:F(s),cost:2e12})),effect:1.5}),ke),y=me(()=>({visibility(){return t(this.bought)||t(j.bought)&&t(de.bought)},display:{title:"Tour",description:"Double the Acceleron effect"},requirements:K(()=>({resource:F(s),cost:5e12})),effect:2}),ke),R=me(()=>({visibility(){return t(this.bought)||t(y.bought)},display:{title:"Tactics",description:"Unlock Timelines"},requirements:K(()=>({resource:F(s),cost:1e13}))})),xe=me(()=>({visibility(){return t(this.bought)||t(R.bought)},display:{title:"Tower",description:"While in at least one Top timeline, Foam retainment applies to Pions and Spinors as well"},requirements:K(()=>({resource:F(s),cost:1e16}))})),Me=me(()=>({visibility(){return t(this.bought)||t(R.bought)},display:{title:"Title",description:"Best timeline scores also increase their corresponding Time Square gain"},requirements:K(()=>({resource:F(s),cost:1e17}))})),it=me(()=>({visibility(){return t(this.bought)||t(Me.bought)&&t(xe.bought)},display:{title:"Tempo",description:"The first entropic loop always produces at least one Acceleron"},requirements:K(()=>({resource:F(s),cost:1e18}))})),$t={[k.protoversal]:1e46,[k.infinitesimal]:3e38,[k.subspatial]:1e31,[k.subplanck]:3e23,[k.quantum]:1e16},Vt=me(()=>({visibility(){return t(this.bought)||t(Me.bought)&&t(xe.bought)},display:{title:"Toil",description:"While in at least one Left timeline, Foam gain is massively increased based on how little of that Foam you have"},requirements:K(()=>({resource:F(s),cost:1e19})),effect(){return Object.fromEntries(Object.entries($t).map(([ft,qi])=>[ft,o.minus(Math.E/Math.PI,o.div(t(C[ft].amount),qi)).pow10().times(15).plus(1)]))}}),ke),Xe=me(ft=>({visibility(){return!1},display:{description:"X"},requirements:K(()=>({resource:F(s),cost:o.dInf}))})),yn=me(ft=>({visibility(){return!1},display:{description:"X"},requirements:K(()=>({resource:F(s),cost:o.dInf}))})),Ee=me(ft=>({visibility(){return!1},display:{description:"X"},requirements:K(()=>({resource:F(s),cost:o.dInf}))})),an=me(ft=>({visibility(){return!1},display:{description:"X"},requirements:K(()=>({resource:F(s),cost:o.dInf}))})),Ln=me(ft=>({visibility(){return!1},display:{description:"X"},requirements:K(()=>({resource:F(s),cost:o.dInf}))}));return{tile:h,time:N,tier:I,tilt:q,tiny:E,twice:P,twist:M,ten:T,twirl:G,tetrate:ue,tesselate:Y,triple:j,turn:de,tall:A,tour:y,tactics:R,tower:xe,title:Me,tempo:it,toil:Vt,a:Xe,b:yn,c:Ee,d:an,e:Ln}})(),d={switchTab:ht(()=>({enabled:i,key:"ctrl+c",description:"Move to Timecubes",onPress(){vn.tabs.selected.value=e}}))},p=Tt("Time Cube Modifiers",()=>[{title:s.displayName,modifier:l,base:1,baseText:S(()=>a(g,null,[u("["),U.name,u("] Gain per Loop")]))}]),b=S(()=>a($i,{resource:s,modal:p},null)),f=ni({cubes:()=>({display:"Time Cubes",tab:Jt(()=>({display:S(()=>a(g,null,[te(b),a(md,{upgrades:Object.values(m)},null)]))}))}),squares:()=>({display:"Time Squares",tab:Jt(()=>({display:S(()=>a(g,null,[te(b),te(t(Un.display))]))}))}),lines:()=>({display:"Timelines",unlocked:F(m.tactics.bought),tab:Jt(()=>({display:S(()=>a(g,null,[te(b),te(t(Ge.display))]))}))})});return{name:e,theme:n,unlocked:i,timecubes:s,bestTimecubes:r,production:c,upgrades:m,hotkeys:d,tabs:f,display:S(()=>a(g,null,[t(m.tesselate.bought)?te(f):te(t(f.tabs.cubes.tab))])),timesquares:Un,timelines:Ge,getTimesquareEffect(h){return Un.squares[h].square.effect}}});const Yf=se({props:{radius:{type:ne(Number),required:!0},width:{type:ne(Number),required:!0},distance:{type:ne(Number),required:!0},top:{type:ne(Number),required:!0},right:{type:ne(Array),required:!0},bottom:{type:ne(Number),required:!0},left:{type:ne(Array),required:!0}},setup(e){const{radius:n,width:i,distance:s,top:r,right:l,bottom:c,left:m}=ot(e),d={global:{margin:5,border:2},upgrade:{width:250,height:125},line:{x:8,y:32,radius:v(()=>t(I)+Ce(i))}},p={left:v(()=>Ce(m).filter(Y=>he(Y.visibility)).length),right:v(()=>Ce(l).filter(Y=>he(Y.visibility)).length)},b={top:v(()=>Ce(r)),right:v(()=>Ce(l).length),bottom:v(()=>Ce(c)),left:v(()=>Ce(m).length)},f=v(()=>Object.values(b).map(Y=>t(Y)).reduce((Y,j)=>Y+j)),h=v(()=>2*Math.PI/t(f)),N=v(()=>Ce(n)),I=v(()=>Ce(n)+Ce(i)),q=v(()=>t(N)*t(h)-(d.global.margin+d.global.border)),E=v(()=>t(I)*t(h)-(d.global.margin+d.global.border)),P=v(()=>t(q)/t(N)),M=v(()=>t(E)/t(I)),T={left:Ce(m).map((Y,j,de)=>({base:{index:(()=>j===0?v(()=>0):v(()=>t(T.left[j-1].base.index)+(he(de[j-1].visibility)?1:0)))(),angle:v(()=>Math.PI-t(h)*(t(T.left[j].base.index)-t(p.left)/2+.5))},ring:{points:v(()=>{let A=t(T.left[j].base.angle),y=[A-t(P)/2,t(N)],R=[A+t(P)/2,t(N)],xe=[A-t(M)/2,t(I)],Me=[A+t(M)/2,t(I)];return[y,R,Me,xe].map(([it,$t])=>[Math.cos(it)*$t,Math.sin(it)*$t])}),bounds:v(()=>{let A=t(T.left[j].ring.points),y={minX:Math.min(...A.map(R=>R[0])),maxX:Math.max(...A.map(R=>R[0])),minY:Math.min(...A.map(R=>R[1])),maxY:Math.max(...A.map(R=>R[1]))};return Math.sign(y.minY)!==Math.sign(y.maxY)&&(y.minX=Math.min(-t(I),y.minX)),y}),size:v(()=>{let A=t(T.left[j].ring.bounds);return{width:A.maxX-A.minX+d.global.border,height:A.maxY-A.minY+d.global.border}}),position:v(()=>{let A=t(T.left[j].ring.bounds);return{top:`${A.minY-d.global.border/2}px`,left:`${A.minX-d.global.border/2}px`}}),path:v(()=>{let A=t(N),y=t(I),R=t(T.left[j].ring.points),xe=t(T.left[j].ring.bounds),Me=R.map(it=>[it[0]-xe.minX+d.global.border/2,it[1]-xe.minY+d.global.border/2]);return[`M ${Me[0][0]} ${Me[0][1]}`,`A ${A} ${A} 0 0 1 ${Me[1][0]} ${Me[1][1]}`,`L ${Me[2][0]} ${Me[2][1]}`,`A ${y} ${y} 0 0 0 ${Me[3][0]} ${Me[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:Y,render:te(Y),id:Y.id,color:v(()=>t(Y.bought)?"var(--bought)":t(Y.canPurchase)?"var(--feature-background)":"var(--locked)"),distance:v(()=>{let A=t(T.left[j].base.angle);if(A===0)return t(I);let y=(Math.PI-A)/t(h);return(d.upgrade.height+d.global.margin)*y/Math.sin(A)}),offset:v(()=>{let A=t(T.left[j].base.angle),y=t(T.left[j].upgrade.distance),R=Math.cos(A)*y,xe=Math.cos(A)*t(I);return{x:Math.min(R-xe,-Ce(s))+xe-d.upgrade.width/2,y:Math.sin(A)*y}}),position:v(()=>{let A=t(T.left[j].upgrade.offset);return{top:`${A.y-d.upgrade.height/2}px`,left:`${A.x-d.upgrade.width/2}px`}})},line:{height:v(()=>{let A=t(T.left[j].base.angle),y=(Math.PI-A)/t(h);return(d.upgrade.height+d.global.margin)*y+d.line.y-d.upgrade.height/2}),angle:v(()=>{let A=t(d.line.radius),y=t(T.left[j].line.height),R=Math.PI-Math.asin(y/A);return Math.min(t(T.left[j].base.angle)+t(M)/2,R)}),radius:v(()=>{let A=t(T.left[j].line.height),y=t(T.left[j].line.angle);return A/Math.sin(y)}),points:v(()=>{let A=t(T.left[j].line.angle),y=t(T.left[j].line.height),R=t(T.left[j].line.radius);return[[t(T.left[j].upgrade.offset).x-d.upgrade.width/2+d.line.x,y],[Math.cos(A)*R,y],[Math.cos(A)*t(I),Math.sin(A)*t(I)]]}),bounds:v(()=>{let A=t(T.left[j].line.points);return{minX:Math.min(...A.map(y=>y[0])),maxX:Math.max(...A.map(y=>y[0])),minY:Math.min(...A.map(y=>y[1])),maxY:Math.max(...A.map(y=>y[1]))}}),size:v(()=>{let A=t(T.left[j].line.bounds);return{width:A.maxX-A.minX+d.global.border,height:A.maxY-A.minY+d.global.border}}),position:v(()=>{let A=t(T.left[j].line.bounds);return{top:`${A.minY-d.global.border/2}px`,left:`${A.minX-d.global.border/2}px`}}),path:v(()=>{let A=t(T.left[j].line.points),y=t(T.left[j].line.bounds),R=A.map(xe=>[xe[0]-y.minX+d.global.border/2,xe[1]-y.minY+d.global.border/2]);return[`M ${R[0][0]} ${R[0][1]}`,`L ${R[1][0]} ${R[1][1]}`,`L ${R[2][0]} ${R[2][1]}`].join(" ")})}})),right:Ce(l).map((Y,j,de)=>({base:{index:(()=>j===0?v(()=>0):v(()=>t(T.right[j-1].base.index)+(he(de[j-1].visibility)?1:0)))(),angle:v(()=>t(h)*(t(T.right[j].base.index)-t(p.right)/2+.5))},ring:{points:v(()=>{let A=t(T.right[j].base.angle),y=[A-t(P)/2,t(N)],R=[A+t(P)/2,t(N)],xe=[A-t(M)/2,t(I)],Me=[A+t(M)/2,t(I)];return[y,R,Me,xe].map(([it,$t])=>[Math.cos(it)*$t,Math.sin(it)*$t])}),bounds:v(()=>{let A=t(T.right[j].ring.points),y={minX:Math.min(...A.map(R=>R[0])),maxX:Math.max(...A.map(R=>R[0])),minY:Math.min(...A.map(R=>R[1])),maxY:Math.max(...A.map(R=>R[1]))};return Math.sign(y.minY)!==Math.sign(y.maxY)&&(y.maxX=Math.max(t(I),y.maxX)),y}),size:v(()=>{let A=t(T.right[j].ring.bounds);return{width:A.maxX-A.minX+d.global.border,height:A.maxY-A.minY+d.global.border}}),position:v(()=>{let A=t(T.right[j].ring.bounds);return{top:`${A.minY-d.global.border/2}px`,left:`${A.minX-d.global.border/2}px`}}),path:v(()=>{let A=t(N),y=t(I),R=t(T.right[j].ring.points),xe=t(T.right[j].ring.bounds),Me=R.map(it=>[it[0]-xe.minX+d.global.border/2,it[1]-xe.minY+d.global.border/2]);return[`M ${Me[0][0]} ${Me[0][1]}`,`A ${A} ${A} 0 0 1 ${Me[1][0]} ${Me[1][1]}`,`L ${Me[2][0]} ${Me[2][1]}`,`A ${y} ${y} 0 0 0 ${Me[3][0]} ${Me[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:Y,render:te(Y),id:Y.id,color:v(()=>t(Y.bought)?"var(--bought)":t(Y.canPurchase)?"var(--feature-background)":"var(--locked)"),distance:v(()=>{let A=t(T.right[j].base.angle);if(A===0)return t(I);let y=A/t(h);return(d.upgrade.height+d.global.margin)*y/Math.sin(A)}),offset:v(()=>{let A=t(T.right[j].base.angle),y=t(T.right[j].upgrade.distance),R=Math.cos(A)*y,xe=Math.cos(A)*t(I);return{x:Math.max(R-xe,Ce(s))+xe+d.upgrade.width/2,y:Math.sin(A)*y}}),position:v(()=>{let A=t(T.right[j].upgrade.offset);return{top:`${A.y-d.upgrade.height/2}px`,left:`${A.x-d.upgrade.width/2}px`}})},line:{height:v(()=>{let y=t(T.right[j].base.angle)/t(h);return(d.upgrade.height+d.global.margin)*y+d.line.y-d.upgrade.height/2}),angle:v(()=>{let A=t(d.line.radius),y=t(T.right[j].line.height),R=Math.asin(y/A);return Math.max(t(T.right[j].base.angle)-t(M)/2,R)}),radius:v(()=>{let A=t(T.right[j].line.height),y=t(T.right[j].line.angle);return A/Math.sin(y)}),points:v(()=>{let A=t(T.right[j].line.angle),y=t(T.right[j].line.height),R=t(T.right[j].line.radius);return[[t(T.right[j].upgrade.offset).x+d.upgrade.width/2-d.line.x,y],[Math.cos(A)*R,y],[Math.cos(A)*t(I),Math.sin(A)*t(I)]]}),bounds:v(()=>{let A=t(T.right[j].line.points);return{minX:Math.min(...A.map(y=>y[0])),maxX:Math.max(...A.map(y=>y[0])),minY:Math.min(...A.map(y=>y[1])),maxY:Math.max(...A.map(y=>y[1]))}}),size:v(()=>{let A=t(T.right[j].line.bounds);return{width:A.maxX-A.minX+d.global.border,height:A.maxY-A.minY+d.global.border}}),position:v(()=>{let A=t(T.right[j].line.bounds);return{top:`${A.minY-d.global.border/2}px`,left:`${A.minX-d.global.border/2}px`}}),path:v(()=>{let A=t(T.right[j].line.points),y=t(T.right[j].line.bounds),R=A.map(xe=>[xe[0]-y.minX+d.global.border/2,xe[1]-y.minY+d.global.border/2]);return[`M ${R[0][0]} ${R[0][1]}`,`L ${R[1][0]} ${R[1][1]}`,`L ${R[2][0]} ${R[2][1]}`].join(" ")})}}))};function G(Y){var j,de;((j=document.getElementById(`${Y}-ring`))==null?void 0:j.children[1].children[1].children[0]).beginElement(),(de=document.getElementById(`${Y}-upgrade`))==null||de.children[0].classList.add("hover")}function ue(Y){var j,de;((j=document.getElementById(`${Y}-ring`))==null?void 0:j.children[1].children[1].children[1]).beginElement(),(de=document.getElementById(`${Y}-upgrade`))==null||de.children[0].classList.remove("hover")}return{render:te,unref:t,isVisible:he,onMouseEnter:G,onMouseLeave:ue,upgradeData:T,values:d}}}),ar=e=>(ct("data-v-60622501"),e=e(),dt(),e),Kf=["width","height","id","onMouseenter","onMouseleave","onClick"],Xf=["d","stroke","stroke-width"],Qf=["id"],Zf=br('<feOffset dx="0" dy="0" data-v-60622501></feOffset><feGaussianBlur stdDeviation="0" result="offset-blur" data-v-60622501><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="6" dur="0.5s" begin="indefinite" data-v-60622501></animate><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="0" dur="0.5s" begin="indefinite" data-v-60622501></animate></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse" data-v-60622501></feComposite>',3),Jf=["flood-color"],eg=ar(()=>w("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"},null,-1)),tg=ar(()=>w("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"},null,-1)),ng=["width","height"],ig=["d","stroke","stroke-width"],sg=["id"];function rg(e,n,i,s,r,l){return $(),x("div",{class:"ring-container",style:Oe({top:`${e.unref(e.radius)}px`})},[($(!0),x(g,null,Pe(e.upgradeData,(c,m)=>($(),x(g,null,[($(!0),x(g,null,Pe(e.unref(c),d=>($(),x(g,{key:d.upgrade.id},[e.isVisible(d.upgrade.upgrade.visibility)?($(),x("svg",{key:0,width:e.unref(d.ring.size).width,height:e.unref(d.ring.size).height,style:Oe({...e.unref(d.ring.position),"--shadow-id":`url(#${d.upgrade.id}-shadow)`}),class:"ring-segment",id:`${d.upgrade.id}-ring`,onMouseenter:p=>e.onMouseEnter(d.upgrade.id),onMouseleave:p=>e.onMouseLeave(d.upgrade.id),onClick:d.upgrade.upgrade.purchase},[w("path",{d:e.unref(d.ring.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"var(--background)",class:qe({can:e.unref(d.upgrade.upgrade.canPurchase)})},null,10,Xf),w("filter",{id:`${d.upgrade.id}-shadow`},[Zf,w("feFlood",{"flood-color":e.unref(d.upgrade.color),"flood-opacity":"1",result:"color"},null,8,Jf),eg,tg],8,Qf)],44,Kf)):H("",!0),e.isVisible(d.upgrade.upgrade.visibility)?($(),x("svg",{key:1,width:e.unref(d.line.size).width,height:e.unref(d.line.size).height,style:Oe(e.unref(d.line.position)),class:"ring-line"},[w("path",{d:e.unref(d.line.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"none"},null,8,ig)],12,ng)):H("",!0),w("div",{id:`${d.upgrade.id}-upgrade`},[($(),ie($e(d.upgrade.render),{style:Oe({...e.unref(d.upgrade.position),width:e.values.upgrade.width,minHeight:e.values.upgrade.height}),class:qe(["ring-upgrade",m]),onMouseenter:p=>e.onMouseEnter(d.upgrade.id),onMouseleave:p=>e.onMouseLeave(d.upgrade.id)},null,40,["style","class","onMouseenter","onMouseleave"]))],8,sg)],64))),128))],64))),256))],4)}var og=fe(Yf,[["render",rg],["__scopeId","data-v-60622501"]]);function ag(e,...n){return Ke(i=>{var r,l;const s=e.call(i,i);for(const c of n)(r=c.preConstruct)==null||r.call(c,s);s.formula=s.formula(_.variable(s.baseResource)),s.currentGain==null&&(s.currentGain=v(()=>{let c=o.floor(s.formula.evaluate(s.baseResource.value)).max(0);return t(s.buyMax)===!1&&(c=c.min(1)),c})),s.actualGain==null&&(s.actualGain=s.currentGain),s.currentAt==null&&(s.currentAt=v(()=>s.formula.invert(o.floor(t(s.currentGain))))),s.nextAt==null&&(s.nextAt=v(()=>s.formula.invert(o.floor(t(s.currentGain)).add(1)))),s.convert==null&&(s.convert=function(){var m;const c=t(s.currentGain);s.gainResource.value=o.add(s.gainResource.value,c),s.spend(c),(m=s.onConvert)==null||m.call(s,c)}),s.spend==null&&(s.spend=function(){s.baseResource.value=0}),X(s,"currentGain"),X(s,"actualGain"),X(s,"currentAt"),X(s,"nextAt"),X(s,"buyMax"),De(s,"buyMax",!0);for(const c of n)(l=c.postConstruct)==null||l.call(c,s);return s})}function lg(e){return ag(e)}const wn="acceleron",U=nt(wn,function(){const e="Accelerons",n={"--feature-background":"#0f52ba"},i=v(()=>t(_e.milestones[1].earned)||_e.isFirstBranch(wn)||t(re.coreResearch.research.mastery.researched)?!0:t(C[k.quantum].upgrades.condense.bought)),s=at(0,e),r=rs(s),l=Yc(s),c=ut(()=>[z(()=>({multiplier:1e71,enabled:()=>!_e.isFirstBranch(wn),description:S(()=>a(g,null,[u("["),re.name,u("] Inflational Interference")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(M.translation.effect).reciprocate(),enabled:F(M.translation.bought),description:S(()=>a(g,null,[u("["),e,u("] Quantum Translation")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>1/t(M.fluctuation.effect),enabled:F(M.fluctuation.bought),description:S(()=>a(g,null,[u("["),e,u("] Temporal Fluctuation")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(Ue.averageLoopValues[Ue.loops.tempAcceleron.id]).reciprocate(),enabled:F(Ue.loops.tempAcceleron.built),description:S(()=>a(g,null,[u("["),e,u("] Entropic Loop #5")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(we.enhancements.contraction.effect).reciprocate(),enabled:F(we.enhancements.contraction.bought),description:S(()=>a(g,null,[u("["),we.name,u("] Entropic Contraction")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(we.enhancements.inversion.effect).reciprocate(),enabled:F(we.enhancements.inversion.bought),description:S(()=>a(g,null,[u("["),we.name,u("] Entropic Inversion")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>t(we.enhancements.rotation.effect).reciprocate(),enabled:F(we.enhancements.rotation.bought),description:S(()=>a(g,null,[u("["),we.name,u("] Entropic Rotation")])),smallerIsBetter:!0}))]),m=lg(()=>({formula:A=>A.dividedBy(c.getFormula(1e9)).pow(v(()=>_e.isFirstBranch(wn)?.1:.05)),baseResource:F(C[k.quantum].amount),gainResource:F(s),onConvert(){_e.isFirstBranch(wn)&&(_e.branchOrder.value=wn)}})),d=us(()=>({thingsToReset(){const A=[B.skyrmions,B.pion,B.spinor,C.protoversal.amount,C.protoversal.upgrades.condense,C.protoversal.upgrades.reform,C.infinitesimal.amount,C.infinitesimal.upgrades.condense,C.infinitesimal.upgrades.reform,C.subspatial.amount,C.subspatial.upgrades.condense,C.subspatial.upgrades.reform,C.subplanck.amount,C.subplanck.upgrades.condense,C.subplanck.upgrades.reform,C.quantum.amount,C.quantum.upgrades.condense,C.quantum.upgrades.reform];return t(P.protoversal.earned)||A.push(C.protoversal),t(P.infinitesimal.earned)||A.push(C.infinitesimal),t(P.subspatial.earned)||A.push(C.subspatial),t(P.subplanck.earned)||A.push(C.subplanck),t(P.quantum.earned)||A.push(C.quantum),A},onReset(){C.protoversal.upgrades.reform.amount.value=o.dOne,t(P.skyrmion.earned)&&(B.skyrmions.value=o.dTen)}})),p=Zd(()=>({conversion:m,style:{width:"fit-content",padding:"5px 10px",minHeight:"60px"},onClick(){d.reset(),B.skyrmions.value=t(P.skyrmion.earned)?10:1}})),b=v(()=>{let A=o.max(t(r),0).plus(1);return A.gte(1e12)?A.log10().times(5e5/6):A.sqrt()}),f=ut(()=>[z(()=>({multiplier:W.upgrades.time.effect,enabled:F(W.upgrades.time.bought),description:S(()=>a(g,null,[u("["),W.name,u("] Time")]))})),z(()=>({multiplier:we.enhancements.dilation.effect,enabled:F(we.enhancements.dilation.bought),description:S(()=>a(g,null,[u("["),e,u("] Entropic Dilation")]))})),z(()=>({multiplier:W.getTimesquareEffect(V.BACK),enabled:()=>o.gt(t(W.timesquares.squares[V.BACK].square.amount),0),description:S(()=>a(g,null,[u("["),W.name,u("] Back Time Squares ("),Q(t(W.timesquares.squares[V.BACK].square.amount)),u(")")]))})),z(()=>({multiplier:2,enabled:W.upgrades.tour.bought,description:S(()=>a(g,null,[u("["),W.name,u("] Tour")]))})),z(()=>({multiplier:()=>o.reciprocate(t(W.timelines.nerfs[V.BACK])),enabled:()=>t(W.timelines.depths[V.BACK])>0,description:S(()=>a(g,null,[u("["),W.name,u("] Active Back Timeline Effect")]))})),z(()=>({multiplier:W.timelines.buffs[V.BACK],enabled:()=>t(W.timelines.scores[V.BACK]).gt(0),description:S(()=>a(g,null,[u("["),W.name,u("] Passive Back Timeline Bonus")]))}))]),h=v(()=>new o(f.apply(t(b)))),N=Ie(0);this.on("preUpdate",A=>{N.value=o.add(t(N),A)});const I=at(F(l)),q={fontSize:"48px",fontWeight:"normal"},E=A=>v(()=>({background:"var(--quarter-transparent)",border:`solid ${t(A.earned)?"var(--bought)":"var(--feature-background)"} 2px`,borderRadius:0,color:t(A.earned)?"var(--bought)":"var(--feature-foreground)"})),P={protoversal:_t(A=>({display:S(()=>a("span",{style:q},[u("P")])),requirements:K(()=>({resource:F(I),cost:1})),small:!0,style:E(A),tooltip:{requirement:a(g,null,[u("1 Acceleron")]),effect:a(g,null,[u("Keep Protoversal Boosts and Size Upgrades on Acceleron reset"),a("br",null,null),u("Keep Foam Achievements on Acceleron reset")])}})),infinitesimal:_t(A=>({display:S(()=>a("span",{style:q},[u("I")])),requirements:K(()=>({resource:F(I),cost:2})),small:!0,style:E(A),tooltip:{requirement:a(g,null,[u("2 "),s.displayName]),effect:a(g,null,[u("Keep Infinitesimal Boosts and Size Upgrades on Acceleron reset")])}})),subspatial:_t(A=>({display:S(()=>a("span",{style:q},[u("Ss")])),requirements:K(()=>({resource:F(I),cost:3})),small:!0,style:E(A),tooltip:{requirement:a(g,null,[u("3 "),s.displayName]),effect:a(g,null,[u("Keep Subspatial Boosts and Size Upgrades on Acceleron reset")])}})),skyrmion:_t(A=>({display:S(()=>a("span",{style:q},[u("S")])),requirements:K(()=>({resource:F(I),cost:5})),small:!0,style:E(A),tooltip:{requirement:a(g,null,[u("5 "),s.displayName]),effect:a(g,null,[u("Start with 10 Skyrmions on Acceleron reset")])}})),subplanck:_t(A=>({display:S(()=>a("span",{style:q},[u("Sp")])),requirements:K(()=>({resource:F(I),cost:7})),small:!0,style:E(A),tooltip:{requirement:a(g,null,[u("7 "),s.displayName]),effect:a(g,null,[u("Keep Subplanck Boosts and Size Upgrades on Acceleron reset")])}})),quantum:_t(A=>({display:S(()=>a("span",{style:q},[u("Q")])),requirements:K(()=>({resource:F(I),cost:10})),small:!0,style:E(A),tooltip:{requirement:a(g,null,[u("10 "),s.displayName]),effect:a(g,null,[u("Keep Quantum Boosts and Size Upgrades on Acceleron reset")])}}))};for(const A of Object.values(P))On(A,{display:S(()=>a(g,null,[a("h3",null,[A.tooltip.requirement]),a("br",null,null),A.tooltip.effect]))});const M=(()=>{const A=me(Ee=>({visibility(){return t(this.bought)||o.gte(t(l),4)},display:S(()=>a(g,null,[a("h3",null,[u("Minute Acceleration")]),a("br",null,null),a("br",null,null),u("Time speed massively multiplies Foam generation"),a("br",null,null),a("br",null,null),u("Currently: "),D(je(Ee,void 0,!0)),u("\xD7"),a("br",null,null),Qe(Ee.requirements)])),effect(){return t(h).abs().sqrt().times(1e3)},requirements:K(()=>({cost:1,resource:F(s)}))}),ke),y=me(Ee=>({visibility(){return t(this.bought)||t(A.bought)},display:S(()=>a(g,null,[a("h3",null,[u("Quantum Translation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of Foam re-formations"),a("br",null,null),a("br",null,null),u("Currently: /"),Q(je(Ee,void 0,!0)),a("br",null,null),Qe(Ee.requirements)])),effect(){return Object.values(k).map(an=>t(C[an].upgrades.reform.amount)).reduce((an,Ln)=>an.plus(Ln),o.dZero)},requirements:K(()=>({cost:5,resource:F(s)}))}),ke),R=me(Ee=>({visibility(){return t(this.bought)||t(A.bought)},display:S(()=>a(g,null,[a("h3",null,[u("Superpositional Acceleration")]),a("br",null,null),a("br",null,null),u("Gain a new Pion upgrade"),a("br",null,null),u("Gain a new Spinor upgrade"),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:K(()=>({cost:25,resource:F(s)}))})),xe=me(Ee=>({visibility(){return t(this.bought)||t(R.bought)},display:S(()=>a(g,null,[a("h3",null,[u("Quasi-temporal Superstructures")]),a("br",null,null),a("br",null,null),u("Consume the past to build the future"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:K(()=>({cost:50,resource:F(s)}))})),Me=me(Ee=>({visibility(){return t(this.bought)||t(Ue.loops.acceleron.built)},display:S(()=>a(g,null,[a("h3",null,[u("Temporal Fluctuation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of completed Entropic Loops"),a("br",null,null),a("br",null,null),u("Currently: /"),Q(je(Ee,void 0,!0)),a("br",null,null),Qe(Ee.requirements)])),effect(){return t(Ue.numBuiltLoops)+1},requirements:K(()=>({cost:new o(100),resource:F(s)}))}),ke),it=me(Ee=>({visibility(){return t(this.bought)||t(Ue.loops.instantProd.built)},display:S(()=>a(g,null,[a("h3",null,[u("Unstable Expansion")]),a("br",null,null),a("br",null,null),u("Unlock Entropic Enhancements"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:K(()=>({cost:new o(300),resource:F(s)}))})),$t=me(Ee=>({visibility(){return t(this.bought)||t(Ue.loops.timecube.built)},display:S(()=>a(g,null,[a("h3",null,[u("Stability Conversion")]),a("br",null,null),a("br",null,null),u("Each Entropic Loop multiplies Time Cube gain"),a("br",null,null),a("br",null,null),u("Currently: "),Q(je(Ee,void 0,!0)),u("\xD7"),a("br",null,null),Qe(Ee.requirements)])),effect(){return t(Ue.numBuiltLoops)+1},requirements:K(()=>({cost:new o(15e4),resource:F(s)}))}),ke),Vt=me(Ee=>({visibility(){return t(this.bought)||t($t.bought)},display:S(()=>a(g,null,[a("h3",null,[u("Subspatial Alacrity")]),a("br",null,null),a("br",null,null),u("Increase Subspatial Foam gain by "),Q(je(Ee,void 0,!0)),u("\xD7"),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),effect:1e4,requirements:K(()=>({cost:2e6,resource:F(s)}))})),Xe=me(Ee=>({visibility(){return t(this.bought)||t(Vt.bought)},display:S(()=>a(g,null,[a("h3",null,[u("Cubic Tetration")]),a("br",null,null),a("br",null,null),u("Remove the ability to Acceleron reset"),a("br",null,null),u("Unlock two additional Entropic Loops"),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:K(()=>({cost:1e8,resource:F(s)}))})),yn=me(Ee=>({visibility(){return t(this.bought)||t(Xe.bought)},display:S(()=>a(g,null,[a("h3",null,[u("Temporal Mastery")]),a("br",null,null),a("br",null,null),u("Unlock "),_e.isFirstBranch(wn)||o.gt(t(_e.strings),0)?re.inflatons.displayName:_e.strings.displayName,a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Qe(Ee.requirements)])),requirements:K(()=>({cost:1e19,resource:F(s)}))}));return{acceleration:A,translation:y,skyrmion:R,superstructures:xe,fluctuation:Me,expansion:it,conversion:$t,alacrity:Vt,tetration:Xe,mastery:yn}})(),T=[M.acceleration,M.fluctuation,M.tetration,M.conversion,M.skyrmion],G=[M.translation,M.expansion,M.mastery,M.alacrity,M.superstructures],ue={reset:ht(()=>({enabled:()=>t(i)&&!t(M.tetration.bought),key:"a",description:"Form your Quantum Foam into Accelerons",onPress:p.onClick})),switchTab:ht(()=>({enabled:i,key:"ctrl+a",description:"Move to Accelerons",onPress(){vn.tabs.selected.value=e}}))},Y=Tt("Acceleron Modifiers",()=>[{title:"Acceleron Cost",modifier:c,base:1e9,baseText:S(()=>a(g,null,[u("["),C.name,u("] Base Amount")])),smallerIsBetter:!0},{title:"Time Speed",modifier:f,base:b,baseText:S(()=>a(g,null,[u("["),e,u("] Best Accelerons ("),Q(t(r)),u(")")]))}]),j=S(()=>a(g,null,[a($i,{resource:s,effect:S(()=>a(g,null,[u("which are causing time to go "),D(t(h)),u("\xD7 faster"),te(Y),a("br",null,null),u("For every second in real time, "),a("pre",{style:{display:"inline"}},[Xi(t(h))]),u(" passes")]))},null)])),de=ni({loops:()=>({display:"Entropic Loops",tab:Jt(()=>({display:S(()=>a(g,null,[te(j),t(M.tetration.bought)?a(Se,{height:"70px"},null):te(p),te(Ue.upperDisplay),a(og,{radius:192,width:60,distance:150,top:4,right:G,bottom:4,left:T},null),a(Se,null,null),te(Ue.lowerDisplay),a(Se,null,null),a(Se,null,null),mn(...Object.values(P))]))}))}),enhancements:()=>({display:"Entropic Enhancements",tab:Jt(()=>({display:S(()=>a(g,null,[te(j),te(we.display)]))}))})});return{name:e,theme:n,accelerons:s,bestAccelerons:r,totalAccelerons:l,conversion:m,timeMult:h,time:N,upgrades:M,achievements:P,tabs:de,hotkeys:ue,display:S(()=>a(g,null,[t(M.expansion.bought)?te(de):te(t(de.tabs.loops.tab))])),unlocked:i,loops:Ue,entropy:we}}),ug="protoversal",un=nt(ug,function(){const e=at(0,"Protoversal Foam"),n=ut(()=>[...C.production,z(()=>({multiplier:r[ee.height].effect,enabled:()=>o.gt(t(r[ee.height].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Protoversal Foam Height ("),Q(t(r[ee.height].amount)),u(")")]))})),z(()=>({multiplier:r[ee.width].effect,enabled:()=>o.gt(t(r[ee.width].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Protoversal Foam Width ("),Q(t(r[ee.width].amount)),u(")")]))})),z(()=>({multiplier:r[ee.depth].effect,enabled:()=>o.gt(t(r[ee.depth].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Protoversal Foam Depth ("),Q(t(r[ee.depth].amount)),u(")")]))})),z(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:S(()=>a(g,null,[u("["),C.name,u("] Protoversal Boost 1 ("),Q(t(m[1].total)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.delta.effect,enabled:()=>o.gt(t(B.pion.upgrades.delta.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B4 ("),Q(t(B.pion.upgrades.delta.totalAmount)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.epsilon.effect,enabled:()=>o.gt(t(B.pion.upgrades.epsilon.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B5 ("),Q(t(B.pion.upgrades.epsilon.totalAmount)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.theta.effect,enabled:()=>o.gt(t(B.pion.upgrades.theta.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B8 ("),Q(t(B.pion.upgrades.theta.totalAmount)),u(")")]))})),Rn(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:S(()=>a(g,null,[u("["),C.name,u("] Protoversal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Protoversal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...C.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[k.protoversal],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:S(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=v(()=>n.apply(t(B.totalSkyrmions).times(.01)));C.on("preUpdate",p=>{if(!t(C.unlocked)||o.eq(t(r.reform.amount),0))return;const b=t(U.timeMult).times(p);e.value=b.times(t(i)).plus(e.value)});const s=v(()=>t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[ee.height]:Ye(p=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(4).times(2),requiresPay:()=>!t(C.achievements[k.protoversal].earned)})),display:Mt(k.protoversal,ee.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.protoversal].earned)}),onClick:()=>qt(k.protoversal)}),ke),[ee.width]:Ye(p=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(6).times(5),requiresPay:()=>!t(C.achievements[k.protoversal].earned)})),display:Mt(k.protoversal,ee.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.protoversal].earned)}),onClick:()=>qt(k.protoversal)}),ke),[ee.depth]:Ye(p=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(C.achievements[k.protoversal].earned)})),display:Mt(k.protoversal,ee.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.protoversal].earned)}),onClick:()=>qt(k.protoversal)}),ke),condense:me(p=>({visibility:()=>!t(p.bought),requirements:K(()=>({resource:F(e),cost:1e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){C.infinitesimal.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(C.achievements.reform.earned)})})),reform:Ye(p=>({visibility:F(r.condense.bought),requirements:K(()=>({resource:F(e),cost:()=>o.minus(t(p.amount),3).max(2).pow_base(t(p.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(C.achievements.reform.earned)})),display:oi(k.protoversal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(C.achievements.reform.earned)})}),ke)};C.on("update",()=>{if(t(C.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(C.achievements[k.protoversal].earned))for(const p of Object.values(ee))t(r[p].canClick)&&r[p].onClick()});const l=v(()=>t(C.globalBoostBonus).plus(ge(k.quantum,5)).plus(ge(k.subspatial,3))),c=v(()=>t(l).plus(ge(k.protoversal,5))),m={index:Ie(1),1:He(p=>({display:()=>`Multiply the generation of Protoversal Foam by ${D(ge(k.protoversal,1))}`,effect:()=>new o(t(p.total)).times(t(B.spinor.upgrades.delta.effect)).plus(1),bonus:c})),2:He(p=>({display:()=>`Gain ${D(ge(k.protoversal,2))} bonus Pion and Spinor Upgrade \u03B1 levels`,effect:()=>new o(t(p.total)),bonus:c})),3:He(p=>({display:()=>`Gain ${D(ge(k.protoversal,3))} bonus Pion and Spinor Upgrade \u03B2 levels`,effect:()=>o.sqrt(t(p.total)),bonus:c})),4:He(p=>({display:()=>`Gain ${D(ge(k.protoversal,4))} bonus Pion and Spinor Upgrade \u03B3 levels`,effect:()=>new o(t(p.total)),bonus:c})),5:He(p=>({display:()=>`Add ${D(ge(k.protoversal,5))} levels to all above boosts`,effect:()=>o.times(t(p.total),.1),bonus:l}))},d=Tt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:m,production:i,modifierModal:d,display:"This page intentionally left blank"}});const cg={class:"fome-grid"},dg={key:0},mg=["innerHTML"],pg=se({__name:"Fome",setup(e){function n(i){return`You have ${D(t(C[i].amount))} ${C[i].amount.displayName}${o.gt(t(C[i].upgrades.reform.amount),1)?`<sup>${Q(t(C[i].upgrades.reform.amount))}</sup>`:""}`}return(i,s)=>($(),x("div",cg,[($(!0),x(g,null,Pe(Object.values(t(k)).slice().reverse(),r=>($(),x(g,{key:r},[t(t(U).unlocked)||t(t(re).unlocked)||t(t(_e).unlocked)||t(o).gt(t(t(C)[r].upgrades.reform.amount),0)?($(),x("div",dg,[w("div",{innerHTML:n(r),style:{"white-space":"nowrap"}},null,8,mg),w("div",null,[u("+"+J(t(D)(t(t(C)[r].production)))+"/s",1),($(),ie($e(t(te)(t(C)[r].modifierModal))))])])):H("",!0),($(!0),x(g,null,Pe(Object.keys(t(C)[r].upgrades),l=>($(),ie($e(t(te)(t(C)[r].upgrades[l]))))),256))],64))),128))]))}});var fg=fe(pg,[["__scopeId","data-v-5a57e0e0"]]);const ri=e=>(ct("data-v-149b6b3a"),e=e(),dt(),e),gg={style:{display:"grid",gridTemplateColumns:"repeat(7, auto)",width:"fit-content",margin:"auto","padding-left":"150px"}},bg=ri(()=>w("div",null,"[",-1)),hg=ri(()=>w("div",null,"+",-1)),vg=ri(()=>w("div",null,null,-1)),yg=ri(()=>w("div",null,null,-1)),_g=ri(()=>w("div",null,"]:",-1)),wg=se({__name:"FomeBoost",setup(e){const n=Object.fromEntries(Object.values(k).map(i=>[i,Object.fromEntries(Object.values([1,2,3,4,5]).map(s=>[s,t(C[i].boosts[s].display)]))]));return(i,s)=>($(),x("div",gg,[($(!0),x(g,null,Pe(t(n),(r,l)=>($(),x(g,{key:l},[($(),x(g,null,Pe(7,c=>a(Se,{"num-labels":7,key:c})),64)),($(!0),x(g,null,Pe(r,(c,m)=>{var d,p;return $(),x(g,{key:l+"-"+m},[t(o).gt(t(t(C)[l].boosts[m].total),0)?($(),x(g,{key:0},[w("div",null,J(t(C)[l].amount.displayName.split(" ")[0])+" Boost "+J(m),1),bg,w("div",null,J(t(Q)(t(t(C)[l].boosts[m].amount))),1),t(o).gt(t((d=t(C)[l].boosts[m].bonus)!=null?d:0),0)?($(),x(g,{key:0},[hg,w("div",null,J(t(D)(t((p=t(C)[l].boosts[m].bonus)!=null?p:0))),1)],64)):($(),x(g,{key:1},[vg,yg],64)),_g,w("div",null,J(c),1)],64)):($(),x(g,{key:1},Pe(7,b=>w("div",{"num-labels":7,key:b})),64))],64)}),128))],64))),128))]))}});var kg=fe(wg,[["__scopeId","data-v-149b6b3a"]]);function dn(e){return Ke(n=>{const i=e.call(n,n);return X(i,"fomeType"),i.partialDisplay=s=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[C[t(i.fomeType)].amount.displayName,a("sup",null,[$n(o.floor(i.cost instanceof _?Zt(i.cost,s!=null?s:1,!1):t(i.cost)))])]),i.display=s=>a("div",null,[u("Requires: "),C[t(i.fomeType)].amount.displayName,a("sup",null,[$n(o.floor(i.cost instanceof _?Zt(i.cost,s!=null?s:1,!1):t(i.cost)))])]),i.visibility=Te.Visible,i.requiresPay=!1,X(i,"cost"),i.requirementMet=v(()=>i.cost instanceof _?o.gte(C[t(i.fomeType)].upgrades.reform.amount.value,i.cost.evaluate()):o.gte(C[t(i.fomeType)].upgrades.reform.amount.value,t(i.cost))),i})}const Sg="infinitesimal",Fi=nt(Sg,function(){const e=at(0,"Infinitesimal Foam"),n=ut(()=>[...C.production,z(()=>({multiplier:r[ee.height].effect,enabled:()=>o.gt(t(r[ee.height].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Foam Height ("),Q(t(r[ee.height].amount)),u(")")]))})),z(()=>({multiplier:r[ee.width].effect,enabled:()=>o.gt(t(r[ee.width].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Foam Width ("),Q(t(r[ee.width].amount)),u(")")]))})),z(()=>({multiplier:r[ee.depth].effect,enabled:()=>o.gt(t(r[ee.depth].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Foam Depth ("),Q(t(r[ee.depth].amount)),u(")")]))})),z(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Boost 1 ("),Q(t(c[1].total)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.iota.effect,enabled:()=>o.gt(t(B.pion.upgrades.iota.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B9 ("),Q(t(B.pion.upgrades.iota.totalAmount)),u(")")]))})),z(()=>({multiplier:B.spinor.upgrades.epsilon.effect,enabled:()=>o.gt(t(B.spinor.upgrades.epsilon.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B5 ("),Q(t(B.spinor.upgrades.epsilon.totalAmount)),u(")")]))})),z(()=>({multiplier:B.spinor.upgrades.iota.effect,enabled:()=>o.gt(t(B.spinor.upgrades.iota.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B9 ("),Q(t(B.spinor.upgrades.iota.totalAmount)),u(")")]))})),z(()=>({multiplier:we.enhancements.extension.effect,enabled:F(we.enhancements.extension.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Extension")]))})),Rn(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...C.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[k.infinitesimal],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:S(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=v(()=>n.apply(t(B.totalSkyrmions).times(.01)));C.on("preUpdate",d=>{if(!t(C.unlocked)||o.eq(t(r.reform.amount),0))return;const p=t(U.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const s=v(()=>t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[ee.height]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(5).times(6),requiresPay:()=>!t(C.achievements[k.infinitesimal].earned)})),display:Mt(k.infinitesimal,ee.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.infinitesimal].earned)}),onClick:()=>qt(k.infinitesimal)}),ke),[ee.width]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(7).times(10),requiresPay:()=>!t(C.achievements[k.infinitesimal].earned)})),display:Mt(k.infinitesimal,ee.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.infinitesimal].earned)}),onClick:()=>qt(k.infinitesimal)}),ke),[ee.depth]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(C.achievements[k.infinitesimal].earned)})),display:Mt(k.infinitesimal,ee.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.infinitesimal].earned)}),onClick:()=>qt(k.infinitesimal)}),ke),condense:me(d=>({visibility:()=>!t(d.bought)&&(t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(C[k.protoversal].upgrades.condense.bought)),requirements:K(()=>({resource:F(e),cost:2e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){C.subspatial.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(C.achievements.reform.earned)})})),reform:Ye(d=>({visibility:F(r.condense.bought),requirements:[K(()=>({resource:F(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(5).pow10().dividedBy(5),requiresPay:()=>!t(C.achievements.reform.earned)})),dn(()=>({fomeType:k.protoversal,cost:_.variable(d.amount).plus(2)}))],display:oi(k.infinitesimal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(C.achievements.reform.earned)})}),ke)};C.on("update",()=>{if(t(C.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(C.achievements[k.infinitesimal].earned))for(const d of Object.values(ee))t(r[d].canClick)&&r[d].onClick()});const l=v(()=>t(C.globalBoostBonus).plus(ge(k.quantum,5)).plus(ge(k.subspatial,3))),c={index:Ie(1),1:He(d=>({display:()=>`Multiply the generation of Infinitesimal Foam by ${D(ge(k.infinitesimal,1))}`,effect:()=>new o(t(d.total)).times(t(B.pion.upgrades.lambda.effect)).times(t(B.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:He(d=>({display:()=>`Increase Pion and Spinor gain by ${D(o.minus(ge(k.infinitesimal,2),1).times(100))}%`,effect:()=>o.times(t(d.total),.5).plus(1),bonus:l})),3:He(d=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B1 costs to 1/${D(o.times(ge(k.infinitesimal,3),100).reciprocate())}%`,effect:()=>o.pow(.8,t(d.total)),bonus:l})),4:He(d=>({display:()=>`Reduce Skyrmion costs to 1/${D(ge(k.infinitesimal,4))}\xD7`,effect:()=>o.times(t(d.total),.5).plus(1),bonus:l})),5:He(d=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B3 costs to 1/${D(o.times(ge(k.infinitesimal,5),100).reciprocate())}%`,effect:()=>o.pow(.8,t(d.total)),bonus:l}))},m=Tt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:c,production:i,modifierModal:m,display:"This page intentionally left blank"}}),Cg="subspatial",Bi=nt(Cg,function(){const e=at(0,"Subspatial Foam"),n=ut(()=>[...C.production,z(()=>({multiplier:r[ee.height].effect,enabled:()=>o.gt(t(r[ee.height].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subspatial Foam Height ("),Q(t(r[ee.height].amount)),u(")")]))})),z(()=>({multiplier:r[ee.width].effect,enabled:()=>o.gt(t(r[ee.width].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subspatial Foam Width ("),Q(t(r[ee.width].amount)),u(")")]))})),z(()=>({multiplier:r[ee.depth].effect,enabled:()=>o.gt(t(r[ee.depth].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subspatial Foam Depth ("),Q(t(r[ee.depth].amount)),u(")")]))})),z(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subspatial Boost 1 ("),Q(t(m[1].total)),u(")")]))})),z(()=>({multiplier:B.pion.upgrades.zeta.effect,enabled:()=>o.gt(t(B.pion.upgrades.zeta.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Pion Upgrade \u03B6 ("),Q(t(B.pion.upgrades.zeta.totalAmount)),u(")")]))})),z(()=>({multiplier:B.spinor.upgrades.theta.effect,enabled:()=>o.gt(t(B.spinor.upgrades.theta.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B8 ("),Q(t(B.spinor.upgrades.theta.totalAmount)),u(")")]))})),z(()=>({multiplier:U.upgrades.alacrity.effect,enabled:t(U.upgrades.alacrity.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Subspatial Alacrity")]))})),z(()=>({multiplier:we.enhancements.configuration.effect,enabled:F(we.enhancements.configuration.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Configuration")]))})),Rn(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:S(()=>a(g,null,[u("["),C.name,u("] Subspatial Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subspatial Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...C.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[k.subspatial],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:S(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=v(()=>n.apply(t(B.totalSkyrmions).times(.01)));C.on("preUpdate",p=>{if(!t(C.unlocked)||o.eq(t(r.reform.amount),0))return;const b=t(U.timeMult).times(p);e.value=b.times(t(i)).plus(e.value)});const s=v(()=>t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[ee.height]:Ye(p=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(6).times(10),requiresPay:()=>!t(C.achievements[k.subspatial].earned)})),display:Mt(k.subspatial,ee.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.subspatial].earned)}),onClick:()=>qt(k.subspatial)}),ke),[ee.width]:Ye(p=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(8).times(18),requiresPay:()=>!t(C.achievements[k.subspatial].earned)})),display:Mt(k.subspatial,ee.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.subspatial].earned)}),onClick:()=>qt(k.subspatial)}),ke),[ee.depth]:Ye(p=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(10).times(60),requiresPay:()=>!t(C.achievements[k.subspatial].earned)})),display:Mt(k.subspatial,ee.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.subspatial].earned)}),onClick:()=>qt(k.subspatial)}),ke),condense:me(p=>({visibility:()=>!t(p.bought)&&(t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(C[k.infinitesimal].upgrades.condense.bought)),requirements:K(()=>({resource:F(e),cost:4e5})),display:{description:`Condense your ${e.displayName}`},onPurchase(){C.subplanck.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(C.achievements.reform.earned)})})),reform:Ye(p=>({visibility:F(r.condense.bought),requirements:[K(()=>({resource:F(e),cost:()=>o.minus(t(p.amount),3).max(2).pow_base(t(p.amount)).plus(1).times(6).pow10().dividedBy(2.5),requiresPay:()=>!t(C.achievements.reform.earned)})),dn(()=>({fomeType:k.infinitesimal,cost:_.variable(p.amount).plus(2)}))],display:oi(k.subspatial),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(C.achievements.reform.earned)})}),ke)};C.on("update",()=>{if(t(C.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(C.achievements[k.subspatial].earned))for(const p of Object.values(ee))t(r[p].canClick)&&r[p].onClick()});const l=v(()=>t(C.globalBoostBonus).plus(ge(k.quantum,5))),c=v(()=>t(l).plus(ge(k.subspatial,3))),m={index:Ie(1),1:He(p=>({display:()=>`Multiply the generation of Subspatial Foam by ${D(ge(k.subspatial,1))}`,effect:()=>new o(t(p.total)).times(t(B.pion.upgrades.kappa.effect)),bonus:c})),2:He(p=>({display:()=>`The Pion and Spinor nerfs act as if you had ${D(ge(k.subspatial,2))} fewer upgrades`,effect:()=>new o(t(p.total)),bonus:c})),3:He(p=>({display:()=>`Add ${D(ge(k.subspatial,3))} levels to all above boosts`,effect:()=>o.times(t(p.total),.1),bonus:l})),4:He(p=>({display:()=>`Increase effective Skyrmion count by ${D(ge(k.subspatial,4))}`,effect:()=>new o(t(p.total)),bonus:l})),5:He(p=>({display:()=>`Pion and Spinor upgrades cost as if you had ${D(ge(k.subspatial,5))} fewer`,effect:()=>o.times(t(p.total),.25),bonus:l}))},d=Tt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:m,production:i,modifierModal:d,display:"This page intentionally left blank"}}),$g="subplanck",Ei=nt($g,function(){const e=at(0,"Subplanck Foam"),n=ut(()=>[...C.production,z(()=>({multiplier:r[ee.height].effect,enabled:()=>o.gt(t(r[ee.height].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subplanck Foam Height ("),Q(t(r[ee.height].amount)),u(")")]))})),z(()=>({multiplier:r[ee.width].effect,enabled:()=>o.gt(t(r[ee.width].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subplanck Foam Width ("),Q(t(r[ee.width].amount)),u(")")]))})),z(()=>({multiplier:r[ee.depth].effect,enabled:()=>o.gt(t(r[ee.depth].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subplanck Foam Depth ("),Q(t(r[ee.depth].amount)),u(")")]))})),z(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subplanck Boost 1 ("),Q(t(c[1].total)),u(")")]))})),z(()=>({multiplier:we.enhancements.invention.effect,enabled:F(we.enhancements.invention.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Invention")]))})),Rn(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:S(()=>a(g,null,[u("["),C.name,u("] Subplanck Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Subplanck Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...C.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[k.subplanck],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:S(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=v(()=>n.apply(t(B.totalSkyrmions).times(.01)));C.on("preUpdate",d=>{if(!t(C.unlocked)||o.eq(t(r.reform.amount),0))return;const p=t(U.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const s=v(()=>t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[ee.height]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(7).times(15),requiresPay:()=>!t(C.achievements[k.subplanck].earned)})),display:Mt(k.subplanck,ee.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.subplanck].earned)}),onClick:()=>qt(k.subplanck)}),ke),[ee.width]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(C.achievements[k.subplanck].earned)})),display:Mt(k.subplanck,ee.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.subplanck].earned)}),onClick:()=>qt(k.subplanck)}),ke),[ee.depth]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(11).times(90),requiresPay:()=>!t(C.achievements[k.subplanck].earned)})),display:Mt(k.subplanck,ee.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.subplanck].earned)}),onClick:()=>qt(k.subplanck)}),ke),condense:me(d=>({visibility:()=>!t(d.bought)&&(t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(C[k.subspatial].upgrades.condense.bought)),requirements:K(()=>({resource:F(e),cost:1e6})),display:{description:`Condense your ${e.displayName}`},onPurchase(){C.quantum.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(C.achievements.reform.earned)})})),reform:Ye(d=>({visibility:F(r.condense.bought),requirements:[K(()=>({resource:F(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(6).pow10(),requiresPay:()=>!t(C.achievements.reform.earned)})),dn(()=>({fomeType:k.subspatial,cost:_.variable(d.amount).plus(2)}))],display:oi(k.subplanck),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(C.achievements.reform.earned)})}),ke)};C.on("update",()=>{if(t(C.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(C.achievements[k.subplanck].earned))for(const d of Object.values(ee))t(r[d].canClick)&&r[d].onClick()});const l=v(()=>t(C.globalBoostBonus).plus(ge(k.quantum,5))),c={index:Ie(1),1:He(d=>({display:()=>`Multiply the generation of Subplanck Foam by ${D(ge(k.subplanck,1))}`,effect:()=>new o(t(d.total)).times(t(B.spinor.upgrades.kappa.effect)).times(t(B.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:He(d=>({display:()=>`Gain ${D(ge(k.subplanck,2))} bonus Pion and Spinor Upgrade \u03B4 levels`,effect:()=>o.times(t(d.total),.5),bonus:l})),3:He(d=>({display:()=>`Gain ${D(ge(k.subplanck,3))} bonus Pion and Spinor Upgrade \u03B5 levels`,effect:()=>o.times(t(d.total),.5),bonus:l})),4:He(d=>({display:()=>`Gain ${D(ge(k.subplanck,4))} bonus Pion and Spinor Upgrade \u03B6 levels`,effect:()=>o.times(t(d.total),.5),bonus:l})),5:He(d=>({display:()=>`Gain ${D(ge(k.subplanck,5))} bonus Pion and Spinor Upgrade \u03B7 levels`,effect:()=>o.times(t(d.total),.5),bonus:l}))},m=Tt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:c,production:i,modifierModal:m,display:"This page intentionally left blank"}}),Ng="quantum",Xt=nt(Ng,function(){const e=at(0,"Quantum Foam"),n=ut(()=>[...C.production,z(()=>({multiplier:r[ee.height].effect,enabled:()=>o.gt(t(r[ee.height].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Quantum Foam Height ("),Q(t(r[ee.height].amount)),u(")")]))})),z(()=>({multiplier:r[ee.width].effect,enabled:()=>o.gt(t(r[ee.width].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Quantum Foam Width ("),Q(t(r[ee.width].amount)),u(")")]))})),z(()=>({multiplier:r[ee.depth].effect,enabled:()=>o.gt(t(r[ee.depth].amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Quantum Foam Depth ("),Q(t(r[ee.depth].amount)),u(")")]))})),Rn(()=>({exponent:r.reform.effect,enabled:()=>o.gt(t(r.reform.amount),1),description:S(()=>a(g,null,[u("["),C.name,u("] Quantum Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),z(()=>({multiplier:0,enabled:()=>o.eq(t(r.reform.amount),0),description:S(()=>a(g,null,[u("["),C.name,u("] Quantum Foam"),a("sup",null,[Q(t(r.reform.amount))])]))})),...C.timelineProduction,z(()=>({multiplier:()=>t(W.upgrades.toil.effect)[k.quantum],enabled:()=>t(W.upgrades.toil.bought)&&t(W.timelines.inTimeline),description:S(()=>a(g,null,[u("["),W.name,u("] Toil")]))}))]),i=v(()=>n.apply(t(B.totalSkyrmions).times(.01)));C.on("preUpdate",d=>{if(!t(C.unlocked)||o.eq(t(r.reform.amount),0))return;const p=t(U.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const s=v(()=>t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||o.gt(t(r.reform.amount),0)),r={[ee.height]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(C.achievements[k.quantum].earned)})),display:Mt(k.quantum,ee.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.quantum].earned)}),onClick:()=>qt(k.quantum)}),ke),[ee.width]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(10).times(30),requiresPay:()=>!t(C.achievements[k.quantum].earned)})),display:Mt(k.quantum,ee.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.quantum].earned)}),onClick:()=>qt(k.quantum)}),ke),[ee.depth]:Ye(d=>({visibility:s,requirements:K(()=>({resource:F(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(12).times(100),requiresPay:()=>!t(C.achievements[k.quantum].earned)})),display:Mt(k.quantum,ee.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(C.achievements[k.quantum].earned)}),onClick:()=>qt(k.quantum)}),ke),condense:me(d=>({visibility:()=>!t(d.bought)&&(t(U.unlocked)||t(re.unlocked)||t(_e.unlocked)||t(C[k.subplanck].upgrades.condense.bought)),requirements:K(()=>({resource:F(e),cost:1e5})),display:{description:`Condense your ${e.displayName}`},classes:()=>({auto:t(C.achievements.reform.earned)})})),reform:Ye(d=>({visibility:F(r.condense.bought),requirements:[K(()=>({resource:F(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(C.achievements.reform.earned)})),dn(()=>({fomeType:k.subplanck,cost:_.variable(d.amount).plus(2)}))],display:oi(k.quantum),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(C.achievements.reform.earned)})}),ke)};C.on("update",()=>{if(t(C.achievements.reform.earned)&&(!t(r.condense.bought)&&t(r.condense.canPurchase)&&r.condense.purchase(),t(r.reform.canClick)&&r.reform.onClick()),t(C.achievements[k.quantum].earned))for(const d of Object.values(ee))t(r[d].canClick)&&r[d].onClick()});const l=v(()=>t(C.globalBoostBonus).plus(ge(k.quantum,5))),c={index:Ie(1),1:He(d=>({display:()=>`Multiply the generation of all Foam types by ${D(ge(k.quantum,1))}`,effect:()=>new o(t(d.total)).times(t(B.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:He(d=>({display:()=>`Reduce the Pion and Spinor cost nerf exponent to 1/${D(o.times(ge(k.quantum,2),100).reciprocate())}%`,effect:()=>{let p=t(d.total);return o.gt(p,16)&&(p=o.ln(2).recip().times(4).times(p)),o.pow(.975,p)},bonus:l})),3:He(d=>({display:()=>`Multiply the generation of all Foam types again by ${D(ge(k.quantum,3))}\xD7`,effect:()=>{let p=t(d.total);return o.gt(p,16)&&(p=o.sqrt(p).times(4)),o.sqrt(ge(k.quantum,1)).times(p).dividedBy(10).plus(1)},bonus:l})),4:He(d=>({display:()=>`Gain ${D(ge(k.quantum,4))} bonus Pion and Spinor Upgrade \u03B8, \u03B9, and \u03BA levels`,effect:()=>o.times(t(d.total),.25),bonus:l})),5:He(d=>({display:()=>`Add ${D(ge(k.quantum,5))} bonus levels to all above boosts`,effect:()=>o.times(t(d.total),.1),bonus:C.globalBoostBonus}))},m=Tt(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(B.totalSkyrmions).times(.01),baseText:S(()=>a(g,null,[u("["),B.name,u("] Total "),B.skyrmions.displayName]))}]);return{amount:e,upgrades:r,boosts:c,production:i,modifierModal:m,display:"This page intentionally left blank"}});let k=function(e){return e.protoversal="protoversal",e.infinitesimal="infinitesimal",e.subspatial="subspatial",e.subplanck="subplanck",e.quantum="quantum",e}({}),ee=function(e){return e.height="height",e.width="width",e.depth="depth",e}({});function qt(e){const n=C[e].boosts.index,i=C[e].boosts[t(n)].amount;i.value=o.add(t(i),1),n.value=t(n)===5?1:t(n)+1}function Mt(e,n){let i;switch(n){case ee.height:i="Height";break;case ee.width:i="Width";break;case ee.depth:i="Depth";break}return S(()=>a(g,null,[a("h3",null,[u("Enlarge "),C[e].amount.displayName,u(" "),i,u(" by 1m")]),a("br",null,null),a("br",null,null),u("Current "),i,u(": "),D(t(C[e].upgrades[n].amount)),u("m"),a("br",null,null),a("br",null,null),Qe(C[e].upgrades[n].requirements)]))}function oi(e){return S(()=>a(g,null,[u("Re-form your "),C[e].amount.displayName,a("br",null,null),a("br",null,null),u("Amount: "),Q(t(C[e].upgrades.reform.amount)),a("br",null,null),a("br",null,null),Qe(C[e].upgrades.reform.requirements)]))}const Ig="fome",C=nt(Ig,function(){const e="Quantum Foam",n={"--feature-background":"#ffffff","--bought":"#929aa9"},i=v(()=>t(_e.milestones[1].earned)||t(B.upgrades.fome.bought)),s=v(()=>o.gt(t(Xt.upgrades.reform.amount),0)?k.quantum:o.gt(t(Ei.upgrades.reform.amount),0)?k.subplanck:o.gt(t(Bi.upgrades.reform.amount),0)?k.subspatial:o.gt(t(Fi.upgrades.reform.amount),0)?k.infinitesimal:k.protoversal),r=[z(()=>({multiplier:B.spinor.upgrades.eta.effect,enabled:()=>o.gt(t(B.spinor.upgrades.eta.totalAmount),0),description:S(()=>a(g,null,[u("["),B.name,u("] Spinor Upgrade \u03B7 ("),Q(t(B.spinor.upgrades.eta.totalAmount)),u(")")]))})),z(()=>({multiplier:U.upgrades.acceleration.effect,enabled:F(U.upgrades.acceleration.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Minute Acceleration")]))})),z(()=>({multiplier:U.loops.averageLoopValues[U.loops.loops.tempFome.id],enabled:F(U.loops.loops.tempFome.built),description:S(()=>a(g,null,[u("["),U.name,u("] Acceleron Loop #4")]))})),z(()=>({multiplier:we.enhancements.formation.effect,enabled:F(we.enhancements.formation.bought),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Formation")]))})),z(()=>({multiplier:re.fomeBonus,enabled:()=>t(re.coreResearch.research.fomeGain.researched),description:S(()=>a(g,null,[u("["),re.name,u("] Inflaton Resonance")]))})),z(()=>({multiplier:re.upgrades.moreFome.effect,enabled:F(re.upgrades.moreFome.bought),description:S(()=>a(g,null,[u("["),re.name,u("] Dynamic Inflational Formation")]))})),z(()=>({multiplier:Xt.boosts[1].effect,enabled:()=>o.gt(t(Xt.boosts[1].total),0),description:S(()=>a(g,null,[u("["),e,u("] Quantum Boost 1 ("),Q(t(Xt.boosts[1].total)),u(")")]))})),z(()=>({multiplier:Xt.boosts[3].effect,enabled:()=>o.gt(t(Xt.boosts[3].total),0),description:S(()=>a(g,null,[u("["),e,u("] Quantum Boost 3 ("),Q(t(Xt.boosts[3].total)),u(")")]))}))],l=[z(()=>({multiplier:Ge.buffs[V.LEFT],enabled:F(W.upgrades.tactics.bought),description:S(()=>a(g,null,[u("["),W.name,u("] Passive Left Timeline Bonus")]))})),z(()=>({multiplier:()=>o.reciprocate(t(Ge.nerfs[V.LEFT])),enabled:F(W.upgrades.tactics.bought),description:S(()=>a(g,null,[u("["),W.name,u("] Active Left Timeline Effect")]))}))],c=v(()=>o.add(je(we.enhancements.entitlement,0),je(W.upgrades.tier,0))),m={fontSize:"48px",fontWeight:"normal",color:"var(--feature-foreground)"},d={[k.protoversal]:_t(()=>({display:S(()=>a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])),requirements:Gt(()=>o.gte(t(un.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Protoversal Foam")]),effect:a(g,null,[u("Unlock the Pion and Spinor Buy All button"),a("br",null,null),u("Automatically enlarge your Protoversal Foam")])}})),[k.infinitesimal]:_t(()=>({display:S(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("3")])])])),requirements:Gt(()=>o.gte(t(un.upgrades.reform.amount),3)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("3")])]),effect:a(g,null,[u("Automatically enlarge your Infinitesimal Foam")])}})),[k.subspatial]:_t(()=>({display:S(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("4")])])])),requirements:Gt(()=>o.gte(t(un.upgrades.reform.amount),4)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("4")])]),effect:a(g,null,[u("Automatically enlarge your Subspatial Foam")])}})),[k.subplanck]:_t(()=>({display:S(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("5")])])])),requirements:Gt(()=>o.gte(t(un.upgrades.reform.amount),5)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("5")])]),effect:a(g,null,[u("Automatically enlarge your Subplanck Foam")])}})),[k.quantum]:_t(()=>({display:S(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("6")])])])),requirements:Gt(()=>o.gte(t(un.upgrades.reform.amount),6)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("6")])]),effect:a(g,null,[u("Automatically enlarge your Quantum Foam")])}})),reform:_t(()=>({display:S(()=>a(g,null,[a("span",{style:m},[u("Q"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])])),requirements:Gt(()=>o.gte(t(Xt.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Quantum Foam")]),effect:a(g,null,[u("Automatically re-form your Foam")])}}))};for(const f of Object.values(d))On(f,{display:S(()=>a(g,null,[a("h3",null,[f.tooltip.requirement]),a("br",null,null),f.tooltip.effect]))});const p={buyAll:ht(()=>({enabled(){return!t(i)||Object.values(d).every(f=>t(f.earned))?!1:o.gt(t(re.inflatons),0)||t(U.achievements.protoversal.earned)},key:"shift+f",description:"Buy one of each Foam upgrade",onPress(){for(const f of[un,Fi,Bi,Ei,Xt]){f.upgrades.condense.purchase();for(const h of[...Object.values(ee),"reform"])f.upgrades[h].onClick()}}})),switchTab:ht(()=>({enabled:i,key:"ctrl+f",description:"Move to Foam",onPress(){vn.tabs.selected.value=e}}))},b=ni({main:()=>({display:"Foam",tab:Jt(()=>({display:S(()=>a(g,null,[a("div",null,[u("You have "),a(si,{resource:C[t(s)].amount,color:"var(--feature-background)"},null),u(" "),C[t(s)].amount.displayName,o.gt(t(C[t(s)].upgrades.reform.amount),1)?a("sup",null,[Q(t(C[t(s)].upgrades.reform.amount))]):void 0]),a(Se,null,null),a(fg,null,null),a(Se,{height:"8px"},null),Qo(...Object.values(d))]))}))}),boosts:()=>({display:"Boosts",tab:Jt(()=>({display:S(()=>a(kg,null,null))}))})});return{name:e,theme:n,unlocked:i,production:r,timelineProduction:l,globalBoostBonus:c,achievements:d,hotkeys:p,display:S(()=>a(g,null,[o.gt(t(un.boosts[1].total),0)?te(b):te(t(b.tabs.main.tab))])),tabs:b,[k.protoversal]:un,[k.infinitesimal]:Fi,[k.subspatial]:Bi,[k.subplanck]:Ei,[k.quantum]:Xt}});const qg={class:"skyrmion-container"},Mg={class:"skyrmion-grid"},Tg=se({__name:"Skyrmion",setup(e){const n=B.upgrades,i={fome:{row:2,col:7},autoGain:{row:2,col:11},alpha:{row:3,col:5},beta:{row:3,col:9},gamma:{row:3,col:13},delta:{row:4,col:3},epsilon:{row:4,col:7},zeta:{row:4,col:11},eta:{row:4,col:15},theta:{row:5,col:1},iota:{row:5,col:5},kappa:{row:5,col:9},lambda:{row:5,col:13},mu:{row:5,col:17},nu:{row:6,col:3},xi:{row:6,col:7},pi:{row:6,col:11},rho:{row:6,col:15}};function s(r){return{"--row":i[r].row,"--col":i[r].col}}return(r,l)=>($(),x("div",qg,[w("ul",Mg,[w("li",Bt({class:"skyrmion-upgrade reset"},r.$attrs),[Wt(r.$slots,"default",{},void 0,!0)],16),($(!0),x(g,null,Pe(t(t(n)),(c,m)=>($(),x(g,{key:m},[t(c.visibility)!==t(Te).None?($(),x("li",Bt({key:0,class:"skyrmion-upgrade"},r.$attrs,{style:s(m)}),[($(),ie($e(t(te)(c))))],16)):H("",!0)],64))),128))])]))}});var xg=fe(Tg,[["__scopeId","data-v-3a223863"]]);function Pg(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$s(e)}const Ag="skyrmion",B=nt(Ag,function(){const e="Skyrmions",n={"--feature-background":"#37d7ff"},i=ut(()=>[z(()=>({multiplier:()=>o.reciprocate(t(Re.upgrades.alpha.effect)),enabled:()=>o.gt(t(Re.upgrades.alpha.totalAmount),0),description:S(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B1 ("),Q(t(Re.upgrades.alpha.totalAmount)),u(")")])),smallerIsBetter:!0})),z(()=>({multiplier:()=>o.reciprocate(t(C.infinitesimal.boosts[4].effect)),enabled:()=>o.gt(t(C.infinitesimal.boosts[4].total),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Boost 4 ("),Q(t(C.infinitesimal.boosts[4].total)),u(")")])),smallerIsBetter:!0})),z(()=>({multiplier:we.enhancements.amplification.effect,enabled:F(we.enhancements.amplification.bought),description:S(()=>a(g,null,[u("["),we.name,u("] Entropic Amplification")])),smallerIsBetter:!0}))]),s=h=>_.variable(h).pow10().times(i.getFormula(1)),r=Ye(h=>({initialAmount:1,requirements:[K(()=>({resource:F(st.pions),requiresPay:()=>!t(d.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:s(h.amount)})),K(()=>({resource:F(Re.spinors),requiresPay:()=>!t(d.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:s(h.amount)}))],style:{paddingHorizontal:"20px"},display:S(()=>{const N=s(h.amount),I=o.clampMin(Qn(r.requirements),1),q=Zt(N,o.clampMin(I,1),!0);return a(g,null,[a("h3",null,[u("Convert "),D(q),u(" Pions and Spinors to "),Q(I),u(" Skyrmions")])])})}));On(r,{direction:Ae.Up,display:S(()=>{const h=s(r.amount),N=Qn(r.requirements),I=Zt(h,o.add(N,1),!0);return a(g,null,[u("Next at "),D(I),u(" Pions and Spinors")])})}),this.on("update",()=>{t(d.autoGain.bought)&&r.onClick()});const l=at(r.amount,e),c=v(()=>o.add(t(l),ge(k.subspatial,4))),m=[z(()=>({multiplier:st.upgrades.alpha.effect,enabled:()=>o.gt(t(st.upgrades.alpha.totalAmount),0),description:S(()=>a(g,null,[u("["),e,u("] Pion Upgrade \u03B1 ("),D(t(st.upgrades.alpha.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.zeta.effect,enabled:()=>o.gt(t(Re.upgrades.zeta.totalAmount),0),description:S(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B6 ("),D(t(Re.upgrades.zeta.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.lambda.effect,enabled:()=>o.gt(t(Re.upgrades.lambda.totalAmount),0),description:S(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03BB ("),D(t(Re.upgrades.lambda.totalAmount)),u(")")]))})),z(()=>({multiplier:Re.upgrades.pi.effect,enabled:()=>o.gt(t(Re.upgrades.pi.totalAmount),0),description:S(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03C0 ("),D(t(Re.upgrades.pi.totalAmount)),u(")")]))})),z(()=>({multiplier:C[k.infinitesimal].boosts[2].effect,enabled:()=>o.gt(t(C[k.infinitesimal].boosts[2].total),0),description:S(()=>a(g,null,[u("["),C.name,u("] Infinitesimal Boost 2 ("),Q(t(C[k.infinitesimal].boosts[2].total)),u(")")]))})),z(()=>({multiplier:U.loops.averageLoopValues[U.loops.loops.tempSkyrmion.id],enabled:F(U.loops.loops.tempSkyrmion.built),description:S(()=>a(g,null,[u("["),U.name,u("] Entropic Loop #6")]))})),z(()=>({multiplier:()=>o.reciprocate(t(W.timelines.nerfs[V.BOTTOM])),enabled:()=>t(W.timelines.depths[V.BOTTOM])>0,description:S(()=>a(g,null,[u("["),W.name,u("] Active Bottom Timeline Effect")]))})),z(()=>({multiplier:W.timelines.buffs[V.BOTTOM],enabled:()=>t(W.timelines.scores[V.BOTTOM]).gt(0),description:S(()=>a(g,null,[u("["),W.name,u("] Passive Bottom Timeline Bonus")]))}))],d={fome:f({display:{title:"Condensation",description:a(g,null,[u("Begin Foam generation")])},cost:10,onPurchase(){C.protoversal.upgrades.reform.amount.value=o.dOne}}),autoGain:f({display:{title:"Reformation",description:a(g,null,[u("Automatically gain Skyrmions; they don't cost Pions or Spinors")])},cost:16}),alpha:f({visibility(){return t(this.bought)||o.gte(t(l),20)},display:{title:"Alteration",description:a(g,null,[u("Autobuy \u03B1 upgrades"),a("br",null,null),u("\u03B1 upgrades no longer consume Pions or Spinors")])},cost:24}),beta:f({visibility(){return t(this.bought)||o.gte(t(l),25)},display:{title:"Benediction",description:a(g,null,[u("Autobuy \u03B2 upgrades"),a("br",null,null),u("\u03B2 upgrades no longer consume Pions or Spinors")])},cost:28}),gamma:f({visibility(){return t(this.bought)||o.gte(t(l),30)},display:{title:"Consolidation",description:a(g,null,[u("Autobuy \u03B3 upgrades"),a("br",null,null),u("\u03B3 upgrades no longer consume Pions or Spinors")])},cost:32}),delta:f({visibility(){return t(this.bought)||o.gte(t(l),35)},display:{title:"Diversification",description:a(g,null,[u("Autobuy \u03B4 upgrades"),a("br",null,null),u("\u03B4 upgrades no longer consume Pions or Spinors")])},cost:36}),epsilon:f({visibility(){return t(this.bought)||o.gte(t(l),40)},display:{title:"Encapsulation",description:a(g,null,[u("Autobuy \u03B5 upgrades"),a("br",null,null),u("\u03B5 upgrades no longer consume Pions or Spinors")])},cost:42}),zeta:f({visibility(){return t(this.bought)||o.gte(t(l),45)},display:{title:"Fabrication",description:a(g,null,[u("Autobuy \u03B6 upgrades"),a("br",null,null),u("\u03B6 upgrades no longer consume Pions or Spinors")])},cost:48}),eta:f({visibility(){return t(this.bought)||o.gte(t(l),50)},display:{title:"Germination",description:a(g,null,[u("Autobuy \u03B7 upgrades"),a("br",null,null),u("\u03B7 upgrades no longer consume Pions or Spinors")])},cost:52}),theta:f({visibility(){return t(this.bought)||o.gte(t(l),55)},display:{title:"Hesitation",description:a(g,null,[u("Autobuy \u03B8 upgrades"),a("br",null,null),u("\u03B8 upgrades no longer consume Pions or Spinors")])},cost:56}),iota:f({visibility(){return t(this.bought)||o.gte(t(l),60)},display:{title:"Immitation",description:a(g,null,[u("Autobuy \u03B9 upgrades"),a("br",null,null),u("\u03B9 upgrades no longer consume Pions or Spinors")])},cost:64}),kappa:f({visibility(){return t(this.bought)||o.gte(t(l),65)},display:{title:"Juxtaposition",description:a(g,null,[u("Autobuy \u03BA upgrades"),a("br",null,null),u("\u03BA upgrades no longer consume Pions or Spinors")])},cost:69}),lambda:f({visibility(){return t(this.bought)||o.gte(t(l),70)},display:{title:"Lateralization",description:a(g,null,[u("Autobuy \u03BB upgrades"),a("br",null,null),u("\u03BB upgrades no longer consume Pions or Spinors")])},cost:72}),mu:f({visibility(){return t(this.bought)||o.gte(t(l),75)},display:{title:"Materialization",description:a(g,null,[u("Autobuy \u03BC upgrades"),a("br",null,null),u("\u03BC upgrades no longer consume Pions or Spinors")])},cost:92}),nu:f({visibility(){return t(this.bought)||t(pe.challenge.active)},display:{title:"Neutralization",description:a(g,null,[u("Autobuy \u03BD upgrades"),a("br",null,null),u("\u03BD upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(pe.abyssUpgradeCount)])!=null?h:k.quantum},cost:2}))}),xi:f({visibility(){return t(this.bought)||t(pe.challenge.active)},display:{title:"Externalization",description:a(g,null,[u("Autobuy \u03BE upgrades"),a("br",null,null),u("\u03BE upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(pe.abyssUpgradeCount)])!=null?h:k.quantum},cost:2}))}),pi:f({visibility(){return t(this.bought)||t(pe.challenge.active)},display:{title:"Prioritization",description:a(g,null,[u("Autobuy \u03C0 upgrades"),a("br",null,null),u("\u03C0 upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(pe.abyssUpgradeCount)])!=null?h:k.quantum},cost:2}))}),rho:f({visibility(){return t(this.bought)||t(pe.challenge.active)},display:{title:"Obfuscation",description:a(g,null,[u("Autobuy \u03C1 upgrades"),a("br",null,null),u("\u03C1 upgrades no longer consume Pions or Spinors")])},requirement:dn(()=>({fomeType:()=>{var h;return(h=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(pe.abyssUpgradeCount)])!=null?h:k.quantum},cost:2}))})},p={sell:ht(()=>({enabled:F(pe.challenge.active),key:"s",description:"Sell all Pion and Spinor Upgrades",onPress(){for(const h of[...Object.values(st.upgrades),...Object.values(Re.upgrades)])h.amount.value=0}})),reset:ht(()=>({enabled:()=>!t(d.autoGain.bought),key:"s",description:"Condense some Pions and Spinors into Skyrmions",onPress:r.onClick})),switchTab:ht(()=>({enabled:()=>t(C.unlocked),key:"ctrl+s",description:"Move to Skyrmions",onPress(){vn.tabs.selected.value=e}})),buy:ht(()=>({enabled(){return t(C.unlocked)?Object.keys(d).filter(h=>!t(d[h].bought)).filter(h=>h!=="autoGain").filter(h=>he(st.upgrades[h].visibility)).filter(h=>he(Re.upgrades[h].visibility)).length>0:!1},key:"shift+s",description:"Buy one of each Pion and Spinor Upgrade",onPress(){for(const h of[...Object.values(st.upgrades),...Object.values(Re.upgrades)])h.onClick()}}))},b=Tt("Skyrmion Modifiers",()=>[{title:"Skyrmion Cost",modifier:i,base:()=>o.pow10(t(r.amount)),baseText:S(()=>a(g,null,[u("["),e,u("] Pions and Spinors")])),smallerIsBetter:!0}]);return{name:e,theme:n,conversion:r,skyrmions:l,totalSkyrmions:c,production:m,upgrades:d,hotkeys:p,display:S(()=>{let h;return a(g,null,[u("You have "),a(si,{resource:l,color:"var(--feature-background)",tag:"h2"},null),u(" "),l.displayName,te(b),o.gt(ge(k.subspatial,4),0)?a(g,null,[a("br",null,null),u("Your "),C.subspatial.amount.displayName,u(" is granting an additional "),a("h3",{style:{color:"var(--feature-background)",textShadow:"0px 0px 10px var(--feature-background)"}},[D(ge(k.subspatial,4))]),u(" "),l.displayName]):a(Se,{height:"25px"},null),a(Se,null,null),a("div",{class:"row",style:{flexFlow:"row nowrap"}},[te(st.display),t(_e.expansions.skyrmion.bought)?te(pe.display):a(Se,{width:"250px",height:"250px"},null),te(Re.display)]),a(Se,null,null),a(xg,null,Pg(h=te(r))?h:{default:()=>[h]})])}),pion:st,spinor:Re,abyss:pe};function f(h){const{visibility:N,cost:I,requirement:q,display:E,onPurchase:P}=h;return od({visibility:N,requirements:q!=null?q:K(()=>({cost:I,resource:F(l),requiresPay:!1})),display:E,onPurchase:P})}}),Fg="root",gi=[B,C,U,W,re,_e],vn=nt(Fg,()=>{const e=ni(Object.fromEntries(gi.map(i=>[i.name,()=>({display:i.name,tab:Jt(()=>({style:v(()=>{var s;return(s=t(pe.challenge.active)?pe.theme:i.theme)!=null?s:{}}),display:S(()=>a(g,null,[a("div",null,[te(t(i.display))])]))})),visibility:"unlocked"in i?()=>{var s;return t((s=i.unlocked)!=null?s:!0)}:!0})]))),n={left:ht(()=>({key:"ArrowLeft",description:"Previous Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=Object.entries(e.tabs).filter(([l,c])=>he(c.visibility)).map(([l,c])=>l);if(s.length<=0)return;const r=s.indexOf(i);switch(r){case-1:break;case 0:e.selected.value=s.at(-1);break;default:e.selected.value=s[r-1];break}}})),right:ht(()=>({key:"ArrowRight",description:"Next Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=Object.entries(e.tabs).filter(([l,c])=>he(c.visibility)).map(([l,c])=>l);if(s.length<=0)return;const r=s.indexOf(i);switch(r){case-1:break;case s.length-1:e.selected.value=s[0];break;default:e.selected.value=s[r+1];break}}})),shiftLeft:ht(()=>({key:"shift+ArrowLeft",description:"Previous Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=gi.find(d=>d.name===i);if(s===void 0||!("tabs"in s))return;const r=s.tabs,l=r.selected.value;if(l===void 0)return;const c=Object.entries(r.tabs).filter(([d,p])=>he(p.visibility)).map(([d,p])=>d);if(c.length<=0)return;const m=c.indexOf(l);switch(m){case-1:break;case 0:r.selected.value=c.at(-1);break;default:r.selected.value=c[m-1];break}}})),shiftRight:ht(()=>({key:"shift+ArrowRight",description:"Next Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const s=gi.find(d=>d.name===i);if(s===void 0||!("tabs"in s))return;const r=s.tabs,l=r.selected.value;if(l===void 0)return;const c=Object.entries(r.tabs).filter(([d,p])=>he(p.visibility)).map(([d,p])=>d);if(c.length<=0)return;const m=c.indexOf(l);switch(m){case-1:break;case c.length-1:r.selected.value=c[0];break;default:r.selected.value=c[m+1];break}}})),pause:ht(()=>({key:"p",description:"Pause",onPress(){be.devSpeed===0?be.devSpeed=null:be.devSpeed=0}}))};return{name:"Root",minWidth:300,display:S(()=>t(C.unlocked)?a(g,null,[te(e)]):a("div",{style:B.theme},[te(t(e.tabs[B.name].tab))])),hotkeys:n,tabs:e}}),Bg=e=>[...Object.values(gi),vn],gs=v(()=>!1);function Eg(e,n){}var Rg=Object.freeze(Object.defineProperty({__proto__:null,root:vn,getInitialLayers:Bg,hasWon:gs,fixOldSave:Eg},Symbol.toStringTag,{value:"Module"}));const ai=e=>(ct("data-v-4a50ce42"),e=e(),dt(),e),Og={class:"game-over-modal-header"},Dg=["src","alt"],Lg={class:"game-over-modal-title"},jg=ai(()=>w("h2",null,"Congratulations!",-1)),Ug={key:0},Vg=ai(()=>w("br",null,null,-1)),Gg=ai(()=>w("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),zg=ai(()=>w("br",null,null,-1)),Hg=["href"],Wg=ai(()=>w("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),Yg=se({__name:"GameOverScreen",setup(e){const{title:n,logo:i,discordName:s,discordLink:r,versionNumber:l,versionTitle:c}=ye,m=v(()=>Qi(be.timePlayed)),d=v(()=>gs.value&&!be.keepGoing),p=sn(be,"autosave");function b(){be.keepGoing=!0}function f(){kn(Tn())}return(h,N)=>($(),ie(tn,{"model-value":t(d)},{header:oe(()=>[w("div",Og,[t(i)?($(),x("img",{key:0,class:"game-over-modal-logo",src:t(i),alt:t(n)},null,8,Dg)):H("",!0),w("div",Lg,[jg,w("h4",null,"You've beaten "+J(t(n))+" v"+J(t(l))+": "+J(t(c)),1)])])]),body:oe(({shown:I})=>[I?($(),x("div",Ug,[w("div",null,"It took you "+J(t(m))+" to beat the game.",1),Vg,Gg,zg,w("div",null,[w("a",{href:t(r),class:"game-over-modal-discord-link"},[Wg,u(" "+J(t(s)),1)],8,Hg)]),a(zt,{title:"Autosave",modelValue:t(p),"onUpdate:modelValue":N[0]||(N[0]=q=>We(p)?p.value=q:null)},null,8,["modelValue"])])):H("",!0)]),footer:oe(()=>[w("div",{class:"game-over-footer"},[w("button",{onClick:b,class:"button"},"Keep Going"),w("button",{onClick:f,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var Kg=fe(Yg,[["__scopeId","data-v-4a50ce42"]]);const Ii=e=>(ct("data-v-d3bb0716"),e=e(),dt(),e),Xg=Ii(()=>w("div",{class:"nan-modal-header"},[w("h2",null,"NaN value detected!")],-1)),Qg={key:0},Zg=Ii(()=>w("br",null,null,-1)),Jg=["href"],eb=Ii(()=>w("span",{class:"material-icons nan-modal-discord"},"discord",-1)),tb=Ii(()=>w("br",null,null,-1)),nb={class:"nan-footer"},ib=se({__name:"NaNScreen",setup(e){const{discordName:n,discordLink:i}=ye,s=ae(!0),r=ae(!0),l=sn(Je,"hasNaN"),c=ae(null);Ct(l,h=>{h?(s.value=be.autosave,r.value=be.devSpeed===0):(be.autosave=s.value,be.devSpeed=r.value?0:null)});const m=v(()=>{var h;return(h=Je.NaNPath)==null?void 0:h.join(".")}),d=v(()=>Je.NaNPersistent!=null?Je.NaNPersistent.value:null);function p(){Je.NaNPersistent!=null&&(Je.NaNPersistent.value=new o(0),Je.hasNaN=!1)}function b(){Je.NaNPersistent&&(Je.NaNPersistent.value=new o(1),Je.hasNaN=!1)}function f(){Je.NaNPersistent&&(Je.NaNPersistent.value=new o(NaN),Je.hasNaN=!1)}return(h,N)=>($(),x(g,null,[a(tn,Bt({modelValue:t(l),"onUpdate:modelValue":N[4]||(N[4]=I=>We(l)?l.value=I:null)},h.$attrs),{header:oe(()=>[Xg]),body:oe(()=>[w("div",null,[u(' Attempted to assign "'+J(t(m))+'" to NaN',1),t(d)?($(),x("span",Qg,J(" ")+"(previously "+J(t(hi)(t(d)))+")",1)):H("",!0),u(". Auto-saving has been "+J(s.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),Zg,w("div",null,[w("a",{href:t(i)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[eb,u(" "+J(t(n)||"Profectus & Friends"),1)],8,Jg)]),tb,a(zt,{title:"Autosave",modelValue:s.value,"onUpdate:modelValue":N[0]||(N[0]=I=>s.value=I)},null,8,["modelValue"]),t(ye).enablePausing?($(),ie(zt,{key:0,title:"Pause game",modelValue:r.value,"onUpdate:modelValue":N[1]||(N[1]=I=>r.value=I)},null,8,["modelValue"])):H("",!0)]),footer:oe(()=>[w("div",nb,[w("button",{onClick:N[2]||(N[2]=I=>{var q;return(q=c.value)==null?void 0:q.open()}),class:"button"},"Open Saves Manager"),w("button",{onClick:p,class:"button"},"Set to 0"),w("button",{onClick:b,class:"button"},"Set to 1"),t(d)&&t(o).neq(t(d),0)&&t(o).neq(t(d),1)?($(),x("button",{key:0,onClick:N[3]||(N[3]=I=>l.value=!1),class:"button"}," Set to previous ")):H("",!0),w("button",{onClick:f,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),a(Ks,{ref_key:"savesManager",ref:c},null,512)],64))}});var sb=fe(ib,[["__scopeId","data-v-d3bb0716"]]);const rb={key:0,class:"tpsDisplay"},ob=se({__name:"TPS",setup(e){const n=v(()=>o.div(Je.lastTenTicks.length,Je.lastTenTicks.reduce((i,s)=>i+s,0)));return(i,s)=>t(n).isNan()?H("",!0):($(),x("div",rb,"TPS: "+J(t($n)(t(n))),1))}});var ab=fe(ob,[["__scopeId","data-v-89b89152"]]);const lb={"--foreground":"#D8DEE9","--background":"#2E3440","--raised-background":"#3B4252","--tooltip-foreground":"#E5E9F0","--tooltip-background":"rgba(0, 0, 0, 0.75)","--locked":"#4c566a","--hotkey":"rgba(0, 0, 0, 0.5)","--star":"#fc0","--svg-background":"#2e3440","--box-shadow-color":"#E5E9F0","--highlighted":"#434c5e","--outline":"#3B4252","--danger":"#D08770","--link":"#88C0D0","--modal-border":"solid 2px #3B4252","--quarter-transparent":"rgba(0, 0, 0, 0.25)","--transparent":"#0000","--changelog-feature":"#B48EAD","--changelog-fix":"#A3BE8C","--changelog-balance":"#EBCB8B","--feature-foreground":"#000","--feature-background":"#4c566a","--bought":"#8FBCBB","--border-radius":"15px","--feature-margin":"5px"};var ub=se({__name:"App",setup(e){const n=ye.useHeader,i=lb,s=sn(Be,"showTPS"),r=sn(Je,"errors"),l=v(()=>le(S(()=>a(g,null,[qo.map(te)]))));return(c,m)=>t(r).length>0?($(),x("div",{key:0,class:"error-container",style:Oe(t(i))},[a(Ms,{errors:t(r)},null,8,["errors"])],4)):($(),x(g,{key:1},[w("div",{id:"modal-root",style:Oe(t(i))},null,4),w("div",{class:qe(["app",{useHeader:t(n)}]),style:Oe(t(i))},[t(n)?($(),ie(Xs,{key:0})):H("",!0),a(Rc),t(t(s))?($(),ie(ab,{key:1})):H("",!0),a(Kg),a(sb),($(),ie($e(t(l))))],6)],64))}});var cb=fe(ub,[["__scopeId","data-v-71795b20"]]);function db(e={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:s,onRegistered:r,onRegisteredSW:l,onRegisterError:c}=e;let m,d,p,b;const f=async(N=!0)=>{await p,N&&(m==null||m.addEventListener("controlling",I=>{I.isUpdate&&window.location.reload()})),await(b==null?void 0:b())};async function h(){if("serviceWorker"in navigator){const{Workbox:N,messageSW:I}=await Hn(()=>import("./workbox-window.4a8794bb.js"),[]);b=async()=>{d&&d.waiting&&await I(d.waiting,{type:"SKIP_WAITING"})},m=new N("./sw.js",{scope:"./",type:"classic"}),m.addEventListener("activated",q=>{q.isUpdate||s==null||s()});{const q=()=>{i==null||i()};m.addEventListener("waiting",q),m.addEventListener("externalwaiting",q)}m.register({immediate:n}).then(q=>{d=q,l?l("./sw.js",q):r==null||r(q)}).catch(q=>{c==null||c(q)})}}return p=h(),f}function mb(e={}){const{immediate:n=!0,onNeedRefresh:i,onOfflineReady:s,onRegistered:r,onRegisteredSW:l,onRegisterError:c}=e,m=ae(!1),d=ae(!1);return{updateServiceWorker:db({immediate:n,onNeedRefresh(){m.value=!0,i==null||i()},onOfflineReady(){d.value=!0,s==null||s()},onRegistered:r,onRegisteredSW:l,onRegisterError:c}),offlineReady:d,needRefresh:m}}const bs=console.error;console.error=function(...e){bs(...e)};window.onerror=function(e,n,i,s,r){return Je.errors.push(r instanceof Error?r:new Error(JSON.stringify(r))),bs(r),!0};window.onunhandledrejection=function(e){Je.errors.push(e.reason instanceof Error?e.reason:new Error(JSON.stringify(e.reason))),bs(e.reason)};document.title=ye.title;window.projInfo=ye;ye.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await Co();const{globalBus:e}=await Hn(()=>Promise.resolve().then(function(){return ko}),void 0),{startGameLoop:n}=await Hn(()=>import("./gameLoop.8ca4b0e2.js"),["assets/gameLoop.8ca4b0e2.js","assets/@fontsource.f66d05e7.css","assets/vue.7234e199.js","assets/lz-string.bfbf8ec3.js","assets/@vue.6b211d3c.js","assets/nanoevents.1080beb7.js","assets/vue-next-select.1947c758.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.60c57c44.js","assets/sortablejs.93acc2fb.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-toastification.00c27ea8.js","assets/vue-toastification.4b5f8ac8.css"]),i=window.vue=hr(cb);i.config.errorHandler=function(s,r,l){console.error(s,l,r)},e.emit("setupVue",i),i.mount("#app"),fn(()=>{const s=qs(),{updateServiceWorker:r}=mb({onNeedRefresh(){s.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){r()}})},onOfflineReady(){s.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(l){l&&setInterval(()=>l.update(),60*60*1e3)}})}),n()});export{o as D,Hn as _,Je as a,ye as b,Rg as c,pt as g,Gi as l,be as p,Be as s};
