/* empty css                    */import"./vue.7234e199.js";import{q as Pn,C as t,ab as oe,t as me,aF as q,a1 as E,aL as jt,bv as Un,G as Pe,as as an,_ as S,az as Qn,a2 as M,J as le,O as g,aK as Ee,a0 as ee,I as Oe,a8 as u,a9 as a,b7 as ge,aI as xt,aG as Pt,b2 as kt,l as Ue,u as hi,aD as yr,w as gt,b3 as Nt,ap as _r,aH as ri,A as nt,$ as ie,b9 as Pi,ar as Tt,bt as is,bc as wr,T as rs,j as ss,bw as Yt,ay as os,aM as Et,aO as Ne,z as Zt,bo as as,bs as ls,am as pi,H as us,bx as cs,a7 as ds,bf as ms}from"./@vue.6b211d3c.js";import{L as Kt}from"./lz-string.bfbf8ec3.js";import{c as kr}from"./nanoevents.1080beb7.js";import{Y as ps}from"./vue-next-select.1947c758.js";import{D as fs}from"./vuedraggable.60c57c44.js";import{p as gs}from"./vue-textarea-autosize.35804eaf.js";import{s as bs,u as Sr}from"./vue-toastification.00c27ea8.js";import"./sortablejs.93acc2fb.js";const hs=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}};hs();const vs="modulepreload",ur={},ys="./",zn=function(n,i){return!i||i.length===0?n():Promise.all(i.map(r=>{if(r=`${ys}${r}`,r in ur)return;ur[r]=!0;const s=r.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":vs,s||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),s)return new Promise((m,d)=>{c.addEventListener("load",m),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())},_s="./projInfo-schema.json",ws="Universal Reconstruction",ks="An expanded reversal of Distance Incremental",Ss="universal_reconstruction",Cs="Escapee",Ns="The Paper Pilot Community",Is="https://discord.gg/WzejVAx",qs="1.0",$s="Revitalization",Ms=!0,Ts=!1,xs=2,Ps=!0,As=null,Fs="",Bs=["root"],Rs=3600,Es=!0,Os="base64";var ye={$schema:_s,title:ws,description:ks,id:Ss,author:Cs,discordName:Ns,discordLink:Is,versionNumber:qs,versionTitle:$s,allowGoBack:Ms,defaultShowSmall:Ts,defaultDigitsShown:xs,useHeader:Ps,banner:As,logo:Fs,initialTabs:Bs,maxTickLength:Rs,enablePausing:Es,exportEncoding:Os};const Ds=Pn({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});var ve=window.player=Ds;function Ai(e){return JSON.stringify(e,(n,i)=>t(i))}var be=(e,n)=>{const i=e.__vccOpts||e;for(const[r,s]of n)i[r]=s;return i};const Ls=["onClick"],Vs=oe({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:n}){const i=me(!1),r=me(null);function s(){n("click"),r.value&&clearTimeout(r.value),i.value=!1,an(()=>{i.value=!0,r.value=setTimeout(()=>i.value=!1,500)})}return(l,c)=>(q(),E("button",{onClick:Un(s,["stop"]),class:Pe(["feedback",{activated:i.value,left:e.left}])},[jt(l.$slots,"default",{},void 0,!0)],10,Ls))}});var Fi=be(Vs,[["__scopeId","data-v-01a1b95c"]]);const vi=e=>(xt("data-v-ac351c02"),e=e(),Pt(),e),js={class:"error"},Us={class:"error-title"},zs={class:"error-details",style:{"margin-top":"-10px"}},Gs={key:0},Hs={class:"instructions"},Ws=["href"],Ys=vi(()=>M("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1)),Xs=vi(()=>M("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)),Qs=vi(()=>M("br",null,null,-1)),Ks={key:0,style:{"margin-top":"20px"}},Zs=vi(()=>M("h3",null,"Other errors",-1)),Js=[Zs],eo={class:"error-details"},to={key:0,style:{"margin-top":"10px"}},no={key:1,style:{"margin-top":"10px"}},io=oe({__name:"Error",props:{errors:null},setup(e){const n=e,i=S(()=>n.errors[0]),r=S(()=>n.errors.map(c=>c.stack==null?[]:c.stack.split(`
`))),s=S(()=>n.errors.map(c=>c.cause==null?[]:(typeof c.cause=="string"?c.cause:JSON.stringify(c.cause)).split(`
`)));function l(){let c=Ai(ve);switch(ye.exportEncoding){default:console.warn(`Unknown save encoding: ${ye.exportEncoding}. Defaulting to lz`);case"lz":c=Kt.compressToUTF16(c);break;case"base64":c=btoa(unescape(encodeURIComponent(c)));break;case"plain":break}console.log(c);const m=document.createElement("textarea");m.value=c,document.body.appendChild(m),m.select(),m.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(m)}return Qn(()=>{ve.autosave=!1,ve.devSpeed=0}),(c,m)=>(q(),E("div",js,[M("h1",Us,le(t(i).name)+": "+le(t(i).message),1),M("div",zs,[t(i).cause?(q(),E("div",Gs,[(q(!0),E(g,null,Ee(t(s)[0],d=>(q(),E("div",{key:d},le(d),1))),128))])):ee("",!0),t(i).stack?(q(),E("div",{key:1,style:Oe(t(i).cause?"margin-top: 10px":"")},[(q(!0),E(g,null,Ee(t(r)[0],d=>(q(),E("div",{key:d},le(d),1))),128))],4)):ee("",!0)]),M("div",Hs,[u(" Check the console for more details, and consider sharing it with the developers on "),M("a",{href:t(ye).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,Ws),u("! "),a(Fi,{onClick:l,class:"button",style:{display:"inline-flex"}},{default:ge(()=>[Ys,Xs]),_:1}),Qs,e.errors.length>1?(q(),E("div",Ks,Js)):ee("",!0),(q(!0),E(g,null,Ee(e.errors.slice(1),(d,p)=>(q(),E("div",{key:p,style:{"margin-top":"20px"}},[M("details",eo,[M("summary",null,le(d.name)+": "+le(d.message),1),d.cause?(q(),E("div",to,[(q(!0),E(g,null,Ee(t(s)[p+1],b=>(q(),E("div",{key:b},le(b),1))),128))])):ee("",!0),d.stack?(q(),E("div",no,[(q(!0),E(g,null,Ee(t(r)[p+1],b=>(q(),E("div",{key:b},le(b),1))),128))])):ee("",!0)])]))),128))])]))}});var Cr=be(io,[["__scopeId","data-v-ac351c02"]]);class ro{constructor(n){this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=n}get size(){return this.map.size}get(n){const i=this.map.get(n);if(i!==void 0)return i!==this.first&&(i===this.last?(this.last=i.prev,this.last.next=void 0):(i.prev.next=i.next,i.next.prev=i.prev),i.next=this.first,this.first.prev=i,this.first=i),i.value}set(n,i){if(this.maxSize<1)return;if(this.map.has(n))throw new Error("Cannot update existing keys in the cache");const r=new so(n,i);for(this.first===void 0?(this.first=r,this.last=r):(r.next=this.first,this.first.prev=r,this.first=r),this.map.set(n,r);this.map.size>this.maxSize;){const s=this.last;this.map.delete(s.key),this.last=s.prev,this.last.next=void 0}}}class so{constructor(n,i){this.next=void 0,this.prev=void 0,this.key=n,this.value=i}}const ki=17,oo=9e15,ao=Math.log10(9e15),lo=1/9e15,uo=308,co=-324,cr=5,mo=(1<<10)-1,po=function(){const e=[];for(let i=co+1;i<=uo;i++)e.push(Number("1e"+i));const n=323;return function(i){return e[i+n]}}(),dn=[2,Math.E,3,4,5,6,7,8,9,10],fo=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],go=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let O=function(n){return o.fromValue_noAlloc(n)},he=function(e,n,i){return o.fromComponents(e,n,i)},Se=function(n,i,r){return o.fromComponents_noNormalize(n,i,r)};const tn=function(n,i){const r=i+1,s=Math.ceil(Math.log10(Math.abs(n))),l=Math.round(n*Math.pow(10,r-s))*Math.pow(10,s-r);return parseFloat(l.toFixed(Math.max(r-s,0)))},Si=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},bo=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let n=1;for(;e<10;)n=n*e,++e;e-=1;let i=.9189385332046727;i=i+(e+.5)*Math.log(e),i=i-e;const r=e*e;let s=e;return i=i+1/(12*s),s=s*r,i=i+1/(360*s),s=s*r,i=i+1/(1260*s),s=s*r,i=i+1/(1680*s),s=s*r,i=i+1/(1188*s),s=s*r,i=i+691/(360360*s),s=s*r,i=i+7/(1092*s),s=s*r,i=i+3617/(122400*s),Math.exp(i)/n},Nr=.5671432904097838,dr=function(e,n=1e-10){let i,r;if(!Number.isFinite(e)||e===0)return e;if(e===1)return Nr;e<10?i=0:i=Math.log(e)-Math.log(Math.log(e));for(let s=0;s<100;++s){if(r=(e*Math.exp(-i)+i*i)/(i+1),Math.abs(r-i)<n*Math.abs(r))return r;i=r}throw Error(`Iteration failed to converge: ${e.toString()}`)};function mr(e,n=1e-10){let i,r,s,l;if(!Number.isFinite(e.mag)||e.eq(o.dZero))return e;if(e.eq(o.dOne))return o.fromNumber(Nr);i=o.ln(e);for(let c=0;c<100;++c){if(r=i.neg().exp(),s=i.sub(e.mul(r)),l=i.sub(s.div(i.add(1).sub(i.add(2).mul(s).div(o.mul(2,i).add(2))))),o.abs(l.sub(i)).lt(o.abs(l).mul(n)))return l;i=l}throw Error(`Iteration failed to converge: ${e.toString()}`)}const F=class{constructor(e){this.sign=0,this.mag=0,this.layer=0,e instanceof F?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let n;return this.mag===5e-324?n=5:n=this.mag/po(e),this.sign*n}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,n,i){return new F().fromComponents(e,n,i)}static fromComponents_noNormalize(e,n,i){return new F().fromComponents_noNormalize(e,n,i)}static fromMantissaExponent(e,n){return new F().fromMantissaExponent(e,n)}static fromMantissaExponent_noNormalize(e,n){return new F().fromMantissaExponent_noNormalize(e,n)}static fromDecimal(e){return new F().fromDecimal(e)}static fromNumber(e){return new F().fromNumber(e)}static fromString(e){return new F().fromString(e)}static fromValue(e){return new F().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof F)return e;if(typeof e=="string"){const n=F.fromStringCache.get(e);return n!==void 0?n:F.fromString(e)}else return typeof e=="number"?F.fromNumber(e):F.dZero}static abs(e){return O(e).abs()}static neg(e){return O(e).neg()}static negate(e){return O(e).neg()}static negated(e){return O(e).neg()}static sign(e){return O(e).sign}static sgn(e){return O(e).sign}static round(e){return O(e).round()}static floor(e){return O(e).floor()}static ceil(e){return O(e).ceil()}static trunc(e){return O(e).trunc()}static add(e,n){return O(e).add(n)}static plus(e,n){return O(e).add(n)}static sub(e,n){return O(e).sub(n)}static subtract(e,n){return O(e).sub(n)}static minus(e,n){return O(e).sub(n)}static mul(e,n){return O(e).mul(n)}static multiply(e,n){return O(e).mul(n)}static times(e,n){return O(e).mul(n)}static div(e,n){return O(e).div(n)}static divide(e,n){return O(e).div(n)}static recip(e){return O(e).recip()}static reciprocal(e){return O(e).recip()}static reciprocate(e){return O(e).reciprocate()}static cmp(e,n){return O(e).cmp(n)}static cmpabs(e,n){return O(e).cmpabs(n)}static compare(e,n){return O(e).cmp(n)}static isNaN(e){return e=O(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=O(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,n){return O(e).eq(n)}static equals(e,n){return O(e).eq(n)}static neq(e,n){return O(e).neq(n)}static notEquals(e,n){return O(e).notEquals(n)}static lt(e,n){return O(e).lt(n)}static lte(e,n){return O(e).lte(n)}static gt(e,n){return O(e).gt(n)}static gte(e,n){return O(e).gte(n)}static max(e,n){return O(e).max(n)}static min(e,n){return O(e).min(n)}static minabs(e,n){return O(e).minabs(n)}static maxabs(e,n){return O(e).maxabs(n)}static clamp(e,n,i){return O(e).clamp(n,i)}static clampMin(e,n){return O(e).clampMin(n)}static clampMax(e,n){return O(e).clampMax(n)}static cmp_tolerance(e,n,i){return O(e).cmp_tolerance(n,i)}static compare_tolerance(e,n,i){return O(e).cmp_tolerance(n,i)}static eq_tolerance(e,n,i){return O(e).eq_tolerance(n,i)}static equals_tolerance(e,n,i){return O(e).eq_tolerance(n,i)}static neq_tolerance(e,n,i){return O(e).neq_tolerance(n,i)}static notEquals_tolerance(e,n,i){return O(e).notEquals_tolerance(n,i)}static lt_tolerance(e,n,i){return O(e).lt_tolerance(n,i)}static lte_tolerance(e,n,i){return O(e).lte_tolerance(n,i)}static gt_tolerance(e,n,i){return O(e).gt_tolerance(n,i)}static gte_tolerance(e,n,i){return O(e).gte_tolerance(n,i)}static pLog10(e){return O(e).pLog10()}static absLog10(e){return O(e).absLog10()}static log10(e){return O(e).log10()}static log(e,n){return O(e).log(n)}static log2(e){return O(e).log2()}static ln(e){return O(e).ln()}static logarithm(e,n){return O(e).logarithm(n)}static pow(e,n){return O(e).pow(n)}static pow10(e){return O(e).pow10()}static pow_base(e,n){return O(e).pow_base(n)}static root(e,n){return O(e).root(n)}static factorial(e,n){return O(e).factorial()}static gamma(e,n){return O(e).gamma()}static lngamma(e,n){return O(e).lngamma()}static exp(e){return O(e).exp()}static sqr(e){return O(e).sqr()}static sqrt(e){return O(e).sqrt()}static cube(e){return O(e).cube()}static cbrt(e){return O(e).cbrt()}static tetrate(e,n=2,i=Se(1,0,1)){return O(e).tetrate(n,i)}static iteratedexp(e,n=2,i=Se(1,0,1)){return O(e).iteratedexp(n,i)}static iteratedlog(e,n=10,i=1){return O(e).iteratedlog(n,i)}static layeradd10(e,n){return O(e).layeradd10(n)}static layeradd(e,n,i=10){return O(e).layeradd(n,i)}static slog(e,n=10){return O(e).slog(n)}static lambertw(e){return O(e).lambertw()}static ssqrt(e){return O(e).ssqrt()}static pentate(e,n=2,i=Se(1,0,1)){return O(e).pentate(n,i)}static sin(e){return O(e).sin()}static cos(e){return O(e).cos()}static tan(e){return O(e).tan()}static asin(e){return O(e).asin()}static acos(e){return O(e).acos()}static atan(e){return O(e).atan()}static sinh(e){return O(e).sinh()}static cosh(e){return O(e).cosh()}static tanh(e){return O(e).tanh()}static asinh(e){return O(e).asinh()}static acosh(e){return O(e).acosh()}static atanh(e){return O(e).atanh()}static affordGeometricSeries(e,n,i,r){return this.affordGeometricSeries_core(O(e),O(n),O(i),r)}static sumGeometricSeries(e,n,i,r){return this.sumGeometricSeries_core(e,O(n),O(i),r)}static affordArithmeticSeries(e,n,i,r){return this.affordArithmeticSeries_core(O(e),O(n),O(i),O(r))}static sumArithmeticSeries(e,n,i,r){return this.sumArithmeticSeries_core(O(e),O(n),O(i),O(r))}static efficiencyOfPurchase(e,n,i){return this.efficiencyOfPurchase_core(O(e),O(n),O(i))}static randomDecimalForTesting(e){if(Math.random()*20<1)return Se(0,0,0);const n=Math.random()>.5?1:-1;if(Math.random()*20<1)return Se(n,0,1);const i=Math.floor(Math.random()*(e+1));let r=i===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(r=Math.trunc(r));let s=Math.pow(10,r);return Math.random()>.9&&(s=Math.trunc(s)),he(n,i,s)}static affordGeometricSeries_core(e,n,i,r){const s=n.mul(i.pow(r));return F.floor(e.div(s).mul(i.sub(1)).add(1).log10().div(i.log10()))}static sumGeometricSeries_core(e,n,i,r){return n.mul(i.pow(r)).mul(F.sub(1,i.pow(e))).div(F.sub(1,i))}static affordArithmeticSeries_core(e,n,i,r){const l=n.add(r.mul(i)).sub(i.div(2)),c=l.pow(2);return l.neg().add(c.add(i.mul(e).mul(2)).sqrt()).div(i).floor()}static sumArithmeticSeries_core(e,n,i,r){const s=n.add(r.mul(i));return e.div(2).mul(s.mul(2).plus(e.sub(1).mul(i)))}static efficiencyOfPurchase_core(e,n,i){return e.div(n).add(e.div(i))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<lo)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),n=Math.sign(this.mag);if(e>=oo)return this.layer+=1,this.mag=n*Math.log10(e),this;for(;e<ao&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=n*Math.pow(10,e),e=Math.abs(this.mag),n=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this.normalize(),this}fromComponents_noNormalize(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this}fromMantissaExponent(e,n){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=n+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,n){return this.fromMantissaExponent(e,n),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const n=e,i=F.fromStringCache.get(n);if(i!==void 0)return this.fromDecimal(i);e=e.replace(",","");const r=e.split("^^^");if(r.length===2){const N=parseFloat(r[0]),v=parseFloat(r[1]),T=r[1].split(";");let A=1;if(T.length===2&&(A=parseFloat(T[1]),isFinite(A)||(A=1)),isFinite(N)&&isFinite(v)){const R=F.pentate(N,v,A);return this.sign=R.sign,this.layer=R.layer,this.mag=R.mag,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}}const s=e.split("^^");if(s.length===2){const N=parseFloat(s[0]),v=parseFloat(s[1]),T=s[1].split(";");let A=1;if(T.length===2&&(A=parseFloat(T[1]),isFinite(A)||(A=1)),isFinite(N)&&isFinite(v)){const R=F.tetrate(N,v,A);return this.sign=R.sign,this.layer=R.layer,this.mag=R.mag,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}}const l=e.split("^");if(l.length===2){const N=parseFloat(l[0]),v=parseFloat(l[1]);if(isFinite(N)&&isFinite(v)){const T=F.pow(N,v);return this.sign=T.sign,this.layer=T.layer,this.mag=T.mag,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}}e=e.trim().toLowerCase();let c,m,d=e.split("pt");if(d.length===2){c=10,m=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let N=parseFloat(d[1]);if(isFinite(N)||(N=1),isFinite(c)&&isFinite(m)){const v=F.tetrate(c,m,N);return this.sign=v.sign,this.layer=v.layer,this.mag=v.mag,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}}if(d=e.split("p"),d.length===2){c=10,m=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let N=parseFloat(d[1]);if(isFinite(N)||(N=1),isFinite(c)&&isFinite(m)){const v=F.tetrate(c,m,N);return this.sign=v.sign,this.layer=v.layer,this.mag=v.mag,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}}const p=e.split("e"),b=p.length-1;if(b===0){const N=parseFloat(e);if(isFinite(N))return this.fromNumber(N),F.fromStringCache.size>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}else if(b===1){const N=parseFloat(e);if(isFinite(N)&&N!==0)return this.fromNumber(N),F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}const f=e.split("e^");if(f.length===2){this.sign=1,f[0].charAt(0)=="-"&&(this.sign=-1);let N="";for(let v=0;v<f[1].length;++v){const T=f[1].charCodeAt(v);if(T>=43&&T<=57||T===101)N+=f[1].charAt(v);else return this.layer=parseFloat(N),this.mag=parseFloat(f[1].substr(v+1)),this.normalize(),F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}}if(b<1)return this.sign=0,this.layer=0,this.mag=0,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this;const w=parseFloat(p[0]);if(w===0)return this.sign=0,this.layer=0,this.mag=0,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this;let I=parseFloat(p[p.length-1]);if(b>=2){const N=parseFloat(p[p.length-2]);isFinite(N)&&(I*=Math.sign(N),I+=Si(N))}if(!isFinite(w))this.sign=p[0]==="-"?-1:1,this.layer=b,this.mag=I;else if(b===1)this.sign=Math.sign(w),this.layer=1,this.mag=I+Math.log10(Math.abs(w));else if(this.sign=Math.sign(w),this.layer=b,b===2){const N=F.mul(he(1,2,I),O(w));return this.sign=N.sign,this.layer=N.layer,this.mag=N.mag,F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}else this.mag=I;return this.normalize(),F.fromStringCache.maxSize>=1&&F.fromStringCache.set(n,F.fromDecimal(this)),this}fromValue(e){return e instanceof F?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:tn(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:tn(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=cr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):tn(this.m,e)+"e"+tn(this.e,e):this.layer===1?tn(this.m,e)+"e"+tn(this.e,e):this.layer<=cr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+tn(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+tn(this.mag,e)}abs(){return Se(this.sign===0?0:1,this.layer,this.mag)}neg(){return Se(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?F.dZero:this.layer===0?he(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?F.dZero:this.layer===0?he(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?F.dZero:this.layer===0?he(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?F.dZero:this.layer===0?he(this.sign,0,Math.trunc(this.mag)):this}add(e){const n=O(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer)||this.sign===0)return n;if(n.sign===0)return this;if(this.sign===-n.sign&&this.layer===n.layer&&this.mag===n.mag)return Se(0,0,0);let i,r;if(this.layer>=2||n.layer>=2)return this.maxabs(n);if(F.cmpabs(this,n)>0?(i=this,r=n):(i=n,r=this),i.layer===0&&r.layer===0)return F.fromNumber(i.sign*i.mag+r.sign*r.mag);const s=i.layer*Math.sign(i.mag),l=r.layer*Math.sign(r.mag);if(s-l>=2)return i;if(s===0&&l===-1){if(Math.abs(r.mag-Math.log10(i.mag))>ki)return i;{const c=Math.pow(10,Math.log10(i.mag)-r.mag),m=r.sign+i.sign*c;return he(Math.sign(m),1,r.mag+Math.log10(Math.abs(m)))}}if(s===1&&l===0){if(Math.abs(i.mag-Math.log10(r.mag))>ki)return i;{const c=Math.pow(10,i.mag-Math.log10(r.mag)),m=r.sign+i.sign*c;return he(Math.sign(m),1,Math.log10(r.mag)+Math.log10(Math.abs(m)))}}if(Math.abs(i.mag-r.mag)>ki)return i;{const c=Math.pow(10,i.mag-r.mag),m=r.sign+i.sign*c;return he(Math.sign(m),1,r.mag+Math.log10(Math.abs(m)))}}plus(e){return this.add(e)}sub(e){return this.add(O(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const n=O(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer))return n;if(this.sign===0||n.sign===0)return Se(0,0,0);if(this.layer===n.layer&&this.mag===-n.mag)return Se(this.sign*n.sign,0,1);let i,r;if(this.layer>n.layer||this.layer==n.layer&&Math.abs(this.mag)>Math.abs(n.mag)?(i=this,r=n):(i=n,r=this),i.layer===0&&r.layer===0)return F.fromNumber(i.sign*r.sign*i.mag*r.mag);if(i.layer>=3||i.layer-r.layer>=2)return he(i.sign*r.sign,i.layer,i.mag);if(i.layer===1&&r.layer===0)return he(i.sign*r.sign,1,i.mag+Math.log10(r.mag));if(i.layer===1&&r.layer===1)return he(i.sign*r.sign,1,i.mag+r.mag);if(i.layer===2&&r.layer===1){const s=he(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(he(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return he(i.sign*r.sign,s.layer+1,s.sign*s.mag)}if(i.layer===2&&r.layer===2){const s=he(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(he(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return he(i.sign*r.sign,s.layer+1,s.sign*s.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const n=O(e);return this.mul(n.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?F.dNaN:this.layer===0?he(this.sign,0,1/this.mag):he(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const n=O(e);return this.sign>n.sign?1:this.sign<n.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const n=O(e),i=this.mag>0?this.layer:-this.layer,r=n.mag>0?n.layer:-n.layer;return i>r?1:i<r?-1:this.mag>n.mag?1:this.mag<n.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const n=O(e);return this.sign===n.sign&&this.layer===n.layer&&this.mag===n.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const n=O(e);return this.lt(n)?n:this}min(e){const n=O(e);return this.gt(n)?n:this}maxabs(e){const n=O(e);return this.cmpabs(n)<0?n:this}minabs(e){const n=O(e);return this.cmpabs(n)>0?n:this}clamp(e,n){return this.max(e).min(n)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)?0:this.cmp(i)}compare_tolerance(e,n){return this.cmp_tolerance(e,n)}eq_tolerance(e,n){const i=O(e);if(n==null&&(n=1e-7),this.sign!==i.sign||Math.abs(this.layer-i.layer)>1)return!1;let r=this.mag,s=i.mag;return this.layer>i.layer&&(s=Si(s)),this.layer<i.layer&&(r=Si(r)),Math.abs(r-s)<=n*Math.max(Math.abs(r),Math.abs(s))}equals_tolerance(e,n){return this.eq_tolerance(e,n)}neq_tolerance(e,n){return!this.eq_tolerance(e,n)}notEquals_tolerance(e,n){return this.neq_tolerance(e,n)}lt_tolerance(e,n){const i=O(e);return!this.eq_tolerance(i,n)&&this.lt(i)}lte_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)||this.lt(i)}gt_tolerance(e,n){const i=O(e);return!this.eq_tolerance(i,n)&&this.gt(i)}gte_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)||this.gt(i)}pLog10(){return this.lt(F.dZero)?F.dZero:this.log10()}absLog10(){return this.sign===0?F.dNaN:this.layer>0?he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):he(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?F.dNaN:this.layer>0?he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):he(this.sign,0,Math.log10(this.mag))}log(e){return e=O(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?F.dNaN:this.layer===0&&e.layer===0?he(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):F.div(this.log10(),e.log10())}log2(){return this.sign<=0?F.dNaN:this.layer===0?he(this.sign,0,Math.log2(this.mag)):this.layer===1?he(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?he(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?F.dNaN:this.layer===0?he(this.sign,0,Math.log(this.mag)):this.layer===1?he(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?he(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):he(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const n=O(e),i=this,r=n;if(i.sign===0)return r.eq(0)?Se(1,0,1):i;if(i.sign===1&&i.layer===0&&i.mag===1)return i;if(r.sign===0)return Se(1,0,1);if(r.sign===1&&r.layer===0&&r.mag===1)return i;const s=i.absLog10().mul(r).pow10();return this.sign===-1?Math.abs(r.toNumber()%2)%2===1?s.neg():Math.abs(r.toNumber()%2)%2===0?s:F.dNaN:s}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return F.dNaN;let e=this;if(e.layer===0){const n=Math.pow(10,e.sign*e.mag);if(Number.isFinite(n)&&Math.abs(n)>=.1)return he(1,0,n);if(e.sign===0)return F.dOne;e=Se(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?he(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?he(-e.sign,e.layer+1,-e.mag):F.dOne}pow_base(e){return O(e).pow(this)}root(e){const n=O(e);return this.pow(n.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?F.exp(F.mul(this,F.ln(this).sub(1))):F.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(Se(1,0,24)))return F.fromNumber(bo(this.sign*this.mag));const e=this.mag-1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let r=e,s=12*r,l=1/s,c=n+l;if(c===n||(n=c,r=r*i,s=360*r,l=1/s,c=n-l,c===n))return F.exp(n);n=c,r=r*i,s=1260*r;let m=1/s;return n=n+m,r=r*i,s=1680*r,m=1/s,n=n-m,F.exp(n)}else return this.layer===1?F.exp(F.mul(this,F.ln(this).sub(1))):F.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?F.dOne:this.layer===0&&this.mag<=709.7?F.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?he(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?he(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):he(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return F.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return he(1,2,Math.log10(this.mag)-.3010299956639812);{const e=F.div(Se(this.sign,this.layer-1,this.mag),Se(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,n=Se(1,0,1)){if(e===1)return F.pow(this,n);if(e===0)return new F(n);if(this.eq(F.dOne))return F.dOne;if(this.eq(-1))return F.pow(this,n);if(e===Number.POSITIVE_INFINITY){const s=this.toNumber();if(s<=1.444667861009766&&s>=.06598803584531254){if(s>1.444667861009099)return F.fromNumber(Math.E);const l=F.ln(this).neg();return l.lambertw().div(l)}else return s>1.444667861009766?F.fromNumber(Number.POSITIVE_INFINITY):F.dNaN}if(this.eq(F.dZero)){let s=Math.abs((e+1)%2);return s>1&&(s=2-s),F.fromNumber(s)}if(e<0)return F.iteratedlog(n,this,-e);n=O(n);const i=e;e=Math.trunc(e);const r=i-e;if(this.gt(F.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let s=0;s<e;++s){const l=n;if(n=this.pow(n),l.eq(n))return n}if(r!=0){const s=this.pow(n);return n.mul(1-r).add(s.mul(r))}return n}r!==0&&(n.eq(F.dOne)?this.gt(10)?n=this.pow(r):(n=F.fromNumber(F.tetrate_critical(this.toNumber(),r)),this.lt(2)&&(n=n.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?n=n.layeradd10(r):n=n.layeradd(r,this));for(let s=0;s<e;++s){if(n=this.pow(n),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(n.layer-this.layer>3)return Se(n.sign,n.layer+(e-s-1),n.mag);if(s>1e4)return n}return n}iteratedexp(e=2,n=Se(1,0,1)){return this.tetrate(e,n)}iteratedlog(e=10,n=1){if(n<0)return F.tetrate(e,-n,this);e=O(e);let i=F.fromDecimal(this);const r=n;n=Math.trunc(n);const s=r-n;if(i.layer-e.layer>3){const l=Math.min(n,i.layer-e.layer-3);n-=l,i.layer-=l}for(let l=0;l<n;++l){if(i=i.log(e),!isFinite(i.layer)||!isFinite(i.mag))return i.normalize();if(l>1e4)return i}return s>0&&s<1&&(e.eq(10)?i=i.layeradd10(-s):i=i.layeradd(-s,e)),i}slog(e=10,n=100){let i=.001,r=!1,s=!1,l=this.slog_internal(e).toNumber();for(let c=1;c<n;++c){const d=new F(e).tetrate(l).gt(this);if(c>1&&s!=d&&(r=!0),s=d,r?i/=2:i*=2,i=Math.abs(i)*(d?-1:1),l+=i,i===0)break}return F.fromNumber(l)}slog_internal(e=10){if(e=O(e),e.lte(F.dZero)||e.eq(F.dOne))return F.dNaN;if(e.lt(F.dOne))return this.eq(F.dOne)?F.dZero:this.eq(F.dZero)?F.dNegOne:F.dNaN;if(this.mag<0||this.eq(F.dZero))return F.dNegOne;let n=0,i=F.fromDecimal(this);if(i.layer-e.layer>3){const r=i.layer-e.layer-3;n+=r,i.layer-=r}for(let r=0;r<100;++r)if(i.lt(F.dZero))i=F.pow(e,i),n-=1;else{if(i.lte(F.dOne))return F.fromNumber(n+F.slog_critical(e.toNumber(),i.toNumber()));n+=1,i=F.log(i,e)}return F.fromNumber(n)}static slog_critical(e,n){return e>10?n-1:F.critical_section(e,n,go)}static tetrate_critical(e,n){return F.critical_section(e,n,fo)}static critical_section(e,n,i){n*=10,n<0&&(n=0),n>10&&(n=10),e<2&&(e=2),e>10&&(e=10);let r=0,s=0;for(let c=0;c<dn.length;++c)if(dn[c]==e){r=i[c][Math.floor(n)],s=i[c][Math.ceil(n)];break}else if(dn[c]<e&&dn[c+1]>e){const m=(e-dn[c])/(dn[c+1]-dn[c]);r=i[c][Math.floor(n)]*(1-m)+i[c+1][Math.floor(n)]*m,s=i[c][Math.ceil(n)]*(1-m)+i[c+1][Math.ceil(n)]*m;break}const l=n-Math.floor(n);return r<=0||s<=0?r*(1-l)+s*l:Math.pow(e,Math.log(r)/Math.log(e)*(1-l)+Math.log(s)/Math.log(e)*l)}layeradd10(e){e=F.fromValue_noAlloc(e).toNumber();const n=F.fromDecimal(this);if(e>=1){n.mag<0&&n.layer>0?(n.sign=0,n.mag=0,n.layer=0):n.sign===-1&&n.layer==0&&(n.sign=1,n.mag=-n.mag);const i=Math.trunc(e);e-=i,n.layer+=i}if(e<=-1){const i=Math.trunc(e);if(e-=i,n.layer+=i,n.layer<0)for(let r=0;r<100;++r){if(n.layer++,n.mag=Math.log10(n.mag),!isFinite(n.mag))return n.sign===0&&(n.sign=1),n.layer<0&&(n.layer=0),n.normalize();if(n.layer>=0)break}}for(;n.layer<0;)n.layer++,n.mag=Math.log10(n.mag);return n.sign===0&&(n.sign=1,n.mag===0&&n.layer>=1&&(n.layer-=1,n.mag=1)),n.normalize(),e!==0?n.layeradd(e,10):n}layeradd(e,n){const r=this.slog(n).toNumber()+e;return r>=0?F.tetrate(n,r):Number.isFinite(r)?r>=-1?F.log(F.tetrate(n,r+1),n):F.log(F.log(F.tetrate(n,r+2),n),n):F.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return F.fromNumber(dr(this.toNumber()));if(this.layer===0)return F.fromNumber(dr(this.sign*this.mag));if(this.layer===1)return mr(this);if(this.layer===2)return mr(this);if(this.layer>=3)return Se(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return Se(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,n=Se(1,0,1)){n=O(n);const i=e;e=Math.trunc(e);const r=i-e;r!==0&&(n.eq(F.dOne)?(++e,n=F.fromNumber(r)):this.eq(10)?n=n.layeradd10(r):n=n.layeradd(r,this));for(let s=0;s<e;++s){if(n=this.tetrate(n.toNumber()),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(s>10)return n}return n}sin(){return this.mag<0?this:this.layer===0?F.fromNumber(Math.sin(this.sign*this.mag)):Se(0,0,0)}cos(){return this.mag<0?F.dOne:this.layer===0?F.fromNumber(Math.cos(this.sign*this.mag)):Se(0,0,0)}tan(){return this.mag<0?this:this.layer===0?F.fromNumber(Math.tan(this.sign*this.mag)):Se(0,0,0)}asin(){return this.mag<0?this:this.layer===0?F.fromNumber(Math.asin(this.sign*this.mag)):Se(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?F.fromNumber(Math.acos(this.toNumber())):this.layer===0?F.fromNumber(Math.acos(this.sign*this.mag)):Se(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?F.fromNumber(Math.atan(this.sign*this.mag)):F.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return F.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return F.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?Se(Number.NaN,Number.NaN,Number.NaN):F.ln(this.add(1).div(F.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(F.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let o=F;o.fromStringCache=new ro(mo);o.dZero=Se(0,0,0);o.dOne=Se(1,0,1);o.dNegOne=Se(-1,0,1);o.dTwo=Se(1,0,2);o.dTen=Se(1,0,10);o.dNaN=Se(Number.NaN,Number.NaN,Number.NaN);o.dInf=Se(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);o.dNegInf=Se(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);o.dNumberMax=he(1,0,Number.MAX_VALUE);o.dNumberMin=he(1,0,Number.MIN_VALUE);O=o.fromValue_noAlloc;he=o.fromComponents;Se=o.fromComponents_noNormalize;o.fromMantissaExponent;o.fromMantissaExponent_noNormalize;const ho={variables:{"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"15px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1,mergeAdjacent:!1,showPin:!0};var Bi=(e=>(e.Classic="classic",e))(Bi||{}),An={classic:ho};const ut=kr();"fonts"in document&&(document.fonts.onloadingdone=()=>ut.emit("fontsLoaded"));var vo=Object.freeze(Object.defineProperty({__proto__:null,globalBus:ut},Symbol.toStringTag,{value:"Module"})),ze=(e=>(e.standard="standard",e.thousands="thousands",e.engineering="engineering",e.scientific="scientific",e))(ze||{});function Ir(e={}){return Object.assign({id:`${ye.id}-0`,name:"Default Save",tabs:ye.initialTabs.slice(),time:Date.now(),autosave:!0,timePlayed:0,keepGoing:!1,modID:ye.id,modVersion:ye.versionNumber,layers:{}},e)}const yo=me(!1);function $t(e){var i;if(t(yo))return(i=localStorage.getItem((e!=null?e:ve).id))!=null?i:"";const n=Kt.compressToUTF16(Ai(e!=null?e:ve));return localStorage.setItem((e!=null?e:ve).id,n),n}async function _o(){ko();try{let e=localStorage.getItem(Me.active);if(e==null){await fn(In());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Kt.decompressFromUTF16(e);else throw"Unable to determine save encoding";const n=JSON.parse(e);if(n.modID!==ye.id){await fn(In());return}n.id=Me.active,await fn(n)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await fn(In())}}function In(){const e=ci(),n=Ir({id:e});return $t(n),Me.saves.push(e),n}function ci(){let e,n=0;do e=`${ye.id}-${n++}`;while(localStorage.getItem(e)!=null);return e}const Ri=me(!1);async function fn(e){console.info("Loading save",e),Ri.value=!0;const{layers:n,removeLayer:i,addLayer:r}=await zn(()=>Promise.resolve().then(function(){return Rl}),void 0),{fixOldSave:s,getInitialLayers:l}=await zn(()=>Promise.resolve().then(function(){return Vp}),void 0);for(const c in n){const m=n[c];m&&i(m)}l(e).forEach(c=>r(c,e)),e=Ir(e),e.time=Date.now(),e.modVersion!==ye.versionNumber&&(s(e.modVersion,e),e.modVersion=ye.versionNumber),Object.assign(ve,e),Me.active=ve.id,ut.emit("onLoad")}setInterval(()=>{ve.autosave&&$t()},1e3);window.onbeforeunload=()=>{ve.autosave&&$t()};window.save=$t;const wo=window.hardReset=async()=>{await fn(In())};window.deleteLowerSaves=()=>{const e=Object.values(Me.saves).indexOf(ve.id)+1;Object.values(Me.saves).slice(e).forEach(n=>localStorage.removeItem(n)),Me.saves=Me.saves.slice(0,e)};const Gn=Pn({active:"",saves:[],showTPS:!0,theme:Bi.Classic,unthrottled:!1,alignUnits:!1,numberFormat:ze.scientific,backupNumberFormat:ze.scientific});kt(Gn,e=>{const n=Kt.compressToUTF16(JSON.stringify(e));localStorage.setItem(ye.id,n)},{deep:!0});var Me=window.settings=Gn;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Bi.Classic,alignUnits:!1,numberFormat:ze.scientific,backupNumberFormat:ze.scientific};ut.emit("loadSettings",e),Object.assign(Gn,e),wo()};function ko(){try{let e=localStorage.getItem(ye.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Kt.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const n=JSON.parse(e);typeof n=="object"&&Object.assign(Gn,n)}ut.emit("loadSettings",Gn)}catch{}}const qr=Pn([]);function $r(e){qr.push(e)}const Mr=Pn([]);function So(e){Mr.push(e)}const Co=Pn([]),No=o.pow10(1e3),Ei=new o(.001),si=o.pow10(1e4),Io=o.pow10(Number.MAX_SAFE_INTEGER),qo=new o("eeee1000");var Oi=(e=>(e.decimal="decimal",e.total="total",e))(Oi||{});function L(e,n=ye.defaultDigitsShown,i=ye.defaultShowSmall,r=Me.numberFormat){if(e=new o(e),o.isNaN(e))return"NaN";if(e.sign<0)return`-${L(e.negate(),n,i,r)}`;if(!o.isFinite(e))return"Infinity";if(e.gte(qo))return Tr(e);if(e.gte(Io))return qn(e,n);if(e.eq(o.dZero))return 0 .toFixed(n);if(e.lt(Ei)&&i)return e=Br(e),e.gte(No)?`${L(e,n)}\u207B\xB9`:qn(e,n).replace(/([^(?:e|F)]*)$/,"-$1");if(e.gte(1e9))switch(r){case ze.standard:return xr(e,Me.backupNumberFormat,n+1,"total",e.gte(si));case ze.thousands:return Li(e,n+1,"total",e.gte(si));case ze.engineering:return Vi(e,n+1,"total",e.gte(si));case ze.scientific:return qn(e,n,"decimal",e.gte(si))}if(e.gte(1e3))switch(r){case ze.standard:case ze.thousands:case ze.engineering:return Hn(e,n,"total");case ze.scientific:return Hn(e,n,"decimal")}return ln(e,n)}function Q(e,n=ye.defaultShowSmall,i=Me.numberFormat){if(e=new o(e),e.gte(1e9)||e.lte(.98)&&e.neq(0)&&n)return L(e,void 0,n,i);switch(i){case ze.standard:case ze.thousands:return e.gte(1e4)?L(e,void 0,n,i):L(e,0,n,ze.scientific);default:return L(e,0,n,i)}}function Tr(e){e=new o(e);const n=e.slog();if(n.gte(1e6))return`F${L(n.floor())}`;const i=n.sub(n.floor()).pow10(),r=n.floor();return`${i.toStringWithDecimalPlaces(3)}F${Hn(r,0)}`}function xr(e,n=Me.backupNumberFormat,i=ye.defaultDigitsShown+1,r="total",s=!1){i<3&&(i=3);const[l,c]=$o(e,i);if(typeof c=="string"){if(s)return`1 ${c}`;switch(r){case"decimal":return`${ln(l,i)} ${c}`;case"total":return`${l.toPrecision(i)} ${c}`}}if(c.eq(0))switch(r){case"decimal":return ln(l,i);case"total":return l.toPrecision(i)}switch(n){case ze.thousands:return Li(e,i,void 0,s);case ze.engineering:return Vi(e,i,void 0,s);case ze.scientific:return qn(e,i-1,void 0,s)}}function $o(e,n=ye.defaultDigitsShown+1){let[r,s]=Pr(e,n);if(s.gt(1e3))return[r,s];if(s.eq(0))return[r,s];if(s.eq(1))return[r,"K"];if(s.eq(2))return[r,"M"];if(s.eq(3))return[r,"B"];const l=s.minus(1).toNumber(),c=l%10,m=Math.trunc(l%100/10),d=Math.trunc(l%1e3/100);return[r,[Di(c),Mo(m,c),To(d)].join("")]}function Di(e){switch(e){default:return"";case 1:return"U";case 2:return"D";case 3:return"T";case 4:return"Qa";case 5:return"Qi";case 6:return"Sx";case 7:return"Sp";case 8:return"Oc";case 9:return"No"}}function Mo(e,n){return e===0?"":e===1?n===0?"Dc":"D":e===2?"Vg":`${Di(e)}g`}function To(e){return e===0?"":e===1?"C":`${Di(e)}C`}function Li(e,n=ye.defaultDigitsShown+1,i="total",r=!1){n<3&&(n=3);const[s,l]=Pr(e,n,i);if(l.eq(0))switch(i){case"decimal":return ln(s);case"total":return s.toPrecision(n)}if(r)return`t${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${ln(s)}t${l.toStringWithDecimalPlaces(0)}`;case"total":return`${s.toPrecision(n)}t${l.toStringWithDecimalPlaces(0)}`}}function Pr(e,n=ye.defaultDigitsShown+1,i="total"){let[r,s]=Ar(e,n,i);return[r,s.div(3)]}function Vi(e,n=ye.defaultDigitsShown+1,i="total",r=!1){n<3&&(n=3);const[s,l]=Ar(e,n,i);if(l.eq(0))switch(i){case"decimal":return ln(s);case"total":return s.toPrecision(n)}if(r)return`e${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${s.toStringWithDecimalPlaces(n)}e${l.toStringWithDecimalPlaces(0)}`;case"total":return`${s.toPrecision(n)}e${l.toStringWithDecimalPlaces(0)}`}}function Ar(e,n=ye.defaultDigitsShown+1,i="total"){let[r,s]=Fr(e,n,i);if(s.gte(Number.MAX_SAFE_INTEGER))return[r,s];const l=s.toNumber()%3;return[o.pow10(l).times(r),s.minus(l)]}const xo=qn;function qn(e,n=ye.defaultDigitsShown,i="decimal",r=!1){let[s,l]=Fr(e,n,i);const c=l.gte(1e9)?L(l,Math.max(n,3,ye.defaultDigitsShown)):l.gte(1e4)?Hn(l,0):l.toStringWithDecimalPlaces(0);return r?`e${c}`:`${(()=>{switch(i){case"decimal":return ln(s);case"total":return s.toPrecision(n)}})()}e${c}`}function Fr(e,n=ye.defaultDigitsShown,i="decimal"){let r=o.log10(e).floor(),s=o.div(e,r.pow10());return(()=>{switch(i){case"decimal":return s.toStringWithDecimalPlaces(n);case"total":return s.toPrecision(n)}})()==="10"&&(s=o.dOne,r=r.plus(1)),[s,r]}function Hn(e,n=ye.defaultDigitsShown,i="decimal"){if(e=new o(e),e.lt(Ei))return 0 .toFixed(n);const s=(()=>{switch(i){case"decimal":return e.toStringWithDecimalPlaces(n);case"total":return e.toStringWithDecimalPlaces(Math.max(n-e.log10().floor().toNumber(),0))}})().split(".");return s[0]=s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),s.join(".")}function ln(e,n=ye.defaultDigitsShown){return e=new o(e),e.lt(Ei)?0 .toFixed(n):(e.lt(.1)&&n>0&&(n=Math.max(n,e.log10().negate().ceil().toNumber(),ye.defaultDigitsShown)),e.toStringWithDecimalPlaces(n))}const qi=60,Po=60,Ao=24,Fo=365,$i=qi*Po,Mi=$i*Ao,Ci=Mi*Fo;function ji(e){if(e=new o(e),e.lt(0))return`-${ji(e.negate())}`;if(e.gt(Number.MAX_SAFE_INTEGER))return`${L(e.div(Ci))}y`;e=e.toNumber();const n=Math.floor(e/Ci);e-=n*Ci;const i=Math.floor(e/Mi);e-=i*Mi;const r=Math.floor(e/$i);e-=r*$i;const s=Math.floor(e/qi);e-=s*qi;const l=e.toPrecision(2),c=String(i).padStart(3),m=String(r).padStart(2),d=String(s).padStart(2),p=l.padStart(2);return n>0?`${n}y ${c}d ${m}h`:i>0?`${c}d ${m}h ${d}m`:r>0?`${m}h ${d}m ${p}s`:s>0?`${d}m ${p}s`:`${p}s`}function Bo(e,n,i){e=new o(e);let r=e.toStringWithDecimalPlaces(n);return o.gte(r,i)&&(r=o.minus(i,Math.pow(.1,n)).toStringWithDecimalPlaces(n)),r}function pt(e,n=ye.defaultDigitsShown,i=Me.numberFormat){return L(e,n,!0,i)}function Br(e){const n=o.log10(e).ceil(),i=o.divide(e,n.pow10());return n.negate().pow10().times(i)}var Ro=Object.freeze(Object.defineProperty({__proto__:null,default:o,PrecisionType:Oi,format:L,formatWhole:Q,slogFormat:Tr,standardNotation:xr,thousandsNotation:Li,engineeringNotation:Vi,exponentialFormat:xo,scientificNotation:qn,commaFormat:Hn,regularFormat:ln,formatTime:ji,toPlaces:Bo,formatSmall:pt,invertOOM:Br},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:Eo,commaFormat:Oo,regularFormat:Do,format:fi,formatWhole:hn,formatTime:Ui,toPlaces:Lo,formatSmall:Mn,invertOOM:Vo}=Ro;window.Decimal=o;window.exponentialFormat=(e,n,i)=>Eo(e,n,Oi.decimal,!i);window.commaFormat=Oo;window.regularFormat=Do;window.format=fi;window.formatWhole=hn;window.formatTime=Ui;window.toPlaces=Lo;window.formatSmall=Mn;window.invertOOM=Vo;function Rr(e){let n=e.replace(/([A-Z])/g," $1");return n=n.charAt(0).toUpperCase()+n.slice(1),n}function jo(e){return(e[0]+e.slice(1).replace(/[A-Z]/g,n=>`-${n}`)).toLowerCase()}function Wn(e){return typeof e=="function"}var je=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(je||{});const Yn=Symbol("DoNotCache");function W(e,n){const i=e[n];Wn(i)&&i.length===0&&!i[Yn]?e[n]=S(i.bind(e)):Wn(i)&&(e[n]=i.bind(e),e[n][Yn]=!0)}function Ze(e){return Wn(e)&&!e[Yn]&&(e=S(e)),e}const lt=Symbol("Component"),bt=Symbol("GatherProps");let Uo=0;function Ot(e="feature-"){return e+Uo++}var Te=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(Te||{});function we(e){const n=t(e);return n!==2&&n!==!1}function Ut(e){return t(e)===1}function _(e){return e[Yn]=!0,e}function Be(e,n,i){e[n]===void 0&&i!=null&&(e[n]=i)}function Er(e,...n){const i=[],r=s=>{Object.keys(s).forEach(l=>{const c=s[l];c!=null&&typeof c=="object"&&(n.includes(c.type)?i.push(c):!(c instanceof o)&&!Ue(c)&&r(c))})};return r(e),i}var Ke=window.state=hi({lastTenTicks:[],hasNaN:!1,NaNPath:[],errors:Pn([])});const zo={class:"table"},Tn=oe({__name:"Column",setup(e){const n=S(()=>An[Me.theme].mergeAdjacent);return(i,r)=>(q(),E("div",zo,[M("div",{class:Pe(["col",{mergeAdjacent:t(n)}])},[jt(i.$slots,"default")],2)]))}}),Go={class:"table"},Fn=oe({__name:"Row",setup(e){const n=S(()=>An[Me.theme].mergeAdjacent);return(i,r)=>(q(),E("div",Go,[M("div",{class:Pe(["row",{mergeAdjacent:t(n)}])},[jt(i.$slots,"default")],2)]))}});function zi(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}function ue(e,n="span"){return typeof e=="function"?oe({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${n}>${e}</${n}>`),oe({template:e})):oe({render:()=>({})}):e}function J(e){if(ht(e))return typeof e=="function"?e():ue(e);const n=e[lt];return a(n,e[bt](),null)}function sn(...e){let n;return a(Fn,null,zi(n=e.map(J))?n:{default:()=>[n]})}function Ni(...e){let n;return a(Tn,null,zi(n=e.map(J))?n:{default:()=>[n]})}function It(e){if(ht(e))return typeof e=="function"?e():typeof e=="string"?a(g,null,[e]):a(e,null,null);const n=e[lt];return a(n,e[bt](),null)}function Ho(...e){let n;return a(Fn,null,zi(n=e.map(It))?n:{default:()=>[n]})}function Ti(e,n){return e.reduce((i,r)=>a(g,null,[i,n,r]))}function ht(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[Yn]===!0}function Or(e,n){const i=me(null),r=me(void 0);function s(m){i.value||(i.value=setInterval(c,250)),r.value=m}function l(){i.value&&(clearInterval(i.value),i.value=null)}function c(){n&&n.value?n.value():e&&e.value&&e.value(r.value)}return yr(l),{start:s,stop:l,handleHolding:c}}function Gi(e,n="div"){const i=gt();return Nt(()=>{i.value=ue(Ie(e),n)}),i}function Kn(e,n="div"){const i=gt(null);return Nt(()=>{const r=Ie(e);i.value=r==""||r==null?null:ue(r,n)}),i}function Ie(e){return t(t(e))}function te(...e){return e.includes(Object)||e.push(Object),e}function Wo(e){return Object.keys(e).reduce((n,i)=>(n[jo(i)]=e[i],n),{})}const Yo=oe({__name:"Context",emits:["updateNodes"],setup(e,{emit:n}){var b;const i=me({}),r=new ResizeObserver(m),s=me(null);Qn(()=>{const f=s.value;f!=null&&r.observe(f)});let l=!0,c=me((b=s.value)==null?void 0:b.getBoundingClientRect());function m(){l&&(l=!1,an(()=>{var f;c.value=(f=s.value)==null?void 0:f.getBoundingClientRect(),Object.values(i.value).filter(w=>w).forEach(w=>w.rect=w.element.getBoundingClientRect()),n("updateNodes",i.value),l=!0}))}ut.on("fontsLoaded",m);const d={attributes:!1,childList:!0,subtree:!1};ri(Hi,(f,w)=>{const I=new MutationObserver(()=>p(f));I.observe(w,d),i.value[f]={element:w,observer:I,rect:w.getBoundingClientRect()},m()}),ri(Wi,f=>{var w;(w=i.value[f])==null||w.observer.disconnect(),i.value[f]=void 0,m()}),ri(Yi,i),ri(Xi,c);function p(f){const w=i.value[f];w!=null&&(w.rect=w.element.getBoundingClientRect(),n("updateNodes",i.value))}return(f,w)=>(q(),E(g,null,[jt(f.$slots,"default",{},void 0,!0),M("div",{ref_key:"resizeListener",ref:s,class:"resize-listener"},null,512)],64))}});var Dr=be(Yo,[["__scopeId","data-v-2b1dc1bc"]]);const Xo=["onPointerdown"],Qo={class:"modal-wrapper"},Ko={class:"modal-container"},Zo={class:"modal-header"},Jo={class:"modal-body"},ea={class:"modal-footer"},ta=M("div",{class:"modal-default-flex-grow"},null,-1),un=oe({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const s=nt(e),l=S(()=>t(s.modelValue)||m.value);function c(){i("update:modelValue",!1)}const m=me(!1),d=me(null),p=S(()=>{var b,f;return(f=(b=d.value)==null?void 0:b.nodes)!=null?f:null});return n({isOpen:l,nodes:p}),(b,f)=>(q(),ie(rs,{to:"#modal-root"},[a(wr,{name:"modal",onBeforeEnter:f[0]||(f[0]=w=>m.value=!0),onAfterLeave:f[1]||(f[1]=w=>m.value=!1)},{default:ge(()=>[Pi(M("div",Tt({class:"modal-mask",onPointerdown:Un(c,["self"])},b.$attrs),[M("div",Qo,[M("div",Ko,[M("div",Zo,[jt(b.$slots,"header",{shown:t(l)},()=>[u(" default header ")])]),M("div",Jo,[a(Dr,{ref_key:"contextRef",ref:d},{default:ge(()=>[jt(b.$slots,"body",{shown:t(l)},()=>[u(" default body ")])]),_:3},512)]),M("div",ea,[jt(b.$slots,"footer",{shown:t(l)},()=>[M("div",{class:"modal-default-footer"},[ta,M("button",{class:"button modal-default-button",onClick:c}," Close ")])])])])])],16,Xo),[[is,e.modelValue]])]),_:3})]))}}),Lr=o.ln(10);function di(e){return e}function On(e,...n){const i=n.find(r=>X(r));return i==null?(console.error("Could not invert due to no input being a variable"),0):i.invert(e)}function na(e,n){return X(n)?n.invert(o.neg(e)):(console.error("Could not invert due to no input being a variable"),0)}function ia(e,n){return X(n)?n.isIntegrable()?y.neg(n.getIntegralFormula(e)):(console.error("Could not integrate due to variable not being integrable"),y.constant(0)):(console.error("Could not integrate due to no input being a variable"),y.constant(0))}function ra(e){return y.neg(e)}function sa(e,n,i){return X(n)?n.invert(o.sub(e,Je(i))):X(i)?i.invert(o.sub(e,Je(n))):(console.error("Could not invert due to no input being a variable"),0)}function oa(e,n,i){var r,s;if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const l=n.getIntegralFormula(e);return y.times(i,(r=n.innermostVariable)!=null?r:0).add(l)}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const l=i.getIntegralFormula(e);return y.times(n,(s=i.innermostVariable)!=null?s:0).add(l)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function aa(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e);return y.add(r,i)}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=i.getIntegralFormula(e);return y.add(r,n)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function la(e,n,i){return X(n)?n.invert(o.add(e,Je(i))):X(i)?i.invert(o.sub(Je(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ua(e,n,i){var r,s;if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const l=n.getIntegralFormula(e);return y.sub(l,y.times(i,(r=n.innermostVariable)!=null?r:0))}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const l=i.getIntegralFormula(e);return y.times(n,(s=i.innermostVariable)!=null?s:0).sub(l)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function ca(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e);return y.sub(r,i)}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=i.getIntegralFormula(e);return y.sub(r,n)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function da(e,n,i){return X(n)?n.invert(o.div(e,Je(i))):X(i)?i.invert(o.div(e,Je(n))):(console.error("Could not invert due to no input being a variable"),0)}function ma(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e);return y.times(r,i)}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=i.getIntegralFormula(e);return y.times(r,n)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function pa(e,n,i){return X(n)?y.div(e,i):X(i)?y.div(e,n):(console.error("Could not apply substitution due to no input being a variable"),y.constant(0))}function fa(e,n,i){return X(n)?n.invert(o.mul(e,Je(i))):X(i)?i.invert(o.div(Je(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ga(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e);return y.div(r,i)}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=i.getIntegralFormula(e);return y.div(n,r)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function ba(e,n,i){return X(n)?y.mul(e,i):X(i)?y.mul(e,n):(console.error("Could not apply substitution due to no input being a variable"),y.constant(0))}function ha(e,n){return X(n)?n.invert(o.recip(e)):(console.error("Could not invert due to no input being a variable"),0)}function va(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.ln(i)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function ya(e,n){return X(n)?n.invert(o.pow10(e)):(console.error("Could not invert due to no input being a variable"),0)}function _a(e){return o.ln(e).sub(1).times(e).div(Lr)}function wa(e,n){if(X(n)){const i=Lr.times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function ka(e,n){return X(n)?n.isIntegrable()?new y({inputs:[n.getIntegralFormula(e)],evaluate:_a,invert:wa}):(console.error("Could not integrate due to variable not being integrable"),y.constant(0)):(console.error("Could not integrate due to no input being a variable"),y.constant(0))}function Sa(e,n,i){return X(n)?n.invert(o.pow(Je(i),e)):X(i)?i.invert(o.root(Je(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function Ca(e,n){return o.ln(e).sub(1).times(e).div(o.ln(n))}function Na(e,n,i){if(X(n)){const r=o.ln(Je(i)).times(e);return n.invert(r.div(r.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ia(e,n,i){return X(n)?n.isIntegrable()?new y({inputs:[n.getIntegralFormula(e),i],evaluate:Ca,invert:Na}):(console.error("Could not integrate due to variable not being integrable"),y.constant(0)):(console.error("Could not integrate due to no input being a variable"),y.constant(0))}function qa(e,n){return X(n)?n.invert(o.pow(2,e)):(console.error("Could not invert due to no input being a variable"),0)}function $a(e){return o.ln(e).sub(1).times(e).div(o.ln(2))}function Ma(e,n){if(X(n)){const i=o.ln(2).times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ta(e,n){return X(n)?n.isIntegrable()?new y({inputs:[n.getIntegralFormula(e)],evaluate:$a,invert:Ma}):(console.error("Could not integrate due to variable not being integrable"),y.constant(0)):(console.error("Could not integrate due to no input being a variable"),y.constant(0))}function xa(e,n){return X(n)?n.invert(o.exp(e)):(console.error("Could not invert due to no input being a variable"),0)}function Pa(e){return o.ln(e).sub(1).times(e)}function Aa(e,n){return X(n)?n.invert(o.div(e,o.div(e,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function Fa(e,n){return X(n)?n.isIntegrable()?new y({inputs:[n.getIntegralFormula(e)],evaluate:Pa,invert:Aa}):(console.error("Could not integrate due to variable not being integrable"),y.constant(0)):(console.error("Could not integrate due to no input being a variable"),y.constant(0))}function Ba(e,n,i){return X(n)?n.invert(o.root(e,Je(i))):X(i)?i.invert(o.ln(e).div(o.ln(Je(n)))):(console.error("Could not invert due to no input being a variable"),0)}function Ra(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e),s=y.add(i,1);return y.pow(r,s).div(s)}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=i.getIntegralFormula(e);return y.pow(n,r).div(y.ln(n))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Ea(e,n){return X(n)?n.invert(o.root(e,10)):(console.error("Could not invert due to no input being a variable"),0)}function Oa(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.pow10(i).div(y.ln(10))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Da(e,n,i){return X(n)?n.invert(o.ln(e).div(o.ln(Je(i)))):X(i)?i.invert(o.root(Je(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function La(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e);return y.pow(i,r).div(y.ln(i))}else if(X(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=i.getIntegralFormula(e),s=y.add(n,1);return y.pow(r,s).div(s)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Va(e,n,i){return X(n)?n.invert(o.root(e,o.recip(Je(i)))):X(i)?i.invert(o.ln(Je(n)).div(o.ln(e))):(console.error("Could not invert due to no input being a variable"),0)}function ja(e,n,i){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const r=n.getIntegralFormula(e);return y.pow(r,y.recip(i).add(1)).times(i).div(y.add(i,1))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Ua(e,n){return X(n)?n.invert(o.ln(e)):(console.error("Could not invert due to no input being a variable"),0)}function za(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.exp(i)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Ga(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const r=o.minabs(n,1e308).toNumber();return o.tetrate(e,r,i)}function Ha(e,n,i,r){return X(n)?n.invert(o.ssqrt(e)):(console.error("Could not invert due to no input being a variable"),0)}function Wa(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const r=o.minabs(n,1e308).toNumber();return o.iteratedexp(e,r,new o(i))}function Ya(e,n,i,r){return X(n)?n.invert(o.iteratedlog(e,Math.E,o.minabs(1e308,Je(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Xa(e,n=10,i=2){const r=o.minabs(i,1e308).toNumber();return o.iteratedlog(e,n,r)}function Qa(e,n=10){const i=o.minabs(n,1e308).toNumber();return o.slog(e,i)}function Ka(e,n,i){return X(n)?n.invert(o.tetrate(e,o.minabs(1e308,Je(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Za(e,n,i){const r=o.minabs(n,1e308).toNumber();return o.layeradd(e,r,i)}function Ja(e,n,i,r){return X(n)?n.invert(o.layeradd(e,o.minabs(1e308,Je(i)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function el(e,n){return X(n)?n.invert(o.pow(Math.E,e).times(e)):(console.error("Could not invert due to no input being a variable"),0)}function tl(e,n){return X(n)?n.invert(o.tetrate(e,2)):(console.error("Could not invert due to no input being a variable"),0)}function nl(e,n,i){const r=o.minabs(n,1e308).toNumber();return o.pentate(e,r,i)}function il(e,n){return X(n)?n.invert(o.asin(e)):(console.error("Could not invert due to no input being a variable"),0)}function rl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.cos(i).neg()}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function sl(e,n){return X(n)?n.invert(o.acos(e)):(console.error("Could not invert due to no input being a variable"),0)}function ol(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.sin(i)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function al(e,n){return X(n)?n.invert(o.atan(e)):(console.error("Could not invert due to no input being a variable"),0)}function ll(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.cos(i).ln().neg()}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function ul(e,n){return X(n)?n.invert(o.sin(e)):(console.error("Could not invert due to no input being a variable"),0)}function cl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.asin(i).times(i).add(y.sqrt(y.sub(1,y.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function dl(e,n){return X(n)?n.invert(o.cos(e)):(console.error("Could not invert due to no input being a variable"),0)}function ml(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.acos(i).times(i).sub(y.sqrt(y.sub(1,y.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function pl(e,n){return X(n)?n.invert(o.tan(e)):(console.error("Could not invert due to no input being a variable"),0)}function fl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.atan(i).times(i).sub(y.ln(y.pow(i,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function gl(e,n){return X(n)?n.invert(o.asinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function bl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.cosh(i)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function hl(e,n){return X(n)?n.invert(o.acosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function vl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.sinh(i)}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function yl(e,n){return X(n)?n.invert(o.atanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function _l(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.cosh(i).ln()}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function wl(e,n){return X(n)?n.invert(o.sinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function kl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.asinh(i).times(i).sub(y.pow(i,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Sl(e,n){return X(n)?n.invert(o.cosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Cl(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.acosh(i).times(i).sub(y.add(i,1).sqrt().times(y.sub(i,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Nl(e,n){return X(n)?n.invert(o.tanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Il(e,n){if(X(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),y.constant(0);const i=n.getIntegralFormula(e);return y.atanh(i).times(i).add(y.sub(1,y.pow(i,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),y.constant(0)}function Bn(e){return(n,i)=>new y({inputs:[n,i],evaluate:e,invert:di})}function X(e){return e instanceof Xe&&e.hasVariable()}function Je(e,n){return e instanceof Xe?e.evaluate(n):t(e)}function ql(){return y.pow(this,2).div(2)}function $l(){return this}const tt=class{constructor(e){this.negate=this.neg,this.negated=this.neg,this.sgn=this.sign,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mul,this.times=this.mul,this.divide=this.div,this.divideBy=this.div,this.dividedBy=this.div,this.reciprocal=this.recip,this.reciprocate=this.recip,this.logarithm=this.log;let n;"inputs"in e&&(e.inputs=e.inputs.map(i=>typeof i=="object"&&Gt in i?i[Gt]:i)),"variable"in e?(typeof e.variable=="object"&&Gt in e.variable&&(e.variable=e.variable[Gt]),n=this.setupVariable(e)):"evaluate"in e?n=this.setupFormula(e):n=this.setupConstant(e),this.inputs=n.inputs,this.internalVariables=n.internalVariables,this.innermostVariable=n.innermostVariable,this.internalEvaluate=n.internalEvaluate,this.internalInvert=n.internalInvert,this.internalIntegrate=n.internalIntegrate,this.internalIntegrateInner=n.internalIntegrateInner,this.applySubstitution=n.applySubstitution}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:ql,internalIntegrateInner:$l,applySubstitution:di}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){var w,I;const{inputs:n,evaluate:i,invert:r,integrate:s,integrateInner:l,applySubstitution:c}=e,m=n.reduce((N,v)=>N+(v instanceof tt?v.internalVariables:0),0),d=n.find(N=>N instanceof tt&&N.hasVariable()),p=m===1?d==null?void 0:d.innermostVariable:void 0,b=(w=d==null?void 0:d.isInvertible())!=null?w:!1,f=(I=d==null?void 0:d.isIntegrable())!=null?I:!1;return{inputs:n,internalEvaluate:i,internalInvert:b?r:void 0,internalIntegrate:f?s:void 0,internalIntegrateInner:l,applySubstitution:c,innermostVariable:p,internalVariables:m}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var n,i,r;return(r=(i=(n=this.internalEvaluate)==null?void 0:n.call(this,...this.inputs.map(s=>Je(s,e))))!=null?i:this.hasVariable()?e:null)!=null?r:Je(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((n,i)=>n instanceof tt&&e.inputs[i]instanceof tt?n.equals(e.inputs[i]):!(n instanceof tt)&&!(e.inputs[i]instanceof tt)&&o.eq(t(n),t(e.inputs[i])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new y({inputs:[e]})}static variable(e){return new y({variable:e})}static step(e,n,i){const r=i(y.variable(0)),s=Ze(n);function l(m){return o.lt(m,t(s))?m:o.add(r.evaluate(o.sub(m,t(s))),t(s))}function c(m,d){return X(d)&&r.isInvertible()?(o.gt(m,t(s))&&(m=o.add(r.invert(o.sub(m,t(s))),t(s))),d.invert(m)):(console.error("Could not invert due to no input being a variable"),0)}return new y({inputs:[e],evaluate:l,invert:r.isInvertible()&&r.hasVariable()?c:void 0})}static if(e,n,i,r){const s=me(0),l=y.variable(s),c=i(l),m=r==null?void 0:r(l),d=Ze(n);function p(f){return t(d)?(s.value=f,c.evaluate()):m?(s.value=f,m.evaluate()):f}function b(f,w){return!X(w)||!c.isInvertible()||m!=null&&!m.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):t(d)?w.invert(c.invert(f)):m?w.invert(m.invert(f)):w.invert(f)}return new y({inputs:[e],evaluate:p,invert:c.isInvertible()&&c.hasVariable()?b:void 0})}static conditional(e,n,i,r){return y.if(e,n,i,r)}static abs(e){return new y({inputs:[e],evaluate:o.abs})}static neg(e){return new y({inputs:[e],evaluate:o.neg,invert:na,applySubstitution:ra,integrate:ia})}static sign(e){return new y({inputs:[e],evaluate:o.sign})}static round(e){return new y({inputs:[e],evaluate:o.round,invert:On})}static floor(e){return new y({inputs:[e],evaluate:o.floor,invert:On})}static ceil(e){return new y({inputs:[e],evaluate:o.ceil,invert:On})}static trunc(e){return new y({inputs:[e],evaluate:o.trunc,invert:On})}static add(e,n){return new y({inputs:[e,n],evaluate:o.add,invert:sa,integrate:oa,integrateInner:aa,applySubstitution:di})}static sub(e,n){return new y({inputs:[e,n],evaluate:o.sub,invert:la,integrate:ua,integrateInner:ca,applySubstitution:di})}static mul(e,n){return new y({inputs:[e,n],evaluate:o.mul,invert:da,integrate:ma,applySubstitution:pa})}static div(e,n){return new y({inputs:[e,n],evaluate:o.div,invert:fa,integrate:ga,applySubstitution:ba})}static recip(e){return new y({inputs:[e],evaluate:o.recip,invert:ha,integrate:va})}static clamp(e,n,i){return new y({inputs:[e,n,i],evaluate:o.clamp,invert:On})}static pLog10(e){return new y({inputs:[e],evaluate:o.pLog10})}static absLog10(e){return new y({inputs:[e],evaluate:o.absLog10})}static log10(e){return new y({inputs:[e],evaluate:o.log10,invert:ya,integrate:ka})}static log(e,n){return new y({inputs:[e,n],evaluate:o.log,invert:Sa,integrate:Ia})}static log2(e){return new y({inputs:[e],evaluate:o.log2,invert:qa,integrate:Ta})}static ln(e){return new y({inputs:[e],evaluate:o.ln,invert:xa,integrate:Fa})}static pow(e,n){return new y({inputs:[e,n],evaluate:o.pow,invert:Ba,integrate:Ra})}static pow10(e){return new y({inputs:[e],evaluate:o.pow10,invert:Ea,integrate:Oa})}static pow_base(e,n){return new y({inputs:[e,n],evaluate:o.pow_base,invert:Da,integrate:La})}static root(e,n){return new y({inputs:[e,n],evaluate:o.root,invert:Va,integrate:ja})}static factorial(e){return new y({inputs:[e],evaluate:o.factorial})}static gamma(e){return new y({inputs:[e],evaluate:o.gamma})}static lngamma(e){return new y({inputs:[e],evaluate:o.lngamma})}static exp(e){return new y({inputs:[e],evaluate:o.exp,invert:Ua,integrate:za})}static sqr(e){return y.pow(e,2)}static sqrt(e){return y.root(e,2)}static cube(e){return y.pow(e,3)}static cbrt(e){return y.root(e,3)}static tetrate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new y({inputs:[e,n,i],evaluate:Ga,invert:Ha})}static iteratedexp(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new y({inputs:[e,n,i],evaluate:Wa,invert:Ya})}static iteratedlog(e,n=10,i=1){return new y({inputs:[e,n,i],evaluate:Xa})}static slog(e,n=10){return new y({inputs:[e,n],evaluate:Qa,invert:Ka})}static layeradd10(e,n){return new y({inputs:[e,n],evaluate:o.layeradd10})}static layeradd(e,n,i=10){return new y({inputs:[e,n,i],evaluate:Za,invert:Ja})}static lambertw(e){return new y({inputs:[e],evaluate:o.lambertw,invert:el})}static ssqrt(e){return new y({inputs:[e],evaluate:o.ssqrt,invert:tl})}static pentate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new y({inputs:[e,n,i],evaluate:nl})}static sin(e){return new y({inputs:[e],evaluate:o.sin,invert:ul,integrate:rl})}static cos(e){return new y({inputs:[e],evaluate:o.cos,invert:dl,integrate:ol})}static tan(e){return new y({inputs:[e],evaluate:o.tan,invert:pl,integrate:ll})}static asin(e){return new y({inputs:[e],evaluate:o.asin,invert:il,integrate:cl})}static acos(e){return new y({inputs:[e],evaluate:o.acos,invert:sl,integrate:ml})}static atan(e){return new y({inputs:[e],evaluate:o.atan,invert:al,integrate:fl})}static sinh(e){return new y({inputs:[e],evaluate:o.sinh,invert:wl,integrate:bl})}static cosh(e){return new y({inputs:[e],evaluate:o.cosh,invert:Sl,integrate:vl})}static tanh(e){return new y({inputs:[e],evaluate:o.tanh,invert:Nl,integrate:_l})}static asinh(e){return new y({inputs:[e],evaluate:o.asinh,invert:gl,integrate:kl})}static acosh(e){return new y({inputs:[e],evaluate:o.acosh,invert:hl,integrate:Cl})}static atanh(e){return new y({inputs:[e],evaluate:o.atanh,invert:yl,integrate:Il})}step(e,n){return y.step(this,e,n)}if(e,n,i){return y.if(this,e,n,i)}conditional(e,n,i){return y.if(this,e,n,i)}abs(){return y.abs(this)}neg(){return y.neg(this)}sign(){return y.sign(this)}round(){return y.round(this)}floor(){return y.floor(this)}ceil(){return y.ceil(this)}trunc(){return y.trunc(this)}add(e){return y.add(this,e)}sub(e){return y.sub(this,e)}mul(e){return y.mul(this,e)}div(e){return y.div(this,e)}recip(){return y.recip(this)}max(e){return y.max(this,e)}min(e){return y.min(this,e)}maxabs(e){return y.maxabs(this,e)}minabs(e){return y.minabs(this,e)}clamp(e,n){return y.clamp(this,e,n)}clampMin(e){return y.clampMin(this,e)}clampMax(e){return y.clampMax(this,e)}pLog10(){return y.pLog10(this)}absLog10(){return y.absLog10(this)}log10(){return y.log10(this)}log(e){return y.log(this,e)}log2(){return y.log2(this)}ln(){return y.ln(this)}pow(e){return y.pow(this,e)}pow10(){return y.pow10(this)}pow_base(e){return y.pow_base(this,e)}root(e){return y.root(this,e)}factorial(){return y.factorial(this)}gamma(){return y.gamma(this)}lngamma(){return y.lngamma(this)}exp(){return y.exp(this)}sqr(){return y.pow(this,2)}sqrt(){return y.root(this,2)}cube(){return y.pow(this,3)}cbrt(){return y.root(this,3)}tetrate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return y.tetrate(this,e,n)}iteratedexp(e=2,n=o.fromComponents_noNormalize(1,0,1)){return y.iteratedexp(this,e,n)}iteratedlog(e=10,n=1){return y.iteratedlog(this,e,n)}slog(e=10){return y.slog(this,e)}layeradd10(e){return y.layeradd10(this,e)}layeradd(e,n){return y.layeradd(this,e,n)}lambertw(){return y.lambertw(this)}ssqrt(){return y.ssqrt(this)}pentate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return y.pentate(this,e,n)}sin(){return y.sin(this)}cos(){return y.cos(this)}tan(){return y.tan(this)}asin(){return y.asin(this)}acos(){return y.acos(this)}atan(){return y.atan(this)}sinh(){return y.sinh(this)}cosh(){return y.cosh(this)}tanh(){return y.tanh(this)}asinh(){return y.asinh(this)}acosh(){return y.acosh(this)}atanh(){return y.atanh(this)}};let Xe=tt;Xe.negate=tt.neg;Xe.negated=tt.neg;Xe.sgn=tt.sign;Xe.plus=tt.add;Xe.subtract=tt.sub;Xe.minus=tt.sub;Xe.multiply=tt.mul;Xe.times=tt.mul;Xe.divide=tt.div;Xe.divideBy=tt.div;Xe.dividedBy=tt.div;Xe.reciprocal=tt.recip;Xe.reciprocate=tt.recip;Xe.max=Bn(o.max);Xe.min=Bn(o.min);Xe.minabs=Bn(o.minabs);Xe.maxabs=Bn(o.maxabs);Xe.clampMin=Bn(o.clampMin);Xe.clampMax=Bn(o.clampMax);Xe.logarithm=tt.log;class y extends Xe{invert(n){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,n,...this.inputs):this.inputs.length===1&&this.hasVariable()?n:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(n){return this.isIntegrable()?this.getIntegralFormula().evaluate(n):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(n){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(n)}calculateConstantOfIntegration(){const n=this.getIntegralFormula().evaluate(1),i=o.add(this.evaluate(0),this.evaluate(1)).div(2);return o.sub(i,n)}getIntegralFormula(n){if(this.integralFormula!=null&&n==null)return this.integralFormula;if(n==null){if(this.applySubstitution==null){if(n=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),y.constant(0);let i=this.internalIntegrate.call(this,n,...this.inputs);n.forEach(r=>i=r(i)),this.integralFormula=i}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),y.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),y.constant(0)):(n.push(i=>this.applySubstitution.call(this,i,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,n,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,n,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),y.constant(0)))}}function Ml(e,n,i=!0,r,s=o.dInf){const l=Ze(i),c=Ze(r),m=Ze(s);return S(()=>{var w,I,N,v;const d=t(m);if(o.eq(d,1))return o.gte(n.value,e.evaluate())?o.dOne:o.dZero;const p=t(l),b=(w=t(c))!=null?w:p?10:0;let f=0;if(o.gt(d,b)){if(!e.isInvertible())return console.error("Cannot calculate max affordable of non-invertible formula with more maxBulkAmount than directSum"),0;if(p){if(!e.isIntegralInvertible())return console.error("Cannot calculate max affordable of formula with non-invertible integral"),0;f=o.floor(e.invertIntegral(o.add(n.value,e.evaluateIntegral()))).sub((I=t(e.innermostVariable))!=null?I:0)}else f=o.floor(e.invert(n.value))}if(f=o.clampMax(f,d),b>0){const T=f;f=o.sub(f,b).clampMin(0);let A;for(p?A=Ht(e,f,!0,0):A=e.evaluate(o.add((N=t(e.innermostVariable))!=null?N:0,f));o.lt(f,d)&&o.lt(f,Number.MAX_SAFE_INTEGER)&&o.add(T,1).gte(f);){const R=e.evaluate(f.add((v=t(e.innermostVariable))!=null?v:0));if(o.add(A,R).lte(n.value))f=f.add(1),A=o.add(A,R);else break}}return f})}function Ht(e,n,i=!0,r){var d;if(o.eq(n,1))return e.evaluate();const s=(d=t(e.innermostVariable))!=null?d:0;let l=o.add(n,s);const c=l;r!=null||(r=i?10:0),l=l.sub(r).clampMin(s);let m=0;if(o.gt(n,r)){if(!e.isInvertible())return console.error("Cannot calculate cost with indirect sum of non-invertible formula"),0;if(i){if(!e.isIntegrable())return console.error("Cannot calculate cost with cumulative cost of non-integrable formula"),0;if(m=o.sub(e.evaluateIntegral(l),e.evaluateIntegral()),c.gt(1e308))return o.add(m,o.sub(c,l).times(e.evaluate(l)))}else if(m=e.evaluate(l),l=l.add(1),c.gt(1e308))return o.sub(c,l).add(1).times(m)}for(let p=l.toNumber();p<c.toNumber();p++)m=o.add(m,e.evaluate(p));return m}const on=Symbol("PersistentState"),zt=Symbol("DefaultValue"),gi=Symbol("StackTrace"),bi=Symbol("Deleted"),Gt=Symbol("NonPersistent"),gn=Symbol("SaveDataPath"),Vt=Symbol("SkipPersistence");function Tl(){var e,n;return(n=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(i=>i.trim()).join(`
`))!=null?n:""}function pr(e,n){var i;o.isNaN(n)&&(Ke.hasNaN||(ve.autosave=!1,Ke.hasNaN=!0,Ke.NaNPath=e[gn],Ke.NaNPersistent=e),console.error(`Attempted to save NaN value to ${(i=e[gn])==null?void 0:i.join(".")}`)),e[on].value=n}function $e(e,n=!0){const i=Ue(e)?e:me(e);Ue(e)&&(e=e.value);const r=S({get(){return i.value},set(l){n?pr(s,l):s[on].value=l}});r[zt]=e;const s={get value(){return i.value},set value(l){n?pr(s,l):s[on].value=l},__v_isRef:!0,[on]:i,[zt]:e,[gi]:Tl(),[bi]:!1,[Gt]:r,[gn]:void 0};return Ct.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",s,`
Created at:
`+s[gi]):bn[Ct[Ct.length-1]].add(s),s}function xl(e){return e!=null&&typeof e=="object"&&on in e}function x(e){return!(nn in e)&&Gt in e?e[Gt]:new Proxy(e,{get(n,i){if(i!==on)return i===Vt?!0:n[i]},set(n,i,r){return n[i]=r,!0},has(n,i){return i===on?!1:i==Vt?!0:Reflect.has(n,i)}})}function Pl(e){Ct.length===0?console.warn("Deleting a persistent ref outside of a layer. Ignoring...",e):bn[Ct[Ct.length-1]].delete(e),e[bi]=!0}ut.on("addLayer",(e,n)=>{const i=[],r=(s,l=[])=>{let c=!1;return Object.keys(s).forEach(m=>{let d=s[m];if(d!=null&&typeof d=="object"){if(d[Vt]===!0)return;if(nn in d&&(d=d[nn]),xl(d)){if(c=!0,d[bi]){console.warn("Deleted persistent ref present in returned object. Ignoring...",d,`
Created at:
`+d[gi]);return}bn[e.id].delete(d);const p=[e.id,...l,m];d[gn]!=null&&JSON.stringify(p)!==JSON.stringify(d[gn])&&console.error(`Persistent ref is being saved to \`${p.join(".")}\` when it's already present at \`${d[gn].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),d[gn]=p;const b=l.reduce((w,I)=>(I in w||(w[I]={}),w[I]),n),f=b[m];b[m]=d[on],ss(b)?f!=null?b[m]=f:b[m]=d[zt]:f!=null?b[m].value=f:b[m].value=d[zt]}else!(d instanceof o)&&!(d instanceof y)&&!Ue(d)&&!i.includes(d)&&(typeof d.type=="symbol"&&i.push(d),r(d,[...l,m])&&(Yt(d)&&!Yt(s)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",nn in s?s[nn]:s,m):c=!0))}}),c};r(e[nn]),bn[e.id].forEach(s=>{s[bi]||console.error(`Created persistent ref in ${e.id} without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+s[gi])}),bn[e.id].clear()});const nn=Symbol("ProxyState");function We(e,n={}){const i=n;let r=!1,s=!1;function l(){return r||(s&&console.error("Cyclical dependency detected. Cannot evaluate lazy proxy."),s=!0,Object.assign(i,e.call(i,i)),r=!0),i}return new Proxy(i,{get(c,m){if(m===nn)return l();const d=l()[m];return d!=null&&typeof d=="object"&&Gt in d?d[Gt]:d},set(c,m,d){return l()[m]=d,!0},has(c,m){return m===nn?!0:Reflect.has(l(),m)},ownKeys(){return Reflect.ownKeys(l())},getOwnPropertyDescriptor(c,m){return r||(Object.assign(i,e.call(i,i)),r=!0),Object.getOwnPropertyDescriptor(c,m)}})}const Hi=Symbol("RegisterNode"),Wi=Symbol("UnregisterNode"),Yi=Symbol("Nodes"),Xi=Symbol("Bounds"),ft=hi({});window.layers=ft;const bn={},Ct=[];function et(e,n){return We(()=>{const i={},r=i.emitter=kr();if(i.on=r.on.bind(r),i.emit=r.emit.bind(r),i.nodes=me({}),i.id=e,Ct.push(e),bn[e]=new Set,Object.assign(i,n.call(i,i)),Ct[Ct.length-1]==null||Ct[Ct.length-1]!==e)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${Ct}
Trying to pop ${i.id}`);Ct.pop(),W(i,"color"),W(i,"display"),W(i,"classes"),W(i,"style"),W(i,"name"),Be(i,"name",i.id),W(i,"minWidth"),Be(i,"minWidth",600);const s=i.style;return i.style=S(()=>{var c;let l=t(i.minWidth);return(typeof l=="number"||!Number.isNaN(parseInt(l)))&&(l=l+"px"),[(c=t(s))!=null?c:"",{flexGrow:"",flexShrink:"",width:"",minWidth:l,flexBasis:l,margin:""}]}),i})}function Vr(e,n){if(console.info("Adding layer",e.id),ft[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,ft[e.id]);return}Be(n,"layers",{}),n.layers[e.id]==null&&(n.layers[e.id]={}),ft[e.id]=e,ut.emit("addLayer",e,n.layers[e.id])}function Al(e){return ft[e]}function jr(e){console.info("Removing layer",e.id),ut.emit("removeLayer",e),ft[e.id]=void 0}function Fl(e){jr(e),Vr(e,ve)}function Bl(e){const n=me(!1);return{openModal:()=>n.value=!0,modal:_(()=>a(un,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i},{header:()=>a("h2",null,[t(e.name)]),body:t(e.display)}))}}ut.on("update",function(n){Object.values(ft).forEach(i=>{i==null||i.emit("preUpdate",n)}),Object.values(ft).forEach(i=>{i==null||i.emit("update",n)}),Object.values(ft).forEach(i=>{i==null||i.emit("postUpdate",n)})});var Rl=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:Hi,UnregisterNodeInjectionKey:Wi,NodesInjectionKey:Yi,BoundsInjectionKey:Xi,layers:ft,persistentRefs:bn,addingLayers:Ct,createLayer:et,addLayer:Vr,getLayer:Al,removeLayer:jr,reloadLayer:Fl,setupLayerModal:Bl},Symbol.toStringTag,{value:"Module"}));const El=oe({components:{Context:Dr,ErrorVue:Cr},props:{index:{type:Number,required:!0},display:{type:te(Object,String,Function),required:!0},name:{type:te(String),required:!0},color:te(String),nodes:{type:Object,required:!0}},emits:["setMinimized"],setup(e){const{display:n,index:i}=nt(e),r=Gi(n),s=S(()=>ye.allowGoBack&&i.value>0);function l(){ve.tabs.splice(t(e.index),1/0)}function c(d){e.nodes.value=d}const m=me([]);return os((d,p,b)=>(console.warn(`Error caught in "${e.name}" layer`,d,p,b),m.value.push(d instanceof Error?d:new Error(JSON.stringify(d))),!1)),{component:r,showGoBack:s,updateNodes:c,unref:t,goBack:l,errors:m}}});function Ol(e,n,i,r,s,l){const c=Et("ErrorVue"),m=Et("Context");return e.errors.length>0?(q(),ie(c,{key:0,errors:e.errors},null,8,["errors"])):(q(),E("div",Tt({key:1,class:"layer-container",style:{"--layer-color":e.unref(e.color)}},e.$attrs),[e.showGoBack?(q(),E("button",{key:0,class:"goBack",onClick:n[0]||(n[0]=(...d)=>e.goBack&&e.goBack(...d))},"\u274C")):(q(),E("div",{key:1,class:Pe(["layer-tab",{showGoBack:e.showGoBack}])},[a(m,{onUpdateNodes:e.updateNodes},{default:ge(()=>[(q(),ie(Ne(e.component)))]),_:1},8,["onUpdateNodes"])],2))],16))}var Dl=be(El,[["render",Ol],["__scopeId","data-v-5840fa16"]]);const Ur=e=>(xt("data-v-5bf27016"),e=e(),Pt(),e),Ll=Ur(()=>M("h2",null,"Changelog",-1)),Vl=Ur(()=>M("details",{open:""},[M("summary",null,[u("v1.0 Revitalization - "),M("time",null,"2021-09-04")]),u(" Moved everything over to Profectus "),M("ul",null,[M("li",{class:"feature"},"Did everything"),M("li",{class:"fix"},"Had some fun"),M("li",{class:"breaking"},"Removed everything"),M("li",{class:"balancing"},"Created some bugs to fix later")])],-1)),jl=oe({__name:"Changelog",setup(e,{expose:n}){const i=me(!1);return n({open(){i.value=!0}}),(r,s)=>(q(),ie(un,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l)},{header:ge(()=>[Ll]),body:ge(()=>[Vl]),_:1},8,["modelValue"]))}});var Ul=be(jl,[["__scopeId","data-v-5bf27016"]]),zl=oe({props:{element:Object,display:{type:te(Object,String,Function),required:!0},style:te(Object,String,Array),classes:te(Object),direction:te(String),xoffset:te(String),yoffset:te(String),pinned:Object},setup(e){const{element:n,display:i,pinned:r}=nt(e),s=me(!1),l=S(()=>(Ie(r)||s.value)&&c.value),c=Kn(i),m=gt(ue(_(()=>{const b=Ie(n);return b==null?"":It(b)})));function d(b){const f=r;b.shiftKey&&f&&(f.value=!f.value,b.stopPropagation(),b.preventDefault())}const p=S(()=>Ie(r)&&An[Me.theme].showPin);return{Direction:je,isHovered:s,isShown:l,comp:c,elementComp:m,unref:t,togglePinned:d,showPin:p}}});const Gl={key:0,class:"material-icons pinned"};function Hl(e,n,i,r,s,l){return q(),E("div",{class:Pe(["tooltip-container",{shown:e.isShown}]),onMouseenter:n[0]||(n[0]=c=>e.isHovered=!0),onMouseleave:n[1]||(n[1]=c=>e.isHovered=!1),onClickCapture:n[2]||(n[2]=(...c)=>e.togglePinned&&e.togglePinned(...c))},[jt(e.$slots,"default",{},void 0,!0),e.elementComp?(q(),ie(Ne(e.elementComp),{key:0})):ee("",!0),a(wr,{name:"fade"},{default:ge(()=>{var c;return[e.isShown?(q(),E("div",{key:0,class:Pe(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:Oe([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(c=e.unref(e.style))!=null?c:{}])},[e.showPin?(q(),E("span",Gl,"push_pin")):ee("",!0),e.comp?(q(),ie(Ne(e.comp),{key:1})):ee("",!0)],6)):ee("",!0)]}),_:1})],34)}var it=be(zl,[["render",Hl],["__scopeId","data-v-1fb84868"]]);const yn=e=>(xt("data-v-10effbe8"),e=e(),Pt(),e),Wl={class:"info-modal-header"},Yl=["src","alt"],Xl={class:"info-modal-title"},Ql={key:0},Kl={key:0},Zl={key:0},Jl=yn(()=>M("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),eu=yn(()=>M("br",null,null,-1)),tu=yn(()=>M("br",null,null,-1)),nu=["href"],iu=yn(()=>M("span",{class:"material-icons info-modal-discord"},"discord",-1)),ru=yn(()=>M("div",null,[M("a",{href:"https://discord.gg/yJ4fjnjU54",class:"info-modal-discord-link",target:"_blank"},[M("span",{class:"material-icons info-modal-discord"},"discord"),u(" Profectus & Friends ")])],-1)),su=yn(()=>M("div",null,[M("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[M("span",{class:"material-icons info-modal-discord"},"discord"),u(" The Modding Tree ")])],-1)),ou=yn(()=>M("br",null,null,-1));var au=oe({__name:"Info",props:{changelog:null},setup(e,{expose:n}){const i=e,{title:r,logo:s,author:l,discordName:c,discordLink:m,versionNumber:d,versionTitle:p}=ye,b=nt(i),f=me(!1),w=S(()=>Ui(ve.timePlayed)),I=S(()=>ue(_(()=>a(g,null,[Mr.map(J)]))));n({open(){f.value=!0}});function N(){var v;(v=t(b.changelog))==null||v.open()}return(v,T)=>(q(),ie(un,{modelValue:f.value,"onUpdate:modelValue":T[0]||(T[0]=A=>f.value=A)},{header:ge(()=>[M("div",Wl,[t(s)?(q(),E("img",{key:0,class:"info-modal-logo",src:t(s),alt:t(r)},null,8,Yl)):ee("",!0),M("div",Xl,[M("h2",null,le(t(r)),1),M("h4",null,[u(" v"+le(t(d)),1),t(p)?(q(),E("span",Ql,": "+le(t(p)),1)):ee("",!0)])])])]),body:ge(({shown:A})=>[A?(q(),E("div",Kl,[t(l)?(q(),E("div",Zl,"By "+le(t(l)),1)):ee("",!0),Jl,eu,M("div",{class:"link",onClick:N},"Changelog"),tu,M("div",null,[t(m)?(q(),E("a",{key:0,href:t(m),class:"info-modal-discord-link",target:"_blank"},[iu,u(" "+le(t(c)),1)],8,nu)):ee("",!0)]),ru,su,ou,M("div",null,"Time Played: "+le(t(w)),1),(q(),ie(Ne(t(I))))])):ee("",!0)]),_:1},8,["modelValue"]))}});var lu=be(au,[["__scopeId","data-v-10effbe8"]]);const uu={class:"field"},cu={key:0,class:"field-title"},Vn=oe({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){var c;const i=e,r=Kn(Zt(i,"title"),"span"),s=me((c=i.options.find(m=>m.value===i.modelValue))!=null?c:null);kt(Zt(i,"modelValue"),m=>{var d;Ie(s)!==m&&(s.value=(d=i.options.find(p=>p.value===m))!=null?d:null)});function l(m){n("update:modelValue",m.value)}return(m,d)=>(q(),E("div",uu,[t(r)?(q(),E("span",cu,[(q(),ie(Ne(t(r))))])):ee("",!0),a(t(ps),{options:e.options,modelValue:s.value,"onUpdate:modelValue":[d[0]||(d[0]=p=>s.value=p),l],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const du={class:"field"},mu=oe({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,r=S(()=>{var l;return ue((l=t(i.title))!=null?l:"<span></span>","span")}),s=S({get(){return!!i.modelValue},set(l){n("update:modelValue",l)}});return(l,c)=>(q(),E("label",du,[Pi(M("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":c[0]||(c[0]=m=>Ue(s)?s.value=m:null)},null,512),[[as,t(s)]]),(q(),ie(Ne(t(r))))]))}});var Lt=be(mu,[["__scopeId","data-v-11046116"]]);const pu={class:"header"},fu=M("h2",null,"Settings",-1),gu={class:"option-tabs"},bu={key:0},hu={key:1};var vu=oe({__name:"Options",setup(e,{expose:n}){const i=me(!1),r=me("behaviour");function s(h){return h==r.value}function l(h){r.value=h}n({isTab:s,setTab:l,save:$t,open(){i.value=!0}});const c=Object.keys(An).map(h=>({label:Rr(h),value:h})),m=[{label:"Standard",value:ze.standard},{label:"Thousands",value:ze.thousands},{label:"Engineering",value:ze.engineering},{label:"Scientific",value:ze.scientific}],d=m.filter(h=>h.value!==ze.standard),p=S(()=>ue(_(()=>a(g,null,[qr.map(J)])))),{showTPS:b,theme:f,unthrottled:w,alignUnits:I,numberFormat:N,backupNumberFormat:v}=nt(Me),{autosave:T}=nt(ve),A=S({get(){return ve.devSpeed===0},set(h){ve.devSpeed=h?0:null}}),R=_(()=>a("span",{class:"option-title"},[u("Unthrottled"),a("desc",null,[u("Allow the game to run as fast as possible. Not battery friendly.")])])),B=_(()=>a("span",{class:"option-title"},[u("Autosave"),a(it,{display:"Save-specific",direction:je.Right},{default:()=>[u("*")]}),a("desc",null,[u("Automatically save the game every second or when the game is closed.")])])),j=_(()=>a("span",{class:"option-title"},[u("Pause game"),a(it,{display:"Save-specific",direction:je.Right},{default:()=>[u("*")]}),a("desc",null,[u("Stop everything from moving.")])])),ne=_(()=>a("span",{class:"option-title"},[u("Theme"),a("desc",null,[u("How the game looks.")])])),K=_(()=>a("span",{class:"option-title"},[u("Show TPS"),a("desc",null,[u("Show TPS meter at the bottom-left corner of the page.")])])),z=_(()=>a("span",{class:"option-title"},[u("Align modifier units"),a("desc",null,[u("Align numbers to the beginning of the unit in modifier view.")])])),re=_(()=>a("span",{class:"option-title"},[u("Number Notation"),a("desc",null,[u("Change how numbers are formatted for display.")])])),D=_(()=>a("span",{class:"option-title"},[u("Backup Number Notation"),a("desc",null,[u("Change how numbers are formatted beyond the limit of Standard Notation")])]));return(h,$)=>(q(),ie(un,{modelValue:i.value,"onUpdate:modelValue":$[11]||($[11]=de=>i.value=de)},{header:ge(()=>[M("div",pu,[fu,M("div",gu,[M("button",{class:Pe({selected:s("behaviour")}),onClick:$[0]||($[0]=de=>l("behaviour"))},"Behaviour",2),M("button",{class:Pe({selected:s("appearance")}),onClick:$[1]||($[1]=de=>l("appearance"))},"Appearance",2)])])]),body:ge(()=>[s("behaviour")?(q(),E("div",bu,[a(Lt,{title:t(R),modelValue:t(w),"onUpdate:modelValue":$[2]||($[2]=de=>Ue(w)?w.value=de:null)},null,8,["title","modelValue"]),t(ye).enablePausing?(q(),ie(Lt,{key:0,title:t(j),modelValue:t(A),"onUpdate:modelValue":$[3]||($[3]=de=>Ue(A)?A.value=de:null)},null,8,["title","modelValue"])):ee("",!0),a(Lt,{title:t(B),modelValue:t(T),"onUpdate:modelValue":$[4]||($[4]=de=>Ue(T)?T.value=de:null)},null,8,["title","modelValue"]),t(T)?ee("",!0):(q(),ie(Fi,{key:1,class:"button save-button",onClick:$[5]||($[5]=de=>t($t)())},{default:ge(()=>[u("Manually save")]),_:1}))])):ee("",!0),s("appearance")?(q(),E("div",hu,[a(Vn,{title:t(ne),options:t(c),modelValue:t(f),"onUpdate:modelValue":$[6]||($[6]=de=>Ue(f)?f.value=de:null)},null,8,["title","options","modelValue"]),a(Vn,{title:t(re),options:m,modelValue:t(N),"onUpdate:modelValue":$[7]||($[7]=de=>Ue(N)?N.value=de:null)},null,8,["title","modelValue"]),t(N)===t(ze).standard?(q(),ie(Vn,{key:0,title:t(D),options:t(d),modelValue:t(v),"onUpdate:modelValue":$[8]||($[8]=de=>Ue(v)?v.value=de:null)},null,8,["title","options","modelValue"])):ee("",!0),(q(),ie(Ne(t(p)))),a(Lt,{title:t(K),modelValue:t(b),"onUpdate:modelValue":$[9]||($[9]=de=>Ue(b)?b.value=de:null)},null,8,["title","modelValue"]),a(Lt,{title:t(z),modelValue:t(I),"onUpdate:modelValue":$[10]||($[10]=de=>Ue(I)?I.value=de:null)},null,8,["title","modelValue"])])):ee("",!0)]),_:1},8,["modelValue"]))}});const yu=["onSubmit"],_u={class:"field"},wu={key:0,class:"field-title"},ku=["placeholder"],Su=oe({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean},autofocus:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:n}){var d;const i=e,r=Kn(Zt(i,"title"),"span"),s=gt(null);((d=i.autofocus)==null||d)&&Qn(()=>{var p;(p=s.value)==null||p.focus()});const l=S({get(){var p;return(p=t(i.modelValue))!=null?p:""},set(p){n("update:modelValue",p)}});function c(){n("submit")}function m(){i.submitOnBlur!==!1?n("submit"):n("cancel")}return(p,b)=>(q(),E("form",{onSubmit:Un(c,["prevent"])},[M("div",_u,[t(r)?(q(),E("span",wu,[(q(),ie(Ne(t(r))))])):ee("",!0),e.textArea?(q(),ie(t(gs),{key:1,modelValue:t(l),"onUpdate:modelValue":b[0]||(b[0]=f=>Ue(l)?l.value=f:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:m,ref_key:"field",ref:s},null,8,["modelValue","placeholder","maxHeight"])):Pi((q(),E("input",{key:2,type:"text","onUpdate:modelValue":b[1]||(b[1]=f=>Ue(l)?l.value=f:null),placeholder:e.placeholder,class:Pe({fullWidth:!e.title}),onBlur:m,ref_key:"field",ref:s},null,42,ku)),[[ls,t(l)]])])],40,yu))}});var Qi=be(Su,[["__scopeId","data-v-7e1eaf88"]]);const Cu={key:0},Nu=["onClick","disabled"],Iu={key:0},qu=["onClick"],$u=oe({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:n}){const r=nt(e),s=me(!1);kt(s,m=>{n("confirmingChanged",m)});function l(){if(t(r.skipConfirm)){n("click");return}s.value&&n("click"),s.value=!s.value}function c(){s.value=!1}return(m,d)=>(q(),E("span",{class:Pe(["container",{confirming:s.value}])},[s.value?(q(),E("span",Cu,"Are you sure?")):ee("",!0),M("button",{onClick:Un(l,["stop"]),class:"button danger",disabled:e.disabled},[s.value?(q(),E("span",Iu,"Yes")):jt(m.$slots,"default",{key:1},void 0,!0)],8,Nu),s.value?(q(),E("button",{key:1,class:"button",onClick:Un(c,["stop"])},"No",8,qu)):ee("",!0)],2))}});var Mu=be($u,[["__scopeId","data-v-2f8ef34c"]]);const Jt=e=>(xt("data-v-32313015"),e=e(),Pt(),e),Tu=Jt(()=>M("div",{class:"handle material-icons"},"drag_handle",-1)),xu={key:0,class:"actions"},Pu=Jt(()=>M("span",{class:"material-icons"},"content_paste",-1)),Au=Jt(()=>M("span",{class:"material-icons"},"content_copy",-1)),Fu=Jt(()=>M("span",{class:"material-icons"},"edit",-1)),Bu=Jt(()=>M("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),Ru={key:1,class:"actions"},Eu=Jt(()=>M("span",{class:"material-icons"},"check",-1)),Ou=Jt(()=>M("span",{class:"material-icons"},"close",-1)),Du={key:2,class:"details"},Lu={class:"save-version"},Vu=Jt(()=>M("br",null,null,-1)),ju={key:0},Uu={key:3,class:"details"},zu={key:4,class:"details error"},Gu=Jt(()=>M("br",null,null,-1)),Hu=oe({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:n}){const i=e,{save:r}=nt(i),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),l=me(!1),c=me(!1),m=me("");kt(l,()=>{var f;return m.value=(f=r.value.name)!=null?f:""});const d=S(()=>r.value!=null&&r.value.id===ve.id),p=S(()=>{var f;return d.value?ve.time:(f=r.value!=null&&r.value.time)!=null?f:0});function b(){n("editName",m.value),l.value=!1}return(f,w)=>(q(),E("div",{class:Pe(["save",{active:t(d)}])},[Tu,l.value?(q(),E("div",Ru,[M("button",{onClick:b,class:"button"},[a(it,{display:"Save",direction:t(je).Left,class:"info"},{default:ge(()=>[Eu]),_:1},8,["direction"])]),M("button",{onClick:w[5]||(w[5]=I=>l.value=!l.value),class:"button"},[a(it,{display:"Cancel",direction:t(je).Left,class:"info"},{default:ge(()=>[Ou]),_:1},8,["direction"])])])):(q(),E("div",xu,[t(r).error==null&&!c.value?(q(),ie(Fi,{key:0,onClick:w[0]||(w[0]=I=>n("export")),class:"button",left:""},{default:ge(()=>[a(it,{display:"Export",direction:t(je).Left,class:"info"},{default:ge(()=>[Pu]),_:1},8,["direction"])]),_:1})):ee("",!0),t(r).error==null&&!c.value?(q(),E("button",{key:1,onClick:w[1]||(w[1]=I=>n("duplicate")),class:"button"},[a(it,{display:"Duplicate",direction:t(je).Left,class:"info"},{default:ge(()=>[Au]),_:1},8,["direction"])])):ee("",!0),t(r).error==null&&!c.value?(q(),E("button",{key:2,onClick:w[2]||(w[2]=I=>l.value=!l.value),class:"button"},[a(it,{display:"Edit Name",direction:t(je).Left,class:"info"},{default:ge(()=>[Fu]),_:1},8,["direction"])])):ee("",!0),a(Mu,{disabled:t(d),onClick:w[3]||(w[3]=I=>n("delete")),onConfirmingChanged:w[4]||(w[4]=I=>c.value=I)},{default:ge(()=>[a(it,{display:"Delete",direction:t(je).Left,class:"info"},{default:ge(()=>[Bu]),_:1},8,["direction"])]),_:1},8,["disabled"])])),t(r).error==null&&!l.value?(q(),E("div",Du,[M("button",{class:"button open",onClick:w[6]||(w[6]=I=>n("open"))},[M("h3",null,le(t(r).name),1)]),M("span",Lu,"v"+le(t(r).modVersion),1),Vu,t(p)?(q(),E("div",ju,"Last played "+le(t(s).format(t(p))),1)):ee("",!0)])):t(r).error==null&&l.value?(q(),E("div",Uu,[a(Qi,{modelValue:m.value,"onUpdate:modelValue":w[7]||(w[7]=I=>m.value=I),class:"editname",onSubmit:b},null,8,["modelValue"])])):(q(),E("div",zu,[u(" Error: Failed to load save with id "+le(t(r).id),1),Gu,u(le(t(r).error),1)]))],2))}});var Wu=be(Hu,[["__scopeId","data-v-32313015"]]);const Ki=e=>(xt("data-v-2a4275be"),e=e(),Pt(),e),Yu=Ki(()=>M("h2",null,"Saves Manager",-1)),Xu={class:"modal-footer"},Qu={class:"field"},Ku=Ki(()=>M("span",{class:"field-title"},"Create Save",-1)),Zu={class:"field-buttons"},Ju={class:"footer"},ec=Ki(()=>M("div",{style:{"flex-grow":"1"}},null,-1)),tc=oe({__name:"SavesManager",setup(e,{expose:n}){const i=me(!1),r=me(null);n({open(){i.value=!0}});const s=me(!1),l=me(""),c=me(null);kt(l,R=>{R?an(()=>{try{if(R[0]!=="{")if(R[0]==="e")R=decodeURIComponent(escape(atob(R)));else if(R[0]==="\u1BE1")R=Kt.decompressFromUTF16(R);else{console.warn("Unable to determine preset encoding",R),s.value=!0;return}const B=JSON.parse(R);if(typeof B!="object"){s.value=!0;return}const j=ci();B.id=j,$t(B),l.value="",s.value=!1,Me.saves.push(j)}catch{s.value=!0}}):s.value=!1});let m={},d=me(Object.keys(m).reduce((R,B)=>(R.push({label:B.split("/").slice(-1)[0].slice(0,-4),value:m[B]}),R),[]));const p=hi({});function b(R){if(p[R]==null){let B=localStorage.getItem(R);if(B==null)p[R]={error:"Save doesn't exist in localStorage",id:R};else if(B==="dW5kZWZpbmVk")p[R]={error:"Save is undefined",id:R};else try{if(B[0]!=="{")if(B[0]==="e")B=decodeURIComponent(escape(atob(B)));else if(B[0]==="\u1BE1")B=Kt.decompressFromUTF16(B);else return console.warn("Unable to determine preset encoding",B),s.value=!0,p[R]={error:"Unable to determine preset encoding",id:R},p[R];p[R]={...JSON.parse(B),id:R}}catch(j){p[R]={error:j,id:R},console.warn(`SavesManager: Failed to load info about save with id ${R}:
${j}
${B}`)}}return p[R]}kt(i,R=>{R&&Object.keys(p).forEach(B=>delete p[B])});const f=S(()=>Me.saves.reduce((R,B)=>(R[B]=b(B),R),{}));function w(R){let B;switch(ve.id===R?B=Ai(ve):B=JSON.stringify(f.value[R]),ye.exportEncoding){default:console.warn(`Unknown save encoding: ${ye.exportEncoding}. Defaulting to lz`);case"lz":B=Kt.compressToUTF16(B);break;case"base64":B=btoa(unescape(encodeURIComponent(B)));break;case"plain":break}const j=document.createElement("textarea");j.value=B,document.body.appendChild(j),j.select(),j.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(j)}function I(R){ve.id===R&&$t();const B={...f.value[R],id:ci()};$t(B),Me.saves.push(B.id)}function N(R){Me.saves=Me.saves.filter(B=>B!==R),localStorage.removeItem(R),p[R]=void 0}function v(R){f.value[ve.id].time=ve.time,$t(),p[ve.id]=void 0,fn(f.value[R]),p[R]=void 0}function T(R){if(c.value=R,an(()=>{c.value=null}),R[0]!=="{")if(R[0]==="e")R=decodeURIComponent(escape(atob(R)));else if(R[0]==="\u1BE1")R=Kt.decompressFromUTF16(R);else{console.warn("Unable to determine preset encoding",R);return}const B=JSON.parse(R);B.id=ci(),$t(B),Me.saves.push(B.id),v(B.id)}function A(R,B){const j=f.value[R];j!=null&&(j.name=B,ve.id===R?(ve.name=B,$t()):($t(j),p[R]=void 0))}return(R,B)=>(q(),ie(un,{modelValue:i.value,"onUpdate:modelValue":B[4]||(B[4]=j=>i.value=j),ref_key:"modal",ref:r},{header:ge(()=>[Yu]),body:ge(({shown:j})=>[j?(q(),ie(t(fs),{key:0,list:t(Me).saves,handle:".handle",itemKey:ne=>ne},{item:ge(({element:ne})=>[a(Wu,{save:t(f)[ne],onOpen:K=>v(ne),onExport:K=>w(ne),onEditName:K=>A(ne,K),onDuplicate:K=>I(ne),onDelete:K=>N(ne)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):ee("",!0)]),footer:ge(()=>[M("div",Xu,[a(Qi,{modelValue:l.value,"onUpdate:modelValue":B[0]||(B[0]=j=>l.value=j),title:"Import Save",placeholder:"Paste your save here!",class:Pe({importingFailed:s.value})},null,8,["modelValue","class"]),M("div",Qu,[Ku,M("div",Zu,[M("button",{class:"button",onClick:B[1]||(B[1]=j=>v(t(In)().id))},"New Game"),Object.keys(t(d)).length>0?(q(),ie(Vn,{key:0,options:t(d),modelValue:c.value,"onUpdate:modelValue":B[2]||(B[2]=j=>T(j)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):ee("",!0)])]),M("div",Ju,[ec,M("button",{class:"button modal-default-button",onClick:B[3]||(B[3]=j=>i.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var zr=be(tc,[["__scopeId","data-v-2a4275be"]]);const At=e=>(xt("data-v-48016e86"),e=e(),Pt(),e),nc=["src","alt"],ic={key:1,class:"title"},rc={key:2,class:"devspeed"},sc={key:3,class:"devspeed"},oc=At(()=>M("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),ac={class:"discord"},lc={class:"discord-links"},uc={key:0},cc=["href"],dc=At(()=>M("li",null,[M("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),mc=At(()=>M("li",null,[M("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),pc={href:"https://forums.moddingtree.com/",target:"_blank"},fc=At(()=>M("span",{class:"material-icons"},"forum",-1)),gc=At(()=>M("span",{class:"material-icons"},"info",-1)),bc=At(()=>M("span",{class:"material-icons"},"library_books",-1)),hc=At(()=>M("span",{class:"material-icons"},"settings",-1)),vc=At(()=>M("span",{class:"material-icons"},"library_books",-1)),yc=At(()=>M("span",{class:"material-icons"},"settings",-1)),_c=At(()=>M("span",{class:"material-icons"},"info",-1)),wc={href:"https://forums.moddingtree.com/",target:"_blank"},kc=At(()=>M("span",{class:"material-icons"},"forum",-1)),Sc={class:"discord"},Cc={class:"discord-links"},Nc={key:0},Ic=["href"],qc=At(()=>M("li",null,[M("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),$c=At(()=>M("li",null,[M("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Mc=oe({__name:"Nav",setup(e){const n=me(null),i=me(null),r=me(null),s=me(null),{useHeader:l,banner:c,title:m,discordName:d,discordLink:p,versionNumber:b}=ye;function f(){window.open(p,"mywindow")}return(w,I)=>(q(),E(g,null,[t(l)?(q(),E("div",Tt({key:0,class:"nav"},w.$attrs),[t(c)?(q(),E("img",{key:0,src:t(c),class:"banner",alt:t(m)},null,8,nc)):(q(),E("div",ic,le(t(m)),1)),M("div",{onClick:I[0]||(I[0]=N=>{var v;return(v=s.value)==null?void 0:v.open()}),class:"version-container"},[a(it,{display:"Changelog",direction:t(je).Down,class:"version"},{default:ge(()=>[M("span",null,"v"+le(t(b)),1)]),_:1},8,["direction"])]),t(ve).devSpeed===0?(q(),E("div",rc,"Game Paused")):t(ve).devSpeed&&t(ve).devSpeed!==1?(q(),E("div",sc,"Dev Speed: "+le(t(L)(t(ve).devSpeed))+"x",1)):ee("",!0),oc,M("div",ac,[M("span",{onClick:f,class:"material-icons"},"discord"),M("ul",lc,[t(p)?(q(),E("li",uc,[M("a",{href:t(p),target:"_blank"},le(t(d)),9,cc)])):ee("",!0),dc,mc])]),M("div",null,[M("a",pc,[a(it,{display:"Forums",direction:t(je).Down,yoffset:"5px"},{default:ge(()=>[fc]),_:1},8,["direction"])])]),M("div",{onClick:I[1]||(I[1]=N=>{var v;return(v=n.value)==null?void 0:v.open()})},[a(it,{display:"Info",direction:t(je).Down,class:"info"},{default:ge(()=>[gc]),_:1},8,["direction"])]),M("div",{onClick:I[2]||(I[2]=N=>{var v;return(v=i.value)==null?void 0:v.open()})},[a(it,{display:"Saves",direction:t(je).Down,xoffset:"-20px"},{default:ge(()=>[bc]),_:1},8,["direction"])]),M("div",{onClick:I[3]||(I[3]=N=>{var v;return(v=r.value)==null?void 0:v.open()})},[a(it,{display:"Settings",direction:t(je).Down,xoffset:"-66px"},{default:ge(()=>[hc]),_:1},8,["direction"])])],16)):(q(),E("div",Tt({key:1,class:"overlay-nav"},w.$attrs),[M("div",{onClick:I[4]||(I[4]=N=>{var v;return(v=s.value)==null?void 0:v.open()}),class:"version-container"},[a(it,{display:"Changelog",direction:t(je).Right,xoffset:"25%",class:"version"},{default:ge(()=>[M("span",null,"v"+le(t(b)),1)]),_:1},8,["direction"])]),M("div",{onClick:I[5]||(I[5]=N=>{var v;return(v=i.value)==null?void 0:v.open()})},[a(it,{display:"Saves",direction:t(je).Right},{default:ge(()=>[vc]),_:1},8,["direction"])]),M("div",{onClick:I[6]||(I[6]=N=>{var v;return(v=r.value)==null?void 0:v.open()})},[a(it,{display:"Settings",direction:t(je).Right},{default:ge(()=>[yc]),_:1},8,["direction"])]),M("div",{onClick:I[7]||(I[7]=N=>{var v;return(v=n.value)==null?void 0:v.open()})},[a(it,{display:"Info",direction:t(je).Right},{default:ge(()=>[_c]),_:1},8,["direction"])]),M("div",null,[M("a",wc,[a(it,{display:"Forums",direction:t(je).Right,xoffset:"7px"},{default:ge(()=>[kc]),_:1},8,["direction"])])]),M("div",Sc,[M("span",{onClick:f,class:"material-icons"},"discord"),M("ul",Cc,[t(p)?(q(),E("li",Nc,[M("a",{href:t(p),target:"_blank"},le(t(d)),9,Ic)])):ee("",!0),qc,$c])])],16)),a(lu,{ref_key:"info",ref:n,changelog:s.value},null,8,["changelog"]),a(zr,{ref_key:"savesManager",ref:i},null,512),a(vu,{ref_key:"options",ref:r},null,512),a(Ul,{ref_key:"changelog",ref:s},null,512)],64))}});var Gr=be(Mc,[["__scopeId","data-v-48016e86"]]);const Tc=["id"],xc={class:"inner-tab"},Pc=oe({__name:"Game",setup(e){const n=Zt(ve,"tabs"),i=S(()=>Object.keys(ft)),r=ye.useHeader;function s(l){const{display:c,name:m,color:d,nodes:p}=l;return{display:c,name:m,color:d,nodes:p}}return(l,c)=>(q(),E("div",{class:Pe(["tabs-container",{useHeader:t(r)}])},[(q(!0),E(g,null,Ee(t(n),(m,d)=>{var p,b;return q(),E("div",{key:d,id:m,class:Pe(["tab",t((p=t(ft)[m])==null?void 0:p.classes)]),style:Oe(t((b=t(ft)[m])==null?void 0:b.style))},[d===0&&!t(r)?(q(),ie(Gr,{key:0})):ee("",!0),M("div",xc,[t(i).includes(m)?(q(),ie(Dl,Tt({key:0},s(t(ft)[m]),{index:d}),null,16,["index"])):(q(),ie(Ne(m),{key:1,index:d},null,8,["index"]))])],14,Tc)}),128))],2))}});var Ac=be(Pc,[["__scopeId","data-v-438bb8c8"]]);const Fc=oe({__name:"Tab",props:{display:null},setup(e){const n=e,{display:i}=nt(n),r=Gi(i);return(s,l)=>(q(),ie(Ne(t(r))))}}),Bc=Symbol("Tab");function Wt(e){return We(n=>{const i=e.call(n,n);return i.id=Ot("tab-"),i.type=Bc,i[lt]=Fc,i[bt]=function(){const{display:r}=this;return{display:r}},i})}ut.on("setupVue",e=>e.use(bs));function Zi(e="white",n="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${n} ${e}`,zIndex:1}}function Rc(){return Zi("red","20px")}const Ec=oe({props:{visibility:{type:te(Number,Boolean),required:!0},display:{type:te(Object,String,Function),required:!0},style:te(String,Object,Array),classes:te(Object),glowColor:te(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:n}){const{display:i,glowColor:r,floating:s}=nt(e),l=Gi(i),c=S(()=>{const d=Ie(r);return d==null||d===""?{}:t(s)?Zi(d):{boxShadow:`0px 9px 5px -6px ${d}`}});function m(){n("selectTab")}return{selectTab:m,component:l,glowColorStyle:c,unref:t,Visibility:Te,isVisible:we,isHidden:Ut}}});function Oc(e,n,i,r,s,l){var c;return e.isVisible(e.visibility)?(q(),E("button",{key:0,onClick:n[0]||(n[0]=(...m)=>e.selectTab&&e.selectTab(...m)),class:Pe(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.glowColorStyle,(c=e.unref(e.style))!=null?c:{}])},[(q(),ie(Ne(e.component)))],6)):ee("",!0)}var Hr=be(Ec,[["render",Oc],["__scopeId","data-v-21427abb"]]);const Dc=oe({__name:"Sticky",props:{style:null},setup(e){const n=me("0"),i=new ResizeObserver(s),r=gt(null);function s(){let l=r.value;if(l==null)return;let c=0;for(;l.previousSibling;){const m=l.previousSibling;m.dataset&&"vSticky"in m.dataset&&(c+=m.offsetHeight),l=m}n.value=c+"px"}return an(s),document.fonts.ready.then(s),Qn(()=>{var c;const l=(c=r.value)==null?void 0:c.parentElement;l&&i.observe(l)}),(l,c)=>{var m;return q(),E("div",{class:"sticky",style:Oe([(m=e.style)!=null?m:{},{top:n.value}]),ref_key:"element",ref:r,"data-v-sticky":""},[jt(l.$slots,"default",{},void 0,!0)],4)}}});var Wr=be(Dc,[["__scopeId","data-v-4627c2ee"]]);const Lc=oe({props:{visibility:{type:te(Number,Boolean),required:!0},activeTab:{type:te(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:te(Object),required:!0},style:te(String,Object,Array),classes:te(Object),buttonContainerStyle:te(String,Object,Array),buttonContainerClasses:te(Object)},components:{Sticky:Wr,TabButton:Hr},setup(e){const{activeTab:n}=nt(e),i=S(()=>An[Me.theme].floatingTabs),r=gt("");Nt(()=>{const m=Ie(n);if(m==null){r.value="";return}if(ht(m)){r.value=ue(m);return}r.value=ue(t(m.display))});const s=S(()=>{const m=Ie(n);return ht(m)||!m?void 0:t(m.classes)}),l=S(()=>{const m=Ie(n);return ht(m)||!m?void 0:t(m.style)});function c(m){const{display:d,style:p,classes:b,glowColor:f,visibility:w}=m;return{display:d,style:t(p),classes:b,glowColor:f,visibility:w}}return{floating:i,tabClasses:s,tabStyle:l,Visibility:Te,component:r,gatherButtonProps:c,unref:t,isVisible:we,isHidden:Ut}}});function Vc(e,n,i,r,s,l){var d,p;const c=Et("TabButton"),m=Et("Sticky");return e.isVisible(e.visibility)?(q(),E("div",{key:0,class:Pe(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[],(p=e.tabStyle)!=null?p:[]])},[a(m,{class:Pe(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:Oe(e.unref(e.buttonContainerStyle))},{default:ge(()=>[M("div",{class:Pe(["tab-buttons",{floating:e.floating}])},[(q(!0),E(g,null,Ee(e.unref(e.tabs),(b,f)=>(q(),ie(c,Tt({onSelectTab:w=>e.selected.value=f,floating:e.floating,key:f,active:e.unref(b.tab)===e.unref(e.activeTab)},e.gatherButtonProps(b)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?(q(),ie(Ne(e.unref(e.component)),{key:0})):ee("",!0)],6)):ee("",!0)}var jc=be(Lc,[["render",Vc],["__scopeId","data-v-65b34424"]]);const Uc=Symbol("TabButton"),zc=Symbol("TabFamily");function Zn(e,n){Object.keys(e).length===0&&console.error("Cannot create tab family with 0 tabs");const i=$e(Object.keys(e)[0],!1);return We(r=>{var c;const s=(c=n==null?void 0:n.call(r,r))!=null?c:{};s.id=Ot("tabFamily-"),s.type=zc,s[lt]=jc,s.tabs=Object.keys(e).reduce((m,d)=>{const p=e[d]();return p.type=Uc,p[lt]=Hr,W(p,"visibility"),Be(p,"visibility",Te.Visible),W(p,"tab"),W(p,"display"),W(p,"classes"),W(p,"style"),W(p,"glowColor"),m[d]=p,m},{}),s.selected=i,s.activeTab=S(()=>{const m=t(l.tabs);if(i.value in m&&we(m[i.value].visibility))return t(m[i.value].tab);const d=Object.values(m).find(p=>we(p.visibility));return d?t(d.tab):null}),W(s,"visibility"),Be(s,"visibility",Te.Visible),W(s,"classes"),W(s,"style"),W(s,"buttonContainerClasses"),W(s,"buttonContainerStyle"),s[bt]=function(){const{visibility:m,activeTab:d,selected:p,tabs:b,style:f,classes:w,buttonContainerClasses:I,buttonContainerStyle:N}=this;return{visibility:m,activeTab:d,selected:p,tabs:b,style:t(f),classes:w,buttonContainerClasses:I,buttonContainerStyle:N}};const l=s;return l})}function rt(e,n="points",i=0,r=void 0){const s=Ue(e)?e:$e(e);if(s.displayName=n,s.precision=i,s.small=r,!Ue(e)){const l=s[Gt];l.displayName=n,l.precision=i,l.small=r}return s}function Ji(e){const n=$e(e.value);return kt(e,i=>{Ri.value||o.gt(i,n.value)&&(n.value=i)}),n}function Gc(e){const n=$e(e.value);return kt(e,(i,r)=>{Ri.value||o.gt(i,r)&&(n.value=o.add(n.value,o.sub(i,r)))}),n}new o("10^^8");new o("1e100");function vn(e,n){const i=n!=null?n:e.value;return e.small&&o.lt(i,.98)?fi(i,void 0,e.small):o.eq(e.precision,0)?hn(e.small?i:o.floor(i)):fi(i,e.precision,e.small)}function Hc(e){return We(n=>{const{addend:i,description:r,enabled:s,smallerIsBetter:l}=e.call(n,n),c=Ze(i),m=Ze(r),d=s==null?void 0:Ze(s);return{apply:p=>o.add(p,t(c)),invert:p=>o.sub(p,t(c)),getFormula:p=>y.add(p,c),enabled:d,description:r==null?void 0:_(()=>a("div",{class:"modifier-container"},[t(m)!=null?a("span",{class:"modifier-description"},[It(t(m))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(c),0):o.lt(t(c),0))?"color: var(--danger)":""},[o.gte(t(c),0)?"+":"",Mn(t(c))])]))}})}function U(e){return We(n=>{const{multiplier:i,description:r,enabled:s,smallerIsBetter:l}=e.call(n,n),c=Ze(i),m=Ze(r),d=s==null?void 0:Ze(s);return{apply:p=>o.times(p,t(c)),invert:p=>o.div(p,t(c)),getFormula:p=>y.times(p,c),enabled:d,description:r==null?void 0:_(()=>a("div",{class:"modifier-container"},[t(m)!=null?a("span",{class:"modifier-description"},[It(t(m))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(c),1):o.lt(t(c),1))?"color: var(--danger)":""},[u("\xD7"),Mn(t(c))])]))}})}function Rn(e){return We(n=>{const{exponent:i,description:r,enabled:s,supportLowNumbers:l,smallerIsBetter:c}=e.call(n,n),m=Ze(i),d=Ze(r),p=s==null?void 0:Ze(s);return{apply:b=>{let f=b;return l&&(f=o.add(f,1)),f=o.pow(f,t(m)),l&&(f=o.sub(f,1)),f},invert:b=>{let f=b;return l&&(f=o.add(f,1)),f=o.root(f,t(m)),l&&(f=o.sub(f,1)),f},getFormula:b=>l?y.add(b,1).pow(m).sub(1):y.pow(b,m),enabled:p,description:r==null?void 0:_(()=>a("div",{class:"modifier-container"},[t(d)!=null?a("span",{class:"modifier-description"},[It(t(d)),l?" (+1 effective)":null]):null,a("span",{class:"modifier-amount",style:(c===!0?o.gt(t(m),1):o.lt(t(m),1))?"color: var(--danger)":""},[u("^"),Mn(t(m))])]))}})}function ot(e){return We(()=>{const n=e();return{apply:i=>n.filter(r=>t(r.enabled)!==!1).reduce((r,s)=>s.apply(r),i),invert:n.every(i=>i.invert!=null)?i=>n.filter(r=>t(r.enabled)!==!1).reduceRight((r,s)=>s.invert(r),i):void 0,getFormula:n.every(i=>i.getFormula!=null)?i=>n.reduce((r,s)=>{var l;return y.if(r,(l=s.enabled)!=null?l:!0,c=>s.getFormula(c),c=>c)},i):void 0,enabled:n.some(i=>i.enabled!=null)?S(()=>n.filter(i=>t(i.enabled)!==!1).length>0):void 0,description:n.some(i=>i.description!=null)?_(()=>a(g,null,[n.filter(i=>t(i.enabled)!==!1).map(i=>t(i.description)).filter(i=>i).map(It)])):void 0}})}const qe=oe({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(n,i)=>(q(),E("div",{style:Oe({width:e.width,height:e.height})},null,4))}});function En(e,n){return W(n,"display"),W(n,"classes"),W(n,"style"),W(n,"direction"),Be(n,"direction",je.Up),W(n,"xoffset"),W(n,"yoffset"),n.pinnable&&(n.pinned=$e(!1,!1)),an(()=>{const i=e[lt];e[lt]=it;const r=e[bt].bind(e);e[bt]=function(){const{display:l,classes:c,style:m,direction:d,xoffset:p,yoffset:b,pinned:f}=this;return{element:{[lt]:i,[bt]:r},display:l,classes:c,style:t(m),direction:d,xoffset:p,yoffset:b,pinned:f}}.bind(n)}),n}const Wc={key:0},Yc={key:0,class:"mark star"},Xc=["src"],Qc=oe({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(n,i)=>e.mark?(q(),E("div",Wc,[e.mark===!0?(q(),E("div",Yc)):(q(),E("img",{key:1,class:"mark",src:e.mark},null,8,Xc))])):ee("",!0)}});var Jn=be(Qc,[["__scopeId","data-v-2207999f"]]);const Kc=oe({__name:"Node",props:{id:null},setup(e){const i=nt(e),r=pi(Hi,()=>{}),s=pi(Wi,()=>{}),l=gt(null),c=S(()=>l.value&&l.value.parentElement);return kt([c,i.id],([m,d],[p,b])=>{p&&s(t(b)),m&&r(d,m)}),yr(()=>s(t(i.id))),(m,d)=>(q(),E("div",{class:"node",ref_key:"node",ref:l},null,512))}});var _n=be(Kc,[["__scopeId","data-v-a48cb382"]]);function G(e){return We(n=>{var r;const i=e.call(n,n);return i.partialDisplay=s=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[vn(i.resource,i.cost instanceof y?Ht(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),i.display=s=>a("div",null,[t(i.requiresPay)?"Costs: ":"Requires: ",vn(i.resource,i.cost instanceof y?Ht(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),W(i,"visibility"),Be(i,"visibility",Te.Visible),W(i,"cost"),W(i,"requiresPay"),Be(i,"requiresPay",!0),W(i,"cumulativeCost"),Be(i,"cumulativeCost",!0),W(i,"maxBulkAmount"),Be(i,"maxBulkAmount",1),W(i,"directSum"),Be(i,"pay",function(s){const l=i.cost instanceof y?Ht(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost);i.resource.value=o.sub(i.resource.value,l).max(0)}),i.canMaximize=S(()=>{var m;if(!(i.cost instanceof y))return!1;const s=t(i.maxBulkAmount);if(o.lte(s,1))return!1;const l=t(i.cumulativeCost),c=(m=t(i.directSum))!=null?m:l?10:0;return o.lte(s,c)?!0:!(!i.cost.isInvertible()||l===!0&&!i.cost.isIntegrable())}),i.cost instanceof y?i.requirementMet=Ml(i.cost,i.resource,(r=i.cumulativeCost)!=null?r:!0,i.directSum,i.maxBulkAmount):i.requirementMet=S(()=>o.gte(i.resource.value,t(i.cost))?1:0),i})}function er(e){return We(()=>({requirementMet:S(()=>we(e.visibility)),visibility:Te.None,requiresPay:!1}))}function Dt(e,n){return We(()=>({requirementMet:Ze(e),partialDisplay:n==null?void 0:_(()=>It(n)),display:n==null?void 0:_(()=>a(g,null,[u("Req: "),It(n)])),visibility:n==null?Te.None:Te.Visible,requiresPay:!1}))}function Mt(e){if(Yt(e))return e.every(Mt);const n=t(e.requirementMet);return typeof n=="boolean"?n:o.gt(n,0)}function Xn(e){if(Yt(e))return e.map(Xn).reduce(o.min);const n=t(e.requirementMet);return typeof n=="boolean"?n?o.dInf:0:o.gt(n,1)&&t(e.canMaximize)!==!0?1:n}function Ye(e,n=1){var i,r;if(Yt(e)&&(e=e.filter(s=>we(s.visibility)),e.length===1&&(e=e[0])),Yt(e)){e=e.filter(c=>"partialDisplay"in c);const s=e.filter(c=>t(c.requiresPay)),l=e.filter(c=>!t(c.requiresPay));return a(g,null,[s.length>0?a("div",null,[u("Costs:")," ",Ti(s.map(c=>c.partialDisplay(n)),a(g,null,[u(", ")]))]):null,l.length>0?a("div",null,[u("Requires:")," ",Ti(l.map(c=>c.partialDisplay(n)),a(g,null,[u(", ")]))]):null])}return(r=(i=e.display)==null?void 0:i.call(e))!=null?r:a(g,null,null)}function jn(e,n=1){var i;Yt(e)?e.filter(r=>t(r.requiresPay)).forEach(r=>{var s;return(s=r.pay)==null?void 0:s.call(r,n)}):t(e.requiresPay)&&((i=e.pay)==null||i.call(e,n))}var Zc=oe({props:{display:{type:te(String,Object,Function),required:!0},visibility:{type:te(Number,Boolean),required:!0},style:te(String,Object,Array),classes:te(Object),requirements:{type:Object,required:!0},canPurchase:{type:te(Boolean),required:!0},bought:{type:te(Boolean),required:!0},mark:te(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:_n,MarkNode:Jn},setup(e){const{display:n,requirements:i,bought:r}=nt(e),s=gt("");return Nt(()=>{const l=Ie(n);if(l==null){s.value="";return}if(ht(l)){s.value=ue(l);return}const c=ue(l.title||"","h3"),m=ue(l.description,"div"),d=ue(l.effect||"");s.value=ue(_(()=>a("span",null,[l.title!=null?a("div",null,[a(c,null,null)]):null,a(m,null,null),l.effect!=null?a("div",null,[u("Currently: "),a(d,null,null)]):null,r.value?null:a(g,null,[a("br",null,null),Ye(i.value)])])))}),{component:s,unref:t,Visibility:Te,isVisible:we,isHidden:Ut}}});const Jc=["disabled"];function ed(e,n,i,r,s,l){var d;const c=Et("MarkNode"),m=Et("Node");return e.isVisible(e.visibility)?(q(),E("button",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:{}]),onClick:n[0]||(n[0]=(...p)=>e.purchase&&e.purchase(...p)),class:Pe({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(q(),ie(Ne(e.unref(e.component)),{key:0})):ee("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],14,Jc)):ee("",!0)}var td=be(Zc,[["render",ed],["__scopeId","data-v-67ed4380"]]);const nd=Symbol("Upgrade");function pe(e,...n){const i=$e(!1,!1),r=n.reduce((s,l)=>{var c;return Object.assign(s,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return We(s=>{var d,p;const l=e.call(s,s);l.id=Ot("upgrade-"),l.type=nd,l[lt]=td;for(const b of n)(d=b.preConstruct)==null||d.call(b,l);l.bought=i,Object.assign(l,r),l.canPurchase=S(()=>!i.value&&Mt(l.requirements)),l.purchase=function(){var f;const b=l;!t(b.canPurchase)||(jn(l.requirements),i.value=!0,(f=b.onPurchase)==null||f.call(b))};const c=er(l);Yt(l.requirements)?l.requirements.unshift(c):l.requirements=[c,l.requirements],W(l,"visibility"),Be(l,"visibility",Te.Visible),W(l,"classes"),W(l,"style"),W(l,"display"),W(l,"mark");for(const b of n)(p=b.postConstruct)==null||p.call(b,l);const m=n.reduce((b,f)=>{var w;return Object.assign(b,(w=f.getGatheredProps)==null?void 0:w.call(f,l))},{});return l[bt]=function(){const{display:b,visibility:f,style:w,classes:I,requirements:N,canPurchase:v,bought:T,mark:A,id:R,purchase:B}=this;return{display:b,visibility:f,style:t(w),classes:I,requirements:N,canPurchase:v,bought:T,mark:A,id:R,purchase:B,...m}},l})}function Rt(e,n=1,i=!1){if(!("effect"in e))throw new TypeError(`Upgrade ${e.id} does not have an effect`);return i||t(e.bought)?t(e.effect):n}function id(e){const n=pe(()=>({visibility:e.visibility,requirements:e.requirements,display:e.display.title,onPurchase:e.onPurchase}));return En(n,{direction:je.Up,display:_(()=>a(g,null,[e.display.description,a(qe,null,null),Ye(e.requirements)]))}),n}const Ce={postConstruct(e){W(e,"effect")}},ei=oe({__name:"Resource",props:{resource:null,color:null,tag:null,override:null},setup(e){const n=e,i=S(()=>vn(n.resource,n.override));return(r,s)=>{var l;return q(),ie(Ne((l=e.tag)!=null?l:"h2"),{style:Oe({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},{default:ge(()=>[u(le(t(i)),1)]),_:1},8,["style"])}}});const rd={class:"main-display"},sd={key:0},od={key:1},yi=oe({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,stickyStyle:null,effect:null,modal:null},setup(e){const i=nt(e),r=me(null),s=Kn(i.effect),l=S(()=>o.lt(i.resource.value,"1e1000"));return(c,m)=>(q(),ie(Wr,{style:Oe(e.stickyStyle)},{default:ge(()=>{var d,p,b,f;return[M("div",{class:Pe(["main-display-container",(d=e.classes)!=null?d:{}]),style:Oe([{height:`${((b=(p=r.value)==null?void 0:p.$el.clientHeight)!=null?b:0)+50}px`},(f=e.style)!=null?f:{}])},[M("div",rd,[t(l)?(q(),E("span",sd,"You have ")):ee("",!0),a(ei,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),u(" "+le(e.resource.displayName),1),t(s)?(q(),E("span",od,[u(", "),(q(),ie(Ne(t(s)),{ref_key:"effectRef",ref:r},null,512))])):ee("",!0),e.modal?(q(),ie(Ne(t(J)(e.modal)),{key:2})):ee("",!0)])],6)]}),_:1},8,["style"]))}});const ad={class:"timecube row"},ld=oe({__name:"TimecubeUpgrades",props:{upgrades:null},setup(e){const n=e,i=[];for(let b=0;b<t(n.upgrades).length;b+=5)i.push([]);let r=0;for(const b of t(n.upgrades))i[r].push(b),i[r].length>=5&&r++;const s=i.map(b=>b.map((f,w)=>w===0?!1:S(()=>we(b[w-1].visibility)))),l=i.map(b=>b.map((f,w)=>w>=b.length-1?!1:S(()=>we(b[w+1].visibility)))),c=i.map(b=>S(()=>b.filter(f=>we(f.visibility)).length)),m=i.map((b,f)=>b.map(()=>S(()=>f===0?!1:t(c[f])<=t(c[f-1])))),d=i.map((b,f)=>b.map(()=>S(()=>f>=i.length-1?!1:t(c[f])<=t(c[f+1])))),p=i.map((b,f)=>b.map((w,I)=>S(()=>({upgrade:w,classes:{left:t(s[f][I]),right:t(l[f][I]),top:t(m[f][I]),bottom:t(d[f][I])}}))));return(b,f)=>(q(!0),E(g,null,Ee(t(p),w=>(q(),E("div",ad,[(q(!0),E(g,null,Ee(w,I=>(q(),ie(Ne(t(J)(t(I).upgrade)),{classes:t(I).classes},null,8,["classes"]))),256))]))),256))}});var ud=be(ld,[["__scopeId","data-v-46085314"]]),cd=oe({props:{display:{type:te(Object,String,Function),required:!0},visibility:{type:te(Number,Boolean),required:!0},style:te(Object,String,Array),classes:te(Object),onClick:Function,onHold:Function,canClick:{type:te(Boolean),required:!0},small:Boolean,mark:te(Boolean,String),id:{type:String,required:!0}},components:{Node:_n,MarkNode:Jn},setup(e){const{display:n,onClick:i,onHold:r}=nt(e),s=gt("");Nt(()=>{var b;const m=Ie(n);if(m==null){s.value="";return}if(ht(m)){s.value=ue(m);return}const d=ue((b=m.title)!=null?b:"","h3"),p=ue(m.description,"div");s.value=ue(_(()=>a("span",null,[m.title!=null?a("div",null,[a(d,null,null)]):null,a(p,null,null)])))});const{start:l,stop:c}=Or(i,r);return{start:l,stop:c,comp:s,Visibility:Te,isVisible:we,isHidden:Ut,unref:t}}});function dd(e,n,i,r,s,l){var d;const c=Et("MarkNode"),m=Et("Node");return e.isVisible(e.visibility)?(q(),E("button",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[]]),onClick:n[0]||(n[0]=(...p)=>e.onClick&&e.onClick(...p)),onMousedown:n[1]||(n[1]=(...p)=>e.start&&e.start(...p)),onMouseleave:n[2]||(n[2]=(...p)=>e.stop&&e.stop(...p)),onMouseup:n[3]||(n[3]=(...p)=>e.stop&&e.stop(...p)),onTouchstartPassive:n[4]||(n[4]=(...p)=>e.start&&e.start(...p)),onTouchendPassive:n[5]||(n[5]=(...p)=>e.stop&&e.stop(...p)),onTouchcancelPassive:n[6]||(n[6]=(...p)=>e.stop&&e.stop(...p)),class:Pe({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(q(),ie(Ne(e.unref(e.comp)),{key:0})):ee("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],38)):ee("",!0)}var Yr=be(cd,[["render",dd],["__scopeId","data-v-211328c0"]]);const md=Symbol("Clickable");function st(e,...n){const i=n.reduce((r,s)=>{var l;return Object.assign(r,(l=s.getPersistentData)==null?void 0:l.call(s))},{});return We(r=>{var c,m,d;const s=(c=e==null?void 0:e.call(r,r))!=null?c:{};s.id=Ot("clickable-"),s.type=md,s[lt]=Yr;for(const p of n)(m=p.preConstruct)==null||m.call(p,s);if(Object.assign(s,i),W(s,"visibility"),Be(s,"visibility",Te.Visible),W(s,"canClick"),Be(s,"canClick",!0),W(s,"classes"),W(s,"style"),W(s,"mark"),W(s,"display"),s.onClick){const p=s.onClick.bind(s);s.onClick=function(b){t(s.canClick)!==!1&&p(b)}}if(s.onHold){const p=s.onHold.bind(s);s.onHold=function(){t(s.canClick)!==!1&&p()}}for(const p of n)(d=p.postConstruct)==null||d.call(p,s);const l=n.reduce((p,b)=>{var f;return Object.assign(p,(f=b.getGatheredProps)==null?void 0:f.call(b,s))},{});return s[bt]=function(){const{display:p,visibility:b,style:f,classes:w,onClick:I,onHold:N,canClick:v,small:T,mark:A,id:R}=this;return{display:p,visibility:b,style:t(f),classes:w,onClick:I,onHold:N,canClick:v,small:T,mark:A,id:R,...l}},s})}const pd=["disabled"],fd={key:0};var gd=oe({__name:"Research",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,research:null},setup(e){const n=e,i=gt("");Nt(()=>{var p,b;const s=t(n.display);if(s==null){i.value="";return}if(ht(s)){i.value=ue(s);return}const l=t(n.requirements),c=ue((p=s.title)!=null?p:"","h3"),m=ue(s.description),d=ue((b=s.effect)!=null?b:"");i.value=ue(_(()=>a(g,null,[s.title?a("span",null,[a(c,null,null)]):null,a("span",null,[a(m,null,null)]),s.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,Ye(l)])))});const r=S(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(s,l)=>(q(),E("button",{style:Oe([{visibility:t(Ut)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(L)(t(t(r)))}%`}]),onClick:l[0]||(l[0]=c=>e.research(!1)),class:Pe({research:!0,hidden:t(Ut)(e.visibility),locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching)&&!t(e.researched),queued:t(e.isResearching),done:t(e.researched)}),disabled:!t(e.canResearch)},[t(we)(e.visibility)?t(t(i))?(q(),ie(Ne(t(t(i))),{key:1})):ee("",!0):(q(),E("div",fd,"???")),a(_n,{id:e.id},null,8,["id"])],14,pd))}});var bd=be(gd,[["__scopeId","data-v-1f627772"]]);const hd=Symbol("Research");function tr(e,...n){const i=$e(0),r=n.reduce((s,l)=>{var c;return Object.assign(s,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return We(s=>{var p,b;const l=e.call(s,s);l.id=Ot("research-"),l.type=hd,l[lt]=bd;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.progress=i,Object.assign(l,r),W(l,"canResearch");const c=l.canResearch;l.canResearch=S(()=>{var f,w;return c!=null&&!t(c)?!1:(w=(f=l.prerequisites)==null?void 0:f.every(I=>t(I.researched)))!=null?w:!0}),W(l,"visibility");const m=l.visibility;l.visibility=S(()=>{var f,w,I;return t(l.researched)?Te.Visible:(w=(f=l.prerequisites)==null?void 0:f.every(N=>t(N.researched)||t(N.canResearch)))==null||w?(I=t(m))!=null?I:Te.Visible:Te.None}),W(l,"display"),W(l,"isResearching"),l.progressPercentage=S(()=>{if(Array.isArray(l.requirements)){let f=o.dZero,w=o.dZero;for(const I of l.requirements){if(!("cost"in I&&"resource"in I))continue;const N=I.cost,v=I.resource;f=f.plus(N instanceof y?Ht(N,1,!1,0):t(N)),w=w.plus(t(v))}return f.gte(0)?f.div(w):0}else{if(!("cost"in l.requirements&&"resource"in l.requirements))return 0;const f=l.requirements.cost,w=l.requirements.resource;return o.div(t(w),f instanceof y?Ht(f,1,!1,0):t(f))}}),l.researched=S(()=>Mt(l.requirements));for(const f of n)(b=f.postConstruct)==null||b.call(f,l);const d=n.reduce((f,w)=>{var I;return Object.assign(f,(I=w.getGatheredProps)==null?void 0:I.call(w,l))},{});return l[bt]=function(){const{visibility:f,display:w,id:I,requirements:N,canResearch:v,research:T,isResearching:A,progress:R,progressPercentage:B,researched:j}=this;return{visibility:f,display:w,id:I,requirements:N,canResearch:v,research:T,isResearching:A,progress:R,progressPercentage:B,researched:j,...d}},l})}function ct(e,n){return t(e.researched)?t(e.effect):n}const Xr={postConstruct(e){e.amount===void 0&&console.error(`Decorated feature ${e.id} does not contain the required 'amount' property"`),W(e,"bonusAmount"),e.totalAmount===void 0&&(e.totalAmount=S(()=>{var n;return o.add(t((n=e.amount)!=null?n:0),t(e.bonusAmount))}))}},vd=Symbol("Repeatable");function He(e,...n){const i=$e(0),r=n.reduce((s,l)=>{var c;return Object.assign(s,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return We(s=>{var w,I,N;const l=e.call(s,s);l.id=Ot("repeatable-"),l.type=vd,l[lt]=Yr;for(const v of n)(w=v.preConstruct)==null||w.call(v,l);l.amount=i,l.amount[zt]=(I=l.initialAmount)!=null?I:0,Object.assign(l,r);const c={requirementMet:S(()=>o.sub(t(l.limit),l.amount.value)),requiresPay:!1,visibility:Te.None,canMaximize:!0},m=er(l);Yt(l.requirements)?(l.requirements.unshift(m),l.requirements.push(c)):l.requirements=[m,l.requirements,c],l.maxed=S(()=>o.gte(l.amount.value,t(l.limit))),W(l,"classes");const d=l.classes;l.classes=S(()=>{const v=t(d)||{};return l.maxed.value&&(v.bought=!0),v}),l.amountToIncrease=S(()=>o.clampMin(Xn(l.requirements),1)),l.canClick=S(()=>Mt(l.requirements));const p=l.onClick;l.onClick=function(v){var R;const T=l;if(!t(T.canClick))return;const A=(R=t(l.amountToIncrease))!=null?R:1;jn(l.requirements,A),T.amount.value=o.add(T.amount.value,A),p==null||p(v)},W(l,"display");const b=l.display;l.display=_(()=>{var T,A,R;const v=t(b);if(ht(v)){const B=ue(v);return a(B,null,null)}if(v!=null){const B=l,j=ue((T=v.title)!=null?T:"","h3"),ne=ue((A=v.description)!=null?A:""),K=ue((R=v.effect)!=null?R:"");return a("span",null,[v.title==null?null:a("div",null,[a(j,null,null)]),v.description==null?null:a(ne,null,null),v.showAmount===!1?null:a("div",null,[a("br",null,null),a(g,null,[u("Amount: "),hn(B.amount.value)]),o.isFinite(t(B.limit))?a(g,null,[u(" / "),hn(t(B.limit))]):void 0]),v.effect==null?null:a("div",null,[a("br",null,null),u("Currently: "),a(K,null,null)]),B.maxed.value?null:a("div",null,[a("br",null,null),Ye(B.requirements,t(l.amountToIncrease))])])}return""}),W(l,"visibility"),Be(l,"visibility",Te.Visible),W(l,"limit"),Be(l,"limit",o.dInf),W(l,"style"),W(l,"mark"),W(l,"small");for(const v of n)(N=v.postConstruct)==null||N.call(v,l);const f=n.reduce((v,T)=>{var A;return Object.assign(v,(A=T.getGatheredProps)==null?void 0:A.call(T,l))},{});return l[bt]=function(){const{display:v,visibility:T,style:A,classes:R,onClick:B,canClick:j,small:ne,mark:K,id:z}=this;return{display:v,visibility:T,style:t(A),classes:R,onClick:B,canClick:j,small:ne,mark:K,id:z,...f}},l})}const yd=["disabled"],_d={key:0};var wd=oe({__name:"RepeatableResearch",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,amount:null,limit:null,research:null},setup(e){const n=e,i=gt("");Nt(()=>{var p,b;const s=t(n.display);if(s==null){i.value="";return}if(ht(s)){i.value=ue(s);return}const l=n.requirements,c=ue((p=s.title)!=null?p:"","h3"),m=ue(s.description),d=ue((b=s.effect)!=null?b:"");i.value=ue(_(()=>a(g,null,[s.title?a(c,null,null):null,a("span",null,[a(m,null,null)]),s.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,Ye(l)])))});const r=S(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(s,l)=>t(we)(e.visibility)?(q(),E("button",{key:0,style:Oe([{visibility:t(Ut)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(L)(t(t(r)))}%`}]),onClick:l[0]||(l[0]=c=>e.research(!1)),class:Pe({research:!0,repeatable:!0,locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching),queued:t(e.isResearching)}),disabled:!t(e.canResearch)},[t(we)(e.visibility)?t(t(i))?(q(),ie(Ne(t(t(i))),{key:1})):ee("",!0):(q(),E("div",_d,"???")),a(_n,{id:e.id},null,8,["id"])],14,yd)):ee("",!0)}});var kd=be(wd,[["__scopeId","data-v-7554ad12"]]);const Sd={getPersistentData(){return{amount:$e(0)}},preConstruct(e){if(e[lt]=kd,ht(e.display)||Ue(e.display)||Wn(e.display))return;const n=e.display.title;e.display.title=_(()=>{var r;const i=ue(n!=null?n:"");return a("h3",null,[u("Repeatable: "),a(i,null,null),u(" "),nr(o.add(t((r=e.amount)!=null?r:0),1))])})},postConstruct(e){W(e,"limit"),Be(e,"limit",3998),e.maxed=S(()=>o.gte(t(e.amount),t(e.limit))),e.researched=S(()=>o.gt(t(e.amount),0));const n=e.onResearch;e.onResearch=()=>{n==null||n(),e.amount.value=o.add(t(e.amount),1),e.progress.value=0}},getGatheredProps(e){return{amount:e.amount}}};function nr(e){const n=[[1,"I"],[4,"IV"],[5,"V"],[9,"IX"],[10,"X"],[40,"XL"],[50,"L"],[90,"XC"],[100,"C"],[400,"CD"],[500,"D"],[900,"CM"],[1e3,"M"]];let i=new o(e).trunc().toNumber();if(i>=4e3)return L(e);if(i<1)return"Nulla";const r=[];for(let s=n.length-1;i>0;s--){for(let l=Math.floor(i/n[s][0]);l>0;l--)r.push(n[s][1]);i%=n[s][0]}return r.join("")}const Cd=["x1","y1","x2","y2"],Nd=oe({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=e,i=nt(n),r=S(()=>{const c=i.startNode.value.rect,m=i.boundingRect.value,d=m?{x:c.x+c.width/2-m.x,y:c.y+c.height/2-m.y}:{x:0,y:0};return i.link.value.offsetStart&&(d.x+=i.link.value.offsetStart.x,d.y+=i.link.value.offsetStart.y),d}),s=S(()=>{const c=i.endNode.value.rect,m=i.boundingRect.value,d=m?{x:c.x+c.width/2-m.x,y:c.y+c.height/2-m.y}:{x:0,y:0};return i.link.value.offsetEnd&&(d.x+=i.link.value.offsetEnd.x,d.y+=i.link.value.offsetEnd.y),d}),l=S(()=>Wo(n.link));return(c,m)=>(q(),E("line",Tt({"stroke-width":"15px",stroke:"white"},t(l),{x1:t(r).x,y1:t(r).y,x2:t(s).x,y2:t(s).y}),null,16,Cd))}});const Id=oe({__name:"Links",props:{links:null},setup(e){var d;const i=Zt(e,"links"),r=me(null),s=pi(Yi,me({})),l=pi(Xi,me(void 0)),c=me((d=r.value)==null?void 0:d.getBoundingClientRect());kt(l,()=>{var p;return c.value=(p=r.value)==null?void 0:p.getBoundingClientRect()}),Qn(()=>{var p;return c.value=(p=r.value)==null?void 0:p.getBoundingClientRect()});const m=S(()=>{var b,f;const p=s.value;return(f=(b=i.value)==null?void 0:b.filter(w=>{var I,N;return((I=p[w.startNode.id])==null?void 0:I.rect)&&((N=p[w.startNode.id])==null?void 0:N.rect)}))!=null?f:[]});return(p,b)=>(q(),E(g,null,[t(m)?(q(),E("svg",us(Tt({key:0},p.$attrs)),[(q(!0),E(g,null,Ee(t(m),(f,w)=>(q(),ie(Nd,{key:w,link:f,boundingRect:c.value,startNode:t(s)[f.startNode.id],endNode:t(s)[f.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):ee("",!0),M("div",{ref_key:"resizeListener",ref:r,class:"resize-listener"},null,512)],64))}});var Qr=be(Id,[["__scopeId","data-v-063f6d6b"]]);const qd=e=>(xt("data-v-4d279c24"),e=e(),Pt(),e),$d={class:"container"},Md={class:"row research-tree"},Td={class:"col"},xd=qd(()=>M("div",{class:"fade"},null,-1)),Pd=oe({__name:"ResearchTree",props:{research:null},setup(e){const n=e,i=S(()=>n.research.flatMap(r=>r).flatMap(r=>{var s,l;return(l=(s=r.prerequisites)==null?void 0:s.map(c=>({startNode:{id:r.id},endNode:{id:c.id},stroke:we(r.visibility)?t(c.researched)?"var(--layer-color)":"white":"var(--locked)","stroke-width":"5px"})))!=null?l:[]}));return(r,s)=>(q(),E("div",$d,[M("div",Md,[a(qe,{width:"30px"}),M("div",Td,[a(qe,{height:"30px"}),(q(!0),E(g,null,Ee(e.research,l=>(q(),ie(Fn,null,{default:ge(()=>[(q(!0),E(g,null,Ee(l,c=>(q(),E(g,null,[t(we)(c.visibility)?(q(),ie(Ne(t(J)(c)),{key:0})):ee("",!0)],64))),256))]),_:2},1024))),256)),a(qe,{height:"30px"}),a(Qr,{links:t(t(i))},null,8,["links"])]),a(qe,{width:"30px"})]),xd]))}});var Ad=be(Pd,[["__scopeId","data-v-4d279c24"]]);const Fd=["disabled"],Bd={key:0},Rd={key:1},Ed=oe({__name:"ResearchQueueSlot",props:{node:null,name:null,index:null},setup(e){const n=e,i=S(()=>n.node!==void 0),r=S(()=>{var l,c;return o.times((c=t((l=n.node)==null?void 0:l.progressPercentage))!=null?c:0,1.1).minus(.05).times(100)}),s=()=>t(i)?tm(n.node):{};return(l,c)=>{var m;return q(),E("button",{disabled:!t(i),class:Pe({queue:!0,can:t(i)}),style:Oe([{"--fill-percent":`${t(L)(t(t(r)))}%`}]),onClick:s},[t(i)?(q(),E("span",Bd,[(q(),ie(Ne(t(ue)((m=t(e.name))!=null?m:""))))])):(q(),E("span",Rd,"Research Slot "+le(t(e.index)+1),1))],14,Fd)}}});var fr=be(Ed,[["__scopeId","data-v-82f051e2"]]);const Od={key:0},Dd=oe({__name:"ResearchQueue",props:{queue:null,parallel:{default:1}},setup(e){const n=e,i=[ce.research,ce.repeatables].flatMap(l=>Object.values(l)),r=S(()=>t(n.queue).map(l=>i.find(c=>c.id===l)));function s(l){const c=t(r)[l];if(c!==void 0)return ht(c.display)||Ue(c.display)||Wn(c.display)?c.id:c.display.title}return(l,c)=>(q(),ie(Tn,null,{default:ge(()=>[(q(!0),E(g,null,Ee(t(r),(m,d)=>(q(),E(g,{key:m?m.id:`empty-${d}`},[d===t(e.parallel)?(q(),E("h3",Od,"Next Up:")):ee("",!0),m?(q(),ie(fr,{key:2,node:m,name:s(d),index:d},null,8,["node","name","index"])):(q(),ie(fr,{key:1,index:d},null,8,["index"]))],64))),128))]),_:1}))}});var Ld=be(Dd,[["__scopeId","data-v-5504435e"]]);const Vd={class:"timesquare"},jd={class:"timesquare-buy-buttons"};var Ud=oe({__name:"TimesquareComponent",props:{square:null,buy:null,buyNext:null,buyMax:null},setup(e){return(n,i)=>(q(),E("div",Vd,[(q(),ie(Ne(t(J)(e.square)))),M("div",jd,[(q(),ie(Ne(t(J)(e.buy)))),(q(),ie(Ne(t(J)(e.buyNext)))),(q(),ie(Ne(t(J)(e.buyMax))))])]))}});var zd=be(Ud,[["__scopeId","data-v-6de3c974"]]);const Gd=Symbol("Reset");function ir(e){return We(n=>{const i=e.call(n,n);return i.id=Ot("reset-"),i.type=Gd,i.reset=function(){var s;const r=l=>{if(l!=null&&typeof l=="object"&&!(l instanceof o)&&!(l instanceof y)){if(Vt in l&&l[Vt]===!0)return;if(zt in l){const c=l;c.value=c[zt]}else!(l instanceof o)&&!Ue(l)&&Object.values(l).forEach(c=>r(c))}};t(i.thingsToReset).forEach(r),ut.emit("reset",i),(s=i.onReset)==null||s.call(i)},W(i,"thingsToReset"),i})}const oi={};ut.on("removeLayer",e=>{var n;(n=oi[e.id])==null||n.call(oi),oi[e.id]=void 0});var Hd=oe({__name:"TimelineComponent",props:{id:null,sides:null,active:null,next:null,score:null,onClick:null},setup(e){const n=e,i=n.sides.map(l=>l[0].toUpperCase()+l.slice(1)),r=S(()=>o.add(t(n.score),1).log10().dividedBy(10)),s={[n.sides[0]]:S(()=>t(r).times(Ve.scoreMultipliers[n.sides[0]])),[n.sides[1]]:S(()=>t(r).times(Ve.scoreMultipliers[n.sides[1]]))};return(l,c)=>(q(),E("button",{onClick:c[0]||(c[0]=(...m)=>e.onClick&&e.onClick(...m)),class:Pe({feature:!0,timeline:!0,active:t(e.active),next:t(e.next)})},[M("h2",null,le(t(i)[0])+" "+le(t(i)[1]),1),M("div",null,"Amount: "+le(t(L)(t(e.score))),1),M("div",null,le(t(i)[0])+": +"+le(t(L)(t(s[e.sides[0]]).times(100)))+"%",1),M("div",null,le(t(i)[1])+": +"+le(t(L)(t(s[e.sides[1]]).times(100)))+"%",1)],2))}});var Wd=be(Hd,[["__scopeId","data-v-d0106a2c"]]);const Yd=Symbol("Timeline");function Ft(e){const n=$e(!1),i=$e(!1),r=$e(0);return We(()=>{const s=e;return s.id=Ot("timeline-"),s.type=Yd,s[lt]=Wd,s.active=n,s.next=i,s.score=r,s.onClick=()=>{i.value=!i.value},s[bt]=function(){const{id:l,sides:c,active:m,next:d,score:p,onClick:b}=this;return{id:l,sides:c,active:m,next:d,score:p,onClick:b}},s})}oe({props:{nodes:{type:te(Array),required:!0},leftSideNodes:te(Array),rightSideNodes:te(Array),branches:te(Array)},components:{Links:Qr},setup(e){const{nodes:n,leftSideNodes:i,rightSideNodes:r}=nt(e),s=gt();Nt(()=>{const m=Ie(n);s.value=ue(_(()=>a(g,null,[m.map(d=>a("span",{class:"row tree-row",style:"margin: 50px auto;"},[d.map(It)]))])))});const l=gt();Nt(()=>{const m=Ie(i);l.value=m?ue(_(()=>a("span",{class:"left-side-nodes small"},[m.map(It)]))):""});const c=gt();return Nt(()=>{const m=Ie(r);c.value=m?ue(_(()=>a("span",{class:"side-nodes small"},[m.map(It)]))):""}),{unref:t,nodesComp:s,leftNodesComp:l,rightNodesComp:c}}});oe({props:{display:te(Object,String,Function),visibility:{type:te(Number,Boolean),required:!0},style:te(String,Object,Array),classes:te(Object),onClick:Function,onHold:Function,color:te(String),glowColor:te(String),canClick:{type:te(Boolean),required:!0},mark:te(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:Jn,Node:_n},setup(e){const{onClick:n,onHold:i,display:r}=nt(e),s=Kn(r),{start:l,stop:c}=Or(n,i);return{start:l,stop:c,comp:s,unref:t,Visibility:Te,isCoercableComponent:ht,isVisible:we,isHidden:Ut}}});function Xd(e){return st(n=>{const i=e.call(n,n);W(i,"showNextAt"),Be(i,"showNextAt",!0),Be(i,"minimumGain",1),i.resetDescription==null?i.resetDescription=S(()=>o.lt(i.conversion.gainResource.value,1e3)?"Reset for ":""):W(i,"resetDescription"),i.display==null&&(i.display=_(()=>a("span",null,[t(i.resetDescription),a("b",null,[vn(i.conversion.gainResource,o.max(t(i.conversion.actualGain),t(i.minimumGain)))])," ",i.conversion.gainResource.displayName,t(i.showNextAt)!=null?a("div",null,[a("br",null,null),t(i.conversion.buyMax)?"Next:":"Req:"," ",vn(i.conversion.baseResource,!t(i.conversion.buyMax)&&o.gte(t(i.conversion.actualGain),1)?t(i.conversion.currentAt):t(i.conversion.nextAt))," ",i.conversion.baseResource.displayName]):null]))),i.canClick==null&&(i.canClick=S(()=>o.gte(t(i.conversion.actualGain),t(i.minimumGain))));const r=i.onClick;return i.onClick=function(s){t(i.canClick)!==!1&&(i.conversion.convert(),i.resetTime&&(i.resetTime.value=i.resetTime[zt]),r==null||r(s))},i})}function Qd(e){const n=[],i={};let r=!1;function s(){return r||(n.push(...e()),i.base=n.map(m=>Ze(m.base)),i.baseText=n.map(m=>Ze(m.baseText)),i.visible=n.map(m=>Ze(m.visible)),i.title=n.map(m=>Ze(m.title)),i.subtitle=n.map(m=>Ze(m.subtitle)),r=!0),n}const l=$e({},!1);return[_(()=>{const m=s();let d=!0;const p=m.map((b,f)=>{var A,R,B;if(t(i.visible[f])===!1)return null;const w=a("h3",{onClick:()=>l.value[f]=!l.value[f],style:"cursor: pointer"},[a("span",{class:"modifier-toggle"+(t(l.value[f])?" collapsed":"")},[u("\u25BC")]),t(i.title[f]),t(i.subtitle[f])!=null?a("span",{class:"subtitle"},[u(" ("),t(i.subtitle[f]),u(")")]):null]),I=t(l.value[f])?null:a(g,null,[a("div",{class:"modifier-container"},[a("span",{class:"modifier-description"},[It((A=t(i.baseText[f]))!=null?A:"Base")]),a("span",{class:"modifier-amount"},[Mn((R=t(i.base[f]))!=null?R:1),b.unit])]),b.modifier.description==null?null:It(t(b.modifier.description))]),N=!d;d=!1;const v=(B=t(i.base[f]))!=null?B:1,T=b.modifier.apply(v);return a(g,null,[N?a("br",null,null):null,a("div",{style:{"--unit":Me.alignUnits&&b.unit!=null?"'"+b.unit+"'":""}},[w,a("br",null,null),I,a("hr",null,null),a("div",{class:"modifier-container"},[a("span",{class:"modifier-description"},[u("Total")]),a("span",{class:"modifier-amount",style:(b.smallerIsBetter===!0?o.gt(T,v!=null?v:1):o.lt(T,v!=null?v:1))?"color: var(--danger)":""},[Mn(T),b.unit])])])])});return a(g,null,[p])}),l]}function dt(e){if(e==null||typeof e!="object"||e instanceof o||e instanceof y||Vt in e&&e[Vt]===!0)return;if(zt in e)return $e(e[zt]);if(Ue(e))return;const n={};for(const[i,r]of Object.entries(e)){if(["requirements","tabs","prerequisites"].includes(i))continue;let s=dt(r);s!==void 0&&(n[i]=s)}if(Object.keys(n).length!==0)return n}function xi(e,n){if(!(e==null||n==null)&&!(typeof e!="object"||typeof n!="object")&&!(e instanceof o||n instanceof o)&&!(e instanceof y||n instanceof y)&&!(Vt in e&&e[Vt]===!0)&&!(Vt in n&&n[Vt]===!0)){if(zt in n){const i=e,r=n,s=i.value;i.value=r.value,r.value=s;return}if(!Ue(e)&&!Ue(n))for(const i in n)xi(e[i],n[i])}}function St(e,n,i){const[r,s]=Qd(n);Pl(s);const l=me(!1);return _(()=>a(g,null,[a("button",{class:"button",style:{display:"inline-block",fontSize:i!=null?i:"20px"},onClick:()=>l.value=!0},[u("\u{1F6C8}")]),a(un,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c},{header:()=>a("h2",null,[e]),body:r})]))}const Kd="timeline",Ve=et(Kd,function(){const e={topLeft:Ft({sides:[Y.TOP,Y.LEFT]}),topFront:Ft({sides:[Y.TOP,Y.FRONT]}),topBack:Ft({sides:[Y.TOP,Y.BACK]}),topRight:Ft({sides:[Y.TOP,Y.RIGHT]}),frontLeft:Ft({sides:[Y.FRONT,Y.LEFT]}),frontRight:Ft({sides:[Y.FRONT,Y.RIGHT]}),backLeft:Ft({sides:[Y.BACK,Y.LEFT]}),backRight:Ft({sides:[Y.BACK,Y.RIGHT]}),bottomLeft:Ft({sides:[Y.BOTTOM,Y.LEFT]}),bottomFront:Ft({sides:[Y.BOTTOM,Y.FRONT]}),bottomBack:Ft({sides:[Y.BOTTOM,Y.BACK]}),bottomRight:Ft({sides:[Y.BOTTOM,Y.RIGHT]})},n={[Y.FRONT]:[e.topFront,e.frontLeft,e.frontRight,e.bottomFront],[Y.RIGHT]:[e.topRight,e.frontRight,e.backRight,e.bottomRight],[Y.TOP]:[e.topLeft,e.topFront,e.topBack,e.topRight],[Y.BACK]:[e.topBack,e.backLeft,e.backRight,e.bottomBack],[Y.LEFT]:[e.topLeft,e.frontLeft,e.backLeft,e.bottomLeft],[Y.BOTTOM]:[e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight]},i=Object.fromEntries(Object.entries(n).map(([v,T])=>[v,S(()=>T.filter(A=>t(A.active)).length)])),r=Object.fromEntries(Object.entries(n).map(([v,T])=>[v,S(()=>T.filter(A=>t(A.next)).length)])),s=S(()=>Object.values(i).some(v=>t(v)>0)),l={[Y.FRONT]:100,[Y.RIGHT]:.01,[Y.TOP]:1,[Y.BACK]:1,[Y.LEFT]:1e3,[Y.BOTTOM]:1},c=Object.fromEntries(Object.entries(n).map(([v,T])=>[v,S(()=>T.reduce((A,R)=>A.plus(t(R.score)),o.dZero))])),m=Object.fromEntries(Object.entries(c).map(([v,T])=>[v,S(()=>t(T).times(l[v]).plus(1))])),d={[Y.FRONT]:[1,1e8,1e80,"1e800","1e8000"],[Y.RIGHT]:[1,1e12,1e120,"1e1200","1e12000"],[Y.TOP]:[1,1e3,1e30,1e300,"1e3000"],[Y.BACK]:[1,1e6,1e60,"1e600","1e6000"],[Y.LEFT]:[1,100,1e20,1e200,"1e2000"],[Y.BOTTOM]:[1,1e5,1e50,"1e500","1e5000"]},p=Object.fromEntries(Object.entries(i).map(([v,T])=>[v,S(()=>t(d[v])[t(T)])]));Object.fromEntries(Object.entries(r).map(([v,T])=>[v,S(()=>t(d[v])[t(T)])]));const b=ot(()=>[U(()=>({multiplier(){return[t(P.pion.pions),t(P.spinor.spinors)].map(v=>o.add(v,1).log10()).reduce((v,T)=>v.plus(T)).dividedBy(10)},description:_(()=>a(g,null,[u("1/10th of the magnitude of "),P.pion.pions.displayName,u(" and "),P.spinor.spinors.displayName]))})),U(()=>({multiplier(){return[C.protoversal,C.infinitesimal,C.subspatial,C.subplanck,C.quantum].map(v=>o.add(t(k[v].amount),1).log10()).reduce((v,T)=>v.plus(T),o.dZero).dividedBy(50)},description:_(()=>a(g,null,[u("1/50th of the magnitude of all types of Foam")]))})),U(()=>({multiplier(){return o.add(t(V.accelerons),1).log10()},description:_(()=>a(g,null,[u("The magnitude of "),V.accelerons.displayName]))})),U(()=>({multiplier(){return o.add(t(se.buildings.buildings.storage.effect),10).log10().log10().times(5)},description:_(()=>a(g,null,[u("5x the magnitude"),a("sup",null,[u("2")]),u(" of Stored "),se.inflatons.displayName]))})),U(()=>({multiplier(){return o.add(t(H.timecubes),1).log10()},description:_(()=>a(g,null,[u("The magnitude of "),H.timecubes.displayName]))})),Rn(()=>({exponent(){return Object.values(e).filter(v=>t(v.active)).length/2},description:_(()=>a(g,null,[u("Number of active Timelines")]))}))]),f=S(()=>b.apply(1e-4)),w=st(()=>({display(){return Object.values(e).some(v=>t(v.next))?"Enter Timeline":Object.values(e).some(v=>t(v.active))?"Exit Timeline":"Enter Timeline"},canClick(){return Object.values(e).some(v=>t(v.next)||t(v.active))},onClick(){const v=new o(t(f));for(const T of Object.values(e))!t(T.active)||v.gt(t(T.score))&&(T.score.value=v);I.reset(),k.protoversal.upgrades.reform.amount.value=o.dOne,se.inflatons.value=o.dOne;for(const T of Object.values(e))T.active.value=t(T.next)}})),I=ir(()=>({thingsToReset(){return[P.skyrmions,P.pion,P.spinor,k[C.protoversal],k[C.infinitesimal],k[C.subspatial],k[C.subplanck],k[C.quantum],V.accelerons,V.totalAccelerons,V.upgrades.acceleration,V.upgrades.fluctuation,V.upgrades.conversion,V.upgrades.translation,V.upgrades.alacrity,H.timecubes,se.inflatons,se.buildings.buildings,se.buildings.maxSize,se.inflating,se.upgrades.moreFome,se.coreResearch.repeatables.buildingSize]}})),N=St("Timeline Score",()=>[{title:"Timeline Score",modifier:b,base:1e-4}]);return{timelines:e,scores:c,buffs:m,nerfs:p,depths:i,scoreMultipliers:l,inTimeline:s,display:_(()=>a(g,null,[J(w),a(qe,null,null),sn(e.topLeft,e.topFront,e.topBack,e.topRight),sn(e.frontLeft,e.frontRight,e.backLeft,e.backRight),sn(e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight),a(qe,null,null),u("Current Score: "),L(t(f)),J(N)]))}}),Zd=Symbol("Timesquare");function Sn(e,n){return We(i=>{const{display:r,buyAmount:s,baseCost:l,resource:c,effect:m}=n.call(i,i),d=Ze(l),p=Ze(s),b=S(()=>o.dOne.plus(t(H.upgrades.title.bought)?t(Ve.scores[e]):0).reciprocate().times(t(d))),f=(()=>{const w={buyAmount:p},I={buyAmount:S(()=>{const v=t(i.square.amount),T=o.clampMin(v,1).log10().floor().pow10();return o.div(v,T).floor().plus(1).times(T).minus(v)})},N={buyAmount:S(()=>{const v=t(i.square.amount),T=o.add(v,1).times(v).div(2).times(t(b));return o.clampMin(t(c),1).plus(T).div(t(b)).times(8).plus(1).sqrt().minus(1).div(2).floor().minus(v)})};for(const v of[w,I,N])v.cost=G(()=>({cost(){const T=t(i.square.amount),A=o.add(T,t(v.buyAmount)),R=A.plus(1).times(A).div(2),B=o.add(T,1).times(T).div(2);return R.minus(B).times(t(b))},resource:c}));return{buy:w,buyNext:I,buyMax:N}})();return i.square=He(()=>({requirements:Dt(!1),display:r,effect:m}),Ce),i.buy=st(()=>({canClick:()=>Mt(f.buy.cost),display:{title:"Buy",description:_(()=>a(g,null,[u("+"),L(t(f.buy.buyAmount)),u(": "),Q(t(f.buy.cost.cost)),u(" "),c.displayName]))},onClick(){const w=t(f.buy.buyAmount);jn(f.buy.cost),i.square.amount.value=o.add(t(i.square.amount),w)}})),i.buyNext=st(()=>({canClick:()=>Mt(f.buyNext.cost),display:{title:"Buy Next",description:_(()=>a(g,null,[u("+"),L(t(f.buyNext.buyAmount)),u(": "),Q(t(f.buyNext.cost.cost)),u(" "),c.displayName]))},onClick(){const w=t(f.buyNext.buyAmount);jn(f.buyNext.cost),i.square.amount.value=o.add(t(i.square.amount),w)}})),i.buyMax=st(()=>({canClick:()=>Mt(f.buyMax.cost),display:{title:"Buy Max",description:_(()=>a(g,null,[u("+"),L(t(f.buyMax.buyAmount)),u(": "),Q(t(f.buyMax.cost.cost)),u(" "),c.displayName]))},onClick(){const w=t(f.buyMax.buyAmount);jn(f.buyMax.cost),i.square.amount.value=o.add(t(i.square.amount),w)}})),i.type=Zd,i[lt]=zd,i[bt]=function(){const{square:w,buy:I,buyNext:N,buyMax:v}=this;return{square:w,buy:I,buyNext:N,buyMax:v}},i})}const Jd="timesquare",Dn=et(Jd,function(){const e=$e(1),n=S(()=>o.clampMin(t(e),1).log10().floor().minus(1).pow10()),i=S(()=>o.gt(t(e),1)),r={minHeight:"30px",width:"50px"},s={timesTen:st(()=>({display:"x10",onClick(){e.value=o.times(t(e),10)},style:r})),plusTen:st(()=>({display:_(()=>a(g,null,[u("+"),Q(t(n).times(10))])),onClick(){e.value=t(n).times(10).plus(t(e))},style:r})),plusOne:st(()=>({canClick(){return o.gte(t(e),10)},display:_(()=>a(g,null,[u("+"),Q(t(n))])),onClick(){e.value=t(n).plus(t(e))},style:r})),minusOne:st(()=>({canClick:i,display:_(()=>a(g,null,[u("-"),Q(t(n))])),onClick(){e.value=o.minus(t(e),t(n)).clampMin(1)},style:r})),minusTen:st(()=>({canClick:i,display:_(()=>a(g,null,[u("-"),Q(t(n).times(10))])),onClick(){e.value=o.minus(t(e),t(n).times(10)).clampMin(1)},style:r})),overTen:st(()=>({canClick:i,display:"/10",onClick(){e.value=o.div(t(e),10).clampMin(1)},style:r}))},l={[Y.FRONT]:Sn(Y.FRONT,m=>({display:{title:_(()=>a(g,null,[u("Front")])),effect:_(()=>a(g,null,[u("+"),L(t(m.square.effect).minus(1).times(100)),u("% "),H.timecubes.displayName]))},effect(){return o.pow(t(m.square.amount),.45).times(Rt(H.upgrades.turn)).plus(1)},resource:x(H.timecubes),baseCost:1e6,buyAmount:e})),[Y.RIGHT]:Sn(Y.RIGHT,m=>({display:{title:_(()=>a(g,null,[u("Right")])),effect:_(()=>a(g,null,[u("+"),L(t(m.square.effect)),u("x Entropic Loop build speed")]))},effect(){return o.pow(t(m.square.amount),.7).plus(1)},resource:x(H.timecubes),baseCost:1e6,buyAmount:e})),[Y.TOP]:Sn(Y.TOP,m=>({display:{title:_(()=>a(g,null,[u("Top")])),effect:_(()=>a(g,null,[u("+"),L(t(m.square.effect).minus(1).times(100)),u("% increased Universe diameter")]))},effect(){return o.pow(t(m.square.amount),.15).dividedBy(15).plus(1)},resource:x(H.timecubes),baseCost:1e6,buyAmount:e})),[Y.BACK]:Sn(Y.BACK,m=>({display:{title:_(()=>a(g,null,[u("Back")])),effect:_(()=>a(g,null,[u("+"),L(t(m.square.effect).minus(1).times(100)),u("% "),V.accelerons.displayName,u(" effect")]))},effect(){return o.pow(t(m.square.amount),.2).dividedBy(5).plus(1)},resource:x(H.timecubes),baseCost:1e6,buyAmount:e})),[Y.LEFT]:Sn(Y.LEFT,m=>({display:{title:_(()=>a(g,null,[u("Left")])),effect:_(()=>a(g,null,[u("1/"),L(t(m.square.effect)),u("x Subspatial Construction cost")]))},effect(){return o.pow(t(m.square.amount),.5).plus(1)},resource:x(H.timecubes),baseCost:1e6,buyAmount:e})),[Y.BOTTOM]:Sn(Y.BOTTOM,m=>({display:{title:_(()=>a(g,null,[u("Bottom")])),effect:_(()=>a(g,null,[u("+"),L(t(m.square.effect)),u(" effective Entropic Enhancements")]))},effect(){return o.pow(t(m.square.amount),.1).times(Rt(H.upgrades.tall))},resource:x(H.timecubes),baseCost:1e6,buyAmount:e}))},c=me("1");return kt(c,m=>{if(m===""){e.value=o.dOne;return}if(!o.isNaN(m)){if(o.lt(m,1)){e.value=o.dOne;return}e.value=o.floor(m)}}),{buyAmount:e,squares:l,display:_(()=>a(g,null,[a(Fn,null,{default:()=>[J(s.overTen),J(s.minusTen),J(s.minusOne),a(Qi,{style:{width:"fit-content"},"onUpdate:modelValue":m=>c.value=m,modelValue:c.value,autofocus:!1},null),J(s.plusOne),J(s.plusTen),J(s.timesTen)]}),a(qe,null,null),sn(l.front,l.right,l.top),sn(l.back,l.left,l.bottom)]))}});let Y=function(e){return e.FRONT="front",e.RIGHT="right",e.TOP="top",e.BACK="back",e.LEFT="left",e.BOTTOM="bottom",e}({});const em="coreResearch",ce=et(em,function(){const e=(()=>{const w=qt(()=>({cost:75,display:{title:"Branon Induction Phases",description:"Quintuple the effect of M-field Condensers"},effect:5})),I=Bt(()=>({cost:500,display:{title:"Inflaton Containment Strategies",description:"Allow construction of Inflaton Containment Units"},prerequisites:[z]})),N=qt(()=>({cost:1500,display:{title:"Enhanced Isolation Protocols",description:"Improve the Inflaton Containment Unit's storage capabilities"},effect:1,prerequisites:[B]})),v=Bt(()=>({cost:6e3,display:{title:"Inflationary Tolerances",description:"Allow stored Inflatons to inflate to fill your storage"},prerequisites:[B,N]})),T=Bt(()=>({cost:25e3,display:{title:"Secondary Isolation Standards",description:"M-field Condensers no longer reduce the effect of Stored Inflatons"},prerequisites:[A]})),A=Bt(()=>({cost:15e3,display:{title:"Active Restoration Protocols",description:"Allow the construction of Active Redistribution Centers"},prerequisites:[Ae,N]})),R=qt(()=>({cost:25e3,display:{title:"Macroscale Synergies",description:"Increase subspace building size tenfold, and their potency by twice as much"},effect:{size:10,effect:2},prerequisites:[Qe,Xt,A],onResearch(){for(const cn of Object.values(Re.buildings))cn.amount.value=0}})),B=Bt(()=>({cost:750,display:{title:"Superstructural Stability Patterns",description:"Enable individual building respecs"},prerequisites:[I]})),j=Bt(()=>({cost:1e5,display:{title:"Mechanized Superscale Subsystems",description:"Automatically build subspace buildings, and building them no longer consumes Foam"},prerequisites:[T,kn]})),ne=qt(()=>({cost:100,display:{title:"Banach-Tarski Point Manipulation",description:"You can stabilize the universe at double the size"},effect:2,prerequisites:[w]})),K=qt(()=>({cost:750,display:{title:"Von Neumann Transformation",description:"Double the size of the universe, again"},effect:2,prerequisites:[h]})),z=Bt(()=>({cost:100,display:{title:"Subspatial Binding Constants",description:"Reduce the cost scaling of Quantum Flux Analyzers"},prerequisites:[w]})),re=S(()=>o.times(t(n.analysis.effect),1.8)),D=qt(cn=>({cost:1500,display:{title:"Distributed Analysis Framework",description:_(()=>a("span",null,[u("Transform 10% of your Quantum Flux Analyzers into networking nodes, increasing Research Point gain by up to "),L(t(re)),u("x")])),effect:_(()=>a(g,null,[L(t(cn.effect))]))},effect(){return o.pow(1.1,t(Re.buildings.lab.amount)).clampMax(t(re))},prerequisites:[ne,z]})),h=qt(()=>({cost:500,display:{title:"Counter-Inflational Cycles",description:"Gain up to 1e6x more Foam, based on your current Stored Inflatons"},effect:1e6,prerequisites:[ne]})),$=qt(()=>({cost:1500,display:{title:"Scatter-Field Repulsion",description:"Retain up to 1e12x more Foam, based on your current Stored Inflatons"},effect:1e12,prerequisites:[xe,Fe]})),de=qt(()=>({cost:9e3,display:{title:"Scalar Flux Reduction",description:"Retain up to 1e12x more Foam yet again, based on your current Stored Inflatons"},effect:1e12,prerequisites:[Qe,Xt]})),xe=qt(()=>({cost:750,display:{title:"Quantum Phasor Coherence",description:"Halve the effect of inflation on Quantum Foam"},effect:.5,prerequisites:[h]})),Qe=qt(()=>({cost:6e3,display:{title:"Aggressive Flow Diffusion",description:"Halve the effect of inflation on Quantum Foam, again"},effect:.5,prerequisites:[xe,$]})),Fe=Bt(()=>({cost:750,display:{title:"Quantum Inflationo-dynamics",description:"Unlock two more Inflaton upgrades"},prerequisites:[I]})),Xt=Bt(()=>({cost:6e3,display:{title:"Infinite Expansion Theories",description:"Unlock two repeatable researches"},prerequisites:[K]})),wn=Bt(()=>({cost:1e5,display:{title:"Sustainable Expansion Hypothesis",description:"Unlock three more repeatable research projects"},prerequisites:[de,R]})),Ae=qt(()=>({cost:1e4,display:{title:"Scheduled Itemization",description:"You can queue up to 2 additional researches"},effect:2,prerequisites:[D]})),en=qt(()=>({cost:1e5,display:{title:"Static Proposal Induction",description:"Increase the research queue size by another 2 researches"},effect:2,prerequisites:[Ae,Xt]})),kn=Bt(()=>({cost:25e3,display:{title:"Instantaneous Limit Testing",description:"Beginning Inflation instantly expands the universe to the limit of your M-field Condensers' safe operation"},prerequisites:[A,v]})),vt=Bt(()=>({cost:75e4,display:{title:"Spatial Mastery",description:_(()=>a("span",null,[u("Unlock "),_e.isFirstBranch(yt)||o.gt(t(_e.strings),0)?V.accelerons.displayName:_e.strings.displayName]))},prerequisites:[wn,en,j]}));return{quintupleCondenser:w,doubleSize:ne,cheaperLabs:z,fomeGain:h,researchBoost:D,storage:I,halfQuantum:xe,quadrupleSize:K,upgrades:Fe,respecs:B,moreFomeGain:$,queueTwo:Ae,improvedStorage:N,quarterQuantum:Qe,repeatableUnlock:Xt,inflationResearch:A,autofillStorage:v,evenMoreFomeGain:de,biggerBuildings:R,isolatedStorage:T,instantInflation:kn,moreRepeatables:wn,queueFour:en,autobuild:j,mastery:vt}})(),n=(()=>{const w=Ln(A=>({visibility:S(()=>t(e.repeatableUnlock.researched)?Te.Visible:Te.Hidden),display:{title:"Eternal Inflation",description:"Double the size of your universe",effect:_(()=>a(g,null,[Q(t(A.effect)),u("x")]))},cost(){return o.pow(4,t(A.amount)).times(12e3).dividedBy(t(P.spinor.upgrades.nu.effect))},effect(){return o.pow(2,t(A.amount))}})),I=Ln(A=>({visibility:e.repeatableUnlock.researched,display:{title:"Perpetual Testing",description:"Increase Distributed Analysis Framework's maximum bonus by 80%",effect:_(()=>a(g,null,[Q(t(A.effect)),u("x")]))},cost(){return o.pow(8,t(A.amount)).times(15e3).dividedBy(t(P.spinor.upgrades.nu.effect))},effect(){return o.pow(1.8,t(A.amount))}})),N=Ln(A=>({visibility:e.moreRepeatables.researched,display:{title:"Subspatial Construction",description:"Increase Subspace building size tenfold, and their potency by twice as much",effect:_(()=>a(g,null,[Q(t(A.effect).size),u("x, "),Q(o.times(t(A.effect).size,t(A.effect).effect)),u("x")]))},cost(){return o.pow(200,t(A.amount)).times(15e4).dividedBy(t(P.spinor.upgrades.nu.effect)).div(t(H.getTimesquareEffect(Y.LEFT)))},effect(){return{size:o.pow(10,t(A.amount)),effect:o.pow(2,t(A.amount))}},canResearch(){const R=t($n);for(const B of Object.values(Re.buildings))if(R.times(10).gt(t(B.amount)))return!1;return!0},onResearch(){for(const R of Object.values(Re.buildings))R.amount.value=0}})),v=Ln(A=>({visibility:e.moreRepeatables.researched,display:{title:"Efficient Design",description:"Decrease Subspace building cost scaling by 1.5x",effect:_(()=>a(g,null,[u("1/"),L(t(A.effect)),u("x")]))},cost(){return o.pow(3,t(A.amount)).times(12e4).dividedBy(t(P.spinor.upgrades.nu.effect))},effect(){return o.pow(1.5,t(A.amount))}})),T=Ln(A=>({visibility:e.moreRepeatables.researched,display:{title:"Inflational Dynamics",description:"Retain up to 1e6x more Foam",effect:_(()=>a(g,null,[Q(t(A.effect)),u("x")]))},cost(){return o.pow(5,t(A.amount)).times(16e4).dividedBy(t(P.spinor.upgrades.nu.effect))},effect(){return o.pow(1e6,t(A.amount))}}));return{universeSize:w,analysis:I,buildingSize:N,buildingCost:v,fome:T}})(),i=S(()=>1+ct(e.queueTwo,0)+ct(e.queueFour,0)),r=S(()=>1),s=$e([]),l=ot(()=>[U(()=>({multiplier:n.analysis.effect,enabled:()=>o.gt(t(n.analysis.amount),0),description:_(()=>a(g,null,[u("["),se.name,u("] Repeatable: Perpetual Testing "),nr(t(n.analysis.amount))]))}))]),c=ot(()=>[U(()=>({multiplier:.9,enabled:x(e.researchBoost.researched),description:_(()=>a(g,null,[u("["),se.name,u("] Reserved for Networking Nodes")]))})),U(()=>({multiplier:e.researchBoost.effect,enabled:x(e.researchBoost.researched),description:_(()=>a(g,null,[u("["),se.name,u("] Distributed Analysis Framework")]))})),U(()=>({multiplier:P.pion.upgrades.nu.effect,enabled:()=>o.gt(t(P.pion.upgrades.nu.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03BD ("),Q(t(P.pion.upgrades.nu.totalAmount)),u(")")]))}))]),m=ot(()=>[c,Hc(()=>({addend:()=>o.negate(t(Re.buildings.tuner.effect).cost),enabled:()=>o.gt(t(Re.buildings.tuner.totalAmount),0),description:_(()=>a(g,null,[u("["),se.name,u("] Active Redistribution Centers")]))}))]),d=S(()=>c.apply(t(Re.buildings.lab.effect))),p=S(()=>o.clampMin(m.apply(t(Re.buildings.lab.effect)),0)),b=$e(!1);se.on("preUpdate",w=>{if(t(s).length<=0)return;const I=o.times(t(p),w);for(const N of t(s).slice(0,t(r))){const v=[e,n].flatMap(T=>Object.values(T)).find(T=>T.id===N);v!==void 0&&(v.progress.value=I.plus(v.progress.value))}}),se.on("update",()=>{if(!!t(b)){if(t(s).length>=t(r)){if(!t(n.buildingSize.canResearch)||t(s).some(w=>w===n.buildingSize.id)||t(s).length>=t(i))return;s.value=[n.buildingSize.id,...t(s)].map(w=>[e,n].flatMap(I=>Object.values(I)).find(I=>I.id===w)).filter(w=>w!==void 0).sort((w,I)=>o.compare(t(w.requirements.cost),t(I.requirements.cost))).map(w=>w.id);return}Object.values(n).filter(w=>o.gte(t(w.amount),1)).filter(w=>!t(w.isResearching)).filter(w=>t(w.canResearch)).sort((w,I)=>o.compare(t(w.requirements.cost),t(I.requirements.cost))).slice(0,t(r)-t(s).length).forEach(w=>w.research(!0))}}),se.on("postUpdate",()=>{s.value=t(s).filter(w=>{var N;const I=[e,n].flatMap(v=>Object.values(v)).find(v=>v.id===w);return I===void 0?!1:o.gte(t(I.progressPercentage),1)?((N=I.onResearch)==null||N.call(I),!1):!0})});const f=St("Research Modifiers",()=>[{title:"Maximum Distributed Analysis Framework Bonus",modifier:l,visible:x(e.researchBoost.researched),base:1.8,baseText:_(()=>a(g,null,[u("["),se.name,u("] Distributed Analysis Framework")]))},{title:"Research Point Production",modifier:m,base:Re.buildings.lab.effect,baseText:_(()=>a(g,null,[u("["),se.name,u("] Quantum Flux Analyzers")]))}]);return{research:e,repeatables:n,queueLength:i,parallelResearchCount:r,researchQueue:s,researchGain:d,totalResearchGain:p,autoResearching:b,display:_(()=>a(g,null,[a("div",null,[u("Your buildings are producing "),Q(t(p)),u(" Research Points"),J(f)]),a("div",{class:"row",style:{flexFlow:"row-reverse nowrap",alignItems:"flex-start",justifyContent:"space-evenly"}},[a(Tn,null,{default:()=>[a(Ld,{parallel:r,queue:S(()=>Array.from({...t(s),length:Math.max(t(s).length,t(i))}))},null),t(e.repeatableUnlock.researched)?a(g,null,[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Repeatable Research:")]),a(Lt,{modelValue:b.value,"onUpdate:modelValue":w=>b.value=w,style:{marginTop:0}},null),a(qe,null,null)]):void 0]}),a(Ad,{research:[[e.quintupleCondenser],[e.doubleSize,e.cheaperLabs],[e.fomeGain,e.researchBoost,e.storage],[e.halfQuantum,e.quadrupleSize,e.upgrades,e.respecs],[e.moreFomeGain,e.queueTwo,e.improvedStorage],[e.quarterQuantum,e.repeatableUnlock,e.inflationResearch,e.autofillStorage],[e.evenMoreFomeGain,e.biggerBuildings,e.isolatedStorage,e.instantInflation],[e.moreRepeatables,e.queueFour,e.autobuild],[e.mastery]]},null),a(Tn,null,{default:()=>[...Object.values(n).map(J).map(w=>a("div",{style:{margin:"var(--feature-margin) 0px"}},[w]))]})])]))}});function tm(e){ce.researchQueue.value=t(ce.researchQueue).filter(n=>n!==e.id)}const nm=S(()=>[ce.research,ce.repeatables].flatMap(e=>Object.values(e)));function rr(e=!1){if(e||t(ce.researchQueue).length<t(ce.queueLength)){const n=t(nm).find(i=>i.id===this.id);n&&t(ce.researchQueue).push(n.id)}}function sr(){return t(ce.researchQueue).some(e=>e===this.id)}function Bt(e){return tr(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:c,onResearch:m}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:G(()=>({resource:x(rt(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:c,onResearch:m,research:rr,isResearching:sr}})}function qt(e){return tr(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:c,onResearch:m,effect:d}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:G(()=>({resource:x(rt(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:c,onResearch:m,research:rr,isResearching:sr,effect:d}},Ce)}function Ln(e){return tr(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:c,onResearch:m,effect:d,limit:p}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:G(()=>({resource:x(rt(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:c,onResearch:m,research:rr,isResearching:sr,effect:d,limit:p}},Ce,Sd)}function ai(e){return He(n=>{var c;const{effect:i,cost:r,display:s,size:l}=e.call(n,n);return(c=r.free)!=null||(r.free=ce.research.autobuild.researched),{bonusAmount(){return o.times(t(this.amount),t(P.spinor.upgrades.rho.effect))},visibility:s.visibility,requirements:[Dt(rm(l!=null?l:1)),G(()=>({cost(){const m=t(r.multiplier),d=new o(t(r.base)),p=o.div(t(n.amount),ct(ce.repeatables.buildingCost,1)).div(t(P.pion.upgrades.rho.effect)),b=t($n);return t(ce.research.autobuild.researched)?d.pow(p).times(m):d.pow(b).minus(1).times(m).times(d.pow(p)).dividedBy(d.minus(1))},resource:x(r.resource),requiresPay:()=>!t(r.free),cumulativeCost:!1,maxBulkAmount:$n}))],onClick(){n.amount.value=t($n).minus(1).plus(t(n.amount))},effect(){return i(sm(this))},display:_(()=>{var f,w;const m=ue(s.title,"h3"),d=ue(s.description),p=ue(s.effect),b=n;return a("span",null,[a("div",null,[a(m,null,null)]),a(d,null,null),a("div",null,[a("br",null,null),a("b",null,[u("Size:")]),u(" "),xn(o.times(t(b.amount),(f=b.size)!=null?f:1),0),o.gt(t(b.bonusAmount),0)?xn(o.times(t(b.bonusAmount),(w=b.size)!=null?w:1),0):void 0]),a("div",null,[a("br",null,null),a("b",null,[u("Currently:")]),u(" "),a(p,null,null)]),a("div",null,[a("br",null,null),Ye(b.requirements)])])}),style:im,size:l}},Ce,Xr)}const im=S(()=>({width:"250px",minHeight:"150px",borderBottomLeftRadius:t(ce.research.respecs.researched)?0:"var(--border-radius)",borderBottomRightRadius:t(ce.research.respecs.researched)?0:"var(--border-radius)"})),$n=S(()=>o.times(ct(ce.research.biggerBuildings,{size:1,effect:1}).size,ct(ce.repeatables.buildingSize,{size:1,effect:1}).size));function rm(e){return S(()=>o.minus(t(Re.maxSize),t(Re.usedSize)).gte(t($n).times(e)))}function sm(e){var n;return o.times(t(e.totalAmount),(n=e.size)!=null?n:1).times(ct(ce.research.biggerBuildings,{size:1,effect:1}).effect).times(t(ce.repeatables.buildingSize.effect).effect)}function xn(e,n){return e=new o(e),e.lt(6187e7)?a(g,null,[L(e,n),u("\u2113"),a("sub",null,[u("P")])]):(e=e.dividedBy(6187e7),e.lt(1e3)?`${L(e,n)}ym`:e.lt(1e6)?`${L(e.dividedBy(1e3),n)}zm`:e.lt(1e9)?`${L(e.dividedBy(1e6),n)}am`:e.lt(1e12)?`${L(e.dividedBy(1e9),n)}fm`:e.lt(1e15)?`${L(e.dividedBy(1e12),n)}pm`:e.lt(1e18)?`${L(e.dividedBy(1e15),n)}nm`:e.lt(1e21)?`${L(e.dividedBy(1e18),n)}\u03BCm`:e.lt(1e24)?`${L(e.dividedBy(1e21),n)}mm`:e.lt(1e27)?`${L(e.dividedBy(1e24),n)}m`:e.lt(1e30)?`${L(e.dividedBy(1e27),n)}km`:e.lt(1e33)?`${L(e.dividedBy(1e30),n)}Mm`:e.lt(1e36)?`${L(e.dividedBy(1e33),n)}Gm`:e.lt(1e39)?`${L(e.dividedBy(1e36),n)}Tm`:e.lt(1e42)?`${L(e.dividedBy(1e39),n)}Pm`:e.lt(9461e39)?`${L(e.dividedBy(1e42),n)}ly`:e.lt(3086e40)?`${L(e.dividedBy(9461e39),n)}pc`:e.lt(3086e43)?`${L(e.dividedBy(3086e40),n)}kcp`:e.lt(3086e46)?`${L(e.dividedBy(3086e43),n)}Mpc`:`${L(e.dividedBy(3086e46),n)}Gpc`)}const om="buildings",Re=et(om,function(){const e=(()=>{const p=ai(I=>({effect(N){return o.times(N,ct(ce.research.quintupleCondenser,1)).pow_base(.975)},cost:{resource:x(k[C.subspatial].amount),base:1.1,multiplier:S(()=>_e.isFirstBranch(yt)?1e30:1e82)},display:{visibility:x(se.upgrades.subspaceBuildings.bought),title:"M-Field Condenser",description:"Slightly reduce the loss of resources to Inflation",effect:_(()=>a(g,null,[pt(t(I.effect))]))}})),b=ai(()=>({effect:I=>I,cost:{resource:x(k[C.subspatial].amount),base:S(()=>t(ce.research.cheaperLabs.researched)?1.5:15),multiplier:S(()=>_e.isFirstBranch(yt)?1e30:1e82)},display:{visibility:x(se.upgrades.research.bought),title:"Quantum Flux Analyzer",description:"Study fluctuations in the quantum field",effect:_(()=>a(g,null,[u("+"),Q(t(ce.researchGain)),u(" research points/s")]))}})),f=ai(I=>({effect(N){return o.times(N,ct(ce.research.improvedStorage,1/3)).pow_base(500)},cost:{resource:x(k[C.quantum].amount),base:1.2,multiplier:S(()=>_e.isFirstBranch(yt)?1e15:1e48)},display:{visibility:ce.research.storage.researched,title:"Inflaton Containment Unit",description:"Specialized storage facilities designed to keep Inflatons separated and inert",effect:_(()=>a(g,null,[u("Safely store up to "),Q(t(I.effect)),u(" Inflatons")]))},size:3})),w=ai(I=>({effect(N){let v=o.times(N,.01).plus(1),T=new o(N),A=t(ce.researchGain);return T.gt(A)?{gain:v.times(A).dividedBy(T),cost:A}:{gain:v,cost:T}},cost:{resource:x(k[C.subspatial].amount),base:1.5,multiplier:S(()=>_e.isFirstBranch(yt)?1e40:1e92)},display:{visibility:ce.research.inflationResearch.researched,title:"Active Redistribution Center",description:"Tune your M-field Condensers with continuous analysis of inflation patterns",effect:_(()=>a(g,null,[L(t(I.effect).gain),u("x"),a("br",null,null),a("b",null,[u("Consumes:")]),u(" "),L(t(I.effect).cost),u(" Research/s")]))}}));return{condenser:p,lab:b,storage:f,tuner:w}})(),n=rt(S(()=>{if(o.lt(t(se.inflatons),1))return o.dZero;let p=o.clampMin(t(se.inflatons),2).log2().log2().times(ct(ce.research.doubleSize,1)).times(ct(ce.research.quadrupleSize,1)).times(ct(ce.repeatables.universeSize,1));const b=6187e7;return p.gt(b)&&(p=p.pow(.1).times(o.dOne.minus(.1).pow_base(b))),p.times(t(H.getTimesquareEffect(Y.TOP))).div(t(Ve.nerfs[Y.TOP])).times(t(Ve.buffs[Y.TOP]))})),i=Ji(n),r=S(()=>Object.values(e).map(p=>{var b;return o.times(t(p.amount),(b=p.size)!=null?b:1)}).reduce((p,b)=>p.plus(b),o.dZero)),s={width:"125px",minHeight:"25px",borderRadius:0},l=Object.fromEntries(Object.entries(e).map(([p,b])=>[p,{one:st(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell One"},onClick(){b.amount.value=o.minus(b.amount.value,t($n)).clampMin(0)},style:{...s,borderBottomLeftRadius:"var(--border-radius)"}})),all:st(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell All"},onClick(){b.amount.value=o.dZero},style:{...s,borderBottomRightRadius:"var(--border-radius)"}}))}])),c=st(()=>({canClick(){return Object.values(e).some(p=>o.gt(t(p.amount),0))},display:{description:"Sell All"},onClick(){for(const p of Object.values(e))p.amount.value=o.dZero},style:{...s,borderRadius:"var(--border-radius)"}})),m=$e(!1);se.on("update",()=>{if(!!t(m))for(const p of Object.values(e))!we(p.visibility)||!t(p.canClick)||p.onClick()});const d=Object.fromEntries(Object.entries(e).map(([p,b])=>[p,_(()=>we(b.visibility)?a("div",{class:"col mergeAdjacent"},[J(b),t(ce.research.respecs.researched)?a("div",{class:"row mergeAdjacent"},[J(l[p].one),J(l[p].all)]):void 0]):a("span",null,null))]));return{buildings:e,currentSize:n,maxSize:i,usedSize:r,autoBuilding:m,display:_(()=>a(g,null,[a("div",null,[u("Your buildings are taking up "),xn(t(r),0),u(" / "),xn(o.floor(t(i)),0)]),a(qe,null,null),sn(...Object.values(d)),a(qe,null,null),t(ce.research.autobuild.researched)?a(g,null,[a(Tn,null,{default:()=>[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Building Construction")]),a(Lt,{modelValue:m.value,"onUpdate:modelValue":p=>m.value=p,style:{marginTop:0}},null)]})]):void 0,J(c)]))}}),yt="inflaton",se=et(yt,function(){const e="Inflatons",n="#ff5e13",i=S(()=>t(_e.milestones[1].earned)||_e.isFirstBranch(yt)||t(V.upgrades.mastery.bought)?!0:t(k[C.quantum].upgrades.condense.bought)),r=rt(0,e),s=G(()=>({resource:x(k[C.quantum].amount),cost:()=>_e.isFirstBranch(yt)?1e9:1e50,requiresPay:!1})),l=st(()=>({canClick:()=>Mt(s),display:_(()=>a(g,null,[u("1 "),r.displayName,a("br",null,null),a("br",null,null),Ye(s)])),onClick(){r.value=o.dOne,_e.isFirstBranch(yt)&&(_e.branchOrder.value=yt)},style:{width:"fit-content",minHeight:"60px"},visibility:()=>o.eq(t(r),0)})),c=st(()=>({display:_(()=>t(p)?a(g,null,[u("DISPERSE")]):a(g,null,[u("INFLATE")])),onClick(){t(p)?d():m()},style:{width:"150px",minHeight:"60px"},visibility:()=>o.gte(t(r),1)}));function m(){p.value=!0,r.value=t(ce.research.instantInflation.researched)?o.reciprocate(t(Re.buildings.condenser.effect)).dividedBy(10).pow10():o.add(t(r),1)}function d(){p.value=!1,r.value=o.min(t(r),t(Re.buildings.storage.effect))}const p=$e(!1),b=S(()=>{let ne=o.clampMin(t(r),1).log10();return(t(p)||!t(ce.research.isolatedStorage.researched))&&(ne=ne.times(t(Re.buildings.condenser.effect))),ne.pow_base(2).clampMin(1)}),f=S(()=>t(b).dividedBy(ct(ce.research.fomeGain,1)).dividedBy(ct(ce.research.moreFomeGain,1)).dividedBy(ct(ce.research.evenMoreFomeGain,1)).dividedBy(ct(ce.repeatables.fome,1)).clampMin(1)),w=S(()=>t(H.upgrades.tower.bought)?t(H.timelines.inTimeline)?t(f):t(b):t(b)),I={pion:w,spinor:w,[C.protoversal]:f,[C.infinitesimal]:f,[C.subspatial]:f,[C.subplanck]:f,[C.quantum]:S(()=>o.times(t(f),ct(ce.research.halfQuantum,1)).times(ct(ce.research.quarterQuantum,1)).clampMin(1)),acceleron:b,timecube:b},N=S(()=>{let K=o.clampMin(t(r),1).log10().plus(1).dividedBy(10).pow_base(2).times(t(r));return K.layer>=3?o.fromComponents(K.sign,K.layer,K.mag*1.000000000000001):K}),v=ot(()=>[U(()=>({multiplier:ce.research.fomeGain.effect,enabled:ce.research.fomeGain.researched,description:_(()=>a(g,null,[u("["),e,u("] Counter-Inflational Cycles")]))})),U(()=>({multiplier:ce.research.moreFomeGain.effect,enabled:ce.research.moreFomeGain.researched,description:_(()=>a(g,null,[u("["),e,u("] Scatter-Field Repulsion")]))})),U(()=>({multiplier:ce.research.evenMoreFomeGain.effect,enabled:ce.research.evenMoreFomeGain.researched,description:_(()=>a(g,null,[u("["),e,u("] Scalar Flux Reduction")]))})),U(()=>({multiplier:ce.repeatables.fome.effect,enabled:()=>o.gt(t(ce.repeatables.fome.amount),0),description:_(()=>a(g,null,[u("["),e,u("] Repeatable: Inflational Dynamics "),nr(t(ce.repeatables.fome.amount))]))}))]),T=S(()=>t(p)?o.dOne:o.clampMax(v.apply(o.dOne),t(b))),A=(()=>{const ne=pe(()=>({display:{title:"Subspatial Field Stabilizers",description:"<br />Allow the creation of Subspatial Structures<br />"},requirements:G(()=>({cost:()=>_e.isFirstBranch(yt)?5e5:5e46,resource:k[C.quantum].amount})),visibility(){return t(this.bought)||t(_e.milestones[1].earned)||o.gte(t(Re.maxSize),6)},style:{width:"250px"}})),K=pe(()=>({display:{title:"Quantum Field Investigations",description:"<br />Stabilization isn't enough. Maybe the constant bubbling of the quantum field may hold the secret to sustaining inflation<br />"},requirements:G(()=>({cost:()=>_e.isFirstBranch(yt)?1e6:1e47,resource:k[C.quantum].amount})),visibility(){return t(this.bought)||t(_e.milestones[1].earned)||t(ne.bought)&&o.gte(t(Re.maxSize),7)},style:{width:"250px"}})),z=pe(()=>({display:{title:"Dynamic Inflational Formation",description:"<br />Generate more Foam based on the size of your universe<br />"},requirements:G(()=>({cost:()=>_e.isFirstBranch(yt)?1e25:1e58,resource:k[C.quantum].amount})),visibility(){return t(this.bought)||t(ce.research.upgrades.researched)},effect:Re.maxSize,style:{width:"250px"}}),Ce),re=pe(()=>({display:{title:"Micro-Inflational Subsystems",description:"<br />Gain a new Pion and Spinor Upgrade<br />"},requirements:G(()=>({cost:()=>_e.isFirstBranch(yt)?1e27:1e60,resource:k[C.quantum].amount})),visibility(){return t(this.bought)||t(ce.research.upgrades.researched)},style:{width:"250px"}}));return{subspaceBuildings:ne,research:K,moreFome:z,skyrmionUpgrades:re}})();this.on("preUpdate",()=>{if(!!t(p)){for(const[ne,K]of[[P.pion.pions,I.pion],[P.spinor.spinors,I.spinor],[k[C.protoversal].amount,I[C.protoversal]],[k[C.infinitesimal].amount,I[C.infinitesimal]],[k[C.subspatial].amount,I[C.subspatial]],[k[C.subplanck].amount,I[C.subplanck]],[k[C.quantum].amount,I[C.quantum]],[V.accelerons,I.acceleron],[H.timecubes,I.timecube]])ne.value=o.divide(ne.value,K.value);[P.pion.pions,P.spinor.spinors,...Object.values(C).map(ne=>k[ne].amount)].some(ne=>o.lt(t(ne),1))&&d()}}),this.on("postUpdate",ne=>{let K=!1;t(p)&&(K=!0),t(ce.research.autofillStorage.researched)&&o.lt(t(r),t(Re.buildings.storage.effect))&&(K=!0),K?r.value=t(N).times(ne).plus(t(r)):o.gt(t(r),t(Re.buildings.storage.effect))&&(r.value=t(Re.buildings.storage.effect))});const R=St("Inflaton Resonance",()=>[{title:"Maximum Potential Foam Gain",modifier:v}],"12px"),B=_(()=>a(g,null,[a(yi,{resource:r,color:n,stickyStyle:{background:"unset"}},null),a("div",{style:{marginTop:"-20px",fontSize:"12px"}},[t(p)?a(g,null,[u("Runaway inflation is dividing all other resources by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Q(t(b))])]):a(g,null,[t(ce.research.fomeGain.researched)?a(g,null,[u("Inflaton resonance is increasing Foam generation by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Q(t(T))])]):void 0]),t(ce.research.fomeGain.researched)?J(R):void 0]),J(c),J(l),o.gt(t(r),0)&&o.gt(t(Re.maxSize),0)?a("div",null,[u("You have managed to stabilize the universe at a diameter of "),xn(t(Re.maxSize)),t(p)&&o.lt(t(Re.currentSize),t(Re.maxSize))?a(g,null,[u(" ("),xn(t(Re.currentSize)),u(")")]):void 0]):void 0,a(qe,null,null)])),j=Zn({buildings:()=>({display:"Structures",tab:Wt(()=>({display:_(()=>a(g,null,[J(B),o.gt(t(r),0)?a(g,null,[t(A.subspaceBuildings.bought)?J(Re.display):void 0,a(qe,null,null),sn(A.moreFome,A.subspaceBuildings,A.research,A.skyrmionUpgrades)]):void 0]))}))}),research:()=>({display:"Research",tab:Wt(()=>({display:_(()=>a(g,null,[J(B),J(ce.display)]))}))})});return{id:yt,name:e,color:n,unlocked:i,inflatons:r,inflating:p,fomeBonus:T,upgrades:A,tabs:j,tabStyle:{"--bought":"#b14e24"},display:_(()=>a(g,null,[t(A.research.bought)?J(j):J(t(j.tabs.buildings.tab))])),buildings:Re,coreResearch:ce}});var am=oe({props:{visibility:{type:te(Number,Boolean),required:!0},display:te(Object,String,Function),earned:{type:te(Boolean),required:!0},requirements:te(Object,Array),image:te(String),style:te(String,Object,Array),classes:te(Object),mark:te(Boolean,String),small:te(Boolean),id:{type:String,required:!0}},components:{Node:_n,MarkNode:Jn},setup(e){const{display:n,requirements:i,earned:r}=nt(e),s=gt("");return Nt(()=>{const l=Ie(n);if(l==null){s.value="";return}if(ht(l)){s.value=ue(l);return}const c=ue(l.requirement?l.requirement:_(()=>{var p;return Ye((p=Ie(i))!=null?p:[])}),"h3"),m=ue(l.effect||"","b"),d=Ie(r)?ue(l.optionsDisplay||"","span"):"";s.value=ue(_(()=>a("span",null,[a(c,null,null),l.effect!=null?a("div",null,[a(m,null,null)]):null,l.optionsDisplay!=null?a("div",{class:"equal-spaced"},[a(d,null,null)]):null])))}),{comp:s,unref:t,Visibility:Te,isVisible:we,isHidden:Ut}}});function lm(e,n,i,r,s,l){var d;const c=Et("MarkNode"),m=Et("Node");return e.isVisible(e.visibility)?(q(),E("div",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0,backgroundImage:e.earned&&e.image&&`url(${e.image})`||""},(d=e.unref(e.style))!=null?d:[]]),class:Pe({feature:!0,achievement:!0,locked:!e.unref(e.earned),done:e.unref(e.earned),small:e.unref(e.small),...e.unref(e.classes)})},[e.comp?(q(),ie(Ne(e.comp),{key:0})):ee("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],6)):ee("",!0)}var um=be(am,[["render",lm],["__scopeId","data-v-78143a58"]]);const cm=Sr(),dm=Symbol("Achievement");let Nn=function(e){return e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none",e}({});function mt(e,...n){const i=$e(!1,!1),r=n.reduce((s,l)=>{var c;return Object.assign(s,(c=l.getPersistentData)==null?void 0:c.call(l))},{});return We(s=>{var d,p,b;const l=(d=e==null?void 0:e.call(s,s))!=null?d:{};l.id=Ot("achievement-"),l.type=dm,l[lt]=um;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.earned=i,l.complete=function(){var w,I;if(i.value)return;i.value=!0;const f=l;if((w=f.onComplete)==null||w.call(f),f.display!=null&&t(f.showPopups)===!0){const N=t(f.display);let v;ht(N)?v=ue(N):N.requirement!=null?v=ue(N.requirement):v=Ye((I=f.requirements)!=null?I:[]),cm.info(a("div",null,[a("h3",null,[u("Achievement earned!")]),a("div",null,[a(v,null,null)])]))}},Object.assign(l,r),W(l,"visibility"),Be(l,"visibility",Te.Visible);const c=l.visibility;l.visibility=cs(()=>{const f=t(l.display);switch(Me.msDisplay){default:case Nn.All:return t(c);case Nn.Configurable:return t(l.earned)&&!(f!=null&&typeof f=="object"&&"optionsDisplay"in f)?Te.None:t(c);case Nn.Incomplete:return t(l.earned)?Te.None:t(c);case Nn.None:return Te.None}}),W(l,"display"),W(l,"mark"),W(l,"small"),W(l,"image"),W(l,"style"),W(l,"classes"),W(l,"showPopups"),Be(l,"showPopups",!0);for(const f of n)(b=f.postConstruct)==null||b.call(f,l);const m=n.reduce((f,w)=>{var I;return Object.assign(f,(I=w.getGatheredProps)==null?void 0:I.call(w,l))},{});if(l[bt]=function(){const{visibility:f,display:w,requirements:I,earned:N,image:v,style:T,classes:A,mark:R,small:B,id:j}=this;return{visibility:f,display:w,requirements:I,earned:N,image:v,style:t(T),classes:A,mark:R,small:B,id:j,...m}},l.requirements){const f=l,w=[er(f),Dt(()=>!f.earned.value),...Yt(l.requirements)?l.requirements:[l.requirements]];Nt(()=>{Me.active===ve.id&&Mt(w)&&f.complete()})}return l})}ut.on("loadSettings",e=>{Be(e,"msDisplay",Nn.All)});const mm=Object.values(Nn).map(e=>({label:Rr(e),value:e}));$r(_(()=>a(Vn,{title:_(()=>a("span",{class:"option-title"},[u("Show achievements"),a("desc",null,[u("Select which achievements to display based on criterias.")])])),options:mm,"onUpdate:modelValue":e=>Me.msDisplay=e,modelValue:Me.msDisplay},null)));const _e=et("entangled",()=>{const e="Entangled Strings",n="#9a4500",i=S(()=>t(N[1].earned)||t(V.upgrades.mastery.bought)&&t(se.coreResearch.research.mastery.researched)),r=rt(0,"Entangled Strings"),s=$e("",!1);function l(v){return t(N[1].earned)?!0:v===t(s)}const c="160px",m=(()=>{const v=S(()=>[T,A,R,B,j].filter(ne=>t(ne.bought)).length+2),T=pe(()=>({requirements:G(()=>({resource:x(r),cost:v,requiresPay:!1})),visibility:N[2].earned,display:{title:"Grasp the Void",description:"You have long since extracted all you can from your Skyrmions, but new insights show there may be yet more to gain"},style:{width:c,height:c}})),A=pe(()=>({requirements:G(()=>({resource:x(r),cost:v,requiresPay:!1})),visibility:N[2].earned,display:{title:"Architectural Renaissance (TBD)",description:"Look to the past, and see what glories the future may hold"},style:{width:c,height:c}})),R=pe(()=>({requirements:G(()=>({resource:x(r),cost:v,requiresPay:!1})),visibility:N[2].earned,display:{title:"Tetradimensional Engineering (TBD)",description:"Application of structural ideas gained from Entropic Loops may give rise to a powerful new sector of exploration and progress"},style:{width:c,height:c}})),B=pe(()=>({requirements:G(()=>({resource:x(r),cost:v,requiresPay:!1})),visibility:N[2].earned,display:{title:"Enigmatic Engineering",description:"Time Cubes seem helpful, but limited in power. Maybe your newfound mastery over space and time can reveal more of their secrets"},style:{width:c,height:c}})),j=pe(()=>({requirements:G(()=>({resource:x(r),cost:v,requiresPay:!1})),visibility:N[2].earned,display:{title:"Technological Ascendency (TBD)",description:"You have shown mastery over space and time, at least individually. Together, though, there are more secrets to unlock"},style:{width:c,height:c}}));return{skyrmion:T,fome:A,acceleron:R,timecube:B,inflaton:j}})(),d=S(()=>Object.values(m).filter(v=>v.bought.value).length),p=S(()=>(t(m.skyrmion.bought)?1:0)+(t(m.fome.bought)?2:0)+(t(m.acceleron.bought)?4:0)+(t(m.timecube.bought)?8:0)+(t(m.inflaton.bought)?16:0)),b=S(()=>o.lte(r.value,1)?!0:o.lte(r.value,d.value+1)),f={expansion:Dt(b),acceleron:G(()=>({resource:x(V.accelerons),cost(){const v=(()=>o.eq(t(r),0)?1e19:[1e29,15e40,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,25e40,1e64,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(v,t(P.pion.upgrades.xi.effect))}})),inflaton:G(()=>({resource:x(se.inflatons),cost(){const v=(()=>o.eq(t(r),0)?o.pow10(8e3):[o.pow10(18e3),o.pow10(85e11),o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.pow10(37e4),o.pow10(45e16),o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(v,t(P.spinor.upgrades.xi.effect))}})),timecube:G(()=>({resource:rt(S(()=>Object.values(H.timelines.timelines).map(v=>t(v.score)).reduce((v,T)=>v.plus(T),o.dZero))),cost(){return t(m.timecube.bought)?[o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,1e4,5e6,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)]:0},visibility:x(m.timecube.bought)}))},w=st(()=>({canClick(){return Mt(Object.values(f))},onClick(){r.value=o.add(t(r.value),1),an(()=>{const v=(t(N[3].earned)?[se.coreResearch.research.queueTwo,se.coreResearch.research.queueFour]:[]).filter(T=>t(T.researched));I.reset(),t(N[2].earned)&&(k.protoversal.upgrades.reform.amount.value=o.dOne);for(const T of v)T.researched.value=!0;P.skyrmions.value=t(V.achievements.skyrmion.earned)?10:1})},display:"<h2>Condense reality into 1 Entangled String</h2>",style:{width:c,height:c}})),I=ir(()=>({thingsToReset(){const v=[P.skyrmions,P.pion,P.spinor,k.protoversal,k.infinitesimal,k.subspatial,k.subplanck,k.quantum,V.accelerons,V.bestAccelerons,V.totalAccelerons,V.time,V.upgrades,V.loops,H,se.inflatons,se.inflating,se.upgrades,se.buildings,se.coreResearch];return t(N[2].earned)||v.push(P.upgrades,k.achievements),v}})),N={1:mt(()=>({requirements:G(()=>({resource:x(r),cost:1})),display:{requirement:`1 ${r.displayName}`,effect:`${V.accelerons.displayName} and ${se.inflatons.displayName} no longer inflate each other's costs`},small:!1})),2:mt(()=>({requirements:G(()=>({resource:x(r),cost:2})),display:{requirement:`2 ${r.displayName}`,effect:_(()=>a(g,null,[u("Unlock expansions to previous content"),a("br",null,null),u("Keep Skyrmion upgrades and Foam milestones")]))},small:!1})),3:mt(()=>({requirements:G(()=>({resource:x(r),cost:3})),display:{requirement:`3 ${r.displayName}`,effect:"Keep all parallel research and research queue researches"},small:!1})),7:mt(()=>({requirements:G(()=>({resource:x(r),cost:7})),display:{requirement:`7 ${r.displayName}`,effect:"Unlock Fundamental Particles"},small:!1}))};return{name:e,color:n,unlocked:i,strings:r,expansions:m,milestones:N,display:_(()=>a(g,null,[a(yi,{resource:r,color:n},null),a(Fn,null,{default:()=>[Ni(m.skyrmion,m.fome),a(Tn,null,{default:()=>[J(w),a(qe,{height:c},null),J(m.acceleron)]}),Ni(m.inflaton,m.timecube)]}),a(qe,null,null),a("div",null,[u("The next "),r.displayName,u(" requires:")]),a(qe,null,null),a("div",{style:{color:V.color}},[V.accelerons.displayName,u(": "),L(t(f.acceleron.resource)),u(" / "),L(t(f.acceleron.cost))]),a("div",{style:{color:se.color}},[u("Stored "),se.inflatons.displayName,u(": "),L(t(f.inflaton.resource)),u(" / "),L(t(f.inflaton.cost))]),we(f.timecube.visibility)?a("div",{style:{color:H.color}},[u("Total Timeline Score: "),L(t(f.timecube.resource)),u(" / "),L(t(f.timecube.cost))]):void 0,a(qe,null,null),Ni(...Object.values(N))])),branchOrder:s,isFirstBranch:l}}),pm=["stroke-width","cx","cy","r"],fm=["stroke","stroke-width","stroke-dasharray","cx","cy","r"],Kr=oe({__name:"Loop",props:{color:null,width:null,radius:null,offset:null,angle:null},setup(e){const n=e,i=S(()=>n.radius*Math.PI*2),r=S(()=>t(i)*n.angle/360),s=S(()=>n.radius+n.width/2),l=S(()=>`${t(r)}, ${t(i)}`),c=S(()=>`rotate(${n.offset}deg)`);return(m,d)=>(q(),E(g,null,[M("circle",{stroke:"#242526","stroke-width":e.width/2,cx:t(s),cy:t(s),r:e.radius},null,8,pm),e.angle>0?(q(),E("circle",{key:0,stroke:e.color,"stroke-width":e.width,"stroke-dasharray":t(l),cx:t(s),cy:t(s),r:e.radius,"stroke-linecap":"round",style:Oe({transitionDuration:"0s",transform:t(c),transformOrigin:`${t(s)}px ${t(s)}px`})},null,12,fm)):ee("",!0)],64))}}),gm=Symbol("Loop");function Cn(e,...n){const i=$e(0),r=$e(0),s=$e(!1),l=n.reduce((c,m)=>{var d;return Object.assign(c,(d=m.getPersistentData)==null?void 0:d.call(m))},{});return We(c=>{var p,b;const m=e.call(c,c);m.id=Ot("loop-"),m.type=gm,m[lt]=Kr;for(const f of n)(p=f.preConstruct)==null||p.call(f,m);m.triggerProgress=i,m.buildProgress=r,m.built=s,Object.assign(m,l),kt(m.buildProgress,f=>{o.gte(f,t(m.buildRequirement))&&(s.value=!0)}),W(m,"visibility"),W(m,"buildRequirement"),W(m,"triggerRequirement"),W(m,"display"),W(m,"effect");for(const f of n)(b=f.postConstruct)==null||b.call(f,m);const d=n.reduce((f,w)=>{var I;return Object.assign(f,(I=w.getGatheredProps)==null?void 0:I.call(w,m))},{});return m[bt]=function(){const{visibility:f,display:w,buildProgress:I,buildRequirement:N,built:v,triggerProgress:T,triggerRequirement:A}=this;return{visibility:f,display:w,buildProgress:I,buildRequirement:N,built:v,triggerProgress:T,triggerRequirement:A,...d}},m})}const Ii={getPersistentData(){return{value:$e(0)}},getGatheredProps(e){return{value:e.value}}};const bm=["transform"],hm=oe({__name:"Loops",props:{radius:null,loops:null,buildButton:null},setup(e){const n=e,i=n.radius*2,r=n.loops.map((p,b,f)=>b===f.length-1?S(()=>we(p.visibility)?n.radius-t(p.display).width/2:n.radius):S(()=>we(p.visibility)?t(r[b+1])-t(f[b+1].display).width/2-t(p.display).width/2:t(r[b+1]))),s=n.loops.map((p,b,f)=>b===f.length-1?S(()=>0):S(()=>{const w=f[b],I=f[b+1],N=t(s[b+1]),v=we(I.visibility)?t(I.display).width/2:0,T=we(w.visibility)?t(w.display).width/2:0;return N+v+T})),l=n.loops.map(p=>S(()=>t(p.built)?o.div(t(p.triggerProgress),t(p.triggerRequirement)):o.div(t(p.buildProgress),t(p.buildRequirement)))),c=n.loops.map(p=>S(()=>o.times(t(V.time),t(V.timeMult)).div(t(p.triggerRequirement)).toNumber()%360)),m=n.loops.map((p,b)=>S(()=>t(l[b]).times(360).toNumber()%360)),d=n.loops.map((p,b)=>({id:p.id,visibility:p.visibility,color:S(()=>t(t(p.display).color)),width:S(()=>t(p.display).width),radius:r[b],offset:c[b],angle:m[b],translation:S(()=>{const f=t(s[b]);return`translate(${f},${f})`})}));return(p,b)=>(q(),E("div",{class:"loop-container",style:Oe({width:`${i}px`,height:`${i}px`})},[(q(),E("svg",{height:i,width:i},[(q(!0),E(g,null,Ee(t(d).filter(f=>t(we)(f.visibility)).reverse(),f=>(q(),E("g",{key:f.id,fill:"none",transform:t(f.translation)},[t(we)(f.visibility)&&!t(Ut)(f.visibility)?(q(),ie(Kr,{key:0,color:t(f.color),width:t(f.width),radius:t(f.radius),offset:t(f.offset),angle:t(f.angle)},null,8,["color","width","radius","offset","angle"])):ee("",!0)],8,bm))),128))])),e.buildButton?(q(),ie(Ne(t(J)(t(e.buildButton))),{key:0})):ee("",!0)],4))}}),vm=e=>(xt("data-v-761e0687"),e=e(),Pt(),e),ym=vm(()=>M("div",null,"Hover for Current Effects",-1));var _m=oe({__name:"LoopDescriptions",props:{loops:null},setup(e){const n=e,i=S(()=>n.loops.filter(s=>t(s.built)).map(s=>It(t(s.display).description))),r=_(()=>Ti(t(i),a(g,null,[a("br",null,null)])));return(s,l)=>t(t(i)).length>0?(q(),ie(it,{key:0,display:t(r),direction:t(je).Up},{default:ge(()=>[ym]),_:1},8,["display","direction"])):ee("",!0)}});var wm=be(_m,[["__scopeId","data-v-761e0687"]]),km=oe({props:{active:{type:te(Boolean),required:!0},maxed:{type:te(Boolean),required:!0},canComplete:{type:te(Boolean),required:!0},display:te(String,Object,Function),requirements:te(Object,Array),visibility:{type:te(Number,Boolean),required:!0},style:te(String,Object,Array),classes:te(Object),completed:{type:te(Boolean),required:!0},canStart:{type:te(Boolean),required:!0},mark:te(Boolean,String),id:{type:String,required:!0},toggle:{type:Function,required:!0}},components:{MarkNode:Jn,Node:_n},setup(e){const{active:n,maxed:i,canComplete:r,display:s,requirements:l}=nt(e),c=S(()=>n.value?r.value?"Finish":"Exit Early":i.value?"Completed":"Start"),m=gt(""),d=S(()=>{const p=Ie(n),b=Ie(r);return p?b?Rc():Zi():{}});return Nt(()=>{const p=Ie(s);if(p==null){m.value="";return}if(ht(p)){m.value=ue(p);return}const b=ue(p.title||"","h3"),f=ue(p.description,"div"),w=ue(p.goal!=null?p.goal:_(()=>{var v;return Ye((v=Ie(l))!=null?v:[])}),"h3"),I=ue(p.reward||""),N=ue(p.effect||"");m.value=ue(_(()=>a("span",null,[p.title!=null?a("div",null,[a(b,null,null)]):null,a(f,null,null),a("div",null,[a("br",null,null),u("Goal: "),a(w,null,null)]),p.reward!=null?a("div",null,[a("br",null,null),u("Reward: "),a(I,null,null)]):null,p.effect!=null?a("div",null,[u("Currently: "),a(N,null,null)]):null])))}),{buttonText:c,notifyStyle:d,comp:m,Visibility:Te,isVisible:we,isHidden:Ut,unref:t}}});const Sm=["disabled"];function Cm(e,n,i,r,s,l){var d;const c=Et("MarkNode"),m=Et("Node");return e.isVisible(e.visibility)?(q(),E("div",{key:0,style:Oe([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.notifyStyle,(d=e.unref(e.style))!=null?d:{}]),class:Pe({feature:!0,challenge:!0,done:e.unref(e.completed),canStart:e.unref(e.canStart)&&!e.unref(e.maxed),maxed:e.unref(e.maxed),...e.unref(e.classes)})},[M("button",{class:"toggleChallenge",onClick:n[0]||(n[0]=(...p)=>e.toggle&&e.toggle(...p)),disabled:!e.unref(e.canStart)||e.unref(e.maxed)},le(e.buttonText),9,Sm),e.unref(e.comp)?(q(),ie(Ne(e.unref(e.comp)),{key:0})):ee("",!0),a(c,{mark:e.unref(e.mark)},null,8,["mark"]),a(m,{id:e.id},null,8,["id"])],6)):ee("",!0)}var Nm=be(km,[["render",Cm],["__scopeId","data-v-ec73ff4c"]]);const Im=Symbol("Challenge");function qm(e,...n){const i=$e(0),r=$e(!1,!1),s=n.reduce((l,c)=>{var m;return Object.assign(l,(m=c.getPersistentData)==null?void 0:m.call(c))},{});return We(l=>{var p,b;const c=e.call(l,l);c.id=Ot("challenge-"),c.type=Im,c[lt]=Nm;for(const f of n)(p=f.preConstruct)==null||p.call(f,c);c.completions=i,c.active=r,Object.assign(c,s),c.completed=S(()=>o.gt(c.completions.value,0)),c.maxed=S(()=>o.gte(c.completions.value,t(c.completionLimit))),c.toggle=function(){var w,I,N,v,T;const f=c;if(f.active.value){if(o.gt(t(f.canComplete),0)&&!f.maxed.value){const A=t(f.canComplete);f.completions.value=o.min(o.add(f.completions.value,A),t(f.completionLimit)),(w=f.onComplete)==null||w.call(f)}f.active.value=!1,(I=f.onExit)==null||I.call(f),(N=f.reset)==null||N.reset()}else t(f.canStart)&&we(f.visibility)&&!f.maxed.value&&((v=f.reset)==null||v.reset(),f.active.value=!0,(T=f.onEnter)==null||T.call(f))},c.canComplete=S(()=>Xn(c.requirements)),c.complete=function(f){var N,v,T;const w=c,I=t(w.canComplete);w.active.value&&o.gt(I,0)&&!w.maxed.value&&(w.completions.value=o.min(o.add(w.completions.value,I),t(w.completionLimit)),(N=w.onComplete)==null||N.call(w),f!==!0&&(w.active.value=!1,(v=w.onExit)==null||v.call(w),(T=w.reset)==null||T.reset()))},W(c,"visibility"),Be(c,"visibility",Te.Visible);const m=c.visibility;c.visibility=S(()=>Me.hideChallenges===!0&&t(c.maxed)?Te.None:t(m)),c.mark==null&&(c.mark=S(()=>o.gt(t(c.completionLimit),1)&&!!t(c.maxed))),W(c,"canStart"),Be(c,"canStart",!0),W(c,"completionLimit"),Be(c,"completionLimit",1),W(c,"mark"),W(c,"classes"),W(c,"style"),W(c,"display"),c.reset!=null&&ut.on("reset",f=>{f===c.reset&&c.active.value&&c.toggle()});for(const f of n)(b=f.postConstruct)==null||b.call(f,c);const d=n.reduce((f,w)=>{var I;return Object.assign(f,(I=w.getGatheredProps)==null?void 0:I.call(w,c))},{});return c[bt]=function(){const{active:f,maxed:w,canComplete:I,display:N,visibility:v,style:T,classes:A,completed:R,canStart:B,mark:j,id:ne,toggle:K,requirements:z}=this;return{active:f,maxed:w,canComplete:I,display:N,visibility:v,style:t(T),classes:A,completed:R,canStart:B,mark:j,id:ne,toggle:K,requirements:z,...d}},c})}ut.on("loadSettings",e=>{Be(e,"hideChallenges",!1)});$r(_(()=>a(Lt,{title:_(()=>a("span",{class:"option-title"},[u("Hide maxed challenges"),a("desc",null,[u("Hide challenges that have been fully completed.")])])),"onUpdate:modelValue":e=>Me.hideChallenges=e,modelValue:Me.hideChallenges},null)));function Zr(e){e.effect===void 0&&(e.effect=i=>i),e.display.effect===void 0&&(e.display.effect=i=>`${pt(i)}x`);const n=He(i=>{var r;return{visibility:e.visibility,requirements:e.requirements,display:e.display.name,effect:()=>e.effect(t(i.totalAmount)),bonusAmount:(r=e.bonusAmount)!=null?r:0}},Ce,Xr);return En(n,{direction:je.Down,yoffset:"var(--upgrade-width)",display:_(()=>{const i=t(n.bonusAmount);let r;o.gt(i,0)&&(r=a(g,null,[u("+"),Q(t(n.bonusAmount))]));const s=e.display.effect(t(n.effect));return a(g,null,[e.display.description,a("br",null,null),u("Amount: "),Q(t(n.amount)),r,a("br",null,null),u("Currently: "),s,a("br",null,null),Ye(n.requirements)])})}),n}const $m={class:"spinor-container"},Mm={class:"spinor-grid"},Tm=oe({__name:"Spinor",setup(e){const n=De.upgrades,i={alpha:{row:1,col:1},beta:{row:2,col:3},gamma:{row:3,col:1},delta:{row:4,col:3},epsilon:{row:5,col:1},zeta:{row:3,col:5},eta:{row:5,col:5},theta:{row:6,col:3},iota:{row:7,col:1},kappa:{row:4,col:7},lambda:{row:6,col:7},mu:{row:7,col:5},nu:{row:8,col:3},xi:{row:8,col:7},pi:{row:9,col:5},rho:{row:10,col:7}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(q(),E("div",$m,[M("ul",Mm,[(q(!0),E(g,null,Ee(t(n),(c,m)=>(q(),E(g,{key:m},[t(c.visibility)!==t(Te).None?(q(),E("li",Tt({key:0,class:"spinor-upgrade"},s.$attrs,{style:r(m)}),[(q(),ie(Ne(t(J)(c))))],16)):ee("",!0)],64))),128))])]))}});var xm=be(Tm,[["__scopeId","data-v-41962e7a"]]);const Pm=Symbol("Boost");function Ge(e){const n=$e(0);return We(i=>{const r=e.call(i,i);return r.id=Ot("boost-"),r.type=Pm,r.amount=n,W(r,"display"),W(r,"effect"),r.bonus===void 0&&(r.bonus=0),W(r,"bonus"),r.total=S(()=>o.add(t(r.amount),t(r.bonus))),r})}function fe(e,n){return t(k[e].boosts[n].effect)}const Am="spinor",De=et(Am,function(){const e="Spinors",n=rt(0,e,void 0,!0),i=ot(()=>[...P.production,U(()=>({multiplier:at.upgrades.gamma.effect,enabled:()=>o.gt(t(at.upgrades.gamma.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03B3 ("),L(t(at.upgrades.gamma.totalAmount)),u(")")]))})),U(()=>({multiplier:at.upgrades.mu.effect,enabled:()=>o.gt(t(at.upgrades.mu.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03BC ("),L(t(at.upgrades.mu.totalAmount)),u(")")]))}))]),r=S(()=>i.apply(t(P.totalSkyrmions).times(.01)));P.on("preUpdate",b=>{const f=t(V.timeMult).times(b);n.value=f.times(t(r)).plus(n.value)});const s=S(()=>Object.values(m).map(b=>t(b.amount)).reduce((b,f)=>b.plus(f),o.dZero)),l=S(()=>t(s).minus(fe(C.subspatial,2))),c=S(()=>{const b=t(ae.challenge.active)?t(ae.upgradeCount):t(at.upgradeCount),f=b.times(.2).times(t(at.upgrades.beta.effect)).plus(1),w=b.times(.25).times(fe(C.quantum,2));return f.pow(w)}),m=(()=>{const b=p({cost(h){let $=h.pow_base(1.2).times(.1);return h.gt(25)&&($=h.pow_base(7.9).times(342e-25).times($)),h.gt(90)&&($=h.pow_base(19.75).times(208e-106).times($)),$.times(fe(C.infinitesimal,2))},shouldAutobuy:x(P.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Reduce the cost of "),P.skyrmions.displayName,u(" by 33%")]),effect:h=>`/${L(h)}`},effect:h=>o.pow(1.5,h),bonusAmount:k[C.protoversal].boosts[2].effect}),f=p({cost(h){let $=h.pow_base(1.3).times(.1);return h.gt(15)&&($=h.pow_base(7.7).times(6e-14).times($)),h.gt(45)&&($=h.pow_base(29.25).times(1e-39).times($)),$.plus(.9)},shouldAutobuy:x(P.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Pion upgrade cost by 10%")]),effect:h=>`Pion upgrade cost nerf reduced to ${pt(o.times(h,100))}%`},effect:h=>o.pow(.9,h),bonusAmount:k[C.protoversal].boosts[3].effect}),w=p({cost(h){let $=h.pow_base(1.7).times(.1);return h.gt(10)&&($=h.pow_base(7.35).times(268e-11).times($)),h.gt(60)&&($=h.pow_base(29.4).times(89e-75).times($)),$.plus(4.9).times(fe(C.infinitesimal,5))},shouldAutobuy:x(P.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Pions")])},effect:h=>o.pow(1.75,h),bonusAmount:k[C.protoversal].boosts[4].effect}),I=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.protoversal].boosts[1].total),0),cost(h){let $=h.pow_base(6).times(30);return h.gt(60)&&($=h.pow_base(37.5).times(27e-72).times($)),$},shouldAutobuy:x(P.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Boost 1 effect")])},effect:h=>o.pow(1.7,h),bonusAmount:k[C.subplanck].boosts[2].effect}),N=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.infinitesimal].upgrades.reform.amount),0),cost(h){let $=h.pow_base(5).times(50);return h.gt(60)&&($=h.pow_base(28.8).times(177e-67).times($)),$},shouldAutobuy:x(P.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Infinitesimal Foam gain by 50% per order of magnitude of Protoversal Foam")])},effect:h=>o.max(t(k[C.protoversal].amount),0).plus(1).log10().times(h).times(.5).plus(1),bonusAmount:()=>o.add(fe(C.subplanck,3),t(at.upgrades.eta.effect))}),v=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.subspatial].upgrades.reform.amount),0),cost(h){let $=h.pow_base(5.5).times(5e3);return h.gt(60)&&($=h.pow_base(35.64).times(1e-68).times($)),$},shouldAutobuy:x(P.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Pion and Spinor gain by 30% per order of magnitude of Subspatial Foam")])},effect:h=>o.max(t(k[C.subspatial].amount),0).plus(1).log10().times(h).times(.3).plus(1),bonusAmount:k[C.subplanck].boosts[4].effect}),T=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.protoversal].upgrades.reform.amount),1),cost(h){let $=h.pow_base(5).times(3e5);return h.gt(60)&&($=h.pow_base(28.8).times(177e-66).times($)),$},shouldAutobuy:x(P.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain 120% increased Foam generation")])},effect:h=>o.times(h,1.2).plus(1),bonusAmount:k[C.subplanck].boosts[5].effect}),A=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.subplanck].upgrades.reform.amount),0),cost(h){let $=h.pow_base(6.5).times(7e5);return h.gt(45)&&($=h.pow_base(26).times(545e-36).times($)),$},shouldAutobuy:x(P.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Subspatial Foam gain by 30% per order of magnitude of Protoversal and Infinitesimal Foam")])},effect:h=>o.add(o.max(t(k[C.protoversal].amount),0).plus(1).log10(),o.max(t(k[C.infinitesimal].amount),0).plus(1).log10()).times(h).times(.3).plus(1),bonusAmount:k[C.quantum].boosts[4].effect}),R=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.protoversal].upgrades.reform.amount),2),cost(h){let $=h.pow_base(7.5).times(4e8);return h.gt(45)&&($=h.pow_base(30).times(595e-50).times($)),$},shouldAutobuy:x(P.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Pions increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:h=>o.max(t(at.pions),0).plus(1).log10().times(h).times(.02).plus(1),bonusAmount:k[C.quantum].boosts[4].effect}),B=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.infinitesimal].upgrades.reform.amount),1),cost(h){let $=h.pow_base(7).times(5e9);return h.gt(45)&&($=h.pow_base(26).times(145e-45).times($)),$},shouldAutobuy:x(P.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Increase Subplanck Boost 1 effect by 40% per order of magnitude of Subplanck Foam")])},effect:h=>o.max(t(k[C.subplanck].amount),0).plus(1).log10().times(h).times(.4).plus(1),bonusAmount:k[C.quantum].boosts[4].effect}),j=p({visibility:()=>t(ae.challenge.active)||t(V.upgrades.skyrmion.bought),cost(h){let $=h.pow_base(5).times(7e10);return h.gt(45)&&($=h.pow_base(20).times(1e-35).times($)),$},shouldAutobuy:x(P.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("ln(Best Accelerons) increases Pion and Spinor gain")])},effect:h=>o.max(t(V.bestAccelerons),0).plus(1).ln().times(h).plus(1)}),ne=p({visibility:()=>t(ae.challenge.active)||t(se.upgrades.skyrmionUpgrades.bought),cost(h){let $=h.pow_base(5).times(7e10);return h.gt(45)&&($=h.pow_base(20).times(1e-35).times($)),$},shouldAutobuy:x(P.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Pions per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:h=>o.clamp(t(se.inflatons),1,t(se.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(h)}),K=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.nu.bought),cost(h){return h.pow_base(150).times(1e50)},shouldAutobuy:x(P.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Add "),pt(25e-5),u(" to a repeatable research cost divider per order of magnitude of Spinors")]),effect:h=>`/${pt(h)}x`},effect:h=>o.clampMin(t(n),0).plus(1).log10().times(h).times(25e-5).plus(1)}),z=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.xi.bought),cost(h){return h.pow_base(135).times(1e50)},shouldAutobuy:x(P.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the magnitude of the Entangled String Inflaton requirement by 5%")]),effect:h=>`${pt(h)}x`},effect:h=>o.pow_base(.95,h)}),re=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.pi.bought),cost(h){return h.pow_base(160).times(1e50)},shouldAutobuy:x(P.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Pion and Spinor gain by 0.25% per total "),ke.entropy.displayName])},effect:h=>o.times(h,.0025).times(t(ke.maxEntropy)).plus(1)}),D=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.rho.bought),cost(h){return h.pow_base(175).times(1e50)},shouldAutobuy:x(P.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Increase effective Subspace building count by 0.1%")]),effect:h=>`${L(o.times(h,100),1)}%`},effect:h=>o.times(h,.001)});return{alpha:b,beta:f,gamma:w,delta:I,epsilon:N,zeta:v,eta:T,theta:A,iota:R,kappa:B,lambda:j,mu:ne,nu:K,xi:z,pi:re,rho:D}})(),d=St("Spinor Modifiers",()=>[{title:n.displayName,modifier:i,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{name:e,spinors:n,upgradeCount:l,upgrades:m,display:_(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-start"},[a("div",{class:"col",style:"align-items: flex-start"},[a("div",null,[u("You have "),a(ei,{resource:n,color:t(ae.challenge.active)?ae.color:P.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),vn(n,r.value),u("/s)"),J(d)]),a("div",{style:"font-size: 12px"},[u("Your Pion upgrades are increasing Spinor upgrade costs by "),pt(t(c).minus(1).times(100)),u("%")]),a(qe,null,null),a(xm,null,null)])]))};function p(b){const{visibility:f,cost:w,shouldAutobuy:I,display:N,effect:v,bonusAmount:T}=b,A=Zr({visibility:f,display:N,bonusAmount:T,effect:v,requirements:G(()=>({resource:x(n),cost:()=>w(o.sub(t(A.amount),fe(C.subplanck,5))).times(t(c)),requiresPay:()=>!t(I),canMaximize:!1}))});return P.on("update",()=>{t(ae.challenge.active)||t(I)&&Mt(A.requirements)&&A.onClick()}),A}});const Fm={class:"pion-container"},Bm={class:"pion-grid"},Rm=oe({__name:"Pion",setup(e){const n=at.upgrades,i={alpha:{row:1,col:7},beta:{row:2,col:5},gamma:{row:3,col:7},delta:{row:4,col:5},epsilon:{row:5,col:7},zeta:{row:3,col:3},eta:{row:5,col:3},theta:{row:6,col:5},iota:{row:7,col:7},kappa:{row:4,col:1},lambda:{row:6,col:1},mu:{row:7,col:3},nu:{row:8,col:5},xi:{row:8,col:1},pi:{row:9,col:3},rho:{row:10,col:1}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(q(),E("div",Fm,[M("ul",Bm,[(q(!0),E(g,null,Ee(t(n),(c,m)=>(q(),E(g,{key:m},[t(c.visibility)!==t(Te).None?(q(),E("li",Tt({key:0,class:"pion-upgrade"},s.$attrs,{style:r(m)}),[(q(),ie(Ne(t(J)(c))))],16)):ee("",!0)],64))),128))])]))}});var Em=be(Rm,[["__scopeId","data-v-4a683717"]]);const Om="pion",at=et(Om,function(){const e="Pions",n=rt(0,e,void 0,!0),i=ot(()=>[...P.production,U(()=>({multiplier:De.upgrades.gamma.effect,enabled:()=>o.gt(t(De.upgrades.gamma.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Spinor Upgrade \u03B3 ("),L(t(De.upgrades.gamma.totalAmount)),u(")")]))})),U(()=>({multiplier:De.upgrades.mu.effect,enabled:()=>o.gt(t(De.upgrades.mu.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Spinor Upgrade \u03BC ("),L(t(De.upgrades.mu.totalAmount)),u(")")]))}))]),r=S(()=>i.apply(t(P.totalSkyrmions).times(.01)));P.on("preUpdate",b=>{const f=t(V.timeMult).times(b);n.value=f.times(t(r)).plus(n.value)});const s=S(()=>Object.values(m).map(b=>t(b.amount)).reduce((b,f)=>b.plus(f),o.dZero)),l=S(()=>t(s).minus(fe(C.subspatial,2))),c=S(()=>{const b=t(ae.challenge.active)?t(ae.upgradeCount):t(De.upgradeCount),f=b.times(.2).times(t(De.upgrades.beta.effect)).plus(1),w=b.times(.25).times(fe(C.quantum,2));return f.pow(w)}),m=(()=>{const b=p({cost(h){let $=h.pow_base(1.2).times(.1);return h.gt(25)&&($=h.pow_base(7.9).times(342e-25).times($)),h.gt(90)&&($=h.pow_base(19.75).times(208e-106).times($)),$.times(fe(C.infinitesimal,3))},shouldAutobuy:x(P.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Gain 50% more Pions and Spinors")])},effect:h=>o.pow(1.5,h),bonusAmount:k[C.protoversal].boosts[2].effect}),f=p({cost(h){let $=h.pow_base(1.3).times(.1);return h.gt(15)&&($=h.pow_base(7.7).times(6e-14).times($)),h.gt(45)&&($=h.pow_base(29.25).times(1e-39).times($)),$.plus(.9)},shouldAutobuy:x(P.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Spinor upgrade cost by 10%")]),effect:h=>`Spinor upgrade cost nerf reduced to ${pt(o.times(h,100))}%`},effect:h=>o.pow(.9,h),bonusAmount:k[C.protoversal].boosts[3].effect}),w=p({cost(h){let $=h.pow_base(1.7).times(.1);return h.gt(10)&&($=h.pow_base(7.35).times(268e-11).times($)),h.gt(60)&&($=h.pow_base(29.4).times(89e-75).times($)),$.plus(4.9).times(fe(C.infinitesimal,5))},shouldAutobuy:x(P.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Spinors")])},effect:h=>o.pow(1.75,h),bonusAmount:k[C.protoversal].boosts[4].effect}),I=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.protoversal].boosts[1].total),0),cost(h){let $=h.pow_base(6).times(30);return h.gt(60)&&($=h.pow_base(37.5).times(27e-72).times($)),$},shouldAutobuy:x(P.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Foam from Skyrmions")])},effect:h=>o.pow(h,1.7),bonusAmount:k[C.subplanck].boosts[2].effect}),N=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.infinitesimal].upgrades.reform.amount),0),cost(h){let $=h.pow_base(5).times(50);return h.gt(60)&&($=h.pow_base(28.8).times(177e-67).times($)),$},shouldAutobuy:x(P.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Protoversal Foam gain by 50% per order of magnitude of Infinitesimal Foam")])},effect:h=>o.max(t(k[C.infinitesimal].amount),0).plus(1).log10().times(h).times(.5).plus(1),bonusAmount:k[C.subplanck].boosts[3].effect}),v=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.subspatial].upgrades.reform.amount),0),cost(h){let $=h.pow_base(5.5).times(5e3);return h.gt(60)&&($=h.pow_base(35.64).times(1e-68).times($)),$},shouldAutobuy:x(P.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Subspatial Foam gain by 5% per Skyrmion")])},effect:h=>t(P.totalSkyrmions).times(h).times(.05).plus(1),bonusAmount:k[C.subplanck].boosts[4].effect}),T=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.protoversal].upgrades.reform.amount),1),cost(h){let $=h.pow_base(5).times(3e5);return h.gt(60)&&($=h.pow_base(28.8).times(177e-66).times($)),$},shouldAutobuy:x(P.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain a free level of "),a("b",null,[u("Spinor Upgrade \u03B5")])]),effect:h=>`${L(h)} free levels`},effect:h=>h,bonusAmount:k[C.subplanck].boosts[5].effect}),A=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.subplanck].upgrades.reform.amount),0),cost(h){let $=h.pow_base(6.5).times(7e5);return h.gt(45)&&($=h.pow_base(26).times(545e-36).times($)),$},shouldAutobuy:x(P.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Protoversal Foam gain by 100% per order of magnitude of Subspatial Foam")])},effect:h=>o.max(t(k[C.subspatial].amount),0).plus(1).log10().times(h).plus(1),bonusAmount:k[C.quantum].boosts[4].effect}),R=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.protoversal].upgrades.reform.amount),2),cost(h){let $=h.pow_base(7.5).times(4e8);return h.gt(45)&&($=h.pow_base(30).times(595e-50).times($)),$},shouldAutobuy:x(P.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Spinors increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:h=>o.max(t(De.spinors),0).plus(1).log10().times(h).times(.02).plus(1),bonusAmount:k[C.quantum].boosts[4].effect}),B=p({visibility:()=>t(ae.challenge.active)||o.gt(t(k[C.infinitesimal].upgrades.reform.amount),1),cost(h){let $=h.pow_base(7).times(5e9);return h.gt(45)&&($=h.pow_base(26).times(145e-45).times($)),$},shouldAutobuy:x(P.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Protoversal Boost 1 levels each increase other Foam Boost 1 effects by 30%")])},effect:h=>o.times(t(k[C.protoversal].boosts[1].total),h).times(.3).plus(1),bonusAmount:k[C.quantum].boosts[4].effect}),j=p({visibility:()=>t(ae.challenge.active)||t(V.upgrades.skyrmion.bought),cost(h){let $=h.pow(1.1).pow_base(5).times(700);return h.gt(45)&&($=h.pow(1.1).pow_base(20).times(7e-17).times($)),$},shouldAutobuy:x(P.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("Double the Infinitesimal Foam Boost 1 effect")])},effect:h=>o.pow(2,h)}),ne=p({visibility:()=>t(ae.challenge.active)||t(se.upgrades.skyrmionUpgrades.bought),cost(h){let $=h.pow_base(5).times(7e10);return h.gt(45)&&($=h.pow_base(20).times(1e-35).times($)),$},shouldAutobuy:x(P.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Spinors per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:h=>o.clamp(t(se.inflatons),1,t(se.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(h)}),K=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.nu.bought),cost(h){return h.pow_base(150).times(1e50)},shouldAutobuy:x(P.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Increase research speed by "),pt(25e-5),u("x per order of magnitude of Pions")]),effect:h=>`${pt(h)}x`},effect:h=>o.clampMin(t(n),0).plus(1).log10().times(h).times(25e-5).plus(1)}),z=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.xi.bought),cost(h){return h.pow_base(135).times(1e50)},shouldAutobuy:x(P.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the Entangled String Acceleron requirement by 5%")]),effect:h=>`${pt(h)}x`},effect:h=>o.pow_base(.95,h)}),re=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.pi.bought),cost(h){return h.pow_base(160).times(1e50)},shouldAutobuy:x(P.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Entropic Loop construction speed by 5% per completed Entropic Loop")])},effect:h=>o.times(h,.05).times(t(V.loops.numBuiltLoops))}),D=p({visibility:()=>t(ae.challenge.active)||t(P.upgrades.rho.bought),cost(h){return h.pow_base(175).times(1e50)},shouldAutobuy:x(P.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Decrease Subspace building cost scaling by 1.1x")])},effect:h=>o.pow(1.1,h)});return{alpha:b,beta:f,gamma:w,delta:I,epsilon:N,zeta:v,eta:T,theta:A,iota:R,kappa:B,lambda:j,mu:ne,nu:K,xi:z,pi:re,rho:D}})(),d=St("Pion Modifiers",()=>[{title:n.displayName,modifier:i,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{name:e,pions:n,upgradeCount:l,upgrades:m,display:_(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-end"},[a("div",{class:"col",style:"align-items: flex-end"},[a("div",null,[u("You have "),a(ei,{resource:n,color:t(ae.challenge.active)?ae.color:P.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),vn(n,r.value),u("/s)"),J(d)]),a("div",{style:"font-size: 12px"},[u("Your Spinor upgrades are increasing Pion upgrade costs by "),pt(t(c).minus(1).times(100)),u("%")]),a(qe,null,null),a(Em,null,null)])]))};function p(b){const{visibility:f,cost:w,shouldAutobuy:I,display:N,effect:v,bonusAmount:T}=b,A=Zr({visibility:f,display:N,bonusAmount:T,effect:v,requirements:G(()=>({resource:x(n),cost:()=>w(o.sub(t(A.amount),fe(C.subspatial,5))).times(t(c)),requiresPay:()=>!t(I),canMaximize:!1}))});return P.on("update",()=>{t(ae.challenge.active)||t(I)&&Mt(A.requirements)&&A.onClick()}),A}}),Dm="abyss",ae=et(Dm,function(){const e="#ff0000",n=qm(l=>({style:{border:0,borderRadius:0,clipPath:"polygon(75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%, 25% 0%)",marginHorizontal:"50px",width:"250px",minWidth:"250px",minHeight:"250px",boxShadow:"0"},requirements:G(()=>({cost:()=>o.add(t(l.completions),1),resource:r})),completionLimit:4,onEnter(){xi(ft,s)},onExit(){xi(ft,s)}})),i=S(()=>o.add(t(at.upgradeCount),t(De.upgradeCount)).times(.75)),r=rt(S(()=>[P.upgrades.nu,P.upgrades.xi,P.upgrades.pi,P.upgrades.rho].filter(l=>t(l.bought)).length),"Abyssal Skyrmion Upgrades");kt(r,l=>n.completions.value=o.max(t(n.completions),l));const s=(()=>({skyrmion:{conversion:{amount:$e(1)},pion:dt(P.pion),spinor:dt(P.spinor)},fome:{protoversal:dt(k.protoversal),infinitesimal:dt(k.infinitesimal),subspatial:dt(k.subspatial),subplanck:dt(k.subplanck),quantum:dt(k.quantum)},acceleron:{accelerons:dt(V.accelerons),bestAccelerons:dt(V.bestAccelerons),totalAccelerons:dt(V.totalAccelerons),entropy:dt(V.entropy),loops:dt(V.loops),upgrades:dt(V.upgrades)},timecube:dt(H),inflaton:dt(se)}))();return{color:e,challenge:n,upgradeCount:i,abyssUpgradeCount:r,swapData:s,display:_(()=>a(g,null,[J(n)]))}}),Lm="loops",Le=et(Lm,function(){const e=$e(!1),n=st(()=>({visibility:x(V.upgrades.superstructures.bought),canClick(){return t(b)!==void 0},onClick(){e.value=!t(e)},display:_(()=>a("h3",null,[t(e)?"Halt":"Begin",a("br",null,null),u("Construction")])),style(){return{borderRadius:"50%",borderColor:t(this.canClick)?"var(--layer-color)":"var(--locked)",backgroundColor:"#0000",color:t(this.canClick)?"var(--layer-color)":"var(--locked)"}}})),i=ot(()=>[U(()=>({multiplier:ke.enhancements.construction.effect,enabled:x(ke.enhancements.construction.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Construction")]))})),U(()=>({multiplier:H.upgrades.ten.effect,enabled:x(H.upgrades.ten.bought),description:_(()=>a(g,null,[u("["),H.name,u("] Ten")]))})),U(()=>({multiplier:P.pion.upgrades.pi.effect,enabled:()=>o.gt(t(P.pion.upgrades.pi.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03C0 ("),L(t(P.pion.upgrades.pi.totalAmount)),u(")")]))})),U(()=>({multiplier:H.getTimesquareEffect(Y.RIGHT),enabled:()=>o.gt(t(H.timesquares.squares[Y.RIGHT].square.amount),0),description:_(()=>a(g,null,[u("["),H.name,u("] Right Time Squares ("),Q(t(H.timesquares.squares[Y.RIGHT].square.amount)),u(")")]))}))]),r=S(()=>i.apply(t(V.timeMult))),s=ot(()=>[U(()=>({multiplier:ke.enhancements.development.effect,enabled:x(ke.enhancements.development.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Development")])),smallerIsBetter:!0}))]),l=S(()=>s.apply(1)),c=S(()=>{const N=t(b);return N===void 0?o.dZero:o.minus(t(N.buildRequirement),t(N.buildProgress))}),m=S(()=>t(c).times(t(l)));V.on("update",N=>{if(!t(e))return;const v=t(b);if(v===void 0){e.value=!1;return}const T=t(c),A=o.div(t(V.accelerons),t(l)),R=o.times(t(r),N).clampMax(T).clampMax(A);v.buildProgress.value=R.plus(t(v.buildProgress)).clampMax(t(v.buildRequirement)),V.accelerons.value=o.subtract(t(V.accelerons),R.times(t(l))).clampMin(0),t(v.built)&&(e.value=!1)}),V.on("preUpdate",N=>{if(t(e))return;const v=t(V.timeMult).times(N);for(const T of Object.values(d).filter(A=>t(A.built))){T.triggerProgress.value=v.plus(t(T.triggerProgress));const A=o.divide(t(T.triggerProgress),t(T.triggerRequirement)).floor();A.gte(1)&&(T.triggerProgress.value=o.sub(t(T.triggerProgress),A.times(t(T.triggerRequirement))),T.trigger(A))}});const d=(()=>{const N=Cn(j=>({visibility:x(V.upgrades.superstructures.bought),buildRequirement:new o(60),triggerRequirement:o.dOne,display:{color:S(()=>t(ae.challenge.active)?ae.color:V.color),width:10,description:_(()=>a(g,null,[u("Every second, gain "),a("span",{style:{color:t(t(j.display).color)}},[pt(t(j.effect).times(100),1),u("%")]),u(" of your Acceleron gain. Currently: "),a("span",{style:{color:t(t(j.display).color)}},[L(o.times(t(V.conversion.currentGain),t(V.timeMult)).times(t(j.effect)).div(t(j.triggerRequirement)))]),u(" Accelerons/s")]))},effect(){return o.add(.001,Rt(ke.enhancements.acceleration,0)).div(t(Ve.nerfs[Y.RIGHT])).times(t(Ve.buffs[Y.RIGHT]))},trigger(ne){let K=new o(t(V.conversion.currentGain));K=K.times(t(j.effect)),K=K.times(ne),t(H.upgrades.tempo.bought)&&(K=K.clampMin(1)),V.accelerons.value=o.add(t(V.accelerons),K)}})),v=Cn(j=>({visibility(){return t(j.built)||t(N.built)},buildRequirement:new o(360),triggerRequirement:new o(60),display:()=>({color:S(()=>t(ae.challenge.active)?ae.color:P.color),width:10,description:_(()=>a(g,null,[u("Every minute, gain "),a("span",{style:{color:t(t(j.display).color)}},[pt(t(j.effect))]),u(" minutes of Foam and Skyrmion production. Currently: "),a("span",{style:{color:t(t(j.display).color)}},[L(o.times(t(j.effect),t(V.timeMult)).div(t(j.triggerRequirement)))]),u(" minutes/s")]))}),effect(){return o.plus(1,Rt(ke.enhancements.expansion,0)).div(t(Ve.nerfs[Y.RIGHT])).times(t(Ve.buffs[Y.RIGHT]))},trigger(ne){const K=new o(t(this.triggerRequirement)).times(t(j.effect)).times(ne);P.pion.pions.value=K.times(t(1)).plus(t(P.pion.pions)),P.spinor.spinors.value=K.times(t(1)).plus(t(P.spinor.spinors)),Object.values(C).forEach(z=>k[z].amount.value=K.times(t(k[z].production)).plus(t(k[z].amount)))}})),T=Cn(j=>({visibility(){return t(this.built)||t(v.built)},buildRequirement:new o(600),triggerRequirement:new o(3600),display:{color:S(()=>t(ae.challenge.active)?ae.color:H.color),width:10,description:_(()=>a(g,null,[u("Every hour, gain "),a("span",{style:{color:t(t(j.display).color)}},[L(t(j.effect))]),u(" Time Cubes. Currently: "),a("span",{style:{color:t(t(j.display).color)}},[L(o.times(t(j.effect),t(V.timeMult)).div(t(j.triggerRequirement)))]),u(" Time Cubes/s")]))},effect(){return new o(t(H.production)).div(t(Ve.nerfs[Y.RIGHT])).times(t(Ve.buffs[Y.RIGHT]))},trigger(ne){H.timecubes.value=t(j.effect).times(ne).plus(t(H.timecubes))}})),A=Cn(j=>({visibility(){return t(this.built)||t(V.upgrades.tetration.bought)||t(H.upgrades.tiny.bought)},buildRequirement:new o(25e4),triggerRequirement:new o(86400),display:{color:S(()=>t(ae.challenge.active)?ae.color:k.color),width:10,description:_(()=>a(g,null,[u("Every day, gain a decaying boost to Foam production. Currently: "),a("span",{style:{color:t(t(j.display).color)}},[L(o.gte(t(V.timeMult),t(j.triggerRequirement))?t(w[j.id]):t(j.value))]),u("x")]))},effect(){return new o(1e6)},trigger(ne){this.value.value=t(j.effect).div(o.div(t(Ve.nerfs[Y.RIGHT]),t(Ve.buffs[Y.RIGHT]))).times(ne)}}),Ii),R=Cn(j=>({visibility(){return t(this.built)||t(V.upgrades.tetration.bought)&&t(A.built)},buildRequirement:new o(1e11),triggerRequirement:new o(31536e3),display:{color:S(()=>t(ae.challenge.active)?ae.color:V.color),width:10,description:_(()=>a(g,null,[u("Every year, gain a decaying divider to Acceleron cost. Currently: "),a("span",{style:{color:t(t(j.display).color)}},[u("/"),L(o.gte(t(V.timeMult),t(j.triggerRequirement))?t(w[j.id]):t(j.value))]),u("x")]))},effect(){return new o(1e3)},trigger(ne){this.value.value=t(j.effect).div(o.div(t(Ve.nerfs[Y.RIGHT]),t(Ve.buffs[Y.RIGHT]))).times(ne)}}),Ii),B=Cn(j=>({visibility(){return t(this.built)||t(V.upgrades.tetration.bought)&&t(H.upgrades.tiny.bought)&&t(R.built)},buildRequirement:new o(4e17),triggerRequirement:new o(31536e4),display:{color:S(()=>t(ae.challenge.active)?ae.color:P.color),width:10,description:_(()=>a(g,null,[u("Every decade, gain a decaying boost to Pion and Spinor production. Currently: "),a("span",{style:{color:t(t(j.display).color)}},[L(o.gte(t(V.timeMult),t(j.triggerRequirement))?t(w[j.id]):t(j.value))]),u("x")]))},effect(){return new o(1e9)},trigger(ne){this.value.value=t(j.effect).div(o.div(t(Ve.nerfs[Y.RIGHT]),t(Ve.buffs[Y.RIGHT]))).times(ne)}}),Ii);return{acceleron:N,instantProd:v,timecube:T,tempFome:A,tempAcceleron:R,tempSkyrmion:B}})(),p=S(()=>Object.values(d).filter(N=>t(N.built)).length),b=S(()=>Object.values(d).find(N=>we(N.visibility)&&!t(N.built))),f={[d.tempFome.id]:me([]),[d.tempAcceleron.id]:me([]),[d.tempSkyrmion.id]:me([])},w=Object.fromEntries(Object.entries(f).map(([N,v])=>[N,S(()=>t(v).reduce((T,A)=>T.plus(A),o.dZero).dividedBy(t(v).length||1).plus(1))]));V.on("postUpdate",N=>{const v=t(V.timeMult),T=o.pow(.2,N);for(const A of[d.tempFome,d.tempAcceleron,d.tempSkyrmion])f[A.id].value=[...t(f[A.id]).slice(-9),A.value.value],!o.gte(v,t(A.triggerRequirement))&&(A.value.value=T.times(t(A.value)).clampMin(1))});const I=St("Entropic Loop Modifiers",()=>[{title:"Build Speed",modifier:i,base:V.timeMult,baseText:_(()=>a(g,null,[u("["),V.name,u("] Time Speed")]))},{title:"Build Cost",modifier:s,base:1,baseText:_(()=>a(g,null,[u("["),V.name,u("] "),V.accelerons.displayName,u("/sec")])),smallerIsBetter:!0}]);return{isBuilding:e,loops:d,averageLoopValues:w,numBuiltLoops:p,upperDisplay:_(()=>{var N,v,T,A;return a(g,null,[t(b)===void 0?a(qe,{height:"50px"},null):a(g,null,[a(qe,{height:"18px"},null),a("div",{style:{fontSize:"12px",color:"var(--link)"}},[u("Construction Progress: "),Q(t((v=(N=t(b))==null?void 0:N.buildProgress)!=null?v:0)),u(" / "),Q(t((A=(T=t(b))==null?void 0:T.buildRequirement)!=null?A:0)),J(I),a("br",null,null),u("Construction will consume "),Q(t(m)),u(" "),V.accelerons.displayName])])])}),lowerDisplay:_(()=>a(g,null,[a(hm,{radius:175,loops:Object.values(d),buildButton:n},null),a(qe,null,null),a(wm,{loops:Object.values(d)},null)])),display:"This page intentionally left blank"}});const Vm={class:"enhancementRow"},jm=oe({__name:"Enhancements",props:{rows:null},setup(e){const n=e,i=[1,2,3,4].map(r=>({limit:ke.enhancementLimits[r],count:ke.enhancementCounts[r],row:t(n.rows)[r]}));return(r,s)=>(q(!0),E(g,null,Ee(t(i),(l,c)=>(q(),E("div",Vm,[l.row.some(m=>t(we)(m.visibility))?(q(),ie(Fn,{key:0},{default:ge(()=>[M("div",{class:Pe({bought:t(l.count)>=t(l.limit)})},[M("span",null,"Row "+le(c+1)+": "+le(t(l.count))+"/"+le(t(l.limit)),1)],2),(q(!0),E(g,null,Ee(l.row,m=>(q(),E(g,null,[t(we)(m.visibility)?(q(),ie(Ne(t(J)(m)),{key:0})):ee("",!0)],64))),256))]),_:2},1024)):ee("",!0)]))),256))}});var Um=be(jm,[["__scopeId","data-v-83e9ae4a"]]);const zm="entropy",ke=et(zm,function(){const e="Entropy",n=rt(0,e),i=ot(()=>[U(()=>({multiplier:2,enabled:x(H.upgrades.twice.bought),description:_(()=>a(g,null,[u("["),H.name,u("] Twice")]))})),U(()=>({multiplier:1.5,enabled:x(H.upgrades.triple.bought),description:_(()=>a(g,null,[u("["),H.name,u("] Triple")]))}))]),r=S(()=>i.apply(t(Le.numBuiltLoops)));kt(r,v=>{const T=Object.values(f).filter(A=>t(A.bought));for(const A of T)A.bought.value=!1;n.value=v;for(const A of T)A.purchase()});const s={1:["expansion","construction","dilation","contraction"],2:["formation","development","acceleration","entrenchment"],3:["extension","configuration","invention","inversion"],4:["tesselation","amplification","rotation","entitlement"]},l={1:S(()=>1+(t(H.upgrades.twist.bought)?1:0)),2:S(()=>1+(t(f.entrenchment.bought)?1:0)),3:S(()=>1),4:S(()=>1+(t(H.upgrades.twirl.bought)?1:0))},c=Object.fromEntries(Object.entries(s).map(([v,T])=>[Number(v),S(()=>T.map(A=>f[A]).filter(A=>t(A.bought)).length)])),m=S(()=>Object.values(c).map(v=>t(v)).reduce((v,T)=>v+T)),d=S(()=>o.add(t(m),t(H.getTimesquareEffect(Y.BOTTOM)))),p=S(()=>li(t(d))),b=S(()=>li(t(m)).round()),f=(()=>{const v=N(()=>({row:1,visibility:Le.loops.acceleron.built,display:{title:"Entropic Expansion",description:"Increase the second Entropic Loop effect based on purchased Entropic Enhancements",effect:Fe=>`+${L(Fe)} minutes`},effect:()=>t(p).pow(.9).times(Rt(H.upgrades.tilt))})),T=N(()=>({row:1,visibility:Le.loops.acceleron.built,display:{title:"Entropic Construction",description:"Entropic Loops build faster based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.9).pow10()})),A=N(()=>({row:1,visibility:Le.loops.acceleron.built,display:{title:"Entropic Dilation",description:"Increase time speed based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.8).plus(1)})),R=N(()=>({row:1,visibility:x(H.upgrades.tetrate.bought),display:{title:"Entropic Contraction",description:"Divide Acceleron cost based on number of purchased Entropic Enhancements",effect:Fe=>`/${L(Fe)}`},effect:()=>t(p).pow(.9)})),B=N(()=>({row:2,visibility:Le.loops.instantProd.built,display:{title:"Entropic Formation",description:"Increase Foam gain based on best Accelerons"},effect:()=>li(o.clampMin(t(V.bestAccelerons),0).plus(1).log10().floor()).pow(2.5).plus(1)})),j=N(()=>({row:2,visibility:Le.loops.instantProd.built,display:{title:"Entropic Development",description:"Decrease Entropic Loop construction cost based on purchased Entropic Enhancements",effect:Fe=>`${pt(Fe)}x`},effect:()=>t(p).pow_base(.7)})),ne=N(()=>({row:2,visibility:Le.loops.instantProd.built,display:{title:"Entropic Acceleration",description:"Increase the first Entropic Loop effect based on completed Entropic Loops",effect:Fe=>`+${L(o.times(Fe,100),1)}% of your Acceleron reset gain`},effect:()=>o.times(t(Le.numBuiltLoops),.001)})),K=N(()=>({row:2,visibility:x(H.upgrades.tetrate.bought),display:{title:"Entropic Entrenchment",description:"You may select an additional second row Entropic Enhancement"}})),z=N(()=>({row:3,visibility:Le.loops.timecube.built,display:{title:"Entropic Extension",description:"Increase Infinitesimal Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(2).plus(1)})),re=N(()=>({row:3,visibility:Le.loops.timecube.built,display:{title:"Entropic Configuration",description:"Increase Subspatial Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.75).plus(1)})),D=N(()=>({row:3,visibility:Le.loops.timecube.built,display:{title:"Entropic Invention",description:"Increase Subplanck Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.5).plus(1)})),h=N(()=>({row:3,visibility:x(H.upgrades.tetrate.bought),display:{title:"Entropic Inversion",description:"Divide Acceleron cost based on Quantum Foam",effect:Fe=>`/${L(Fe)}`},effect:()=>o.max(t(k[C.quantum].amount),0).plus(1).log10().plus(1)})),$=N(()=>({row:4,visibility:Le.loops.tempFome.built,display:{title:"Entropic Tesselation",description:"Increase Time Cube gain based on best Accelerons"},effect:()=>o.max(t(V.bestAccelerons),0).plus(1).log10().plus(1)})),de=N(()=>({row:4,visibility:Le.loops.tempFome.built,display:{title:"Entropic Amplification",description:"Skyrmions are cheaper based on best Time Cubes",effect:Fe=>`/${L(Fe.reciprocate())}`},effect:()=>li(o.max(t(H.bestTimecubes),0).plus(1).log10().floor()).pow_base(.9)})),xe=N(()=>({row:4,visibility:Le.loops.tempFome.built,display:{title:"Entropic Rotation",description:"Divide Acceleron cost based on best Time Cubes",effect:Fe=>`/${L(Fe)}`},effect:()=>o.max(t(H.bestTimecubes),0).plus(1).log10().plus(1)})),Qe=N(()=>({row:4,visibility:x(H.upgrades.tetrate.bought),display:{title:"Entropic Entitlement",description:"Each purchased Entropic Enhancement gives 0.1 free levels to each Foam Boost",effect:Fe=>`${L(Fe,1)} free levels`},effect:()=>t(d).times(.1)}));return{expansion:v,construction:T,dilation:A,contraction:R,formation:B,development:j,acceleration:ne,entrenchment:K,extension:z,configuration:re,invention:D,inversion:h,tesselation:$,amplification:de,rotation:xe,entitlement:Qe}})(),w=st(()=>({canClick(){return t(m)>0},onClick(){for(const v of Object.values(f))v.bought.value=!1;n.value=t(r)},display:{description:"Reset Enhancements"},style:{minHeight:"30px",width:"100px"}})),I=St("Entropy Modifiers",()=>[{title:"Maximum Entropy",modifier:i,base:Le.numBuiltLoops,baseText:_(()=>a(g,null,[u("["),V.name,u("] Entropic Loops")]))}]);return{name:e,entropy:n,maxEntropy:r,enhancements:f,enhancementCounts:c,enhancementLimits:l,display:_(()=>a(g,null,[a(qe,null,null),u("Entropy: "),Q(t(n)),u(" / "),Q(t(r)),J(I),a("br",null,null),u("Next Enhancement: "),Q(t(b)),u(" "),n.displayName,a(qe,null,null),J(w),a(qe,null,null),a(Um,{rows:Object.keys(s).reduce((v,T)=>(v[T]=s[T].map(A=>f[A]),v),{})},null)]))};function N(v){var B;const T=v.call({},{});W(T,"visibility"),W(T,"effect");const A=(B=T.display.effect)!=null?B:j=>`${L(j)}x`,R=pe(()=>({requirements:[G(()=>({cost:b,resource:x(n)})),Dt(()=>t(c[T.row])<t(l[T.row]))],visibility(){var j;return t(this.bought)||t((j=T.visibility)!=null?j:!0)},display:T.display.title,effect:T.effect}),Ce);return En(R,{display:_(()=>{const j=ue(T.display.description,"div"),ne=T.effect?ue(_(()=>a(g,null,[A(t(R.effect))]))):void 0;return a(g,null,[a(j,null,null),ne?a("div",null,[u("Currently: "),a(ne,null,null)]):void 0])})}),R}}),Jr=o.sqrt(5),Gm=Jr.plus(1).div(2);function li(e){const n=Gm.pow(e),i=o.times(e,Math.PI).cos();return n.minus(i.dividedBy(n)).dividedBy(Jr)}const Hm="timecube",H=et(Hm,function(){const e="Time Cubes",n="#f037ea",i=S(()=>t(_e.milestones[1].earned)||t(V.loops.loops.timecube.built)),r=rt(0,"Time Cubes"),s=Ji(r),l=ot(()=>[U(()=>({multiplier:V.upgrades.conversion.effect,enabled:x(V.upgrades.conversion.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Stability Conversion")]))})),U(()=>({multiplier:ke.enhancements.tesselation.effect,enabled:x(ke.enhancements.tesselation.bought),description:_(()=>a(g,null,[u("["),ke.name,u("] Entropic Tesselation")]))})),U(()=>({multiplier:m.tile.effect,enabled:x(m.tile.bought),description:_(()=>a(g,null,[u("["),e,u("] Tile")]))})),U(()=>({multiplier:H.getTimesquareEffect(Y.FRONT),enabled:()=>o.gt(t(Dn.squares[Y.FRONT].square.amount),0),description:_(()=>a(g,null,[u("["),e,u("] Front Time Squares ("),Q(t(Dn.squares[Y.FRONT].square.amount)),u(")")]))})),U(()=>({multiplier:()=>o.reciprocate(t(Ve.nerfs[Y.FRONT])),enabled:()=>t(Ve.depths[Y.FRONT])>0,description:_(()=>a(g,null,[u("["),e,u("] Active Front Timeline Effect")]))})),U(()=>({multiplier:Ve.buffs[Y.FRONT],enabled:()=>t(Ve.scores[Y.FRONT]).gt(0),description:_(()=>a(g,null,[u("["),e,u("] Passive Front Timeline Effect")]))}))]),c=S(()=>l.apply(1)),m=(()=>{const f=pe(vt=>({display:{title:"Tile",description:"log10(Accelerons) increases Time Cube gain",effect:_(()=>a(g,null,[L(t(vt.effect)),u("x")]))},requirements:G(()=>({resource:x(r),cost:1})),effect(){return o.max(t(V.accelerons),0).plus(1).log10()}}),Ce),w=pe(vt=>({visibility(){return t(this.bought)||t(f.bought)},display:{title:"Time",description:"log10(Best Time Cubes) increases Acceleron effect",effect:_(()=>a(g,null,[L(t(vt.effect)),u("x")]))},requirements:G(()=>({resource:x(r),cost:2})),effect(){return o.max(t(s),0).plus(1).log10().plus(1)}}),Ce),I=pe(vt=>({visibility(){return t(this.bought)||t(w.bought)},display:{title:"Tier",description:"Each upgrade in this row gives a free level of every Foam Boost",effect:_(()=>a(g,null,[u("+"),Q(t(vt.effect)),u(" free levels")]))},requirements:G(()=>({resource:x(r),cost:3})),effect(){return[f,w,this,N,v].filter(cn=>t(cn.bought)).length}}),Ce),N=pe(()=>({visibility(){return t(this.bought)||t(I.bought)},display:{title:"Tilt",description:"Entropic Expansion is 50% stronger"},requirements:G(()=>({resource:x(r),cost:10})),effect:1.5}),Ce),v=pe(()=>({visibility(){return t(this.bought)||t(N.bought)},display:{title:"Tiny",description:"Unlock another Entropic Loop"},requirements:G(()=>({resource:x(r),cost:25}))})),T=pe(()=>({visibility(){return t(this.bought)||t(v.bought)},display:()=>({title:"Twice",description:`${t(K.bought)?"Triple":"Double"} maximum entropy`}),requirements:G(()=>({resource:x(r),cost:2500})),effect(){return t(K.bought)?3:2}}),Ce),A=pe(()=>({visibility(){return t(this.bought)||t(T.bought)},display:{title:"Twist",description:"You may select an additional first row Entropic Enhancement"},requirements:G(()=>({resource:x(r),cost:4e8}))})),R=pe(()=>({visibility(){return t(this.bought)||t(A.bought)},display:{title:"Ten",description:"Increase Entropic Loop build speed by 10,000x"},requirements:G(()=>({resource:x(r),cost:5e8})),effect:1e4}),Ce),B=pe(()=>({visibility(){return t(this.bought)||t(R.bought)},display:{title:"Twirl",description:"You may select an additional fourth row Entropic Enhancement"},requirements:G(()=>({resource:x(r),cost:125e7}))})),j=pe(()=>({visibility(){return t(this.bought)||t(B.bought)},display:{title:"Tetrate",description:"Unlock the fourth column of Entropic Enhancements"},requirements:G(()=>({resource:x(r),cost:5e9}))})),ne=pe(()=>({visibility(){return t(this.bought)||t(_e.expansions.timecube.bought)},display:{title:"Tesselate",description:"Unlock Time Squares"},requirements:G(()=>({resource:x(r),cost:1e6}))})),K=pe(()=>({visibility(){return t(this.bought)||t(ne.bought)},display:{title:"Triple",description:"Change <b>Twice</b> from double to triple"},requirements:G(()=>({resource:x(r),cost:1e11}))})),z=pe(()=>({visibility(){return t(this.bought)||t(ne.bought)},display:{title:"Turn",description:"Front squares are 50% stronger"},requirements:G(()=>({resource:x(r),cost:1e12})),effect:1.5})),re=pe(()=>({visibility(){return t(this.bought)||t(K.bought)&&t(z.bought)},display:{title:"Tall",description:"Bottom squares are 50% stronger"},requirements:G(()=>({resource:x(r),cost:2e12})),effect:1.5})),D=pe(()=>({visibility(){return t(this.bought)||t(K.bought)&&t(z.bought)},display:{title:"Tour",description:"Double the Acceleron effect"},requirements:G(()=>({resource:x(r),cost:5e12})),effect:2})),h=pe(()=>({visibility(){return t(this.bought)||t(D.bought)},display:{title:"Tactics",description:"Unlock Timelines"},requirements:G(()=>({resource:x(r),cost:1e13}))})),$=pe(()=>({visibility(){return t(this.bought)||t(h.bought)},display:{title:"Tower",description:"While in at least one Top timeline, Foam retainment applies to Pions and Spinors as well"},requirements:G(()=>({resource:x(r),cost:1e16}))})),de=pe(()=>({visibility(){return t(this.bought)||t(h.bought)},display:{title:"Title",description:"Best timeline scores also increase their corresponding Time Square gain"},requirements:G(()=>({resource:x(r),cost:1e17}))})),xe=pe(()=>({visibility(){return t(this.bought)||t(de.bought)&&t($.bought)},display:{title:"Tempo",description:"The first entropic loop always produces at least one Acceleron"},requirements:G(()=>({resource:x(r),cost:1e18}))})),Qe={[C.protoversal]:1e46,[C.infinitesimal]:3e38,[C.subspatial]:1e31,[C.subplanck]:3e23,[C.quantum]:1e16},Fe=pe(()=>({visibility(){return t(this.bought)||t(de.bought)&&t($.bought)},display:{title:"Toil",description:"While in at least one Left timeline, Foam gain is massively increased based on how little of that Foam you have"},requirements:G(()=>({resource:x(r),cost:1e19})),effect(){return Object.fromEntries(Object.entries(Qe).map(([vt,cn])=>[vt,o.minus(Math.E/Math.PI,o.div(t(k[vt].amount),cn)).pow10().times(15).plus(1)]))}})),Xt=pe(vt=>({visibility(){return!1},display:{description:"X"},requirements:G(()=>({resource:x(r),cost:o.dInf}))})),wn=pe(vt=>({visibility(){return!1},display:{description:"X"},requirements:G(()=>({resource:x(r),cost:o.dInf}))})),Ae=pe(vt=>({visibility(){return!1},display:{description:"X"},requirements:G(()=>({resource:x(r),cost:o.dInf}))})),en=pe(vt=>({visibility(){return!1},display:{description:"X"},requirements:G(()=>({resource:x(r),cost:o.dInf}))})),kn=pe(vt=>({visibility(){return!1},display:{description:"X"},requirements:G(()=>({resource:x(r),cost:o.dInf}))}));return{tile:f,time:w,tier:I,tilt:N,tiny:v,twice:T,twist:A,ten:R,twirl:B,tetrate:j,tesselate:ne,triple:K,turn:z,tall:re,tour:D,tactics:h,tower:$,title:de,tempo:xe,toil:Fe,a:Xt,b:wn,c:Ae,d:en,e:kn}})(),d=St("Time Cube Modifiers",()=>[{title:r.displayName,modifier:l,base:1,baseText:_(()=>a(g,null,[u("["),V.name,u("] Gain per Loop")]))}]),p=_(()=>a(yi,{resource:r,color:n,modal:d},null)),b=Zn({cubes:()=>({display:"Time Cubes",tab:Wt(()=>({display:_(()=>a(g,null,[J(p),a(ud,{upgrades:Object.values(m)},null)]))}))}),squares:()=>({display:"Time Squares",tab:Wt(()=>({display:_(()=>a(g,null,[J(p),J(t(Dn.display))]))}))}),lines:()=>({display:"Timelines",unlocked:x(m.tactics.bought),tab:Wt(()=>({display:_(()=>a(g,null,[J(p),J(t(Ve.display))]))}))})});return{name:e,color:n,unlocked:i,timecubes:r,bestTimecubes:s,production:c,upgrades:m,tabs:b,display:_(()=>a(g,null,[t(m.tesselate.bought)?J(b):J(t(b.tabs.cubes.tab))])),timesquares:Dn,timelines:Ve,getTimesquareEffect(f){return Dn.squares[f].square.effect}}});const Wm=oe({props:{radius:{type:te(Number),required:!0},width:{type:te(Number),required:!0},distance:{type:te(Number),required:!0},top:{type:te(Number),required:!0},right:{type:te(Array),required:!0},bottom:{type:te(Number),required:!0},left:{type:te(Array),required:!0}},setup(e){const{radius:n,width:i,distance:r,top:s,right:l,bottom:c,left:m}=nt(e),d={global:{margin:5,border:2},upgrade:{width:250,height:125},line:{x:8,y:32,radius:S(()=>t(N)+Ie(i))}},p={left:S(()=>Ie(m).filter(K=>we(K.visibility)).length),right:S(()=>Ie(l).filter(K=>we(K.visibility)).length)},b={top:S(()=>Ie(s)),right:S(()=>Ie(l).length),bottom:S(()=>Ie(c)),left:S(()=>Ie(m).length)},f=S(()=>Object.values(b).map(K=>t(K)).reduce((K,z)=>K+z)),w=S(()=>2*Math.PI/t(f)),I=S(()=>Ie(n)),N=S(()=>Ie(n)+Ie(i)),v=S(()=>t(I)*t(w)-(d.global.margin+d.global.border)),T=S(()=>t(N)*t(w)-(d.global.margin+d.global.border)),A=S(()=>t(v)/t(I)),R=S(()=>t(T)/t(N)),B={left:Ie(m).map((K,z,re)=>({base:{index:(()=>z===0?S(()=>0):S(()=>t(B.left[z-1].base.index)+(we(re[z-1].visibility)?1:0)))(),angle:S(()=>Math.PI-t(w)*(t(B.left[z].base.index)-t(p.left)/2+.5))},ring:{points:S(()=>{let D=t(B.left[z].base.angle),h=[D-t(A)/2,t(I)],$=[D+t(A)/2,t(I)],de=[D-t(R)/2,t(N)],xe=[D+t(R)/2,t(N)];return[h,$,xe,de].map(([Qe,Fe])=>[Math.cos(Qe)*Fe,Math.sin(Qe)*Fe])}),bounds:S(()=>{let D=t(B.left[z].ring.points),h={minX:Math.min(...D.map($=>$[0])),maxX:Math.max(...D.map($=>$[0])),minY:Math.min(...D.map($=>$[1])),maxY:Math.max(...D.map($=>$[1]))};return Math.sign(h.minY)!==Math.sign(h.maxY)&&(h.minX=Math.min(-t(N),h.minX)),h}),size:S(()=>{let D=t(B.left[z].ring.bounds);return{width:D.maxX-D.minX+d.global.border,height:D.maxY-D.minY+d.global.border}}),position:S(()=>{let D=t(B.left[z].ring.bounds);return{top:`${D.minY-d.global.border/2}px`,left:`${D.minX-d.global.border/2}px`}}),path:S(()=>{let D=t(I),h=t(N),$=t(B.left[z].ring.points),de=t(B.left[z].ring.bounds),xe=$.map(Qe=>[Qe[0]-de.minX+d.global.border/2,Qe[1]-de.minY+d.global.border/2]);return[`M ${xe[0][0]} ${xe[0][1]}`,`A ${D} ${D} 0 0 1 ${xe[1][0]} ${xe[1][1]}`,`L ${xe[2][0]} ${xe[2][1]}`,`A ${h} ${h} 0 0 0 ${xe[3][0]} ${xe[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:K,render:J(K),id:K.id,color:S(()=>t(K.bought)?"var(--bought)":t(K.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:S(()=>{let D=t(B.left[z].base.angle);if(D===0)return t(N);let h=(Math.PI-D)/t(w);return(d.upgrade.height+d.global.margin)*h/Math.sin(D)}),offset:S(()=>{let D=t(B.left[z].base.angle),h=t(B.left[z].upgrade.distance),$=Math.cos(D)*h,de=Math.cos(D)*t(N);return{x:Math.min($-de,-Ie(r))+de-d.upgrade.width/2,y:Math.sin(D)*h}}),position:S(()=>{let D=t(B.left[z].upgrade.offset);return{top:`${D.y-d.upgrade.height/2}px`,left:`${D.x-d.upgrade.width/2}px`}})},line:{height:S(()=>{let D=t(B.left[z].base.angle),h=(Math.PI-D)/t(w);return(d.upgrade.height+d.global.margin)*h+d.line.y-d.upgrade.height/2}),angle:S(()=>{let D=t(d.line.radius),h=t(B.left[z].line.height),$=Math.PI-Math.asin(h/D);return Math.min(t(B.left[z].base.angle)+t(R)/2,$)}),radius:S(()=>{let D=t(B.left[z].line.height),h=t(B.left[z].line.angle);return D/Math.sin(h)}),points:S(()=>{let D=t(B.left[z].line.angle),h=t(B.left[z].line.height),$=t(B.left[z].line.radius);return[[t(B.left[z].upgrade.offset).x-d.upgrade.width/2+d.line.x,h],[Math.cos(D)*$,h],[Math.cos(D)*t(N),Math.sin(D)*t(N)]]}),bounds:S(()=>{let D=t(B.left[z].line.points);return{minX:Math.min(...D.map(h=>h[0])),maxX:Math.max(...D.map(h=>h[0])),minY:Math.min(...D.map(h=>h[1])),maxY:Math.max(...D.map(h=>h[1]))}}),size:S(()=>{let D=t(B.left[z].line.bounds);return{width:D.maxX-D.minX+d.global.border,height:D.maxY-D.minY+d.global.border}}),position:S(()=>{let D=t(B.left[z].line.bounds);return{top:`${D.minY-d.global.border/2}px`,left:`${D.minX-d.global.border/2}px`}}),path:S(()=>{let D=t(B.left[z].line.points),h=t(B.left[z].line.bounds),$=D.map(de=>[de[0]-h.minX+d.global.border/2,de[1]-h.minY+d.global.border/2]);return[`M ${$[0][0]} ${$[0][1]}`,`L ${$[1][0]} ${$[1][1]}`,`L ${$[2][0]} ${$[2][1]}`].join(" ")})}})),right:Ie(l).map((K,z,re)=>({base:{index:(()=>z===0?S(()=>0):S(()=>t(B.right[z-1].base.index)+(we(re[z-1].visibility)?1:0)))(),angle:S(()=>t(w)*(t(B.right[z].base.index)-t(p.right)/2+.5))},ring:{points:S(()=>{let D=t(B.right[z].base.angle),h=[D-t(A)/2,t(I)],$=[D+t(A)/2,t(I)],de=[D-t(R)/2,t(N)],xe=[D+t(R)/2,t(N)];return[h,$,xe,de].map(([Qe,Fe])=>[Math.cos(Qe)*Fe,Math.sin(Qe)*Fe])}),bounds:S(()=>{let D=t(B.right[z].ring.points),h={minX:Math.min(...D.map($=>$[0])),maxX:Math.max(...D.map($=>$[0])),minY:Math.min(...D.map($=>$[1])),maxY:Math.max(...D.map($=>$[1]))};return Math.sign(h.minY)!==Math.sign(h.maxY)&&(h.maxX=Math.max(t(N),h.maxX)),h}),size:S(()=>{let D=t(B.right[z].ring.bounds);return{width:D.maxX-D.minX+d.global.border,height:D.maxY-D.minY+d.global.border}}),position:S(()=>{let D=t(B.right[z].ring.bounds);return{top:`${D.minY-d.global.border/2}px`,left:`${D.minX-d.global.border/2}px`}}),path:S(()=>{let D=t(I),h=t(N),$=t(B.right[z].ring.points),de=t(B.right[z].ring.bounds),xe=$.map(Qe=>[Qe[0]-de.minX+d.global.border/2,Qe[1]-de.minY+d.global.border/2]);return[`M ${xe[0][0]} ${xe[0][1]}`,`A ${D} ${D} 0 0 1 ${xe[1][0]} ${xe[1][1]}`,`L ${xe[2][0]} ${xe[2][1]}`,`A ${h} ${h} 0 0 0 ${xe[3][0]} ${xe[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:K,render:J(K),id:K.id,color:S(()=>t(K.bought)?"var(--bought)":t(K.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:S(()=>{let D=t(B.right[z].base.angle);if(D===0)return t(N);let h=D/t(w);return(d.upgrade.height+d.global.margin)*h/Math.sin(D)}),offset:S(()=>{let D=t(B.right[z].base.angle),h=t(B.right[z].upgrade.distance),$=Math.cos(D)*h,de=Math.cos(D)*t(N);return{x:Math.max($-de,Ie(r))+de+d.upgrade.width/2,y:Math.sin(D)*h}}),position:S(()=>{let D=t(B.right[z].upgrade.offset);return{top:`${D.y-d.upgrade.height/2}px`,left:`${D.x-d.upgrade.width/2}px`}})},line:{height:S(()=>{let h=t(B.right[z].base.angle)/t(w);return(d.upgrade.height+d.global.margin)*h+d.line.y-d.upgrade.height/2}),angle:S(()=>{let D=t(d.line.radius),h=t(B.right[z].line.height),$=Math.asin(h/D);return Math.max(t(B.right[z].base.angle)-t(R)/2,$)}),radius:S(()=>{let D=t(B.right[z].line.height),h=t(B.right[z].line.angle);return D/Math.sin(h)}),points:S(()=>{let D=t(B.right[z].line.angle),h=t(B.right[z].line.height),$=t(B.right[z].line.radius);return[[t(B.right[z].upgrade.offset).x+d.upgrade.width/2-d.line.x,h],[Math.cos(D)*$,h],[Math.cos(D)*t(N),Math.sin(D)*t(N)]]}),bounds:S(()=>{let D=t(B.right[z].line.points);return{minX:Math.min(...D.map(h=>h[0])),maxX:Math.max(...D.map(h=>h[0])),minY:Math.min(...D.map(h=>h[1])),maxY:Math.max(...D.map(h=>h[1]))}}),size:S(()=>{let D=t(B.right[z].line.bounds);return{width:D.maxX-D.minX+d.global.border,height:D.maxY-D.minY+d.global.border}}),position:S(()=>{let D=t(B.right[z].line.bounds);return{top:`${D.minY-d.global.border/2}px`,left:`${D.minX-d.global.border/2}px`}}),path:S(()=>{let D=t(B.right[z].line.points),h=t(B.right[z].line.bounds),$=D.map(de=>[de[0]-h.minX+d.global.border/2,de[1]-h.minY+d.global.border/2]);return[`M ${$[0][0]} ${$[0][1]}`,`L ${$[1][0]} ${$[1][1]}`,`L ${$[2][0]} ${$[2][1]}`].join(" ")})}}))};function j(K){var z,re;((z=document.getElementById(`${K}-ring`))==null?void 0:z.children[1].children[1].children[0]).beginElement(),(re=document.getElementById(`${K}-upgrade`))==null||re.children[0].classList.add("hover")}function ne(K){var z,re;((z=document.getElementById(`${K}-ring`))==null?void 0:z.children[1].children[1].children[1]).beginElement(),(re=document.getElementById(`${K}-upgrade`))==null||re.children[0].classList.remove("hover")}return{render:J,unref:t,isVisible:we,onMouseEnter:j,onMouseLeave:ne,upgradeData:B,values:d}}}),es=e=>(xt("data-v-37038660"),e=e(),Pt(),e),Ym=["width","height","id","onMouseenter","onMouseleave","onClick"],Xm=["d","stroke","stroke-width"],Qm=["id"],Km=ds('<feOffset dx="0" dy="0" data-v-37038660></feOffset><feGaussianBlur stdDeviation="0" result="offset-blur" data-v-37038660><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="6" dur="0.5s" begin="indefinite" data-v-37038660></animate><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="0" dur="0.5s" begin="indefinite" data-v-37038660></animate></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse" data-v-37038660></feComposite>',3),Zm=["flood-color"],Jm=es(()=>M("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"},null,-1)),ep=es(()=>M("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"},null,-1)),tp=["width","height"],np=["d","stroke","stroke-width"],ip=["id"];function rp(e,n,i,r,s,l){return q(),E("div",{class:"ring-container",style:Oe({top:`${e.unref(e.radius)}px`})},[(q(!0),E(g,null,Ee(e.upgradeData,(c,m)=>(q(),E(g,null,[(q(!0),E(g,null,Ee(e.unref(c),d=>(q(),E(g,{key:d.upgrade.id},[e.isVisible(d.upgrade.upgrade.visibility)?(q(),E("svg",{key:0,width:e.unref(d.ring.size).width,height:e.unref(d.ring.size).height,style:Oe({...e.unref(d.ring.position),"--shadow-id":`url(#${d.upgrade.id}-shadow)`}),class:"ring-segment",id:`${d.upgrade.id}-ring`,onMouseenter:p=>e.onMouseEnter(d.upgrade.id),onMouseleave:p=>e.onMouseLeave(d.upgrade.id),onClick:d.upgrade.upgrade.purchase},[M("path",{d:e.unref(d.ring.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"var(--background)",class:Pe({can:e.unref(d.upgrade.upgrade.canPurchase)})},null,10,Xm),M("filter",{id:`${d.upgrade.id}-shadow`},[Km,M("feFlood",{"flood-color":e.unref(d.upgrade.color),"flood-opacity":"1",result:"color"},null,8,Zm),Jm,ep],8,Qm)],44,Ym)):ee("",!0),e.isVisible(d.upgrade.upgrade.visibility)?(q(),E("svg",{key:1,width:e.unref(d.line.size).width,height:e.unref(d.line.size).height,style:Oe(e.unref(d.line.position)),class:"ring-line"},[M("path",{d:e.unref(d.line.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"none"},null,8,np)],12,tp)):ee("",!0),M("div",{id:`${d.upgrade.id}-upgrade`},[(q(),ie(Ne(d.upgrade.render),{style:Oe({...e.unref(d.upgrade.position),width:e.values.upgrade.width,minHeight:e.values.upgrade.height}),class:Pe(["ring-upgrade",m]),onMouseenter:p=>e.onMouseEnter(d.upgrade.id),onMouseleave:p=>e.onMouseLeave(d.upgrade.id)},null,40,["style","class","onMouseenter","onMouseleave"]))],8,ip)],64))),128))],64))),256))],4)}var sp=be(Wm,[["render",rp],["__scopeId","data-v-37038660"]]);function op(e,...n){return We(i=>{var s,l;const r=e.call(i,i);for(const c of n)(s=c.preConstruct)==null||s.call(c,r);r.formula=r.formula(y.variable(r.baseResource)),r.currentGain==null&&(r.currentGain=S(()=>{let c=o.floor(r.formula.evaluate(r.baseResource.value)).max(0);return t(r.buyMax)===!1&&(c=c.min(1)),c})),r.actualGain==null&&(r.actualGain=r.currentGain),r.currentAt==null&&(r.currentAt=S(()=>r.formula.invert(o.floor(t(r.currentGain))))),r.nextAt==null&&(r.nextAt=S(()=>r.formula.invert(o.floor(t(r.currentGain)).add(1)))),r.convert==null&&(r.convert=function(){var m;const c=t(r.currentGain);r.gainResource.value=o.add(r.gainResource.value,c),r.spend(c),(m=r.onConvert)==null||m.call(r,c)}),r.spend==null&&(r.spend=function(){r.baseResource.value=0}),W(r,"currentGain"),W(r,"actualGain"),W(r,"currentAt"),W(r,"nextAt"),W(r,"buyMax"),Be(r,"buyMax",!0);for(const c of n)(l=c.postConstruct)==null||l.call(c,r);return r})}function ap(e){return op(e)}const mn="acceleron",V=et(mn,function(){const e="Accelerons",n="#0f52ba",i=S(()=>t(_e.milestones[1].earned)||_e.isFirstBranch(mn)||t(se.coreResearch.research.mastery.researched)?!0:t(k[C.quantum].upgrades.condense.bought)),r=rt(0,e),s=Ji(r),l=Gc(r),c=ot(()=>[U(()=>({multiplier:1e71,enabled:()=>!_e.isFirstBranch(mn),description:_(()=>a(g,null,[u("["),se.name,u("] Inflational Interference")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>t(R.translation.effect).reciprocate(),enabled:x(R.translation.bought),description:_(()=>a(g,null,[u("["),e,u("] Quantum Translation")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>1/t(R.fluctuation.effect),enabled:x(R.fluctuation.bought),description:_(()=>a(g,null,[u("["),e,u("] Temporal Fluctuation")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>t(Le.averageLoopValues[Le.loops.tempAcceleron.id]).reciprocate(),enabled:x(Le.loops.tempAcceleron.built),description:_(()=>a(g,null,[u("["),e,u("] Entropic Loop #5")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>t(ke.enhancements.contraction.effect).reciprocate(),enabled:x(ke.enhancements.contraction.bought),description:_(()=>a(g,null,[u("["),ke.name,u("] Entropic Contraction")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>t(ke.enhancements.inversion.effect).reciprocate(),enabled:x(ke.enhancements.inversion.bought),description:_(()=>a(g,null,[u("["),ke.name,u("] Entropic Inversion")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>t(ke.enhancements.rotation.effect).reciprocate(),enabled:x(ke.enhancements.rotation.bought),description:_(()=>a(g,null,[u("["),ke.name,u("] Entropic Rotation")])),smallerIsBetter:!0}))]),m=ap(()=>({formula:re=>re.dividedBy(c.getFormula(1e9)).pow(S(()=>_e.isFirstBranch(mn)?.1:.05)),baseResource:x(k[C.quantum].amount),gainResource:x(r),onConvert(){_e.isFirstBranch(mn)&&(_e.branchOrder.value=mn)}})),d=ir(()=>({thingsToReset(){const re=[P.skyrmions,P.pion,P.spinor,k.protoversal.amount,k.protoversal.upgrades.condense,k.protoversal.upgrades.reform,k.infinitesimal.amount,k.infinitesimal.upgrades.condense,k.infinitesimal.upgrades.reform,k.subspatial.amount,k.subspatial.upgrades.condense,k.subspatial.upgrades.reform,k.subplanck.amount,k.subplanck.upgrades.condense,k.subplanck.upgrades.reform,k.quantum.amount,k.quantum.upgrades.condense,k.quantum.upgrades.reform];return t(A.protoversal.earned)||re.push(k.protoversal),t(A.infinitesimal.earned)||re.push(k.infinitesimal),t(A.subspatial.earned)||re.push(k.subspatial),t(A.subplanck.earned)||re.push(k.subplanck),t(A.quantum.earned)||re.push(k.quantum),re},onReset(){k.protoversal.upgrades.reform.amount.value=o.dOne,t(A.skyrmion.earned)&&(P.skyrmions.value=o.dTen)}})),p=Xd(()=>({conversion:m,style:{width:"fit-content",padding:"5px 10px",minHeight:"60px"},onClick(){d.reset(),P.skyrmions.value=t(A.skyrmion.earned)?10:1}})),b=S(()=>{let re=o.max(t(s),0).plus(1);return re.gte(1e12)?re.log10().times(5e5/6):re.sqrt()}),f=ot(()=>[U(()=>({multiplier:H.upgrades.time.effect,enabled:x(H.upgrades.time.bought),description:_(()=>a(g,null,[u("["),H.name,u("] Time")]))})),U(()=>({multiplier:ke.enhancements.dilation.effect,enabled:x(ke.enhancements.dilation.bought),description:_(()=>a(g,null,[u("["),e,u("] Entropic Dilation")]))})),U(()=>({multiplier:H.getTimesquareEffect(Y.BACK),enabled:()=>o.gt(t(H.timesquares.squares[Y.BACK].square.amount),0),description:_(()=>a(g,null,[u("["),H.name,u("] Back Time Squares ("),Q(t(H.timesquares.squares[Y.BACK].square.amount)),u(")")]))})),U(()=>({multiplier:2,enabled:H.upgrades.tour.bought,description:_(()=>a(g,null,[u("["),H.name,u("] Tour")]))})),U(()=>({multiplier:H.timelines.nerfs[Y.BACK],enabled:()=>t(H.timelines.depths[Y.BACK])>0,description:_(()=>a(g,null,[u("["),H.name,u("] Active Back Timeline Effect")]))})),U(()=>({multiplier:H.timelines.buffs[Y.BACK],enabled:()=>t(H.timelines.scores[Y.BACK]).gt(0),description:_(()=>a(g,null,[u("["),H.name,u("] Passive Back Timeline Bonus")]))}))]),w=S(()=>new o(f.apply(t(b)))),I=$e(0);this.on("preUpdate",re=>{I.value=o.add(t(I),re)});const N=rt(x(l)),v={fontSize:"48px",fontWeight:"normal"},T=re=>S(()=>({background:"#0000002F",border:`solid ${t(re.earned)?"var(--bought)":"var(--layer-color)"} 2px`,borderRadius:0,color:t(re.earned)?"var(--bought)":"var(--layer-color)"})),A={protoversal:mt(re=>({display:_(()=>a("span",{style:v},[u("P")])),requirements:G(()=>({resource:x(N),cost:1})),small:!0,style:T(re),tooltip:{requirement:a(g,null,[u("1 Acceleron")]),effect:a(g,null,[u("Keep Protoversal Boosts and Size Upgrades on Acceleron reset"),a("br",null,null),u("Keep Foam Achievements on Acceleron reset")])}})),infinitesimal:mt(re=>({display:_(()=>a("span",{style:v},[u("I")])),requirements:G(()=>({resource:x(N),cost:2})),small:!0,style:T(re),tooltip:{requirement:a(g,null,[u("2 "),r.displayName]),effect:a(g,null,[u("Keep Infinitesimal Boosts and Size Upgrades on Acceleron reset")])}})),subspatial:mt(re=>({display:_(()=>a("span",{style:v},[u("Ss")])),requirements:G(()=>({resource:x(N),cost:3})),small:!0,style:T(re),tooltip:{requirement:a(g,null,[u("3 "),r.displayName]),effect:a(g,null,[u("Keep Subspatial Boosts and Size Upgrades on Acceleron reset")])}})),skyrmion:mt(re=>({display:_(()=>a("span",{style:v},[u("S")])),requirements:G(()=>({resource:x(N),cost:5})),small:!0,style:T(re),tooltip:{requirement:a(g,null,[u("5 "),r.displayName]),effect:a(g,null,[u("Start with 10 Skyrmions on Acceleron reset")])}})),subplanck:mt(re=>({display:_(()=>a("span",{style:v},[u("Sp")])),requirements:G(()=>({resource:x(N),cost:7})),small:!0,style:T(re),tooltip:{requirement:a(g,null,[u("7 "),r.displayName]),effect:a(g,null,[u("Keep Subplanck Boosts and Size Upgrades on Acceleron reset")])}})),quantum:mt(re=>({display:_(()=>a("span",{style:v},[u("Q")])),requirements:G(()=>({resource:x(N),cost:10})),small:!0,style:T(re),tooltip:{requirement:a(g,null,[u("10 "),r.displayName]),effect:a(g,null,[u("Keep Quantum Boosts and Size Upgrades on Acceleron reset")])}}))};for(const re of Object.values(A))En(re,{display:_(()=>a(g,null,[a("h3",null,[re.tooltip.requirement]),a("br",null,null),re.tooltip.effect]))});const R=(()=>{const re=pe(Ae=>({visibility(){return t(this.bought)||o.gte(t(l),4)},display:_(()=>a(g,null,[a("h3",null,[u("Minute Acceleration")]),a("br",null,null),a("br",null,null),u("Time speed massively multiplies Foam generation"),a("br",null,null),a("br",null,null),u("Currently: "),L(Rt(Ae,void 0,!0)),u("x"),a("br",null,null),Ye(Ae.requirements)])),effect(){return t(w).abs().sqrt().times(1e3)},requirements:G(()=>({cost:1,resource:x(r)}))}),Ce),D=pe(Ae=>({visibility(){return t(this.bought)||t(re.bought)},display:_(()=>a(g,null,[a("h3",null,[u("Quantum Translation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of Foam re-formations"),a("br",null,null),a("br",null,null),u("Currently: /"),Q(Rt(Ae,void 0,!0)),a("br",null,null),Ye(Ae.requirements)])),effect(){return Object.values(C).map(en=>t(k[en].upgrades.reform.amount)).reduce((en,kn)=>en.plus(kn),o.dZero)},requirements:G(()=>({cost:5,resource:x(r)}))}),Ce),h=pe(Ae=>({visibility(){return t(this.bought)||t(re.bought)},display:_(()=>a(g,null,[a("h3",null,[u("Superpositional Acceleration")]),a("br",null,null),a("br",null,null),u("Gain a new Pion upgrade"),a("br",null,null),u("Gain a new Spinor upgrade"),a("br",null,null),a("br",null,null),a("br",null,null),Ye(Ae.requirements)])),requirements:G(()=>({cost:25,resource:x(r)}))})),$=pe(Ae=>({visibility(){return t(this.bought)||t(h.bought)},display:_(()=>a(g,null,[a("h3",null,[u("Quasi-temporal Superstructures")]),a("br",null,null),a("br",null,null),u("Consume the past to build the future"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Ye(Ae.requirements)])),requirements:G(()=>({cost:50,resource:x(r)}))})),de=pe(Ae=>({visibility(){return t(this.bought)||t(Le.loops.acceleron.built)},display:_(()=>a(g,null,[a("h3",null,[u("Temporal Fluctuation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of completed Entropic Loops"),a("br",null,null),a("br",null,null),u("Currently: /"),Q(Rt(Ae,void 0,!0)),a("br",null,null),Ye(Ae.requirements)])),effect(){return t(Le.numBuiltLoops)+1},requirements:G(()=>({cost:new o(100),resource:x(r)}))}),Ce),xe=pe(Ae=>({visibility(){return t(this.bought)||t(Le.loops.instantProd.built)},display:_(()=>a(g,null,[a("h3",null,[u("Unstable Expansion")]),a("br",null,null),a("br",null,null),u("Unlock Entropic Enhancements"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Ye(Ae.requirements)])),requirements:G(()=>({cost:new o(300),resource:x(r)}))})),Qe=pe(Ae=>({visibility(){return t(this.bought)||t(Le.loops.timecube.built)},display:_(()=>a(g,null,[a("h3",null,[u("Stability Conversion")]),a("br",null,null),a("br",null,null),u("Each Entropic Loop multiplies Time Cube gain"),a("br",null,null),a("br",null,null),u("Currently: "),Q(Rt(Ae,void 0,!0)),u("x"),a("br",null,null),Ye(Ae.requirements)])),effect(){return t(Le.numBuiltLoops)+1},requirements:G(()=>({cost:new o(15e4),resource:x(r)}))}),Ce),Fe=pe(Ae=>({visibility(){return t(this.bought)||t(Qe.bought)},display:_(()=>a(g,null,[a("h3",null,[u("Subspatial Alacrity")]),a("br",null,null),a("br",null,null),u("Increase Subspatial Foam gain by "),Q(Rt(Ae,void 0,!0)),u("x"),a("br",null,null),a("br",null,null),a("br",null,null),Ye(Ae.requirements)])),effect:1e4,requirements:G(()=>({cost:2e6,resource:x(r)}))})),Xt=pe(Ae=>({visibility(){return t(this.bought)||t(Fe.bought)},display:_(()=>a(g,null,[a("h3",null,[u("Cubic Tetration")]),a("br",null,null),a("br",null,null),u("Remove the ability to Acceleron reset"),a("br",null,null),u("Unlock two additional Entropic Loops"),a("br",null,null),a("br",null,null),a("br",null,null),Ye(Ae.requirements)])),requirements:G(()=>({cost:1e8,resource:x(r)}))})),wn=pe(Ae=>({visibility(){return t(this.bought)||t(Xt.bought)},display:_(()=>a(g,null,[a("h3",null,[u("Temporal Mastery")]),a("br",null,null),a("br",null,null),u("Unlock "),_e.isFirstBranch(mn)||o.gt(t(_e.strings),0)?se.inflatons.displayName:_e.strings.displayName,a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),Ye(Ae.requirements)])),requirements:G(()=>({cost:1e19,resource:x(r)}))}));return{acceleration:re,translation:D,skyrmion:h,superstructures:$,fluctuation:de,expansion:xe,conversion:Qe,alacrity:Fe,tetration:Xt,mastery:wn}})(),B=[R.acceleration,R.fluctuation,R.tetration,R.conversion,R.skyrmion],j=[R.translation,R.expansion,R.mastery,R.alacrity,R.superstructures],ne=St("Acceleron Modifiers",()=>[{title:"Acceleron Cost",modifier:c,base:1e9,baseText:_(()=>a(g,null,[u("["),k.name,u("] Base Amount")])),smallerIsBetter:!0},{title:"Time Speed",modifier:f,base:b,baseText:_(()=>a(g,null,[u("["),e,u("] Best Accelerons ("),Q(t(s)),u(")")]))}]),K=_(()=>a(g,null,[a(yi,{resource:r,color:n,effect:_(()=>a(g,null,[u("which are causing time to go "),L(t(w)),u("x faster"),J(ne),a("br",null,null),u("For every second in real time, "),a("pre",{style:{display:"inline"}},[ji(t(w))]),u(" passes")]))},null)])),z=Zn({loops:()=>({display:"Entropic Loops",tab:Wt(()=>({display:_(()=>a(g,null,[J(K),t(R.tetration.bought)?a(qe,{height:"70px"},null):J(p),J(Le.upperDisplay),a(sp,{radius:192,width:60,distance:150,top:4,right:j,bottom:4,left:B},null),a(qe,null,null),J(Le.lowerDisplay),a(qe,null,null),a(qe,null,null),sn(...Object.values(A))]))}))}),enhancements:()=>({display:"Entropic Enhancements",tab:Wt(()=>({display:_(()=>a(g,null,[J(K),J(ke.display)]))}))})});return{name:e,color:n,accelerons:r,bestAccelerons:s,totalAccelerons:l,conversion:m,timeMult:w,time:I,upgrades:R,achievements:A,tabs:z,display:_(()=>a(g,null,[t(R.expansion.bought)?J(z):J(t(z.tabs.loops.tab))])),unlocked:i,loops:Le,entropy:ke}}),lp="protoversal",pn=et(lp,function(){const e=rt(0,"Protoversal Foam"),n=ot(()=>[...k.production,U(()=>({multiplier:s[Z.height].effect,enabled:()=>o.gt(t(s[Z.height].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Protoversal Foam Height ("),Q(t(s[Z.height].amount)),u(")")]))})),U(()=>({multiplier:s[Z.width].effect,enabled:()=>o.gt(t(s[Z.width].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Protoversal Foam Width ("),Q(t(s[Z.width].amount)),u(")")]))})),U(()=>({multiplier:s[Z.depth].effect,enabled:()=>o.gt(t(s[Z.depth].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Protoversal Foam Depth ("),Q(t(s[Z.depth].amount)),u(")")]))})),U(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:_(()=>a(g,null,[u("["),k.name,u("] Protoversal Boost 1 ("),Q(t(m[1].total)),u(")")]))})),U(()=>({multiplier:P.pion.upgrades.delta.effect,enabled:()=>o.gt(t(P.pion.upgrades.delta.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03B4 ("),Q(t(P.pion.upgrades.delta.totalAmount)),u(")")]))})),U(()=>({multiplier:P.pion.upgrades.epsilon.effect,enabled:()=>o.gt(t(P.pion.upgrades.epsilon.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03B5 ("),Q(t(P.pion.upgrades.epsilon.totalAmount)),u(")")]))})),U(()=>({multiplier:P.pion.upgrades.theta.effect,enabled:()=>o.gt(t(P.pion.upgrades.theta.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03B8 ("),Q(t(P.pion.upgrades.theta.totalAmount)),u(")")]))})),Rn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:_(()=>a(g,null,[u("["),k.name,u("] Protoversal Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),U(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Protoversal Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),...k.timelineProduction,U(()=>({multiplier:()=>t(H.upgrades.toil.effect)[C.protoversal],enabled:()=>t(H.upgrades.toil.bought)&&t(H.timelines.inTimeline),description:_(()=>a(g,null,[u("["),H.name,u("] Toil")]))}))]),i=S(()=>n.apply(t(P.totalSkyrmions).times(.01)));k.on("preUpdate",p=>{if(!t(k.unlocked)||o.eq(t(s.reform.amount),0))return;const b=t(V.timeMult).times(p);e.value=b.times(t(i)).plus(e.value)});const r=S(()=>t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||o.gt(t(s.reform.amount),0)),s={[Z.height]:He(p=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(4).times(2),requiresPay:()=>!t(k.achievements[C.protoversal].earned)})),display:wt(C.protoversal,Z.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.protoversal].earned)}),onClick:()=>_t(C.protoversal)}),Ce),[Z.width]:He(p=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(6).times(5),requiresPay:()=>!t(k.achievements[C.protoversal].earned)})),display:wt(C.protoversal,Z.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.protoversal].earned)}),onClick:()=>_t(C.protoversal)}),Ce),[Z.depth]:He(p=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(k.achievements[C.protoversal].earned)})),display:wt(C.protoversal,Z.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.protoversal].earned)}),onClick:()=>_t(C.protoversal)}),Ce),condense:pe(p=>({visibility:()=>!t(p.bought),requirements:G(()=>({resource:x(e),cost:1e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){k.infinitesimal.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(k.achievements.reform.earned)})})),reform:He(p=>({visibility:x(s.condense.bought),requirements:G(()=>({resource:x(e),cost:()=>o.minus(t(p.amount),3).max(2).pow_base(t(p.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(k.achievements.reform.earned)})),display:ni(C.protoversal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(k.achievements.reform.earned)})}),Ce)};k.on("update",()=>{if(t(k.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(k.achievements[C.protoversal].earned))for(const p of Object.values(Z))t(s[p].canClick)&&s[p].onClick()});const l=S(()=>t(k.globalBoostBonus).plus(fe(C.quantum,5)).plus(fe(C.subspatial,3))),c=S(()=>t(l).plus(fe(C.protoversal,5))),m={index:$e(1),1:Ge(p=>({display:()=>`Multiply the generation of Protoversal Foam by ${L(fe(C.protoversal,1))}`,effect:()=>new o(t(p.total)).times(t(P.spinor.upgrades.delta.effect)).plus(1),bonus:c})),2:Ge(p=>({display:()=>`Gain ${L(fe(C.protoversal,2))} bonus Pion and Spinor Upgrade \u03B1 levels`,effect:()=>new o(t(p.total)),bonus:c})),3:Ge(p=>({display:()=>`Gain ${L(fe(C.protoversal,3))} bonus Pion and Spinor Upgrade \u03B2 levels`,effect:()=>o.sqrt(t(p.total)),bonus:c})),4:Ge(p=>({display:()=>`Gain ${L(fe(C.protoversal,4))} bonus Pion and Spinor Upgrade \u03B3 levels`,effect:()=>new o(t(p.total)),bonus:c})),5:Ge(p=>({display:()=>`Add ${L(fe(C.protoversal,5))} levels to all above boosts`,effect:()=>o.times(t(p.total),.1),bonus:l}))},d=St(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{amount:e,upgrades:s,boosts:m,production:i,modifierModal:d,display:"This page intentionally left blank"}});const up={class:"fome-grid"},cp={key:0},dp=["innerHTML"],mp=oe({__name:"Fome",setup(e){function n(i){return`You have ${L(t(k[i].amount))} ${k[i].amount.displayName}${o.gt(t(k[i].upgrades.reform.amount),1)?`<sup>${Q(t(k[i].upgrades.reform.amount))}</sup>`:""}`}return(i,r)=>(q(),E("div",up,[(q(!0),E(g,null,Ee(Object.values(t(C)).slice().reverse(),s=>(q(),E(g,{key:s},[t(t(V).unlocked)||t(t(se).unlocked)||t(t(_e).unlocked)||t(o).gt(t(t(k)[s].upgrades.reform.amount),0)?(q(),E("div",cp,[M("div",{innerHTML:n(s),style:{"white-space":"nowrap"}},null,8,dp),M("div",null,[u("+"+le(t(L)(t(t(k)[s].production)))+"/s",1),(q(),ie(Ne(t(J)(t(k)[s].modifierModal))))])])):ee("",!0),(q(!0),E(g,null,Ee(Object.keys(t(k)[s].upgrades),l=>(q(),ie(Ne(t(J)(t(k)[s].upgrades[l]))))),256))],64))),128))]))}});var pp=be(mp,[["__scopeId","data-v-5a57e0e0"]]);const ti=e=>(xt("data-v-149b6b3a"),e=e(),Pt(),e),fp={style:{display:"grid",gridTemplateColumns:"repeat(7, auto)",width:"fit-content",margin:"auto","padding-left":"150px"}},gp=ti(()=>M("div",null,"[",-1)),bp=ti(()=>M("div",null,"+",-1)),hp=ti(()=>M("div",null,null,-1)),vp=ti(()=>M("div",null,null,-1)),yp=ti(()=>M("div",null,"]:",-1)),_p=oe({__name:"FomeBoost",setup(e){const n=Object.fromEntries(Object.values(C).map(i=>[i,Object.fromEntries(Object.values([1,2,3,4,5]).map(r=>[r,t(k[i].boosts[r].display)]))]));return(i,r)=>(q(),E("div",fp,[(q(!0),E(g,null,Ee(t(n),(s,l)=>(q(),E(g,{key:l},[(q(),E(g,null,Ee(7,c=>a(qe,{"num-labels":7,key:c})),64)),(q(!0),E(g,null,Ee(s,(c,m)=>{var d,p;return q(),E(g,{key:l+"-"+m},[t(o).gt(t(t(k)[l].boosts[m].total),0)?(q(),E(g,{key:0},[M("div",null,le(t(k)[l].amount.displayName.split(" ")[0])+" Boost "+le(m),1),gp,M("div",null,le(t(Q)(t(t(k)[l].boosts[m].amount))),1),t(o).gt(t((d=t(k)[l].boosts[m].bonus)!=null?d:0),0)?(q(),E(g,{key:0},[bp,M("div",null,le(t(L)(t((p=t(k)[l].boosts[m].bonus)!=null?p:0))),1)],64)):(q(),E(g,{key:1},[hp,vp],64)),yp,M("div",null,le(c),1)],64)):(q(),E(g,{key:1},Ee(7,b=>M("div",{"num-labels":7,key:b})),64))],64)}),128))],64))),128))]))}});var wp=be(_p,[["__scopeId","data-v-149b6b3a"]]);function rn(e){return We(n=>{const i=e.call(n,n);return W(i,"fomeType"),i.partialDisplay=r=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[k[t(i.fomeType)].amount.displayName,a("sup",null,[hn(o.floor(i.cost instanceof y?Ht(i.cost,r!=null?r:1,!1):t(i.cost)))])]),i.display=r=>a("div",null,[u("Requires: "),k[t(i.fomeType)].amount.displayName,a("sup",null,[hn(o.floor(i.cost instanceof y?Ht(i.cost,r!=null?r:1,!1):t(i.cost)))])]),i.visibility=Te.Visible,i.requiresPay=!1,W(i,"cost"),i.requirementMet=S(()=>i.cost instanceof y?o.gte(k[t(i.fomeType)].upgrades.reform.amount.value,i.cost.evaluate()):o.gte(k[t(i.fomeType)].upgrades.reform.amount.value,t(i.cost))),i})}const kp="infinitesimal",gr=et(kp,function(){const e=rt(0,"Infinitesimal Foam"),n=ot(()=>[...k.production,U(()=>({multiplier:s[Z.height].effect,enabled:()=>o.gt(t(s[Z.height].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Foam Height ("),Q(t(s[Z.height].amount)),u(")")]))})),U(()=>({multiplier:s[Z.width].effect,enabled:()=>o.gt(t(s[Z.width].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Foam Width ("),Q(t(s[Z.width].amount)),u(")")]))})),U(()=>({multiplier:s[Z.depth].effect,enabled:()=>o.gt(t(s[Z.depth].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Foam Depth ("),Q(t(s[Z.depth].amount)),u(")")]))})),U(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Boost 1 ("),Q(t(c[1].total)),u(")")]))})),U(()=>({multiplier:P.pion.upgrades.iota.effect,enabled:()=>o.gt(t(P.pion.upgrades.iota.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03B9 ("),Q(t(P.pion.upgrades.iota.totalAmount)),u(")")]))})),U(()=>({multiplier:P.spinor.upgrades.epsilon.effect,enabled:()=>o.gt(t(P.spinor.upgrades.epsilon.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Spinor Upgrade \u03B5 ("),Q(t(P.spinor.upgrades.epsilon.totalAmount)),u(")")]))})),U(()=>({multiplier:P.spinor.upgrades.iota.effect,enabled:()=>o.gt(t(P.spinor.upgrades.iota.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Spinor Upgrade \u03B9 ("),Q(t(P.spinor.upgrades.iota.totalAmount)),u(")")]))})),U(()=>({multiplier:ke.enhancements.extension.effect,enabled:x(ke.enhancements.extension.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Extension")]))})),Rn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),U(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),...k.timelineProduction,U(()=>({multiplier:()=>t(H.upgrades.toil.effect)[C.infinitesimal],enabled:()=>t(H.upgrades.toil.bought)&&t(H.timelines.inTimeline),description:_(()=>a(g,null,[u("["),H.name,u("] Toil")]))}))]),i=S(()=>n.apply(t(P.totalSkyrmions).times(.01)));k.on("preUpdate",d=>{if(!t(k.unlocked)||o.eq(t(s.reform.amount),0))return;const p=t(V.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const r=S(()=>t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||o.gt(t(s.reform.amount),0)),s={[Z.height]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(5).times(6),requiresPay:()=>!t(k.achievements[C.infinitesimal].earned)})),display:wt(C.infinitesimal,Z.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.infinitesimal].earned)}),onClick:()=>_t(C.infinitesimal)}),Ce),[Z.width]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(7).times(10),requiresPay:()=>!t(k.achievements[C.infinitesimal].earned)})),display:wt(C.infinitesimal,Z.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.infinitesimal].earned)}),onClick:()=>_t(C.infinitesimal)}),Ce),[Z.depth]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(k.achievements[C.infinitesimal].earned)})),display:wt(C.infinitesimal,Z.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.infinitesimal].earned)}),onClick:()=>_t(C.infinitesimal)}),Ce),condense:pe(d=>({visibility:()=>!t(d.bought)&&(t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||t(k[C.protoversal].upgrades.condense.bought)),requirements:G(()=>({resource:x(e),cost:2e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){k.subspatial.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(k.achievements.reform.earned)})})),reform:He(d=>({visibility:x(s.condense.bought),requirements:[G(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(5).pow10().dividedBy(5),requiresPay:()=>!t(k.achievements.reform.earned)})),rn(()=>({fomeType:C.protoversal,cost:y.variable(d.amount).plus(2)}))],display:ni(C.infinitesimal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(k.achievements.reform.earned)})}),Ce)};k.on("update",()=>{if(t(k.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(k.achievements[C.infinitesimal].earned))for(const d of Object.values(Z))t(s[d].canClick)&&s[d].onClick()});const l=S(()=>t(k.globalBoostBonus).plus(fe(C.quantum,5)).plus(fe(C.subspatial,3))),c={index:$e(1),1:Ge(d=>({display:()=>`Multiply the generation of Infinitesimal Foam by ${L(fe(C.infinitesimal,1))}`,effect:()=>new o(t(d.total)).times(t(P.pion.upgrades.lambda.effect)).times(t(P.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:Ge(d=>({display:()=>`Increase Pion and Spinor gain by ${L(o.minus(fe(C.infinitesimal,2),1).times(100))}%`,effect:()=>o.times(t(d.total),.5).plus(1),bonus:l})),3:Ge(d=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B1 costs to 1/${L(o.times(fe(C.infinitesimal,3),100).reciprocate())}%`,effect:()=>o.pow(.8,t(d.total)),bonus:l})),4:Ge(d=>({display:()=>`Reduce Skyrmion costs to 1/${L(o.minus(fe(C.infinitesimal,4),1))}x`,effect:()=>o.times(t(d.total),.5).plus(1),bonus:l})),5:Ge(d=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B3 costs to 1/${L(o.times(fe(C.infinitesimal,5),100).reciprocate())}%`,effect:()=>o.pow(.8,t(d.total)),bonus:l}))},m=St(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{amount:e,upgrades:s,boosts:c,production:i,modifierModal:m,display:"This page intentionally left blank"}}),Sp="subspatial",br=et(Sp,function(){const e=rt(0,"Subspatial Foam"),n=ot(()=>[...k.production,U(()=>({multiplier:s[Z.height].effect,enabled:()=>o.gt(t(s[Z.height].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subspatial Foam Height ("),Q(t(s[Z.height].amount)),u(")")]))})),U(()=>({multiplier:s[Z.width].effect,enabled:()=>o.gt(t(s[Z.width].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subspatial Foam Width ("),Q(t(s[Z.width].amount)),u(")")]))})),U(()=>({multiplier:s[Z.depth].effect,enabled:()=>o.gt(t(s[Z.depth].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subspatial Foam Depth ("),Q(t(s[Z.depth].amount)),u(")")]))})),U(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subspatial Boost 1 ("),Q(t(m[1].total)),u(")")]))})),U(()=>({multiplier:P.pion.upgrades.zeta.effect,enabled:()=>o.gt(t(P.pion.upgrades.zeta.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Pion Upgrade \u03B6 ("),Q(t(P.pion.upgrades.zeta.totalAmount)),u(")")]))})),U(()=>({multiplier:P.spinor.upgrades.theta.effect,enabled:()=>o.gt(t(P.spinor.upgrades.theta.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Spinor Upgrade \u03B8 ("),Q(t(P.spinor.upgrades.theta.totalAmount)),u(")")]))})),U(()=>({multiplier:V.upgrades.alacrity.effect,enabled:t(V.upgrades.alacrity.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Subspatial Alacrity")]))})),U(()=>({multiplier:ke.enhancements.configuration.effect,enabled:x(ke.enhancements.configuration.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Configuration")]))})),Rn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:_(()=>a(g,null,[u("["),k.name,u("] Subspatial Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),U(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subspatial Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),...k.timelineProduction,U(()=>({multiplier:()=>t(H.upgrades.toil.effect)[C.subspatial],enabled:()=>t(H.upgrades.toil.bought)&&t(H.timelines.inTimeline),description:_(()=>a(g,null,[u("["),H.name,u("] Toil")]))}))]),i=S(()=>n.apply(t(P.totalSkyrmions).times(.01)));k.on("preUpdate",p=>{if(!t(k.unlocked)||o.eq(t(s.reform.amount),0))return;const b=t(V.timeMult).times(p);e.value=b.times(t(i)).plus(e.value)});const r=S(()=>t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||o.gt(t(s.reform.amount),0)),s={[Z.height]:He(p=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(6).times(10),requiresPay:()=>!t(k.achievements[C.subspatial].earned)})),display:wt(C.subspatial,Z.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.subspatial].earned)}),onClick:()=>_t(C.subspatial)}),Ce),[Z.width]:He(p=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(8).times(18),requiresPay:()=>!t(k.achievements[C.subspatial].earned)})),display:wt(C.subspatial,Z.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.subspatial].earned)}),onClick:()=>_t(C.subspatial)}),Ce),[Z.depth]:He(p=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(p.amount),1.15).pow_base(10).times(60),requiresPay:()=>!t(k.achievements[C.subspatial].earned)})),display:wt(C.subspatial,Z.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.subspatial].earned)}),onClick:()=>_t(C.subspatial)}),Ce),condense:pe(p=>({visibility:()=>!t(p.bought)&&(t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||t(k[C.infinitesimal].upgrades.condense.bought)),requirements:G(()=>({resource:x(e),cost:4e5})),display:{description:`Condense your ${e.displayName}`},onPurchase(){k.subplanck.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(k.achievements.reform.earned)})})),reform:He(p=>({visibility:x(s.condense.bought),requirements:[G(()=>({resource:x(e),cost:()=>o.minus(t(p.amount),3).max(2).pow_base(t(p.amount)).plus(1).times(6).pow10().dividedBy(2.5),requiresPay:()=>!t(k.achievements.reform.earned)})),rn(()=>({fomeType:C.infinitesimal,cost:y.variable(p.amount).plus(2)}))],display:ni(C.subspatial),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(k.achievements.reform.earned)})}),Ce)};k.on("update",()=>{if(t(k.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(k.achievements[C.subspatial].earned))for(const p of Object.values(Z))t(s[p].canClick)&&s[p].onClick()});const l=S(()=>t(k.globalBoostBonus).plus(fe(C.quantum,5))),c=S(()=>t(l).plus(fe(C.subspatial,3))),m={index:$e(1),1:Ge(p=>({display:()=>`Multiply the generation of Subspatial Foam by ${L(fe(C.subspatial,1))}`,effect:()=>new o(t(p.total)).times(t(P.pion.upgrades.kappa.effect)),bonus:c})),2:Ge(p=>({display:()=>`The Pion and Spinor nerfs act as if you had ${L(fe(C.subspatial,2))} fewer upgrades`,effect:()=>new o(t(p.total)),bonus:c})),3:Ge(p=>({display:()=>`Add ${L(fe(C.subspatial,3))} levels to all above boosts`,effect:()=>o.times(t(p.total),.1),bonus:l})),4:Ge(p=>({display:()=>`Increase effective Skyrmion count by ${L(fe(C.subspatial,4))}`,effect:()=>new o(t(p.total)),bonus:l})),5:Ge(p=>({display:()=>`Pion and Spinor upgrades cost as if you had ${L(fe(C.subspatial,5))} fewer`,effect:()=>o.times(t(p.total),.25),bonus:l}))},d=St(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{amount:e,upgrades:s,boosts:m,production:i,modifierModal:d,display:"This page intentionally left blank"}}),Cp="subplanck",hr=et(Cp,function(){const e=rt(0,"Subplanck Foam"),n=ot(()=>[...k.production,U(()=>({multiplier:s[Z.height].effect,enabled:()=>o.gt(t(s[Z.height].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subplanck Foam Height ("),Q(t(s[Z.height].amount)),u(")")]))})),U(()=>({multiplier:s[Z.width].effect,enabled:()=>o.gt(t(s[Z.width].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subplanck Foam Width ("),Q(t(s[Z.width].amount)),u(")")]))})),U(()=>({multiplier:s[Z.depth].effect,enabled:()=>o.gt(t(s[Z.depth].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subplanck Foam Depth ("),Q(t(s[Z.depth].amount)),u(")")]))})),U(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subplanck Boost 1 ("),Q(t(c[1].total)),u(")")]))})),U(()=>({multiplier:ke.enhancements.invention.effect,enabled:x(ke.enhancements.invention.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Invention")]))})),Rn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:_(()=>a(g,null,[u("["),k.name,u("] Subplanck Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),U(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Subplanck Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),...k.timelineProduction,U(()=>({multiplier:()=>t(H.upgrades.toil.effect)[C.subplanck],enabled:()=>t(H.upgrades.toil.bought)&&t(H.timelines.inTimeline),description:_(()=>a(g,null,[u("["),H.name,u("] Toil")]))}))]),i=S(()=>n.apply(t(P.totalSkyrmions).times(.01)));k.on("preUpdate",d=>{if(!t(k.unlocked)||o.eq(t(s.reform.amount),0))return;const p=t(V.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const r=S(()=>t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||o.gt(t(s.reform.amount),0)),s={[Z.height]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(7).times(15),requiresPay:()=>!t(k.achievements[C.subplanck].earned)})),display:wt(C.subplanck,Z.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.subplanck].earned)}),onClick:()=>_t(C.subplanck)}),Ce),[Z.width]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(k.achievements[C.subplanck].earned)})),display:wt(C.subplanck,Z.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.subplanck].earned)}),onClick:()=>_t(C.subplanck)}),Ce),[Z.depth]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(11).times(90),requiresPay:()=>!t(k.achievements[C.subplanck].earned)})),display:wt(C.subplanck,Z.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.subplanck].earned)}),onClick:()=>_t(C.subplanck)}),Ce),condense:pe(d=>({visibility:()=>!t(d.bought)&&(t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||t(k[C.subspatial].upgrades.condense.bought)),requirements:G(()=>({resource:x(e),cost:1e6})),display:{description:`Condense your ${e.displayName}`},onPurchase(){k.quantum.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(k.achievements.reform.earned)})})),reform:He(d=>({visibility:x(s.condense.bought),requirements:[G(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(6).pow10(),requiresPay:()=>!t(k.achievements.reform.earned)})),rn(()=>({fomeType:C.subspatial,cost:y.variable(d.amount).plus(2)}))],display:ni(C.subplanck),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(k.achievements.reform.earned)})}),Ce)};k.on("update",()=>{if(t(k.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(k.achievements[C.subplanck].earned))for(const d of Object.values(Z))t(s[d].canClick)&&s[d].onClick()});const l=S(()=>t(k.globalBoostBonus).plus(fe(C.quantum,5))),c={index:$e(1),1:Ge(d=>({display:()=>`Multiply the generation of Subplanck Foam by ${L(fe(C.subplanck,1))}`,effect:()=>new o(t(d.total)).times(t(P.spinor.upgrades.kappa.effect)).times(t(P.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:Ge(d=>({display:()=>`Gain ${L(fe(C.subplanck,2))} bonus Pion and Spinor Upgrade \u03B4 levels`,effect:()=>o.times(t(d.total),.5),bonus:l})),3:Ge(d=>({display:()=>`Gain ${L(fe(C.subplanck,3))} bonus Pion and Spinor Upgrade \u03B5 levels`,effect:()=>o.times(t(d.total),.5),bonus:l})),4:Ge(d=>({display:()=>`Gain ${L(fe(C.subplanck,4))} bonus Pion and Spinor Upgrade \u03B6 levels`,effect:()=>o.times(t(d.total),.5),bonus:l})),5:Ge(d=>({display:()=>`Gain ${L(fe(C.subplanck,5))} bonus Pion and Spinor Upgrade \u03B7 levels`,effect:()=>o.times(t(d.total),.5),bonus:l}))},m=St(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{amount:e,upgrades:s,boosts:c,production:i,modifierModal:m,display:"This page intentionally left blank"}}),Np="quantum",Qt=et(Np,function(){const e=rt(0,"Quantum Foam"),n=ot(()=>[...k.production,U(()=>({multiplier:s[Z.height].effect,enabled:()=>o.gt(t(s[Z.height].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Quantum Foam Height ("),Q(t(s[Z.height].amount)),u(")")]))})),U(()=>({multiplier:s[Z.width].effect,enabled:()=>o.gt(t(s[Z.width].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Quantum Foam Width ("),Q(t(s[Z.width].amount)),u(")")]))})),U(()=>({multiplier:s[Z.depth].effect,enabled:()=>o.gt(t(s[Z.depth].amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Quantum Foam Depth ("),Q(t(s[Z.depth].amount)),u(")")]))})),Rn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:_(()=>a(g,null,[u("["),k.name,u("] Quantum Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),U(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:_(()=>a(g,null,[u("["),k.name,u("] Quantum Foam"),a("sup",null,[Q(t(s.reform.amount))])]))})),...k.timelineProduction,U(()=>({multiplier:()=>t(H.upgrades.toil.effect)[C.quantum],enabled:()=>t(H.upgrades.toil.bought)&&t(H.timelines.inTimeline),description:_(()=>a(g,null,[u("["),H.name,u("] Toil")]))}))]),i=S(()=>n.apply(t(P.totalSkyrmions).times(.01)));k.on("preUpdate",d=>{if(!t(k.unlocked)||o.eq(t(s.reform.amount),0))return;const p=t(V.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const r=S(()=>t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||o.gt(t(s.reform.amount),0)),s={[Z.height]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(k.achievements[C.quantum].earned)})),display:wt(C.quantum,Z.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.quantum].earned)}),onClick:()=>_t(C.quantum)}),Ce),[Z.width]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(10).times(30),requiresPay:()=>!t(k.achievements[C.quantum].earned)})),display:wt(C.quantum,Z.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.quantum].earned)}),onClick:()=>_t(C.quantum)}),Ce),[Z.depth]:He(d=>({visibility:r,requirements:G(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(12).times(100),requiresPay:()=>!t(k.achievements[C.quantum].earned)})),display:wt(C.quantum,Z.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(k.achievements[C.quantum].earned)}),onClick:()=>_t(C.quantum)}),Ce),condense:pe(d=>({visibility:()=>!t(d.bought)&&(t(V.unlocked)||t(se.unlocked)||t(_e.unlocked)||t(k[C.subplanck].upgrades.condense.bought)),requirements:G(()=>({resource:x(e),cost:1e5})),display:{description:`Condense your ${e.displayName}`},classes:()=>({auto:t(k.achievements.reform.earned)})})),reform:He(d=>({visibility:x(s.condense.bought),requirements:[G(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(k.achievements.reform.earned)})),rn(()=>({fomeType:C.subplanck,cost:y.variable(d.amount).plus(2)}))],display:ni(C.quantum),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(k.achievements.reform.earned)})}),Ce)};k.on("update",()=>{if(t(k.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(k.achievements[C.quantum].earned))for(const d of Object.values(Z))t(s[d].canClick)&&s[d].onClick()});const l=S(()=>t(k.globalBoostBonus).plus(fe(C.quantum,5))),c={index:$e(1),1:Ge(d=>({display:()=>`Multiply the generation of all Foam types by ${L(fe(C.quantum,1))}`,effect:()=>new o(t(d.total)).times(t(P.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:Ge(d=>({display:()=>`Reduce the Pion and Spinor cost nerf exponent to 1/${L(o.times(fe(C.quantum,2),100).reciprocate())}%`,effect:()=>{let p=t(d.total);return o.gt(p,16)&&(p=o.ln(2).recip().times(4).times(p)),o.pow(.975,p)},bonus:l})),3:Ge(d=>({display:()=>`Multiply the generation of all Foam types again by ${L(fe(C.quantum,3))}x`,effect:()=>{let p=t(d.total);return o.gt(p,16)&&(p=o.sqrt(p).times(4)),o.sqrt(fe(C.quantum,1)).times(p).dividedBy(10).plus(1)},bonus:l})),4:Ge(d=>({display:()=>`Gain ${L(fe(C.quantum,4))} bonus Pion and Spinor Upgrade \u03B8, \u03B9, and \u03BA levels`,effect:()=>o.times(t(d.total),.25),bonus:l})),5:Ge(d=>({display:()=>`Add ${L(fe(C.quantum,5))} bonus levels to all above boosts`,effect:()=>o.times(t(d.total),.1),bonus:k.globalBoostBonus}))},m=St(`${e.displayName} Modifiers`,()=>[{title:e.displayName,modifier:n,base:()=>t(P.totalSkyrmions).times(.01),baseText:_(()=>a(g,null,[u("["),P.name,u("] Total "),P.skyrmions.displayName]))}]);return{amount:e,upgrades:s,boosts:c,production:i,modifierModal:m,display:"This page intentionally left blank"}});let C=function(e){return e.protoversal="protoversal",e.infinitesimal="infinitesimal",e.subspatial="subspatial",e.subplanck="subplanck",e.quantum="quantum",e}({}),Z=function(e){return e.height="height",e.width="width",e.depth="depth",e}({});function _t(e){const n=k[e].boosts.index,i=k[e].boosts[t(n)].amount;i.value=o.add(t(i),1),n.value=t(n)===5?1:t(n)+1}function wt(e,n){let i;switch(n){case Z.height:i="Height";break;case Z.width:i="Width";break;case Z.depth:i="Depth";break}return _(()=>a(g,null,[a("h3",null,[u("Enlarge "),k[e].amount.displayName,u(" "),i,u(" by 1m")]),a("br",null,null),a("br",null,null),u("Current "),i,u(": "),L(t(k[e].upgrades[n].amount)),u("m"),a("br",null,null),a("br",null,null),Ye(k[e].upgrades[n].requirements)]))}function ni(e){return _(()=>a(g,null,[u("Re-form your "),k[e].amount.displayName,a("br",null,null),a("br",null,null),u("Amount: "),Q(t(k[e].upgrades.reform.amount)),a("br",null,null),a("br",null,null),Ye(k[e].upgrades.reform.requirements)]))}const Ip="fome",k=et(Ip,function(){const e="Quantum Foam",n="#ffffff",i=S(()=>t(_e.milestones[1].earned)||t(P.upgrades.fome.bought)),r=S(()=>o.gt(t(Qt.upgrades.reform.amount),0)?C.quantum:o.gt(t(hr.upgrades.reform.amount),0)?C.subplanck:o.gt(t(br.upgrades.reform.amount),0)?C.subspatial:o.gt(t(gr.upgrades.reform.amount),0)?C.infinitesimal:C.protoversal),s=[U(()=>({multiplier:P.spinor.upgrades.eta.effect,enabled:()=>o.gt(t(P.spinor.upgrades.eta.totalAmount),0),description:_(()=>a(g,null,[u("["),P.name,u("] Spinor Upgrade \u03B7 ("),Q(t(P.spinor.upgrades.eta.totalAmount)),u(")")]))})),U(()=>({multiplier:V.upgrades.acceleration.effect,enabled:x(V.upgrades.acceleration.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Minute Acceleration")]))})),U(()=>({multiplier:V.loops.averageLoopValues[V.loops.loops.tempFome.id],enabled:x(V.loops.loops.tempFome.built),description:_(()=>a(g,null,[u("["),V.name,u("] Acceleron Loop #4")]))})),U(()=>({multiplier:ke.enhancements.formation.effect,enabled:x(ke.enhancements.formation.bought),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Formation")]))})),U(()=>({multiplier:se.fomeBonus,enabled:()=>t(se.coreResearch.research.fomeGain.researched),description:_(()=>a(g,null,[u("["),se.name,u("] Inflaton Resonance")]))})),U(()=>({multiplier:se.upgrades.moreFome.effect,enabled:x(se.upgrades.moreFome.bought),description:_(()=>a(g,null,[u("["),se.name,u("] Dynamic Inflational Formation")]))})),U(()=>({multiplier:Qt.boosts[1].effect,enabled:()=>o.gt(t(Qt.boosts[1].total),0),description:_(()=>a(g,null,[u("["),e,u("] Quantum Boost 1 ("),Q(t(Qt.boosts[1].total)),u(")")]))})),U(()=>({multiplier:Qt.boosts[3].effect,enabled:()=>o.gt(t(Qt.boosts[3].total),0),description:_(()=>a(g,null,[u("["),e,u("] Quantum Boost 3 ("),Q(t(Qt.boosts[3].total)),u(")")]))}))],l=[U(()=>({multiplier:Ve.buffs[Y.LEFT],enabled:x(H.upgrades.tactics.bought),description:_(()=>a(g,null,[u("["),H.name,u("] Passive Left Timeline Bonus")]))})),U(()=>({multiplier:()=>o.reciprocate(t(Ve.nerfs[Y.LEFT])),enabled:x(H.upgrades.tactics.bought),description:_(()=>a(g,null,[u("["),H.name,u("] Active Left Timeline Effect")]))}))],c=S(()=>o.add(Rt(ke.enhancements.entitlement,0),Rt(H.upgrades.tier,0))),m={fontSize:"48px",fontWeight:"normal",color:"var(--feature-foreground)"},d={[C.protoversal]:mt(()=>({display:_(()=>a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])),requirements:Dt(()=>o.gte(t(pn.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Protoversal Foam")]),effect:a(g,null,[u("Unlock the Pion and Spinor Buy All button"),a("br",null,null),u("Automatically enlarge your Protoversal Foam")])}})),[C.infinitesimal]:mt(()=>({display:_(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("3")])])])),requirements:Dt(()=>o.gte(t(pn.upgrades.reform.amount),3)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("3")])]),effect:a(g,null,[u("Automatically enlarge your Infinitesimal Foam")])}})),[C.subspatial]:mt(()=>({display:_(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("4")])])])),requirements:Dt(()=>o.gte(t(pn.upgrades.reform.amount),4)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("4")])]),effect:a(g,null,[u("Automatically enlarge your Subspatial Foam")])}})),[C.subplanck]:mt(()=>({display:_(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("5")])])])),requirements:Dt(()=>o.gte(t(pn.upgrades.reform.amount),5)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("5")])]),effect:a(g,null,[u("Automatically enlarge your Subplanck Foam")])}})),[C.quantum]:mt(()=>({display:_(()=>a(g,null,[a("span",{style:m},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("6")])])])),requirements:Dt(()=>o.gte(t(pn.upgrades.reform.amount),6)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("6")])]),effect:a(g,null,[u("Automatically enlarge your Quantum Foam")])}})),reform:mt(()=>({display:_(()=>a(g,null,[a("span",{style:m},[u("Q"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])])),requirements:Dt(()=>o.gte(t(Qt.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Quantum Foam")]),effect:a(g,null,[u("Automatically re-form your Foam")])}}))};for(const b of Object.values(d))En(b,{display:_(()=>a(g,null,[a("h3",null,[b.tooltip.requirement]),a("br",null,null),b.tooltip.effect]))});const p=Zn({main:()=>({display:"Foam",tab:Wt(()=>({display:_(()=>a(g,null,[a("div",null,[u("You have "),a(ei,{resource:k[t(r)].amount,color:n},null),u(" "),k[t(r)].amount.displayName,o.gt(t(k[t(r)].upgrades.reform.amount),1)?a("sup",null,[Q(t(k[t(r)].upgrades.reform.amount))]):void 0]),a(qe,null,null),a(pp,null,null),a(qe,{height:"8px"},null),Ho(...Object.values(d))]))}))}),boosts:()=>({display:"Boosts",tab:Wt(()=>({display:_(()=>a(wp,null,null))}))})});return{name:e,color:n,unlocked:i,production:s,timelineProduction:l,globalBoostBonus:c,achievements:d,display:_(()=>a(g,null,[o.gt(t(pn.boosts[1].total),0)?J(p):J(t(p.tabs.main.tab))])),tabStyle:{"--bought":"#929aa9"},tabs:p,[C.protoversal]:pn,[C.infinitesimal]:gr,[C.subspatial]:br,[C.subplanck]:hr,[C.quantum]:Qt}});const qp={class:"skyrmion-container"},$p={class:"skyrmion-grid"},Mp=oe({__name:"Skyrmion",setup(e){const n=P.upgrades,i={fome:{row:2,col:7},autoGain:{row:2,col:11},alpha:{row:3,col:5},beta:{row:3,col:9},gamma:{row:3,col:13},delta:{row:4,col:3},epsilon:{row:4,col:7},zeta:{row:4,col:11},eta:{row:4,col:15},theta:{row:5,col:1},iota:{row:5,col:5},kappa:{row:5,col:9},lambda:{row:5,col:13},mu:{row:5,col:17},nu:{row:6,col:3},xi:{row:6,col:7},pi:{row:6,col:11},rho:{row:6,col:15}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(q(),E("div",qp,[M("ul",$p,[M("li",Tt({class:"skyrmion-upgrade reset"},s.$attrs),[jt(s.$slots,"default",{},void 0,!0)],16),(q(!0),E(g,null,Ee(t(t(n)),(c,m)=>(q(),E(g,{key:m},[t(c.visibility)!==t(Te).None?(q(),E("li",Tt({key:0,class:"skyrmion-upgrade"},s.$attrs,{style:r(m)}),[(q(),ie(Ne(t(J)(c))))],16)):ee("",!0)],64))),128))])]))}});var Tp=be(Mp,[["__scopeId","data-v-3a223863"]]);function xp(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_r(e)}const Pp="skyrmion",P=et(Pp,function(){const e="Skyrmions",n="#37d7ff",i=ot(()=>[U(()=>({multiplier:()=>o.reciprocate(t(De.upgrades.alpha.effect)),enabled:()=>o.gt(t(De.upgrades.alpha.totalAmount),0),description:_(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B1 ("),Q(t(De.upgrades.alpha.totalAmount)),u(")")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>o.reciprocate(t(k.infinitesimal.boosts[4].effect)),enabled:()=>o.gt(t(k.infinitesimal.boosts[4].total),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Boost 4 ("),Q(t(k.infinitesimal.boosts[4].total)),u(")")])),smallerIsBetter:!0})),U(()=>({multiplier:()=>t(ke.enhancements.amplification.effect).reciprocate(),enabled:x(ke.enhancements.amplification.bought),description:_(()=>a(g,null,[u("["),ke.name,u("] Entropic Amplification")])),smallerIsBetter:!0}))]),r=f=>y.variable(f).pow10().times(i.getFormula(1)),s=He(f=>({initialAmount:1,requirements:[G(()=>({resource:x(at.pions),requiresPay:()=>!t(d.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:r(f.amount)})),G(()=>({resource:x(De.spinors),requiresPay:()=>!t(d.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:r(f.amount)}))],style:{paddingHorizontal:"20px"},display:_(()=>{const w=r(f.amount),I=o.clampMin(Xn(s.requirements),1),N=Ht(w,o.clampMin(I,1),!0);return a(g,null,[a("h3",null,[u("Convert "),L(N),u(" Pions and Spinors to "),Q(I),u(" Skyrmions")])])})}));En(s,{direction:je.Up,display:_(()=>{const f=r(s.amount),w=Xn(s.requirements),I=Ht(f,o.add(w,1),!0);return a(g,null,[u("Next at "),L(I),u(" Pions and Spinors")])})}),this.on("update",()=>{t(d.autoGain.bought)&&Mt(s.requirements)&&s.onClick()});const l=rt(s.amount,e),c=S(()=>o.add(t(l),fe(C.subspatial,4))),m=[U(()=>({multiplier:at.upgrades.alpha.effect,enabled:()=>o.gt(t(at.upgrades.alpha.totalAmount),0),description:_(()=>a(g,null,[u("["),e,u("] Pion Upgrade \u03B1 ("),L(t(at.upgrades.alpha.totalAmount)),u(")")]))})),U(()=>({multiplier:De.upgrades.zeta.effect,enabled:()=>o.gt(t(De.upgrades.zeta.totalAmount),0),description:_(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B6 ("),L(t(De.upgrades.zeta.totalAmount)),u(")")]))})),U(()=>({multiplier:De.upgrades.lambda.effect,enabled:()=>o.gt(t(De.upgrades.lambda.totalAmount),0),description:_(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03BB ("),L(t(De.upgrades.lambda.totalAmount)),u(")")]))})),U(()=>({multiplier:De.upgrades.pi.effect,enabled:()=>o.gt(t(De.upgrades.pi.totalAmount),0),description:_(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03C0 ("),L(t(De.upgrades.pi.totalAmount)),u(")")]))})),U(()=>({multiplier:k[C.infinitesimal].boosts[2].effect,enabled:()=>o.gt(t(k[C.infinitesimal].boosts[2].total),0),description:_(()=>a(g,null,[u("["),k.name,u("] Infinitesimal Boost 2 ("),Q(t(k[C.infinitesimal].boosts[2].total)),u(")")]))})),U(()=>({multiplier:V.loops.averageLoopValues[V.loops.loops.tempSkyrmion.id],enabled:x(V.loops.loops.tempSkyrmion.built),description:_(()=>a(g,null,[u("["),V.name,u("] Entropic Loop #6")]))}))],d={fome:b({display:{title:"Condensation",description:a(g,null,[u("Begin Foam generation")])},cost:10,onPurchase(){k.protoversal.upgrades.reform.amount.value=o.dOne}}),autoGain:b({display:{title:"Reformation",description:a(g,null,[u("Automatically gain Skyrmions; they don't cost Pions or Spinors")])},cost:16}),alpha:b({visibility(){return t(this.bought)||o.gte(t(l),20)},display:{title:"Alteration",description:a(g,null,[u("Autobuy \u03B1 upgrades"),a("br",null,null),u("\u03B1 upgrades no longer consume Pions or Spinors")])},cost:24}),beta:b({visibility(){return t(this.bought)||o.gte(t(l),25)},display:{title:"Benediction",description:a(g,null,[u("Autobuy \u03B2 upgrades"),a("br",null,null),u("\u03B2 upgrades no longer consume Pions or Spinors")])},cost:28}),gamma:b({visibility(){return t(this.bought)||o.gte(t(l),30)},display:{title:"Consolidation",description:a(g,null,[u("Autobuy \u03B3 upgrades"),a("br",null,null),u("\u03B3 upgrades no longer consume Pions or Spinors")])},cost:32}),delta:b({visibility(){return t(this.bought)||o.gte(t(l),35)},display:{title:"Diversification",description:a(g,null,[u("Autobuy \u03B4 upgrades"),a("br",null,null),u("\u03B4 upgrades no longer consume Pions or Spinors")])},cost:36}),epsilon:b({visibility(){return t(this.bought)||o.gte(t(l),40)},display:{title:"Encapsulation",description:a(g,null,[u("Autobuy \u03B5 upgrades"),a("br",null,null),u("\u03B5 upgrades no longer consume Pions or Spinors")])},cost:42}),zeta:b({visibility(){return t(this.bought)||o.gte(t(l),45)},display:{title:"Fabrication",description:a(g,null,[u("Autobuy \u03B6 upgrades"),a("br",null,null),u("\u03B6 upgrades no longer consume Pions or Spinors")])},cost:48}),eta:b({visibility(){return t(this.bought)||o.gte(t(l),50)},display:{title:"Germination",description:a(g,null,[u("Autobuy \u03B7 upgrades"),a("br",null,null),u("\u03B7 upgrades no longer consume Pions or Spinors")])},cost:52}),theta:b({visibility(){return t(this.bought)||o.gte(t(l),55)},display:{title:"Hesitation",description:a(g,null,[u("Autobuy \u03B8 upgrades"),a("br",null,null),u("\u03B8 upgrades no longer consume Pions or Spinors")])},cost:56}),iota:b({visibility(){return t(this.bought)||o.gte(t(l),60)},display:{title:"Immitation",description:a(g,null,[u("Autobuy \u03B9 upgrades"),a("br",null,null),u("\u03B9 upgrades no longer consume Pions or Spinors")])},cost:64}),kappa:b({visibility(){return t(this.bought)||o.gte(t(l),65)},display:{title:"Juxtaposition",description:a(g,null,[u("Autobuy \u03BA upgrades"),a("br",null,null),u("\u03BA upgrades no longer consume Pions or Spinors")])},cost:69}),lambda:b({visibility(){return t(this.bought)||o.gte(t(l),70)},display:{title:"Lateralization",description:a(g,null,[u("Autobuy \u03BB upgrades"),a("br",null,null),u("\u03BB upgrades no longer consume Pions or Spinors")])},cost:72}),mu:b({visibility(){return t(this.bought)||o.gte(t(l),75)},display:{title:"Materialization",description:a(g,null,[u("Autobuy \u03BC upgrades"),a("br",null,null),u("\u03BC upgrades no longer consume Pions or Spinors")])},cost:92}),nu:b({visibility(){return t(this.bought)||t(ae.challenge.active)},display:{title:"Neutralization",description:a(g,null,[u("Autobuy \u03BD upgrades"),a("br",null,null),u("\u03BD upgrades no longer consume Pions or Spinors")])},requirement:rn(()=>({fomeType:()=>{var f;return(f=[C.infinitesimal,C.subspatial,C.subplanck,C.quantum][t(ae.abyssUpgradeCount)])!=null?f:C.quantum},cost:2}))}),xi:b({visibility(){return t(this.bought)||t(ae.challenge.active)},display:{title:"Externalization",description:a(g,null,[u("Autobuy \u03BE upgrades"),a("br",null,null),u("\u03BE upgrades no longer consume Pions or Spinors")])},requirement:rn(()=>({fomeType:()=>{var f;return(f=[C.infinitesimal,C.subspatial,C.subplanck,C.quantum][t(ae.abyssUpgradeCount)])!=null?f:C.quantum},cost:2}))}),pi:b({visibility(){return t(this.bought)||t(ae.challenge.active)},display:{title:"Prioritization",description:a(g,null,[u("Autobuy \u03C0 upgrades"),a("br",null,null),u("\u03C0 upgrades no longer consume Pions or Spinors")])},requirement:rn(()=>({fomeType:()=>{var f;return(f=[C.infinitesimal,C.subspatial,C.subplanck,C.quantum][t(ae.abyssUpgradeCount)])!=null?f:C.quantum},cost:2}))}),rho:b({visibility(){return t(this.bought)||t(ae.challenge.active)},display:{title:"Obfuscation",description:a(g,null,[u("Autobuy \u03C1 upgrades"),a("br",null,null),u("\u03C1 upgrades no longer consume Pions or Spinors")])},requirement:rn(()=>({fomeType:()=>{var f;return(f=[C.infinitesimal,C.subspatial,C.subplanck,C.quantum][t(ae.abyssUpgradeCount)])!=null?f:C.quantum},cost:2}))})},p=St("Skyrmion Modifiers",()=>[{title:"Skyrmion Cost",modifier:i,base:()=>o.pow10(t(s.amount)),baseText:_(()=>a(g,null,[u("["),e,u("] Pions and Spinors")])),smallerIsBetter:!0}]);return{name:e,color:n,conversion:s,skyrmions:l,totalSkyrmions:c,production:m,upgrades:d,display:_(()=>{let f;return a(g,null,[u("You have "),a(ei,{resource:l,color:n,tag:"h2"},null),u(" "),l.displayName,J(p),o.gt(fe(C.subspatial,4),0)?a(g,null,[a("br",null,null),u("Your "),k.subspatial.amount.displayName,u(" is granting an additional "),a("h3",{style:{color:n,textShadow:`0px 0px 10px ${n}`}},[L(fe(C.subspatial,4))]),u(" "),l.displayName]):a(qe,{height:"25px"},null),a(qe,null,null),a("div",{class:"row",style:{flexFlow:"row nowrap"}},[J(at.display),t(_e.expansions.skyrmion.bought)?J(ae.challenge):a(qe,{width:"250px",height:"250px"},null),J(De.display)]),a(qe,null,null),a(Tp,null,xp(f=J(s))?f:{default:()=>[f]})])}),pion:at,spinor:De,abyss:ae};function b(f){const{visibility:w,cost:I,requirement:N,display:v,onPurchase:T}=f;return id({visibility:w,requirements:N!=null?N:G(()=>({cost:I,resource:x(l),requiresPay:!1})),display:v,onPurchase:T})}});const ts=e=>(xt("data-v-5e2d38ce"),e=e(),Pt(),e),Ap=ts(()=>M("div",{class:"key"},"Ctrl",-1)),Fp=ts(()=>M("div",{class:"key"},"Shift",-1)),Bp={class:"key"},Rp=oe({__name:"Hotkey",props:{hotkey:null},setup(e){const n=e;let i="",r=!1,s=!1,l=!1;return Nt(()=>{i=n.hotkey.key,r=i.startsWith("ctrl+"),r&&(i=i.slice(5)),s=i.startsWith("shift+"),s&&(i=i.slice(6)),l=i.length==1&&i.toLowerCase()!=i.toUpperCase(),l&&(i=i.toUpperCase())}),(c,m)=>(q(),E(g,null,[t(r)?(q(),E(g,{key:0},[Ap,u("+")],64)):ee("",!0),t(s)?(q(),E(g,{key:1},[Fp,u("+")],64)):ee("",!0),M("div",Bp,le(t(i)),1)],64))}});var Ep=be(Rp,[["__scopeId","data-v-5e2d38ce"]]);const _i=hi({}),or=Symbol("Hotkey"),vr=[")","!","@","#","$","%","^","&","*","("];function ui(e){return We(n=>{const i=e.call(n,n);return i.type=or,W(i,"enabled"),Be(i,"enabled",!0),W(i,"description"),i})}ut.on("addLayer",e=>{Er(e,or).forEach(n=>{_i[n.key]=n})});ut.on("removeLayer",e=>{Er(e,or).forEach(n=>{_i[n.key]=void 0})});document.onkeydown=function(e){var r;if(((r=e.target)==null?void 0:r.tagName)==="INPUT"||ar.value&&!ve.keepGoing)return;let n=e.key;vr.includes(n)?n="shift+"+vr.indexOf(n):e.shiftKey&&(n="shift+"+n),e.ctrlKey&&(n="ctrl+"+n);const i=_i[n];i&&t(i.enabled)&&(e.preventDefault(),i.onPress())};So(_(()=>{const e=Object.values(_i).filter(n=>t(n==null?void 0:n.enabled));return e.length===0?"":a("div",null,[a("br",null,null),a("h4",null,[u("Hotkeys")]),a("div",{style:"column-count: 2"},[e.map(n=>a("div",null,[a(Ep,{hotkey:n},null),u(" "),n==null?void 0:n.description]))])])}));const Op="root",mi=[P,k,V,H,se,_e],ns=et(Op,()=>{const e=Zn(Object.fromEntries(mi.map(i=>[i.name,()=>({display:i.name,tab:Wt(()=>({style:S(()=>({"--layer-color":t(ae.challenge.active)?t(ae.color):t(i.color),...t(i.tabStyle)})),display:_(()=>a(g,null,[a("div",null,[J(t(i.display))])]))})),visibility:"unlocked"in i?()=>{var r;return t((r=i.unlocked)!=null?r:!0)}:!0})]))),n={left:ui(()=>({key:"ArrowLeft",description:"Previous Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=Object.entries(e.tabs).filter(([l,c])=>we(c.visibility)).map(([l,c])=>l);if(r.length<=0)return;const s=r.indexOf(i);switch(s){case-1:break;case 0:e.selected.value=r.at(-1);break;default:e.selected.value=r[s-1];break}}})),right:ui(()=>({key:"ArrowRight",description:"Next Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=Object.entries(e.tabs).filter(([l,c])=>we(c.visibility)).map(([l,c])=>l);if(r.length<=0)return;const s=r.indexOf(i);switch(s){case-1:break;case r.length-1:e.selected.value=r[0];break;default:e.selected.value=r[s+1];break}}})),shiftLeft:ui(()=>({key:"shift+ArrowLeft",description:"Previous Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=mi.find(d=>d.name===i);if(r===void 0||!("tabs"in r))return;const s=r.tabs,l=s.selected.value;if(l===void 0)return;const c=Object.entries(s.tabs).filter(([d,p])=>we(p.visibility)).map(([d,p])=>d);if(c.length<=0)return;const m=c.indexOf(l);switch(m){case-1:break;case 0:s.selected.value=c.at(-1);break;default:s.selected.value=c[m-1];break}}})),shiftRight:ui(()=>({key:"shift+ArrowRight",description:"Next Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=mi.find(d=>d.name===i);if(r===void 0||!("tabs"in r))return;const s=r.tabs,l=s.selected.value;if(l===void 0)return;const c=Object.entries(s.tabs).filter(([d,p])=>we(p.visibility)).map(([d,p])=>d);if(c.length<=0)return;const m=c.indexOf(l);switch(m){case-1:break;case c.length-1:s.selected.value=c[0];break;default:s.selected.value=c[m+1];break}}}))};return{name:"Root",minWidth:300,display:_(()=>t(k.unlocked)?a(g,null,[J(e)]):a("div",{style:{"--layer-color":t(P.color)}},[J(t(e.tabs[P.name].tab))])),hotkeys:n,tabs:e}}),Dp=e=>[...Object.values(mi),ns],ar=S(()=>!1);function Lp(e,n){}var Vp=Object.freeze(Object.defineProperty({__proto__:null,root:ns,getInitialLayers:Dp,hasWon:ar,fixOldSave:Lp},Symbol.toStringTag,{value:"Module"}));const ii=e=>(xt("data-v-4a50ce42"),e=e(),Pt(),e),jp={class:"game-over-modal-header"},Up=["src","alt"],zp={class:"game-over-modal-title"},Gp=ii(()=>M("h2",null,"Congratulations!",-1)),Hp={key:0},Wp=ii(()=>M("br",null,null,-1)),Yp=ii(()=>M("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),Xp=ii(()=>M("br",null,null,-1)),Qp=["href"],Kp=ii(()=>M("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),Zp=oe({__name:"GameOverScreen",setup(e){const{title:n,logo:i,discordName:r,discordLink:s,versionNumber:l,versionTitle:c}=ye,m=S(()=>Ui(ve.timePlayed)),d=S(()=>ar.value&&!ve.keepGoing),p=Zt(ve,"autosave");function b(){ve.keepGoing=!0}function f(){fn(In())}return(w,I)=>(q(),ie(un,{"model-value":t(d)},{header:ge(()=>[M("div",jp,[t(i)?(q(),E("img",{key:0,class:"game-over-modal-logo",src:t(i),alt:t(n)},null,8,Up)):ee("",!0),M("div",zp,[Gp,M("h4",null,"You've beaten "+le(t(n))+" v"+le(t(l))+": "+le(t(c)),1)])])]),body:ge(({shown:N})=>[N?(q(),E("div",Hp,[M("div",null,"It took you "+le(t(m))+" to beat the game.",1),Wp,Yp,Xp,M("div",null,[M("a",{href:t(s),class:"game-over-modal-discord-link"},[Kp,u(" "+le(t(r)),1)],8,Qp)]),a(Lt,{title:"Autosave",modelValue:t(p),"onUpdate:modelValue":I[0]||(I[0]=v=>Ue(p)?p.value=v:null)},null,8,["modelValue"])])):ee("",!0)]),footer:ge(()=>[M("div",{class:"game-over-footer"},[M("button",{onClick:b,class:"button"},"Keep Going"),M("button",{onClick:f,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var Jp=be(Zp,[["__scopeId","data-v-4a50ce42"]]);const wi=e=>(xt("data-v-d3bb0716"),e=e(),Pt(),e),ef=wi(()=>M("div",{class:"nan-modal-header"},[M("h2",null,"NaN value detected!")],-1)),tf={key:0},nf=wi(()=>M("br",null,null,-1)),rf=["href"],sf=wi(()=>M("span",{class:"material-icons nan-modal-discord"},"discord",-1)),of=wi(()=>M("br",null,null,-1)),af={class:"nan-footer"},lf=oe({__name:"NaNScreen",setup(e){const{discordName:n,discordLink:i}=ye,r=me(!0),s=me(!0),l=Zt(Ke,"hasNaN"),c=me(null);kt(l,w=>{w?(r.value=ve.autosave,s.value=ve.devSpeed===0):(ve.autosave=r.value,ve.devSpeed=s.value?0:null)});const m=S(()=>{var w;return(w=Ke.NaNPath)==null?void 0:w.join(".")}),d=S(()=>Ke.NaNPersistent!=null?Ke.NaNPersistent.value:null);function p(){Ke.NaNPersistent!=null&&(Ke.NaNPersistent.value=new o(0),Ke.hasNaN=!1)}function b(){Ke.NaNPersistent&&(Ke.NaNPersistent.value=new o(1),Ke.hasNaN=!1)}function f(){Ke.NaNPersistent&&(Ke.NaNPersistent.value=new o(NaN),Ke.hasNaN=!1)}return(w,I)=>(q(),E(g,null,[a(un,Tt({modelValue:t(l),"onUpdate:modelValue":I[4]||(I[4]=N=>Ue(l)?l.value=N:null)},w.$attrs),{header:ge(()=>[ef]),body:ge(()=>[M("div",null,[u(' Attempted to assign "'+le(t(m))+'" to NaN',1),t(d)?(q(),E("span",tf,le(" ")+"(previously "+le(t(fi)(t(d)))+")",1)):ee("",!0),u(". Auto-saving has been "+le(r.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),nf,M("div",null,[M("a",{href:t(i)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[sf,u(" "+le(t(n)||"Profectus & Friends"),1)],8,rf)]),of,a(Lt,{title:"Autosave",modelValue:r.value,"onUpdate:modelValue":I[0]||(I[0]=N=>r.value=N)},null,8,["modelValue"]),t(ye).enablePausing?(q(),ie(Lt,{key:0,title:"Pause game",modelValue:s.value,"onUpdate:modelValue":I[1]||(I[1]=N=>s.value=N)},null,8,["modelValue"])):ee("",!0)]),footer:ge(()=>[M("div",af,[M("button",{onClick:I[2]||(I[2]=N=>{var v;return(v=c.value)==null?void 0:v.open()}),class:"button"},"Open Saves Manager"),M("button",{onClick:p,class:"button"},"Set to 0"),M("button",{onClick:b,class:"button"},"Set to 1"),t(d)&&t(o).neq(t(d),0)&&t(o).neq(t(d),1)?(q(),E("button",{key:0,onClick:I[3]||(I[3]=N=>l.value=!1),class:"button"}," Set to previous ")):ee("",!0),M("button",{onClick:f,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),a(zr,{ref_key:"savesManager",ref:c},null,512)],64))}});var uf=be(lf,[["__scopeId","data-v-d3bb0716"]]);const cf={key:0,class:"tpsDisplay"},df=oe({__name:"TPS",setup(e){const n=S(()=>o.div(Ke.lastTenTicks.length,Ke.lastTenTicks.reduce((i,r)=>i+r,0)));return(i,r)=>t(n).isNan()?ee("",!0):(q(),E("div",cf,"TPS: "+le(t(hn)(t(n))),1))}});var mf=be(df,[["__scopeId","data-v-89b89152"]]);var pf=oe({__name:"App",setup(e){const n=ye.useHeader,i=S(()=>An[Me.theme].variables),r=Zt(Me,"showTPS"),s=Zt(Ke,"errors"),l=S(()=>ue(_(()=>a(g,null,[Co.map(J)]))));return(c,m)=>t(s).length>0?(q(),E("div",{key:0,class:"error-container",style:Oe(t(i))},[a(Cr,{errors:t(s)},null,8,["errors"])],4)):(q(),E(g,{key:1},[M("div",{id:"modal-root",style:Oe(t(i))},null,4),M("div",{class:Pe(["app",{useHeader:t(n)}]),style:Oe(t(i))},[t(n)?(q(),ie(Gr,{key:0})):ee("",!0),a(Ac),t(t(r))?(q(),ie(mf,{key:1})):ee("",!0),a(Jp),a(uf),(q(),ie(Ne(t(l))))],6)],64))}});var ff=be(pf,[["__scopeId","data-v-bf4e22ac"]]);function gf(e={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:c}=e;let m,d,p,b;const f=async(I=!0)=>{await p,I&&(m==null||m.addEventListener("controlling",N=>{N.isUpdate&&window.location.reload()})),await(b==null?void 0:b())};async function w(){if("serviceWorker"in navigator){const{Workbox:I,messageSW:N}=await zn(()=>import("./workbox-window.4a8794bb.js"),[]);b=async()=>{d&&d.waiting&&await N(d.waiting,{type:"SKIP_WAITING"})},m=new I("./sw.js",{scope:"./",type:"classic"}),m.addEventListener("activated",v=>{v.isUpdate||r==null||r()});{const v=()=>{i==null||i()};m.addEventListener("waiting",v),m.addEventListener("externalwaiting",v)}m.register({immediate:n}).then(v=>{d=v,l?l("./sw.js",v):s==null||s(v)}).catch(v=>{c==null||c(v)})}}return p=w(),f}function bf(e={}){const{immediate:n=!0,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:c}=e,m=me(!1),d=me(!1);return{updateServiceWorker:gf({immediate:n,onNeedRefresh(){m.value=!0,i==null||i()},onOfflineReady(){d.value=!0,r==null||r()},onRegistered:s,onRegisteredSW:l,onRegisterError:c}),offlineReady:d,needRefresh:m}}const lr=console.error;console.error=function(...e){lr(...e)};window.onerror=function(e,n,i,r,s){return Ke.errors.push(s instanceof Error?s:new Error(JSON.stringify(s))),lr(s),!0};window.onunhandledrejection=function(e){Ke.errors.push(e.reason instanceof Error?e.reason:new Error(JSON.stringify(e.reason))),lr(e.reason)};document.title=ye.title;window.projInfo=ye;ye.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await _o();const{globalBus:e}=await zn(()=>Promise.resolve().then(function(){return vo}),void 0),{startGameLoop:n}=await zn(()=>import("./gameLoop.a0507235.js"),["assets/gameLoop.a0507235.js","assets/@fontsource.f66d05e7.css","assets/vue.7234e199.js","assets/lz-string.bfbf8ec3.js","assets/@vue.6b211d3c.js","assets/nanoevents.1080beb7.js","assets/vue-next-select.1947c758.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.60c57c44.js","assets/sortablejs.93acc2fb.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-toastification.00c27ea8.js","assets/vue-toastification.4b5f8ac8.css"]),i=window.vue=ms(ff);i.config.errorHandler=function(r,s,l){console.error(r,l,s)},e.emit("setupVue",i),i.mount("#app"),an(()=>{const r=Sr(),{updateServiceWorker:s}=bf({onNeedRefresh(){r.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){s()}})},onOfflineReady(){r.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(l){l&&setInterval(()=>l.update(),60*60*1e3)}})}),n()});export{o as D,zn as _,Ke as a,ye as b,Vp as c,ut as g,Ri as l,ve as p,Me as s};
