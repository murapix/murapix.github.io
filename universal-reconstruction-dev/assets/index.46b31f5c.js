/* empty css                    */import"./vue.7234e199.js";import{q as In,C as t,ab as ie,t as pe,aF as I,a1 as F,aL as jt,bv as En,G as Te,as as sn,_,az as zn,a2 as M,J as se,O as g,aK as Re,a0 as J,I as Ee,a8 as u,a9 as a,b7 as fe,aI as $t,aG as Mt,b2 as wt,l as De,u as ci,aD as pr,w as ft,b3 as kt,ap as fr,aH as Zn,A as et,$ as ne,b9 as Ii,ar as qt,bt as Kr,bc as gr,T as Zr,j as Jr,bw as Wt,ay as es,aM as Bt,aO as Ce,z as Kt,bo as ts,bs as ns,am as ai,H as is,bx as rs,a7 as ss,bf as os}from"./@vue.6b211d3c.js";import{L as Qt}from"./lz-string.bfbf8ec3.js";import{c as br}from"./nanoevents.1080beb7.js";import{Y as as}from"./vue-next-select.1947c758.js";import{D as ls}from"./vuedraggable.60c57c44.js";import{p as us}from"./vue-textarea-autosize.35804eaf.js";import{s as cs,u as hr}from"./vue-toastification.00c27ea8.js";import"./sortablejs.93acc2fb.js";const ds=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}};ds();const ms="modulepreload",ir={},ps="./",On=function(n,i){return!i||i.length===0?n():Promise.all(i.map(r=>{if(r=`${ps}${r}`,r in ir)return;ir[r]=!0;const s=r.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const m=document.createElement("link");if(m.rel=s?"stylesheet":ms,s||(m.as="script",m.crossOrigin=""),m.href=r,document.head.appendChild(m),s)return new Promise((c,d)=>{m.addEventListener("load",c),m.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())},fs="./projInfo-schema.json",gs="Universal Reconstruction",bs="An expanded reversal of Distance Incremental",hs="universal_reconstruction",vs="Escapee",ys="The Paper Pilot Community",_s="https://discord.gg/WzejVAx",ws="1.0",ks="Revitalization",Ss=!0,Cs=!1,Ns=2,qs=!0,Is=null,$s="",Ms=["root"],Ps=3600,Ts=!0,xs="base64";var ve={$schema:fs,title:gs,description:bs,id:hs,author:vs,discordName:ys,discordLink:_s,versionNumber:ws,versionTitle:ks,allowGoBack:Ss,defaultShowSmall:Cs,defaultDigitsShown:Ns,useHeader:qs,banner:Is,logo:$s,initialTabs:Ms,maxTickLength:Ps,enablePausing:Ts,exportEncoding:xs};const As=In({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});var he=window.player=As;function $i(e){return JSON.stringify(e,(n,i)=>t(i))}var ge=(e,n)=>{const i=e.__vccOpts||e;for(const[r,s]of n)i[r]=s;return i};const Fs=["onClick"],Bs=ie({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:n}){const i=pe(!1),r=pe(null);function s(){n("click"),r.value&&clearTimeout(r.value),i.value=!1,sn(()=>{i.value=!0,r.value=setTimeout(()=>i.value=!1,500)})}return(l,m)=>(I(),F("button",{onClick:En(s,["stop"]),class:Te(["feedback",{activated:i.value,left:e.left}])},[jt(l.$slots,"default",{},void 0,!0)],10,Fs))}});var Mi=ge(Bs,[["__scopeId","data-v-01a1b95c"]]);const di=e=>($t("data-v-ac351c02"),e=e(),Mt(),e),Rs={class:"error"},Es={class:"error-title"},Os={class:"error-details",style:{"margin-top":"-10px"}},Ds={key:0},Ls={class:"instructions"},js=["href"],Vs=di(()=>M("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1)),Us=di(()=>M("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)),zs=di(()=>M("br",null,null,-1)),Gs={key:0,style:{"margin-top":"20px"}},Hs=di(()=>M("h3",null,"Other errors",-1)),Ws=[Hs],Ys={class:"error-details"},Xs={key:0,style:{"margin-top":"10px"}},Qs={key:1,style:{"margin-top":"10px"}},Ks=ie({__name:"Error",props:{errors:null},setup(e){const n=e,i=_(()=>n.errors[0]),r=_(()=>n.errors.map(m=>m.stack==null?[]:m.stack.split(`
`))),s=_(()=>n.errors.map(m=>m.cause==null?[]:(typeof m.cause=="string"?m.cause:JSON.stringify(m.cause)).split(`
`)));function l(){let m=$i(he);switch(ve.exportEncoding){default:console.warn(`Unknown save encoding: ${ve.exportEncoding}. Defaulting to lz`);case"lz":m=Qt.compressToUTF16(m);break;case"base64":m=btoa(unescape(encodeURIComponent(m)));break;case"plain":break}console.log(m);const c=document.createElement("textarea");c.value=m,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}return zn(()=>{he.autosave=!1,he.devSpeed=0}),(m,c)=>(I(),F("div",Rs,[M("h1",Es,se(t(i).name)+": "+se(t(i).message),1),M("div",Os,[t(i).cause?(I(),F("div",Ds,[(I(!0),F(g,null,Re(t(s)[0],d=>(I(),F("div",{key:d},se(d),1))),128))])):J("",!0),t(i).stack?(I(),F("div",{key:1,style:Ee(t(i).cause?"margin-top: 10px":"")},[(I(!0),F(g,null,Re(t(r)[0],d=>(I(),F("div",{key:d},se(d),1))),128))],4)):J("",!0)]),M("div",Ls,[u(" Check the console for more details, and consider sharing it with the developers on "),M("a",{href:t(ve).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,js),u("! "),a(Mi,{onClick:l,class:"button",style:{display:"inline-flex"}},{default:fe(()=>[Vs,Us]),_:1}),zs,e.errors.length>1?(I(),F("div",Gs,Ws)):J("",!0),(I(!0),F(g,null,Re(e.errors.slice(1),(d,p)=>(I(),F("div",{key:p,style:{"margin-top":"20px"}},[M("details",Ys,[M("summary",null,se(d.name)+": "+se(d.message),1),d.cause?(I(),F("div",Xs,[(I(!0),F(g,null,Re(t(s)[p+1],h=>(I(),F("div",{key:h},se(h),1))),128))])):J("",!0),d.stack?(I(),F("div",Qs,[(I(!0),F(g,null,Re(t(r)[p+1],h=>(I(),F("div",{key:h},se(h),1))),128))])):J("",!0)])]))),128))])]))}});var vr=ge(Ks,[["__scopeId","data-v-ac351c02"]]);class Zs{constructor(n){this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=n}get size(){return this.map.size}get(n){const i=this.map.get(n);if(i!==void 0)return i!==this.first&&(i===this.last?(this.last=i.prev,this.last.next=void 0):(i.prev.next=i.next,i.next.prev=i.prev),i.next=this.first,this.first.prev=i,this.first=i),i.value}set(n,i){if(this.maxSize<1)return;if(this.map.has(n))throw new Error("Cannot update existing keys in the cache");const r=new Js(n,i);for(this.first===void 0?(this.first=r,this.last=r):(r.next=this.first,this.first.prev=r,this.first=r),this.map.set(n,r);this.map.size>this.maxSize;){const s=this.last;this.map.delete(s.key),this.last=s.prev,this.last.next=void 0}}}class Js{constructor(n,i){this.next=void 0,this.prev=void 0,this.key=n,this.value=i}}const gi=17,eo=9e15,to=Math.log10(9e15),no=1/9e15,io=308,ro=-324,rr=5,so=(1<<10)-1,oo=function(){const e=[];for(let i=ro+1;i<=io;i++)e.push(Number("1e"+i));const n=323;return function(i){return e[i+n]}}(),an=[2,Math.E,3,4,5,6,7,8,9,10],ao=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],lo=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let O=function(n){return o.fromValue_noAlloc(n)},be=function(e,n,i){return o.fromComponents(e,n,i)},we=function(n,i,r){return o.fromComponents_noNormalize(n,i,r)};const Jt=function(n,i){const r=i+1,s=Math.ceil(Math.log10(Math.abs(n))),l=Math.round(n*Math.pow(10,r-s))*Math.pow(10,s-r);return parseFloat(l.toFixed(Math.max(r-s,0)))},bi=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},uo=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let n=1;for(;e<10;)n=n*e,++e;e-=1;let i=.9189385332046727;i=i+(e+.5)*Math.log(e),i=i-e;const r=e*e;let s=e;return i=i+1/(12*s),s=s*r,i=i+1/(360*s),s=s*r,i=i+1/(1260*s),s=s*r,i=i+1/(1680*s),s=s*r,i=i+1/(1188*s),s=s*r,i=i+691/(360360*s),s=s*r,i=i+7/(1092*s),s=s*r,i=i+3617/(122400*s),Math.exp(i)/n},yr=.5671432904097838,sr=function(e,n=1e-10){let i,r;if(!Number.isFinite(e)||e===0)return e;if(e===1)return yr;e<10?i=0:i=Math.log(e)-Math.log(Math.log(e));for(let s=0;s<100;++s){if(r=(e*Math.exp(-i)+i*i)/(i+1),Math.abs(r-i)<n*Math.abs(r))return r;i=r}throw Error(`Iteration failed to converge: ${e.toString()}`)};function or(e,n=1e-10){let i,r,s,l;if(!Number.isFinite(e.mag)||e.eq(o.dZero))return e;if(e.eq(o.dOne))return o.fromNumber(yr);i=o.ln(e);for(let m=0;m<100;++m){if(r=i.neg().exp(),s=i.sub(e.mul(r)),l=i.sub(s.div(i.add(1).sub(i.add(2).mul(s).div(o.mul(2,i).add(2))))),o.abs(l.sub(i)).lt(o.abs(l).mul(n)))return l;i=l}throw Error(`Iteration failed to converge: ${e.toString()}`)}const T=class{constructor(e){this.sign=0,this.mag=0,this.layer=0,e instanceof T?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let n;return this.mag===5e-324?n=5:n=this.mag/oo(e),this.sign*n}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,n,i){return new T().fromComponents(e,n,i)}static fromComponents_noNormalize(e,n,i){return new T().fromComponents_noNormalize(e,n,i)}static fromMantissaExponent(e,n){return new T().fromMantissaExponent(e,n)}static fromMantissaExponent_noNormalize(e,n){return new T().fromMantissaExponent_noNormalize(e,n)}static fromDecimal(e){return new T().fromDecimal(e)}static fromNumber(e){return new T().fromNumber(e)}static fromString(e){return new T().fromString(e)}static fromValue(e){return new T().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof T)return e;if(typeof e=="string"){const n=T.fromStringCache.get(e);return n!==void 0?n:T.fromString(e)}else return typeof e=="number"?T.fromNumber(e):T.dZero}static abs(e){return O(e).abs()}static neg(e){return O(e).neg()}static negate(e){return O(e).neg()}static negated(e){return O(e).neg()}static sign(e){return O(e).sign}static sgn(e){return O(e).sign}static round(e){return O(e).round()}static floor(e){return O(e).floor()}static ceil(e){return O(e).ceil()}static trunc(e){return O(e).trunc()}static add(e,n){return O(e).add(n)}static plus(e,n){return O(e).add(n)}static sub(e,n){return O(e).sub(n)}static subtract(e,n){return O(e).sub(n)}static minus(e,n){return O(e).sub(n)}static mul(e,n){return O(e).mul(n)}static multiply(e,n){return O(e).mul(n)}static times(e,n){return O(e).mul(n)}static div(e,n){return O(e).div(n)}static divide(e,n){return O(e).div(n)}static recip(e){return O(e).recip()}static reciprocal(e){return O(e).recip()}static reciprocate(e){return O(e).reciprocate()}static cmp(e,n){return O(e).cmp(n)}static cmpabs(e,n){return O(e).cmpabs(n)}static compare(e,n){return O(e).cmp(n)}static isNaN(e){return e=O(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=O(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,n){return O(e).eq(n)}static equals(e,n){return O(e).eq(n)}static neq(e,n){return O(e).neq(n)}static notEquals(e,n){return O(e).notEquals(n)}static lt(e,n){return O(e).lt(n)}static lte(e,n){return O(e).lte(n)}static gt(e,n){return O(e).gt(n)}static gte(e,n){return O(e).gte(n)}static max(e,n){return O(e).max(n)}static min(e,n){return O(e).min(n)}static minabs(e,n){return O(e).minabs(n)}static maxabs(e,n){return O(e).maxabs(n)}static clamp(e,n,i){return O(e).clamp(n,i)}static clampMin(e,n){return O(e).clampMin(n)}static clampMax(e,n){return O(e).clampMax(n)}static cmp_tolerance(e,n,i){return O(e).cmp_tolerance(n,i)}static compare_tolerance(e,n,i){return O(e).cmp_tolerance(n,i)}static eq_tolerance(e,n,i){return O(e).eq_tolerance(n,i)}static equals_tolerance(e,n,i){return O(e).eq_tolerance(n,i)}static neq_tolerance(e,n,i){return O(e).neq_tolerance(n,i)}static notEquals_tolerance(e,n,i){return O(e).notEquals_tolerance(n,i)}static lt_tolerance(e,n,i){return O(e).lt_tolerance(n,i)}static lte_tolerance(e,n,i){return O(e).lte_tolerance(n,i)}static gt_tolerance(e,n,i){return O(e).gt_tolerance(n,i)}static gte_tolerance(e,n,i){return O(e).gte_tolerance(n,i)}static pLog10(e){return O(e).pLog10()}static absLog10(e){return O(e).absLog10()}static log10(e){return O(e).log10()}static log(e,n){return O(e).log(n)}static log2(e){return O(e).log2()}static ln(e){return O(e).ln()}static logarithm(e,n){return O(e).logarithm(n)}static pow(e,n){return O(e).pow(n)}static pow10(e){return O(e).pow10()}static pow_base(e,n){return O(e).pow_base(n)}static root(e,n){return O(e).root(n)}static factorial(e,n){return O(e).factorial()}static gamma(e,n){return O(e).gamma()}static lngamma(e,n){return O(e).lngamma()}static exp(e){return O(e).exp()}static sqr(e){return O(e).sqr()}static sqrt(e){return O(e).sqrt()}static cube(e){return O(e).cube()}static cbrt(e){return O(e).cbrt()}static tetrate(e,n=2,i=we(1,0,1)){return O(e).tetrate(n,i)}static iteratedexp(e,n=2,i=we(1,0,1)){return O(e).iteratedexp(n,i)}static iteratedlog(e,n=10,i=1){return O(e).iteratedlog(n,i)}static layeradd10(e,n){return O(e).layeradd10(n)}static layeradd(e,n,i=10){return O(e).layeradd(n,i)}static slog(e,n=10){return O(e).slog(n)}static lambertw(e){return O(e).lambertw()}static ssqrt(e){return O(e).ssqrt()}static pentate(e,n=2,i=we(1,0,1)){return O(e).pentate(n,i)}static sin(e){return O(e).sin()}static cos(e){return O(e).cos()}static tan(e){return O(e).tan()}static asin(e){return O(e).asin()}static acos(e){return O(e).acos()}static atan(e){return O(e).atan()}static sinh(e){return O(e).sinh()}static cosh(e){return O(e).cosh()}static tanh(e){return O(e).tanh()}static asinh(e){return O(e).asinh()}static acosh(e){return O(e).acosh()}static atanh(e){return O(e).atanh()}static affordGeometricSeries(e,n,i,r){return this.affordGeometricSeries_core(O(e),O(n),O(i),r)}static sumGeometricSeries(e,n,i,r){return this.sumGeometricSeries_core(e,O(n),O(i),r)}static affordArithmeticSeries(e,n,i,r){return this.affordArithmeticSeries_core(O(e),O(n),O(i),O(r))}static sumArithmeticSeries(e,n,i,r){return this.sumArithmeticSeries_core(O(e),O(n),O(i),O(r))}static efficiencyOfPurchase(e,n,i){return this.efficiencyOfPurchase_core(O(e),O(n),O(i))}static randomDecimalForTesting(e){if(Math.random()*20<1)return we(0,0,0);const n=Math.random()>.5?1:-1;if(Math.random()*20<1)return we(n,0,1);const i=Math.floor(Math.random()*(e+1));let r=i===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(r=Math.trunc(r));let s=Math.pow(10,r);return Math.random()>.9&&(s=Math.trunc(s)),be(n,i,s)}static affordGeometricSeries_core(e,n,i,r){const s=n.mul(i.pow(r));return T.floor(e.div(s).mul(i.sub(1)).add(1).log10().div(i.log10()))}static sumGeometricSeries_core(e,n,i,r){return n.mul(i.pow(r)).mul(T.sub(1,i.pow(e))).div(T.sub(1,i))}static affordArithmeticSeries_core(e,n,i,r){const l=n.add(r.mul(i)).sub(i.div(2)),m=l.pow(2);return l.neg().add(m.add(i.mul(e).mul(2)).sqrt()).div(i).floor()}static sumArithmeticSeries_core(e,n,i,r){const s=n.add(r.mul(i));return e.div(2).mul(s.mul(2).plus(e.sub(1).mul(i)))}static efficiencyOfPurchase_core(e,n,i){return e.div(n).add(e.div(i))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<no)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),n=Math.sign(this.mag);if(e>=eo)return this.layer+=1,this.mag=n*Math.log10(e),this;for(;e<to&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=n*Math.pow(10,e),e=Math.abs(this.mag),n=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this.normalize(),this}fromComponents_noNormalize(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this}fromMantissaExponent(e,n){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=n+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,n){return this.fromMantissaExponent(e,n),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const n=e,i=T.fromStringCache.get(n);if(i!==void 0)return this.fromDecimal(i);e=e.replace(",","");const r=e.split("^^^");if(r.length===2){const S=parseFloat(r[0]),C=parseFloat(r[1]),E=r[1].split(";");let B=1;if(E.length===2&&(B=parseFloat(E[1]),isFinite(B)||(B=1)),isFinite(S)&&isFinite(C)){const R=T.pentate(S,C,B);return this.sign=R.sign,this.layer=R.layer,this.mag=R.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}const s=e.split("^^");if(s.length===2){const S=parseFloat(s[0]),C=parseFloat(s[1]),E=s[1].split(";");let B=1;if(E.length===2&&(B=parseFloat(E[1]),isFinite(B)||(B=1)),isFinite(S)&&isFinite(C)){const R=T.tetrate(S,C,B);return this.sign=R.sign,this.layer=R.layer,this.mag=R.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}const l=e.split("^");if(l.length===2){const S=parseFloat(l[0]),C=parseFloat(l[1]);if(isFinite(S)&&isFinite(C)){const E=T.pow(S,C);return this.sign=E.sign,this.layer=E.layer,this.mag=E.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}e=e.trim().toLowerCase();let m,c,d=e.split("pt");if(d.length===2){m=10,c=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let S=parseFloat(d[1]);if(isFinite(S)||(S=1),isFinite(m)&&isFinite(c)){const C=T.tetrate(m,c,S);return this.sign=C.sign,this.layer=C.layer,this.mag=C.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}if(d=e.split("p"),d.length===2){m=10,c=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let S=parseFloat(d[1]);if(isFinite(S)||(S=1),isFinite(m)&&isFinite(c)){const C=T.tetrate(m,c,S);return this.sign=C.sign,this.layer=C.layer,this.mag=C.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}const p=e.split("e"),h=p.length-1;if(h===0){const S=parseFloat(e);if(isFinite(S))return this.fromNumber(S),T.fromStringCache.size>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}else if(h===1){const S=parseFloat(e);if(isFinite(S)&&S!==0)return this.fromNumber(S),T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}const f=e.split("e^");if(f.length===2){this.sign=1,f[0].charAt(0)=="-"&&(this.sign=-1);let S="";for(let C=0;C<f[1].length;++C){const E=f[1].charCodeAt(C);if(E>=43&&E<=57||E===101)S+=f[1].charAt(C);else return this.layer=parseFloat(S),this.mag=parseFloat(f[1].substr(C+1)),this.normalize(),T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}if(h<1)return this.sign=0,this.layer=0,this.mag=0,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this;const N=parseFloat(p[0]);if(N===0)return this.sign=0,this.layer=0,this.mag=0,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this;let w=parseFloat(p[p.length-1]);if(h>=2){const S=parseFloat(p[p.length-2]);isFinite(S)&&(w*=Math.sign(S),w+=bi(S))}if(!isFinite(N))this.sign=p[0]==="-"?-1:1,this.layer=h,this.mag=w;else if(h===1)this.sign=Math.sign(N),this.layer=1,this.mag=w+Math.log10(Math.abs(N));else if(this.sign=Math.sign(N),this.layer=h,h===2){const S=T.mul(be(1,2,w),O(N));return this.sign=S.sign,this.layer=S.layer,this.mag=S.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}else this.mag=w;return this.normalize(),T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}fromValue(e){return e instanceof T?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:Jt(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:Jt(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=rr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):Jt(this.m,e)+"e"+Jt(this.e,e):this.layer===1?Jt(this.m,e)+"e"+Jt(this.e,e):this.layer<=rr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+Jt(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+Jt(this.mag,e)}abs(){return we(this.sign===0?0:1,this.layer,this.mag)}neg(){return we(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?T.dZero:this.layer===0?be(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?T.dZero:this.layer===0?be(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?T.dZero:this.layer===0?be(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?T.dZero:this.layer===0?be(this.sign,0,Math.trunc(this.mag)):this}add(e){const n=O(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer)||this.sign===0)return n;if(n.sign===0)return this;if(this.sign===-n.sign&&this.layer===n.layer&&this.mag===n.mag)return we(0,0,0);let i,r;if(this.layer>=2||n.layer>=2)return this.maxabs(n);if(T.cmpabs(this,n)>0?(i=this,r=n):(i=n,r=this),i.layer===0&&r.layer===0)return T.fromNumber(i.sign*i.mag+r.sign*r.mag);const s=i.layer*Math.sign(i.mag),l=r.layer*Math.sign(r.mag);if(s-l>=2)return i;if(s===0&&l===-1){if(Math.abs(r.mag-Math.log10(i.mag))>gi)return i;{const m=Math.pow(10,Math.log10(i.mag)-r.mag),c=r.sign+i.sign*m;return be(Math.sign(c),1,r.mag+Math.log10(Math.abs(c)))}}if(s===1&&l===0){if(Math.abs(i.mag-Math.log10(r.mag))>gi)return i;{const m=Math.pow(10,i.mag-Math.log10(r.mag)),c=r.sign+i.sign*m;return be(Math.sign(c),1,Math.log10(r.mag)+Math.log10(Math.abs(c)))}}if(Math.abs(i.mag-r.mag)>gi)return i;{const m=Math.pow(10,i.mag-r.mag),c=r.sign+i.sign*m;return be(Math.sign(c),1,r.mag+Math.log10(Math.abs(c)))}}plus(e){return this.add(e)}sub(e){return this.add(O(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const n=O(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer))return n;if(this.sign===0||n.sign===0)return we(0,0,0);if(this.layer===n.layer&&this.mag===-n.mag)return we(this.sign*n.sign,0,1);let i,r;if(this.layer>n.layer||this.layer==n.layer&&Math.abs(this.mag)>Math.abs(n.mag)?(i=this,r=n):(i=n,r=this),i.layer===0&&r.layer===0)return T.fromNumber(i.sign*r.sign*i.mag*r.mag);if(i.layer>=3||i.layer-r.layer>=2)return be(i.sign*r.sign,i.layer,i.mag);if(i.layer===1&&r.layer===0)return be(i.sign*r.sign,1,i.mag+Math.log10(r.mag));if(i.layer===1&&r.layer===1)return be(i.sign*r.sign,1,i.mag+r.mag);if(i.layer===2&&r.layer===1){const s=be(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(be(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return be(i.sign*r.sign,s.layer+1,s.sign*s.mag)}if(i.layer===2&&r.layer===2){const s=be(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(be(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return be(i.sign*r.sign,s.layer+1,s.sign*s.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const n=O(e);return this.mul(n.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?T.dNaN:this.layer===0?be(this.sign,0,1/this.mag):be(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const n=O(e);return this.sign>n.sign?1:this.sign<n.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const n=O(e),i=this.mag>0?this.layer:-this.layer,r=n.mag>0?n.layer:-n.layer;return i>r?1:i<r?-1:this.mag>n.mag?1:this.mag<n.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const n=O(e);return this.sign===n.sign&&this.layer===n.layer&&this.mag===n.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const n=O(e);return this.lt(n)?n:this}min(e){const n=O(e);return this.gt(n)?n:this}maxabs(e){const n=O(e);return this.cmpabs(n)<0?n:this}minabs(e){const n=O(e);return this.cmpabs(n)>0?n:this}clamp(e,n){return this.max(e).min(n)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)?0:this.cmp(i)}compare_tolerance(e,n){return this.cmp_tolerance(e,n)}eq_tolerance(e,n){const i=O(e);if(n==null&&(n=1e-7),this.sign!==i.sign||Math.abs(this.layer-i.layer)>1)return!1;let r=this.mag,s=i.mag;return this.layer>i.layer&&(s=bi(s)),this.layer<i.layer&&(r=bi(r)),Math.abs(r-s)<=n*Math.max(Math.abs(r),Math.abs(s))}equals_tolerance(e,n){return this.eq_tolerance(e,n)}neq_tolerance(e,n){return!this.eq_tolerance(e,n)}notEquals_tolerance(e,n){return this.neq_tolerance(e,n)}lt_tolerance(e,n){const i=O(e);return!this.eq_tolerance(i,n)&&this.lt(i)}lte_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)||this.lt(i)}gt_tolerance(e,n){const i=O(e);return!this.eq_tolerance(i,n)&&this.gt(i)}gte_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)||this.gt(i)}pLog10(){return this.lt(T.dZero)?T.dZero:this.log10()}absLog10(){return this.sign===0?T.dNaN:this.layer>0?be(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):be(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?T.dNaN:this.layer>0?be(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):be(this.sign,0,Math.log10(this.mag))}log(e){return e=O(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?T.dNaN:this.layer===0&&e.layer===0?be(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):T.div(this.log10(),e.log10())}log2(){return this.sign<=0?T.dNaN:this.layer===0?be(this.sign,0,Math.log2(this.mag)):this.layer===1?be(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?be(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):be(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?T.dNaN:this.layer===0?be(this.sign,0,Math.log(this.mag)):this.layer===1?be(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?be(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):be(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const n=O(e),i=this,r=n;if(i.sign===0)return r.eq(0)?we(1,0,1):i;if(i.sign===1&&i.layer===0&&i.mag===1)return i;if(r.sign===0)return we(1,0,1);if(r.sign===1&&r.layer===0&&r.mag===1)return i;const s=i.absLog10().mul(r).pow10();return this.sign===-1?Math.abs(r.toNumber()%2)%2===1?s.neg():Math.abs(r.toNumber()%2)%2===0?s:T.dNaN:s}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return T.dNaN;let e=this;if(e.layer===0){const n=Math.pow(10,e.sign*e.mag);if(Number.isFinite(n)&&Math.abs(n)>=.1)return be(1,0,n);if(e.sign===0)return T.dOne;e=we(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?be(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?be(-e.sign,e.layer+1,-e.mag):T.dOne}pow_base(e){return O(e).pow(this)}root(e){const n=O(e);return this.pow(n.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?T.exp(T.mul(this,T.ln(this).sub(1))):T.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(we(1,0,24)))return T.fromNumber(uo(this.sign*this.mag));const e=this.mag-1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let r=e,s=12*r,l=1/s,m=n+l;if(m===n||(n=m,r=r*i,s=360*r,l=1/s,m=n-l,m===n))return T.exp(n);n=m,r=r*i,s=1260*r;let c=1/s;return n=n+c,r=r*i,s=1680*r,c=1/s,n=n-c,T.exp(n)}else return this.layer===1?T.exp(T.mul(this,T.ln(this).sub(1))):T.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?T.dOne:this.layer===0&&this.mag<=709.7?T.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?be(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?be(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):be(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return T.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return be(1,2,Math.log10(this.mag)-.3010299956639812);{const e=T.div(we(this.sign,this.layer-1,this.mag),we(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,n=we(1,0,1)){if(e===1)return T.pow(this,n);if(e===0)return new T(n);if(this.eq(T.dOne))return T.dOne;if(this.eq(-1))return T.pow(this,n);if(e===Number.POSITIVE_INFINITY){const s=this.toNumber();if(s<=1.444667861009766&&s>=.06598803584531254){if(s>1.444667861009099)return T.fromNumber(Math.E);const l=T.ln(this).neg();return l.lambertw().div(l)}else return s>1.444667861009766?T.fromNumber(Number.POSITIVE_INFINITY):T.dNaN}if(this.eq(T.dZero)){let s=Math.abs((e+1)%2);return s>1&&(s=2-s),T.fromNumber(s)}if(e<0)return T.iteratedlog(n,this,-e);n=O(n);const i=e;e=Math.trunc(e);const r=i-e;if(this.gt(T.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let s=0;s<e;++s){const l=n;if(n=this.pow(n),l.eq(n))return n}if(r!=0){const s=this.pow(n);return n.mul(1-r).add(s.mul(r))}return n}r!==0&&(n.eq(T.dOne)?this.gt(10)?n=this.pow(r):(n=T.fromNumber(T.tetrate_critical(this.toNumber(),r)),this.lt(2)&&(n=n.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?n=n.layeradd10(r):n=n.layeradd(r,this));for(let s=0;s<e;++s){if(n=this.pow(n),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(n.layer-this.layer>3)return we(n.sign,n.layer+(e-s-1),n.mag);if(s>1e4)return n}return n}iteratedexp(e=2,n=we(1,0,1)){return this.tetrate(e,n)}iteratedlog(e=10,n=1){if(n<0)return T.tetrate(e,-n,this);e=O(e);let i=T.fromDecimal(this);const r=n;n=Math.trunc(n);const s=r-n;if(i.layer-e.layer>3){const l=Math.min(n,i.layer-e.layer-3);n-=l,i.layer-=l}for(let l=0;l<n;++l){if(i=i.log(e),!isFinite(i.layer)||!isFinite(i.mag))return i.normalize();if(l>1e4)return i}return s>0&&s<1&&(e.eq(10)?i=i.layeradd10(-s):i=i.layeradd(-s,e)),i}slog(e=10,n=100){let i=.001,r=!1,s=!1,l=this.slog_internal(e).toNumber();for(let m=1;m<n;++m){const d=new T(e).tetrate(l).gt(this);if(m>1&&s!=d&&(r=!0),s=d,r?i/=2:i*=2,i=Math.abs(i)*(d?-1:1),l+=i,i===0)break}return T.fromNumber(l)}slog_internal(e=10){if(e=O(e),e.lte(T.dZero)||e.eq(T.dOne))return T.dNaN;if(e.lt(T.dOne))return this.eq(T.dOne)?T.dZero:this.eq(T.dZero)?T.dNegOne:T.dNaN;if(this.mag<0||this.eq(T.dZero))return T.dNegOne;let n=0,i=T.fromDecimal(this);if(i.layer-e.layer>3){const r=i.layer-e.layer-3;n+=r,i.layer-=r}for(let r=0;r<100;++r)if(i.lt(T.dZero))i=T.pow(e,i),n-=1;else{if(i.lte(T.dOne))return T.fromNumber(n+T.slog_critical(e.toNumber(),i.toNumber()));n+=1,i=T.log(i,e)}return T.fromNumber(n)}static slog_critical(e,n){return e>10?n-1:T.critical_section(e,n,lo)}static tetrate_critical(e,n){return T.critical_section(e,n,ao)}static critical_section(e,n,i){n*=10,n<0&&(n=0),n>10&&(n=10),e<2&&(e=2),e>10&&(e=10);let r=0,s=0;for(let m=0;m<an.length;++m)if(an[m]==e){r=i[m][Math.floor(n)],s=i[m][Math.ceil(n)];break}else if(an[m]<e&&an[m+1]>e){const c=(e-an[m])/(an[m+1]-an[m]);r=i[m][Math.floor(n)]*(1-c)+i[m+1][Math.floor(n)]*c,s=i[m][Math.ceil(n)]*(1-c)+i[m+1][Math.ceil(n)]*c;break}const l=n-Math.floor(n);return r<=0||s<=0?r*(1-l)+s*l:Math.pow(e,Math.log(r)/Math.log(e)*(1-l)+Math.log(s)/Math.log(e)*l)}layeradd10(e){e=T.fromValue_noAlloc(e).toNumber();const n=T.fromDecimal(this);if(e>=1){n.mag<0&&n.layer>0?(n.sign=0,n.mag=0,n.layer=0):n.sign===-1&&n.layer==0&&(n.sign=1,n.mag=-n.mag);const i=Math.trunc(e);e-=i,n.layer+=i}if(e<=-1){const i=Math.trunc(e);if(e-=i,n.layer+=i,n.layer<0)for(let r=0;r<100;++r){if(n.layer++,n.mag=Math.log10(n.mag),!isFinite(n.mag))return n.sign===0&&(n.sign=1),n.layer<0&&(n.layer=0),n.normalize();if(n.layer>=0)break}}for(;n.layer<0;)n.layer++,n.mag=Math.log10(n.mag);return n.sign===0&&(n.sign=1,n.mag===0&&n.layer>=1&&(n.layer-=1,n.mag=1)),n.normalize(),e!==0?n.layeradd(e,10):n}layeradd(e,n){const r=this.slog(n).toNumber()+e;return r>=0?T.tetrate(n,r):Number.isFinite(r)?r>=-1?T.log(T.tetrate(n,r+1),n):T.log(T.log(T.tetrate(n,r+2),n),n):T.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return T.fromNumber(sr(this.toNumber()));if(this.layer===0)return T.fromNumber(sr(this.sign*this.mag));if(this.layer===1)return or(this);if(this.layer===2)return or(this);if(this.layer>=3)return we(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return we(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,n=we(1,0,1)){n=O(n);const i=e;e=Math.trunc(e);const r=i-e;r!==0&&(n.eq(T.dOne)?(++e,n=T.fromNumber(r)):this.eq(10)?n=n.layeradd10(r):n=n.layeradd(r,this));for(let s=0;s<e;++s){if(n=this.tetrate(n.toNumber()),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(s>10)return n}return n}sin(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.sin(this.sign*this.mag)):we(0,0,0)}cos(){return this.mag<0?T.dOne:this.layer===0?T.fromNumber(Math.cos(this.sign*this.mag)):we(0,0,0)}tan(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.tan(this.sign*this.mag)):we(0,0,0)}asin(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.asin(this.sign*this.mag)):we(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?T.fromNumber(Math.acos(this.toNumber())):this.layer===0?T.fromNumber(Math.acos(this.sign*this.mag)):we(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.atan(this.sign*this.mag)):T.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return T.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return T.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?we(Number.NaN,Number.NaN,Number.NaN):T.ln(this.add(1).div(T.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(T.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let o=T;o.fromStringCache=new Zs(so);o.dZero=we(0,0,0);o.dOne=we(1,0,1);o.dNegOne=we(-1,0,1);o.dTwo=we(1,0,2);o.dTen=we(1,0,10);o.dNaN=we(Number.NaN,Number.NaN,Number.NaN);o.dInf=we(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);o.dNegInf=we(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);o.dNumberMax=be(1,0,Number.MAX_VALUE);o.dNumberMin=be(1,0,Number.MIN_VALUE);O=o.fromValue_noAlloc;be=o.fromComponents;we=o.fromComponents_noNormalize;o.fromMantissaExponent;o.fromMantissaExponent_noNormalize;const co={variables:{"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"15px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1,mergeAdjacent:!1,showPin:!0};var Pi=(e=>(e.Classic="classic",e))(Pi||{}),$n={classic:co};const ut=br();"fonts"in document&&(document.fonts.onloadingdone=()=>ut.emit("fontsLoaded"));var mo=Object.freeze(Object.defineProperty({__proto__:null,globalBus:ut},Symbol.toStringTag,{value:"Module"})),Le=(e=>(e.standard="standard",e.thousands="thousands",e.engineering="engineering",e.scientific="scientific",e))(Le||{});function _r(e={}){return Object.assign({id:`${ve.id}-0`,name:"Default Save",tabs:ve.initialTabs.slice(),time:Date.now(),autosave:!0,timePlayed:0,keepGoing:!1,modID:ve.id,modVersion:ve.versionNumber,layers:{}},e)}const po=pe(!1);function Ct(e){var i;if(t(po))return(i=localStorage.getItem((e!=null?e:he).id))!=null?i:"";const n=Qt.compressToUTF16($i(e!=null?e:he));return localStorage.setItem((e!=null?e:he).id,n),n}async function fo(){bo();try{let e=localStorage.getItem($e.active);if(e==null){await cn(_n());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Qt.decompressFromUTF16(e);else throw"Unable to determine save encoding";const n=JSON.parse(e);if(n.modID!==ve.id){await cn(_n());return}n.id=$e.active,await cn(n)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await cn(_n())}}function _n(){const e=ri(),n=_r({id:e});return Ct(n),$e.saves.push(e),n}function ri(){let e,n=0;do e=`${ve.id}-${n++}`;while(localStorage.getItem(e)!=null);return e}const Ti=pe(!1);async function cn(e){console.info("Loading save",e),Ti.value=!0;const{layers:n,removeLayer:i,addLayer:r}=await On(()=>Promise.resolve().then(function(){return Ml}),void 0),{fixOldSave:s,getInitialLayers:l}=await On(()=>Promise.resolve().then(function(){return Fp}),void 0);for(const m in n){const c=n[m];c&&i(c)}l(e).forEach(m=>r(m,e)),e=_r(e),e.time=Date.now(),e.modVersion!==ve.versionNumber&&(s(e.modVersion,e),e.modVersion=ve.versionNumber),Object.assign(he,e),$e.active=he.id,ut.emit("onLoad")}setInterval(()=>{he.autosave&&Ct()},1e3);window.onbeforeunload=()=>{he.autosave&&Ct()};window.save=Ct;const go=window.hardReset=async()=>{await cn(_n())};window.deleteLowerSaves=()=>{const e=Object.values($e.saves).indexOf(he.id)+1;Object.values($e.saves).slice(e).forEach(n=>localStorage.removeItem(n)),$e.saves=$e.saves.slice(0,e)};const Dn=In({active:"",saves:[],showTPS:!0,theme:Pi.Classic,unthrottled:!1,alignUnits:!1,numberFormat:Le.scientific,backupNumberFormat:Le.scientific});wt(Dn,e=>{const n=Qt.compressToUTF16(JSON.stringify(e));localStorage.setItem(ve.id,n)},{deep:!0});var $e=window.settings=Dn;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Pi.Classic,alignUnits:!1,numberFormat:Le.scientific,backupNumberFormat:Le.scientific};ut.emit("loadSettings",e),Object.assign(Dn,e),go()};function bo(){try{let e=localStorage.getItem(ve.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Qt.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const n=JSON.parse(e);typeof n=="object"&&Object.assign(Dn,n)}ut.emit("loadSettings",Dn)}catch{}}const wr=In([]);function kr(e){wr.push(e)}const Sr=In([]);function ho(e){Sr.push(e)}const vo=In([]),yo=o.pow10(1e3),xi=new o(.001),Jn=o.pow10(1e4),_o=o.pow10(Number.MAX_SAFE_INTEGER),wo=new o("eeee1000");var Ai=(e=>(e.decimal="decimal",e.total="total",e))(Ai||{});function D(e,n=ve.defaultDigitsShown,i=ve.defaultShowSmall,r=$e.numberFormat){if(e=new o(e),o.isNaN(e))return"NaN";if(e.sign<0)return`-${D(e.negate(),n,i,r)}`;if(!o.isFinite(e))return"Infinity";if(e.gte(wo))return Cr(e);if(e.gte(_o))return wn(e,n);if(e.eq(o.dZero))return 0 .toFixed(n);if(e.lt(xi)&&i)return e=Mr(e),e.gte(yo)?`${D(e,n)}\u207B\xB9`:wn(e,n).replace(/([^(?:e|F)]*)$/,"-$1");if(e.gte(1e9))switch(r){case Le.standard:return Nr(e,$e.backupNumberFormat,n+1,"total",e.gte(Jn));case Le.thousands:return Bi(e,n+1,"total",e.gte(Jn));case Le.engineering:return Ri(e,n+1,"total",e.gte(Jn));case Le.scientific:return wn(e,n,"decimal",e.gte(Jn))}if(e.gte(1e3))switch(r){case Le.standard:case Le.thousands:case Le.engineering:return Ln(e,n,"total");case Le.scientific:return Ln(e,n,"decimal")}return on(e,n)}function Z(e,n=ve.defaultShowSmall,i=$e.numberFormat){if(e=new o(e),e.gte(1e9)||e.lte(.98)&&e.neq(0)&&n)return D(e,void 0,n,i);switch(i){case Le.standard:case Le.thousands:return e.gte(1e4)?D(e,void 0,n,i):D(e,0,n,Le.scientific);default:return D(e,0,n,i)}}function Cr(e){e=new o(e);const n=e.slog();if(n.gte(1e6))return`F${D(n.floor())}`;const i=n.sub(n.floor()).pow10(),r=n.floor();return`${i.toStringWithDecimalPlaces(3)}F${Ln(r,0)}`}function Nr(e,n=$e.backupNumberFormat,i=ve.defaultDigitsShown+1,r="total",s=!1){i<3&&(i=3);const[l,m]=ko(e,i);if(typeof m=="string"){if(s)return`1 ${m}`;switch(r){case"decimal":return`${on(l,i)} ${m}`;case"total":return`${l.toPrecision(i)} ${m}`}}if(m.eq(0))switch(r){case"decimal":return on(l,i);case"total":return l.toPrecision(i)}switch(n){case Le.thousands:return Bi(e,i,void 0,s);case Le.engineering:return Ri(e,i,void 0,s);case Le.scientific:return wn(e,i-1,void 0,s)}}function ko(e,n=ve.defaultDigitsShown+1){let[r,s]=qr(e,n);if(s.gt(1e3))return[r,s];if(s.eq(0))return[r,s];if(s.eq(1))return[r,"K"];if(s.eq(2))return[r,"M"];if(s.eq(3))return[r,"B"];const l=s.minus(1).toNumber(),m=l%10,c=Math.trunc(l%100/10),d=Math.trunc(l%1e3/100);return[r,[Fi(m),So(c,m),Co(d)].join("")]}function Fi(e){switch(e){default:return"";case 1:return"U";case 2:return"D";case 3:return"T";case 4:return"Qa";case 5:return"Qi";case 6:return"Sx";case 7:return"Sp";case 8:return"Oc";case 9:return"No"}}function So(e,n){return e===0?"":e===1?n===0?"Dc":"D":e===2?"Vg":`${Fi(e)}g`}function Co(e){return e===0?"":e===1?"C":`${Fi(e)}C`}function Bi(e,n=ve.defaultDigitsShown+1,i="total",r=!1){n<3&&(n=3);const[s,l]=qr(e,n,i);if(l.eq(0))switch(i){case"decimal":return on(s);case"total":return s.toPrecision(n)}if(r)return`t${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${on(s)}t${l.toStringWithDecimalPlaces(0)}`;case"total":return`${s.toPrecision(n)}t${l.toStringWithDecimalPlaces(0)}`}}function qr(e,n=ve.defaultDigitsShown+1,i="total"){let[r,s]=Ir(e,n,i);return[r,s.div(3)]}function Ri(e,n=ve.defaultDigitsShown+1,i="total",r=!1){n<3&&(n=3);const[s,l]=Ir(e,n,i);if(l.eq(0))switch(i){case"decimal":return on(s);case"total":return s.toPrecision(n)}if(r)return`e${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${s.toStringWithDecimalPlaces(n)}e${l.toStringWithDecimalPlaces(0)}`;case"total":return`${s.toPrecision(n)}e${l.toStringWithDecimalPlaces(0)}`}}function Ir(e,n=ve.defaultDigitsShown+1,i="total"){let[r,s]=$r(e,n,i);if(s.gte(Number.MAX_SAFE_INTEGER))return[r,s];const l=s.toNumber()%3;return[o.pow10(l).times(r),s.minus(l)]}const No=wn;function wn(e,n=ve.defaultDigitsShown,i="decimal",r=!1){let[s,l]=$r(e,n,i);const m=l.gte(1e9)?D(l,Math.max(n,3,ve.defaultDigitsShown)):l.gte(1e4)?Ln(l,0):l.toStringWithDecimalPlaces(0);return r?`e${m}`:`${(()=>{switch(i){case"decimal":return on(s);case"total":return s.toPrecision(n)}})()}e${m}`}function $r(e,n=ve.defaultDigitsShown,i="decimal"){let r=o.log10(e).floor(),s=o.div(e,r.pow10());return(()=>{switch(i){case"decimal":return s.toStringWithDecimalPlaces(n);case"total":return s.toPrecision(n)}})()==="10"&&(s=o.dOne,r=r.plus(1)),[s,r]}function Ln(e,n=ve.defaultDigitsShown,i="decimal"){if(e=new o(e),e.lt(xi))return 0 .toFixed(n);const s=(()=>{switch(i){case"decimal":return e.toStringWithDecimalPlaces(n);case"total":return e.toStringWithDecimalPlaces(Math.max(n-e.log10().floor().toNumber(),0))}})().split(".");return s[0]=s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),s.join(".")}function on(e,n=ve.defaultDigitsShown){return e=new o(e),e.lt(xi)?0 .toFixed(n):(e.lt(.1)&&n>0&&(n=Math.max(n,e.log10().negate().ceil().toNumber(),ve.defaultDigitsShown)),e.toStringWithDecimalPlaces(n))}const wi=60,qo=60,Io=24,$o=365,ki=wi*qo,Si=ki*Io,hi=Si*$o;function Ei(e){if(e=new o(e),e.lt(0))return`-${Ei(e.negate())}`;if(e.gt(Number.MAX_SAFE_INTEGER))return`${D(e.div(hi))}y`;e=e.toNumber();const n=Math.floor(e/hi);e-=n*hi;const i=Math.floor(e/Si);e-=i*Si;const r=Math.floor(e/ki);e-=r*ki;const s=Math.floor(e/wi);e-=s*wi;const l=e.toPrecision(2),m=String(i).padStart(3),c=String(r).padStart(2),d=String(s).padStart(2),p=l.padStart(2);return n>0?`${n}y ${m}d ${c}h`:i>0?`${m}d ${c}h ${d}m`:r>0?`${c}h ${d}m ${p}s`:s>0?`${d}m ${p}s`:`${p}s`}function Mo(e,n,i){e=new o(e);let r=e.toStringWithDecimalPlaces(n);return o.gte(r,i)&&(r=o.minus(i,Math.pow(.1,n)).toStringWithDecimalPlaces(n)),r}function vt(e,n=ve.defaultDigitsShown,i=$e.numberFormat){return D(e,n,!0,i)}function Mr(e){const n=o.log10(e).ceil(),i=o.divide(e,n.pow10());return n.negate().pow10().times(i)}var Po=Object.freeze(Object.defineProperty({__proto__:null,default:o,PrecisionType:Ai,format:D,formatWhole:Z,slogFormat:Cr,standardNotation:Nr,thousandsNotation:Bi,engineeringNotation:Ri,exponentialFormat:No,scientificNotation:wn,commaFormat:Ln,regularFormat:on,formatTime:Ei,toPlaces:Mo,formatSmall:vt,invertOOM:Mr},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:To,commaFormat:xo,regularFormat:Ao,format:li,formatWhole:mn,formatTime:Oi,toPlaces:Fo,formatSmall:mi,invertOOM:Bo}=Po;window.Decimal=o;window.exponentialFormat=(e,n,i)=>To(e,n,Ai.decimal,!i);window.commaFormat=xo;window.regularFormat=Ao;window.format=li;window.formatWhole=mn;window.formatTime=Oi;window.toPlaces=Fo;window.formatSmall=mi;window.invertOOM=Bo;function Pr(e){let n=e.replace(/([A-Z])/g," $1");return n=n.charAt(0).toUpperCase()+n.slice(1),n}function Ro(e){return(e[0]+e.slice(1).replace(/[A-Z]/g,n=>`-${n}`)).toLowerCase()}function jn(e){return typeof e=="function"}var Oe=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(Oe||{});const Vn=Symbol("DoNotCache");function U(e,n){const i=e[n];jn(i)&&i.length===0&&!i[Vn]?e[n]=_(i.bind(e)):jn(i)&&(e[n]=i.bind(e),e[n][Vn]=!0)}function ct(e){return jn(e)&&!e[Vn]&&(e=_(e)),e}const lt=Symbol("Component"),gt=Symbol("GatherProps");let Eo=0;function Rt(e="feature-"){return e+Eo++}var Me=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(Me||{});function _e(e){const n=t(e);return n!==2&&n!==!1}function Vt(e){return t(e)===1}function q(e){return e[Vn]=!0,e}function Fe(e,n,i){e[n]===void 0&&i!=null&&(e[n]=i)}function Tr(e,...n){const i=[],r=s=>{Object.keys(s).forEach(l=>{const m=s[l];m!=null&&typeof m=="object"&&(n.includes(m.type)?i.push(m):!(m instanceof o)&&!De(m)&&r(m))})};return r(e),i}var Qe=window.state=ci({lastTenTicks:[],hasNaN:!1,NaNPath:[],errors:In([])});const Oo={class:"table"},Nn=ie({__name:"Column",setup(e){const n=_(()=>$n[$e.theme].mergeAdjacent);return(i,r)=>(I(),F("div",Oo,[M("div",{class:Te(["col",{mergeAdjacent:t(n)}])},[jt(i.$slots,"default")],2)]))}}),Do={class:"table"},Mn=ie({__name:"Row",setup(e){const n=_(()=>$n[$e.theme].mergeAdjacent);return(i,r)=>(I(),F("div",Do,[M("div",{class:Te(["row",{mergeAdjacent:t(n)}])},[jt(i.$slots,"default")],2)]))}});function Di(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fr(e)}function oe(e,n="span"){return typeof e=="function"?ie({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${n}>${e}</${n}>`),ie({template:e})):ie({render:()=>({})}):e}function te(e){if(bt(e))return typeof e=="function"?e():oe(e);const n=e[lt];return a(n,e[gt](),null)}function nn(...e){let n;return a(Mn,null,Di(n=e.map(te))?n:{default:()=>[n]})}function vi(...e){let n;return a(Nn,null,Di(n=e.map(te))?n:{default:()=>[n]})}function Ft(e){if(bt(e))return typeof e=="function"?e():typeof e=="string"?a(g,null,[e]):a(e,null,null);const n=e[lt];return a(n,e[gt](),null)}function Lo(...e){let n;return a(Mn,null,Di(n=e.map(Ft))?n:{default:()=>[n]})}function Ci(e,n){return e.reduce((i,r)=>a(g,null,[i,n,r]))}function bt(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[Vn]===!0}function xr(e,n){const i=pe(null),r=pe(void 0);function s(c){i.value||(i.value=setInterval(m,250)),r.value=c}function l(){i.value&&(clearInterval(i.value),i.value=null)}function m(){n&&n.value?n.value():e&&e.value&&e.value(r.value)}return pr(l),{start:s,stop:l,handleHolding:m}}function Li(e,n="div"){const i=ft();return kt(()=>{i.value=oe(Se(e),n)}),i}function Gn(e,n="div"){const i=ft(null);return kt(()=>{const r=Se(e);i.value=r==""||r==null?null:oe(r,n)}),i}function Se(e){return t(t(e))}function ee(...e){return e.includes(Object)||e.push(Object),e}function jo(e){return Object.keys(e).reduce((n,i)=>(n[Ro(i)]=e[i],n),{})}const Vo=ie({__name:"Context",emits:["updateNodes"],setup(e,{emit:n}){var h;const i=pe({}),r=new ResizeObserver(c),s=pe(null);zn(()=>{const f=s.value;f!=null&&r.observe(f)});let l=!0,m=pe((h=s.value)==null?void 0:h.getBoundingClientRect());function c(){l&&(l=!1,sn(()=>{var f;m.value=(f=s.value)==null?void 0:f.getBoundingClientRect(),Object.values(i.value).filter(N=>N).forEach(N=>N.rect=N.element.getBoundingClientRect()),n("updateNodes",i.value),l=!0}))}ut.on("fontsLoaded",c);const d={attributes:!1,childList:!0,subtree:!1};Zn(ji,(f,N)=>{const w=new MutationObserver(()=>p(f));w.observe(N,d),i.value[f]={element:N,observer:w,rect:N.getBoundingClientRect()},c()}),Zn(Vi,f=>{var N;(N=i.value[f])==null||N.observer.disconnect(),i.value[f]=void 0,c()}),Zn(Ui,i),Zn(zi,m);function p(f){const N=i.value[f];N!=null&&(N.rect=N.element.getBoundingClientRect(),n("updateNodes",i.value))}return(f,N)=>(I(),F(g,null,[jt(f.$slots,"default",{},void 0,!0),M("div",{ref_key:"resizeListener",ref:s,class:"resize-listener"},null,512)],64))}});var Ar=ge(Vo,[["__scopeId","data-v-2b1dc1bc"]]);const Uo=["onPointerdown"],zo={class:"modal-wrapper"},Go={class:"modal-container"},Ho={class:"modal-header"},Wo={class:"modal-body"},Yo={class:"modal-footer"},Xo=M("div",{class:"modal-default-flex-grow"},null,-1),fn=ie({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const s=et(e),l=_(()=>t(s.modelValue)||c.value);function m(){i("update:modelValue",!1)}const c=pe(!1),d=pe(null),p=_(()=>{var h,f;return(f=(h=d.value)==null?void 0:h.nodes)!=null?f:null});return n({isOpen:l,nodes:p}),(h,f)=>(I(),ne(Zr,{to:"#modal-root"},[a(gr,{name:"modal",onBeforeEnter:f[0]||(f[0]=N=>c.value=!0),onAfterLeave:f[1]||(f[1]=N=>c.value=!1)},{default:fe(()=>[Ii(M("div",qt({class:"modal-mask",onPointerdown:En(m,["self"])},h.$attrs),[M("div",zo,[M("div",Go,[M("div",Ho,[jt(h.$slots,"header",{shown:t(l)},()=>[u(" default header ")])]),M("div",Wo,[a(Ar,{ref_key:"contextRef",ref:d},{default:fe(()=>[jt(h.$slots,"body",{shown:t(l)},()=>[u(" default body ")])]),_:3},512)]),M("div",Yo,[jt(h.$slots,"footer",{shown:t(l)},()=>[M("div",{class:"modal-default-footer"},[Xo,M("button",{class:"button modal-default-button",onClick:m}," Close ")])])])])])],16,Uo),[[Kr,e.modelValue]])]),_:3})]))}}),Fr=o.ln(10);function si(e){return e}function An(e,...n){const i=n.find(r=>G(r));return i==null?(console.error("Could not invert due to no input being a variable"),0):i.invert(e)}function Qo(e,n){return G(n)?n.invert(o.neg(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ko(e,n){return G(n)?n.isIntegrable()?v.neg(n.getIntegralFormula(e)):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function Zo(e){return v.neg(e)}function Jo(e,n,i){return G(n)?n.invert(o.sub(e,Ke(i))):G(i)?i.invert(o.sub(e,Ke(n))):(console.error("Could not invert due to no input being a variable"),0)}function ea(e,n,i){var r,s;if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=n.getIntegralFormula(e);return v.times(i,(r=n.innermostVariable)!=null?r:0).add(l)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=i.getIntegralFormula(e);return v.times(n,(s=i.innermostVariable)!=null?s:0).add(l)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ta(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.add(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.add(r,n)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function na(e,n,i){return G(n)?n.invert(o.add(e,Ke(i))):G(i)?i.invert(o.sub(Ke(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ia(e,n,i){var r,s;if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=n.getIntegralFormula(e);return v.sub(l,v.times(i,(r=n.innermostVariable)!=null?r:0))}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=i.getIntegralFormula(e);return v.times(n,(s=i.innermostVariable)!=null?s:0).sub(l)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ra(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.sub(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.sub(r,n)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function sa(e,n,i){return G(n)?n.invert(o.div(e,Ke(i))):G(i)?i.invert(o.div(e,Ke(n))):(console.error("Could not invert due to no input being a variable"),0)}function oa(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.times(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.times(r,n)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function aa(e,n,i){return G(n)?v.div(e,i):G(i)?v.div(e,n):(console.error("Could not apply substitution due to no input being a variable"),v.constant(0))}function la(e,n,i){return G(n)?n.invert(o.mul(e,Ke(i))):G(i)?i.invert(o.div(Ke(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ua(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.div(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.div(n,r)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ca(e,n,i){return G(n)?v.mul(e,i):G(i)?v.mul(e,n):(console.error("Could not apply substitution due to no input being a variable"),v.constant(0))}function da(e,n){return G(n)?n.invert(o.recip(e)):(console.error("Could not invert due to no input being a variable"),0)}function ma(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.ln(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function pa(e,n){return G(n)?n.invert(o.pow10(e)):(console.error("Could not invert due to no input being a variable"),0)}function fa(e){return o.ln(e).sub(1).times(e).div(Fr)}function ga(e,n){if(G(n)){const i=Fr.times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function ba(e,n){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e)],evaluate:fa,invert:ga}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function ha(e,n,i){return G(n)?n.invert(o.pow(Ke(i),e)):G(i)?i.invert(o.root(Ke(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function va(e,n){return o.ln(e).sub(1).times(e).div(o.ln(n))}function ya(e,n,i){if(G(n)){const r=o.ln(Ke(i)).times(e);return n.invert(r.div(r.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function _a(e,n,i){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e),i],evaluate:va,invert:ya}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function wa(e,n){return G(n)?n.invert(o.pow(2,e)):(console.error("Could not invert due to no input being a variable"),0)}function ka(e){return o.ln(e).sub(1).times(e).div(o.ln(2))}function Sa(e,n){if(G(n)){const i=o.ln(2).times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ca(e,n){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e)],evaluate:ka,invert:Sa}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function Na(e,n){return G(n)?n.invert(o.exp(e)):(console.error("Could not invert due to no input being a variable"),0)}function qa(e){return o.ln(e).sub(1).times(e)}function Ia(e,n){return G(n)?n.invert(o.div(e,o.div(e,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function $a(e,n){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e)],evaluate:qa,invert:Ia}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function Ma(e,n,i){return G(n)?n.invert(o.root(e,Ke(i))):G(i)?i.invert(o.ln(e).div(o.ln(Ke(n)))):(console.error("Could not invert due to no input being a variable"),0)}function Pa(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e),s=v.add(i,1);return v.pow(r,s).div(s)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.pow(n,r).div(v.ln(n))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ta(e,n){return G(n)?n.invert(o.root(e,10)):(console.error("Could not invert due to no input being a variable"),0)}function xa(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.pow10(i).div(v.ln(10))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Aa(e,n,i){return G(n)?n.invert(o.ln(e).div(o.ln(Ke(i)))):G(i)?i.invert(o.root(Ke(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function Fa(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.pow(i,r).div(v.ln(i))}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e),s=v.add(n,1);return v.pow(r,s).div(s)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ba(e,n,i){return G(n)?n.invert(o.root(e,o.recip(Ke(i)))):G(i)?i.invert(o.ln(Ke(n)).div(o.ln(e))):(console.error("Could not invert due to no input being a variable"),0)}function Ra(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.pow(r,v.recip(i).add(1)).times(i).div(v.add(i,1))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ea(e,n){return G(n)?n.invert(o.ln(e)):(console.error("Could not invert due to no input being a variable"),0)}function Oa(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.exp(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Da(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const r=o.minabs(n,1e308).toNumber();return o.tetrate(e,r,i)}function La(e,n,i,r){return G(n)?n.invert(o.ssqrt(e)):(console.error("Could not invert due to no input being a variable"),0)}function ja(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const r=o.minabs(n,1e308).toNumber();return o.iteratedexp(e,r,new o(i))}function Va(e,n,i,r){return G(n)?n.invert(o.iteratedlog(e,Math.E,o.minabs(1e308,Ke(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Ua(e,n=10,i=2){const r=o.minabs(i,1e308).toNumber();return o.iteratedlog(e,n,r)}function za(e,n=10){const i=o.minabs(n,1e308).toNumber();return o.slog(e,i)}function Ga(e,n,i){return G(n)?n.invert(o.tetrate(e,o.minabs(1e308,Ke(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Ha(e,n,i){const r=o.minabs(n,1e308).toNumber();return o.layeradd(e,r,i)}function Wa(e,n,i,r){return G(n)?n.invert(o.layeradd(e,o.minabs(1e308,Ke(i)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Ya(e,n){return G(n)?n.invert(o.pow(Math.E,e).times(e)):(console.error("Could not invert due to no input being a variable"),0)}function Xa(e,n){return G(n)?n.invert(o.tetrate(e,2)):(console.error("Could not invert due to no input being a variable"),0)}function Qa(e,n,i){const r=o.minabs(n,1e308).toNumber();return o.pentate(e,r,i)}function Ka(e,n){return G(n)?n.invert(o.asin(e)):(console.error("Could not invert due to no input being a variable"),0)}function Za(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cos(i).neg()}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ja(e,n){return G(n)?n.invert(o.acos(e)):(console.error("Could not invert due to no input being a variable"),0)}function el(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.sin(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function tl(e,n){return G(n)?n.invert(o.atan(e)):(console.error("Could not invert due to no input being a variable"),0)}function nl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cos(i).ln().neg()}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function il(e,n){return G(n)?n.invert(o.sin(e)):(console.error("Could not invert due to no input being a variable"),0)}function rl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.asin(i).times(i).add(v.sqrt(v.sub(1,v.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function sl(e,n){return G(n)?n.invert(o.cos(e)):(console.error("Could not invert due to no input being a variable"),0)}function ol(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.acos(i).times(i).sub(v.sqrt(v.sub(1,v.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function al(e,n){return G(n)?n.invert(o.tan(e)):(console.error("Could not invert due to no input being a variable"),0)}function ll(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.atan(i).times(i).sub(v.ln(v.pow(i,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ul(e,n){return G(n)?n.invert(o.asinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function cl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cosh(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function dl(e,n){return G(n)?n.invert(o.acosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function ml(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.sinh(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function pl(e,n){return G(n)?n.invert(o.atanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function fl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cosh(i).ln()}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function gl(e,n){return G(n)?n.invert(o.sinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function bl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.asinh(i).times(i).sub(v.pow(i,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function hl(e,n){return G(n)?n.invert(o.cosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function vl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.acosh(i).times(i).sub(v.add(i,1).sqrt().times(v.sub(i,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function yl(e,n){return G(n)?n.invert(o.tanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function _l(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.atanh(i).times(i).add(v.sub(1,v.pow(i,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Pn(e){return(n,i)=>new v({inputs:[n,i],evaluate:e,invert:si})}function G(e){return e instanceof Ye&&e.hasVariable()}function Ke(e,n){return e instanceof Ye?e.evaluate(n):t(e)}function wl(){return v.pow(this,2).div(2)}function kl(){return this}const Je=class{constructor(e){this.negate=this.neg,this.negated=this.neg,this.sgn=this.sign,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mul,this.times=this.mul,this.divide=this.div,this.divideBy=this.div,this.dividedBy=this.div,this.reciprocal=this.recip,this.reciprocate=this.recip,this.logarithm=this.log;let n;"inputs"in e&&(e.inputs=e.inputs.map(i=>typeof i=="object"&&zt in i?i[zt]:i)),"variable"in e?(typeof e.variable=="object"&&zt in e.variable&&(e.variable=e.variable[zt]),n=this.setupVariable(e)):"evaluate"in e?n=this.setupFormula(e):n=this.setupConstant(e),this.inputs=n.inputs,this.internalVariables=n.internalVariables,this.innermostVariable=n.innermostVariable,this.internalEvaluate=n.internalEvaluate,this.internalInvert=n.internalInvert,this.internalIntegrate=n.internalIntegrate,this.internalIntegrateInner=n.internalIntegrateInner,this.applySubstitution=n.applySubstitution}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:wl,internalIntegrateInner:kl,applySubstitution:si}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){var N,w;const{inputs:n,evaluate:i,invert:r,integrate:s,integrateInner:l,applySubstitution:m}=e,c=n.reduce((S,C)=>S+(C instanceof Je?C.internalVariables:0),0),d=n.find(S=>S instanceof Je&&S.hasVariable()),p=c===1?d==null?void 0:d.innermostVariable:void 0,h=(N=d==null?void 0:d.isInvertible())!=null?N:!1,f=(w=d==null?void 0:d.isIntegrable())!=null?w:!1;return{inputs:n,internalEvaluate:i,internalInvert:h?r:void 0,internalIntegrate:f?s:void 0,internalIntegrateInner:l,applySubstitution:m,innermostVariable:p,internalVariables:c}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var n,i,r;return(r=(i=(n=this.internalEvaluate)==null?void 0:n.call(this,...this.inputs.map(s=>Ke(s,e))))!=null?i:this.hasVariable()?e:null)!=null?r:Ke(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((n,i)=>n instanceof Je&&e.inputs[i]instanceof Je?n.equals(e.inputs[i]):!(n instanceof Je)&&!(e.inputs[i]instanceof Je)&&o.eq(t(n),t(e.inputs[i])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new v({inputs:[e]})}static variable(e){return new v({variable:e})}static step(e,n,i){const r=i(v.variable(0)),s=ct(n);function l(c){return o.lt(c,t(s))?c:o.add(r.evaluate(o.sub(c,t(s))),t(s))}function m(c,d){return G(d)&&r.isInvertible()?(o.gt(c,t(s))&&(c=o.add(r.invert(o.sub(c,t(s))),t(s))),d.invert(c)):(console.error("Could not invert due to no input being a variable"),0)}return new v({inputs:[e],evaluate:l,invert:r.isInvertible()&&r.hasVariable()?m:void 0})}static if(e,n,i,r){const s=pe(0),l=v.variable(s),m=i(l),c=r==null?void 0:r(l),d=ct(n);function p(f){return t(d)?(s.value=f,m.evaluate()):c?(s.value=f,c.evaluate()):f}function h(f,N){return!G(N)||!m.isInvertible()||c!=null&&!c.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):t(d)?N.invert(m.invert(f)):c?N.invert(c.invert(f)):N.invert(f)}return new v({inputs:[e],evaluate:p,invert:m.isInvertible()&&m.hasVariable()?h:void 0})}static conditional(e,n,i,r){return v.if(e,n,i,r)}static abs(e){return new v({inputs:[e],evaluate:o.abs})}static neg(e){return new v({inputs:[e],evaluate:o.neg,invert:Qo,applySubstitution:Zo,integrate:Ko})}static sign(e){return new v({inputs:[e],evaluate:o.sign})}static round(e){return new v({inputs:[e],evaluate:o.round,invert:An})}static floor(e){return new v({inputs:[e],evaluate:o.floor,invert:An})}static ceil(e){return new v({inputs:[e],evaluate:o.ceil,invert:An})}static trunc(e){return new v({inputs:[e],evaluate:o.trunc,invert:An})}static add(e,n){return new v({inputs:[e,n],evaluate:o.add,invert:Jo,integrate:ea,integrateInner:ta,applySubstitution:si})}static sub(e,n){return new v({inputs:[e,n],evaluate:o.sub,invert:na,integrate:ia,integrateInner:ra,applySubstitution:si})}static mul(e,n){return new v({inputs:[e,n],evaluate:o.mul,invert:sa,integrate:oa,applySubstitution:aa})}static div(e,n){return new v({inputs:[e,n],evaluate:o.div,invert:la,integrate:ua,applySubstitution:ca})}static recip(e){return new v({inputs:[e],evaluate:o.recip,invert:da,integrate:ma})}static clamp(e,n,i){return new v({inputs:[e,n,i],evaluate:o.clamp,invert:An})}static pLog10(e){return new v({inputs:[e],evaluate:o.pLog10})}static absLog10(e){return new v({inputs:[e],evaluate:o.absLog10})}static log10(e){return new v({inputs:[e],evaluate:o.log10,invert:pa,integrate:ba})}static log(e,n){return new v({inputs:[e,n],evaluate:o.log,invert:ha,integrate:_a})}static log2(e){return new v({inputs:[e],evaluate:o.log2,invert:wa,integrate:Ca})}static ln(e){return new v({inputs:[e],evaluate:o.ln,invert:Na,integrate:$a})}static pow(e,n){return new v({inputs:[e,n],evaluate:o.pow,invert:Ma,integrate:Pa})}static pow10(e){return new v({inputs:[e],evaluate:o.pow10,invert:Ta,integrate:xa})}static pow_base(e,n){return new v({inputs:[e,n],evaluate:o.pow_base,invert:Aa,integrate:Fa})}static root(e,n){return new v({inputs:[e,n],evaluate:o.root,invert:Ba,integrate:Ra})}static factorial(e){return new v({inputs:[e],evaluate:o.factorial})}static gamma(e){return new v({inputs:[e],evaluate:o.gamma})}static lngamma(e){return new v({inputs:[e],evaluate:o.lngamma})}static exp(e){return new v({inputs:[e],evaluate:o.exp,invert:Ea,integrate:Oa})}static sqr(e){return v.pow(e,2)}static sqrt(e){return v.root(e,2)}static cube(e){return v.pow(e,3)}static cbrt(e){return v.root(e,3)}static tetrate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new v({inputs:[e,n,i],evaluate:Da,invert:La})}static iteratedexp(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new v({inputs:[e,n,i],evaluate:ja,invert:Va})}static iteratedlog(e,n=10,i=1){return new v({inputs:[e,n,i],evaluate:Ua})}static slog(e,n=10){return new v({inputs:[e,n],evaluate:za,invert:Ga})}static layeradd10(e,n){return new v({inputs:[e,n],evaluate:o.layeradd10})}static layeradd(e,n,i=10){return new v({inputs:[e,n,i],evaluate:Ha,invert:Wa})}static lambertw(e){return new v({inputs:[e],evaluate:o.lambertw,invert:Ya})}static ssqrt(e){return new v({inputs:[e],evaluate:o.ssqrt,invert:Xa})}static pentate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new v({inputs:[e,n,i],evaluate:Qa})}static sin(e){return new v({inputs:[e],evaluate:o.sin,invert:il,integrate:Za})}static cos(e){return new v({inputs:[e],evaluate:o.cos,invert:sl,integrate:el})}static tan(e){return new v({inputs:[e],evaluate:o.tan,invert:al,integrate:nl})}static asin(e){return new v({inputs:[e],evaluate:o.asin,invert:Ka,integrate:rl})}static acos(e){return new v({inputs:[e],evaluate:o.acos,invert:Ja,integrate:ol})}static atan(e){return new v({inputs:[e],evaluate:o.atan,invert:tl,integrate:ll})}static sinh(e){return new v({inputs:[e],evaluate:o.sinh,invert:gl,integrate:cl})}static cosh(e){return new v({inputs:[e],evaluate:o.cosh,invert:hl,integrate:ml})}static tanh(e){return new v({inputs:[e],evaluate:o.tanh,invert:yl,integrate:fl})}static asinh(e){return new v({inputs:[e],evaluate:o.asinh,invert:ul,integrate:bl})}static acosh(e){return new v({inputs:[e],evaluate:o.acosh,invert:dl,integrate:vl})}static atanh(e){return new v({inputs:[e],evaluate:o.atanh,invert:pl,integrate:_l})}step(e,n){return v.step(this,e,n)}if(e,n,i){return v.if(this,e,n,i)}conditional(e,n,i){return v.if(this,e,n,i)}abs(){return v.abs(this)}neg(){return v.neg(this)}sign(){return v.sign(this)}round(){return v.round(this)}floor(){return v.floor(this)}ceil(){return v.ceil(this)}trunc(){return v.trunc(this)}add(e){return v.add(this,e)}sub(e){return v.sub(this,e)}mul(e){return v.mul(this,e)}div(e){return v.div(this,e)}recip(){return v.recip(this)}max(e){return v.max(this,e)}min(e){return v.min(this,e)}maxabs(e){return v.maxabs(this,e)}minabs(e){return v.minabs(this,e)}clamp(e,n){return v.clamp(this,e,n)}clampMin(e){return v.clampMin(this,e)}clampMax(e){return v.clampMax(this,e)}pLog10(){return v.pLog10(this)}absLog10(){return v.absLog10(this)}log10(){return v.log10(this)}log(e){return v.log(this,e)}log2(){return v.log2(this)}ln(){return v.ln(this)}pow(e){return v.pow(this,e)}pow10(){return v.pow10(this)}pow_base(e){return v.pow_base(this,e)}root(e){return v.root(this,e)}factorial(){return v.factorial(this)}gamma(){return v.gamma(this)}lngamma(){return v.lngamma(this)}exp(){return v.exp(this)}sqr(){return v.pow(this,2)}sqrt(){return v.root(this,2)}cube(){return v.pow(this,3)}cbrt(){return v.root(this,3)}tetrate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return v.tetrate(this,e,n)}iteratedexp(e=2,n=o.fromComponents_noNormalize(1,0,1)){return v.iteratedexp(this,e,n)}iteratedlog(e=10,n=1){return v.iteratedlog(this,e,n)}slog(e=10){return v.slog(this,e)}layeradd10(e){return v.layeradd10(this,e)}layeradd(e,n){return v.layeradd(this,e,n)}lambertw(){return v.lambertw(this)}ssqrt(){return v.ssqrt(this)}pentate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return v.pentate(this,e,n)}sin(){return v.sin(this)}cos(){return v.cos(this)}tan(){return v.tan(this)}asin(){return v.asin(this)}acos(){return v.acos(this)}atan(){return v.atan(this)}sinh(){return v.sinh(this)}cosh(){return v.cosh(this)}tanh(){return v.tanh(this)}asinh(){return v.asinh(this)}acosh(){return v.acosh(this)}atanh(){return v.atanh(this)}};let Ye=Je;Ye.negate=Je.neg;Ye.negated=Je.neg;Ye.sgn=Je.sign;Ye.plus=Je.add;Ye.subtract=Je.sub;Ye.minus=Je.sub;Ye.multiply=Je.mul;Ye.times=Je.mul;Ye.divide=Je.div;Ye.divideBy=Je.div;Ye.dividedBy=Je.div;Ye.reciprocal=Je.recip;Ye.reciprocate=Je.recip;Ye.max=Pn(o.max);Ye.min=Pn(o.min);Ye.minabs=Pn(o.minabs);Ye.maxabs=Pn(o.maxabs);Ye.clampMin=Pn(o.clampMin);Ye.clampMax=Pn(o.clampMax);Ye.logarithm=Je.log;class v extends Ye{invert(n){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,n,...this.inputs):this.inputs.length===1&&this.hasVariable()?n:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(n){return this.isIntegrable()?this.getIntegralFormula().evaluate(n):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(n){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(n)}calculateConstantOfIntegration(){const n=this.getIntegralFormula().evaluate(1),i=o.add(this.evaluate(0),this.evaluate(1)).div(2);return o.sub(i,n)}getIntegralFormula(n){if(this.integralFormula!=null&&n==null)return this.integralFormula;if(n==null){if(this.applySubstitution==null){if(n=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),v.constant(0);let i=this.internalIntegrate.call(this,n,...this.inputs);n.forEach(r=>i=r(i)),this.integralFormula=i}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),v.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),v.constant(0)):(n.push(i=>this.applySubstitution.call(this,i,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,n,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,n,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),v.constant(0)))}}function Sl(e,n,i=!0,r,s=o.dInf){const l=ct(i),m=ct(r),c=ct(s);return _(()=>{var N,w,S,C;const d=t(c);if(o.eq(d,1))return o.gte(n.value,e.evaluate())?o.dOne:o.dZero;const p=t(l),h=(N=t(m))!=null?N:p?10:0;let f=0;if(o.gt(d,h)){if(!e.isInvertible())return console.error("Cannot calculate max affordable of non-invertible formula with more maxBulkAmount than directSum"),0;if(p){if(!e.isIntegralInvertible())return console.error("Cannot calculate max affordable of formula with non-invertible integral"),0;f=o.floor(e.invertIntegral(o.add(n.value,e.evaluateIntegral()))).sub((w=t(e.innermostVariable))!=null?w:0)}else f=o.floor(e.invert(n.value))}if(f=o.clampMax(f,d),h>0){const E=f;f=o.sub(f,h).clampMin(0);let B;for(p?B=Gt(e,f,!0,0):B=e.evaluate(o.add((S=t(e.innermostVariable))!=null?S:0,f));o.lt(f,d)&&o.lt(f,Number.MAX_SAFE_INTEGER)&&o.add(E,1).gte(f);){const R=e.evaluate(f.add((C=t(e.innermostVariable))!=null?C:0));if(o.add(B,R).lte(n.value))f=f.add(1),B=o.add(B,R);else break}}return f})}function Gt(e,n,i=!0,r){var d;if(o.eq(n,1))return e.evaluate();const s=(d=t(e.innermostVariable))!=null?d:0;let l=o.add(n,s);const m=l;r!=null||(r=i?10:0),l=l.sub(r).clampMin(s);let c=0;if(o.gt(n,r)){if(!e.isInvertible())return console.error("Cannot calculate cost with indirect sum of non-invertible formula"),0;if(i){if(!e.isIntegrable())return console.error("Cannot calculate cost with cumulative cost of non-integrable formula"),0;if(c=o.sub(e.evaluateIntegral(l),e.evaluateIntegral()),m.gt(1e308))return o.add(c,o.sub(m,l).times(e.evaluate(l)))}else if(c=e.evaluate(l),l=l.add(1),m.gt(1e308))return o.sub(m,l).add(1).times(c)}for(let p=l.toNumber();p<m.toNumber();p++)c=o.add(c,e.evaluate(p));return c}const rn=Symbol("PersistentState"),Ut=Symbol("DefaultValue"),ui=Symbol("StackTrace"),Ni=Symbol("Deleted"),zt=Symbol("NonPersistent"),dn=Symbol("SaveDataPath"),Lt=Symbol("SkipPersistence");function Cl(){var e,n;return(n=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(i=>i.trim()).join(`
`))!=null?n:""}function ar(e,n){var i;o.isNaN(n)&&(Qe.hasNaN||(he.autosave=!1,Qe.hasNaN=!0,Qe.NaNPath=e[dn],Qe.NaNPersistent=e),console.error(`Attempted to save NaN value to ${(i=e[dn])==null?void 0:i.join(".")}`)),e[rn].value=n}function qe(e,n=!0){const i=De(e)?e:pe(e);De(e)&&(e=e.value);const r=_({get(){return i.value},set(l){n?ar(s,l):s[rn].value=l}});r[Ut]=e;const s={get value(){return i.value},set value(l){n?ar(s,l):s[rn].value=l},__v_isRef:!0,[rn]:i,[Ut]:e,[ui]:Cl(),[Ni]:!1,[zt]:r,[dn]:void 0};return Et.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",s,`
Created at:
`+s[ui]):kn[Et[Et.length-1]].add(s),s}function Nl(e){return e!=null&&typeof e=="object"&&rn in e}function x(e){return!(en in e)&&zt in e?e[zt]:new Proxy(e,{get(n,i){if(i!==rn)return i===Lt?!0:n[i]},set(n,i,r){return n[i]=r,!0},has(n,i){return i===rn?!1:i==Lt?!0:Reflect.has(n,i)}})}ut.on("addLayer",(e,n)=>{const i=[],r=(s,l=[])=>{let m=!1;return Object.keys(s).forEach(c=>{let d=s[c];if(d!=null&&typeof d=="object"){if(d[Lt]===!0)return;if(en in d&&(d=d[en]),Nl(d)){if(m=!0,d[Ni]){console.warn("Deleted persistent ref present in returned object. Ignoring...",d,`
Created at:
`+d[ui]);return}kn[e.id].delete(d);const p=[e.id,...l,c];d[dn]!=null&&JSON.stringify(p)!==JSON.stringify(d[dn])&&console.error(`Persistent ref is being saved to \`${p.join(".")}\` when it's already present at \`${d[dn].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),d[dn]=p;const h=l.reduce((N,w)=>(w in N||(N[w]={}),N[w]),n),f=h[c];h[c]=d[rn],Jr(h)?f!=null?h[c]=f:h[c]=d[Ut]:f!=null?h[c].value=f:h[c].value=d[Ut]}else!(d instanceof o)&&!(d instanceof v)&&!De(d)&&!i.includes(d)&&(typeof d.type=="symbol"&&i.push(d),r(d,[...l,c])&&(Wt(d)&&!Wt(s)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",en in s?s[en]:s,c):m=!0))}}),m};r(e[en]),kn[e.id].forEach(s=>{s[Ni]||console.error(`Created persistent ref in ${e.id} without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+s[ui])}),kn[e.id].clear()});const en=Symbol("ProxyState");function Ge(e,n={}){const i=n;let r=!1,s=!1;function l(){return r||(s&&console.error("Cyclical dependency detected. Cannot evaluate lazy proxy."),s=!0,Object.assign(i,e.call(i,i)),r=!0),i}return new Proxy(i,{get(m,c){if(c===en)return l();const d=l()[c];return d!=null&&typeof d=="object"&&zt in d?d[zt]:d},set(m,c,d){return l()[c]=d,!0},has(m,c){return c===en?!0:Reflect.has(l(),c)},ownKeys(){return Reflect.ownKeys(l())},getOwnPropertyDescriptor(m,c){return r||(Object.assign(i,e.call(i,i)),r=!0),Object.getOwnPropertyDescriptor(m,c)}})}const ji=Symbol("RegisterNode"),Vi=Symbol("UnregisterNode"),Ui=Symbol("Nodes"),zi=Symbol("Bounds"),pt=ci({});window.layers=pt;const kn={},Et=[];function Ze(e,n){return Ge(()=>{const i={},r=i.emitter=br();if(i.on=r.on.bind(r),i.emit=r.emit.bind(r),i.nodes=pe({}),i.id=e,Et.push(e),kn[e]=new Set,Object.assign(i,n.call(i,i)),Et[Et.length-1]==null||Et[Et.length-1]!==e)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${Et}
Trying to pop ${i.id}`);Et.pop(),U(i,"color"),U(i,"display"),U(i,"classes"),U(i,"style"),U(i,"name"),Fe(i,"name",i.id),U(i,"minWidth"),Fe(i,"minWidth",600);const s=i.style;return i.style=_(()=>{var m;let l=t(i.minWidth);return(typeof l=="number"||!Number.isNaN(parseInt(l)))&&(l=l+"px"),[(m=t(s))!=null?m:"",{flexGrow:"",flexShrink:"",width:"",minWidth:l,flexBasis:l,margin:""}]}),i})}function Br(e,n){if(console.info("Adding layer",e.id),pt[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,pt[e.id]);return}Fe(n,"layers",{}),n.layers[e.id]==null&&(n.layers[e.id]={}),pt[e.id]=e,ut.emit("addLayer",e,n.layers[e.id])}function ql(e){return pt[e]}function Rr(e){console.info("Removing layer",e.id),ut.emit("removeLayer",e),pt[e.id]=void 0}function Il(e){Rr(e),Br(e,he)}function $l(e){const n=pe(!1);return{openModal:()=>n.value=!0,modal:q(()=>a(fn,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i},{header:()=>a("h2",null,[t(e.name)]),body:t(e.display)}))}}ut.on("update",function(n){Object.values(pt).forEach(i=>{i==null||i.emit("preUpdate",n)}),Object.values(pt).forEach(i=>{i==null||i.emit("update",n)}),Object.values(pt).forEach(i=>{i==null||i.emit("postUpdate",n)})});var Ml=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:ji,UnregisterNodeInjectionKey:Vi,NodesInjectionKey:Ui,BoundsInjectionKey:zi,layers:pt,persistentRefs:kn,addingLayers:Et,createLayer:Ze,addLayer:Br,getLayer:ql,removeLayer:Rr,reloadLayer:Il,setupLayerModal:$l},Symbol.toStringTag,{value:"Module"}));const Pl=ie({components:{Context:Ar,ErrorVue:vr},props:{index:{type:Number,required:!0},display:{type:ee(Object,String,Function),required:!0},name:{type:ee(String),required:!0},color:ee(String),nodes:{type:Object,required:!0}},emits:["setMinimized"],setup(e){const{display:n,index:i}=et(e),r=Li(n),s=_(()=>ve.allowGoBack&&i.value>0);function l(){he.tabs.splice(t(e.index),1/0)}function m(d){e.nodes.value=d}const c=pe([]);return es((d,p,h)=>(console.warn(`Error caught in "${e.name}" layer`,d,p,h),c.value.push(d instanceof Error?d:new Error(JSON.stringify(d))),!1)),{component:r,showGoBack:s,updateNodes:m,unref:t,goBack:l,errors:c}}});function Tl(e,n,i,r,s,l){const m=Bt("ErrorVue"),c=Bt("Context");return e.errors.length>0?(I(),ne(m,{key:0,errors:e.errors},null,8,["errors"])):(I(),F("div",qt({key:1,class:"layer-container",style:{"--layer-color":e.unref(e.color)}},e.$attrs),[e.showGoBack?(I(),F("button",{key:0,class:"goBack",onClick:n[0]||(n[0]=(...d)=>e.goBack&&e.goBack(...d))},"\u274C")):(I(),F("div",{key:1,class:Te(["layer-tab",{showGoBack:e.showGoBack}])},[a(c,{onUpdateNodes:e.updateNodes},{default:fe(()=>[(I(),ne(Ce(e.component)))]),_:1},8,["onUpdateNodes"])],2))],16))}var xl=ge(Pl,[["render",Tl],["__scopeId","data-v-5840fa16"]]);const Er=e=>($t("data-v-5bf27016"),e=e(),Mt(),e),Al=Er(()=>M("h2",null,"Changelog",-1)),Fl=Er(()=>M("details",{open:""},[M("summary",null,[u("v1.0 Revitalization - "),M("time",null,"2021-09-04")]),u(" Moved everything over to Profectus "),M("ul",null,[M("li",{class:"feature"},"Did everything"),M("li",{class:"fix"},"Had some fun"),M("li",{class:"breaking"},"Removed everything"),M("li",{class:"balancing"},"Created some bugs to fix later")])],-1)),Bl=ie({__name:"Changelog",setup(e,{expose:n}){const i=pe(!1);return n({open(){i.value=!0}}),(r,s)=>(I(),ne(fn,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l)},{header:fe(()=>[Al]),body:fe(()=>[Fl]),_:1},8,["modelValue"]))}});var Rl=ge(Bl,[["__scopeId","data-v-5bf27016"]]),El=ie({props:{element:Object,display:{type:ee(Object,String,Function),required:!0},style:ee(Object,String,Array),classes:ee(Object),direction:ee(String),xoffset:ee(String),yoffset:ee(String),pinned:Object},setup(e){const{element:n,display:i,pinned:r}=et(e),s=pe(!1),l=_(()=>(Se(r)||s.value)&&m.value),m=Gn(i),c=ft(oe(q(()=>{const h=Se(n);return h==null?"":Ft(h)})));function d(h){const f=r;h.shiftKey&&f&&(f.value=!f.value,h.stopPropagation(),h.preventDefault())}const p=_(()=>Se(r)&&$n[$e.theme].showPin);return{Direction:Oe,isHovered:s,isShown:l,comp:m,elementComp:c,unref:t,togglePinned:d,showPin:p}}});const Ol={key:0,class:"material-icons pinned"};function Dl(e,n,i,r,s,l){return I(),F("div",{class:Te(["tooltip-container",{shown:e.isShown}]),onMouseenter:n[0]||(n[0]=m=>e.isHovered=!0),onMouseleave:n[1]||(n[1]=m=>e.isHovered=!1),onClickCapture:n[2]||(n[2]=(...m)=>e.togglePinned&&e.togglePinned(...m))},[jt(e.$slots,"default",{},void 0,!0),e.elementComp?(I(),ne(Ce(e.elementComp),{key:0})):J("",!0),a(gr,{name:"fade"},{default:fe(()=>{var m;return[e.isShown?(I(),F("div",{key:0,class:Te(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:Ee([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(m=e.unref(e.style))!=null?m:{}])},[e.showPin?(I(),F("span",Ol,"push_pin")):J("",!0),e.comp?(I(),ne(Ce(e.comp),{key:1})):J("",!0)],6)):J("",!0)]}),_:1})],34)}var tt=ge(El,[["render",Dl],["__scopeId","data-v-1fb84868"]]);const gn=e=>($t("data-v-10effbe8"),e=e(),Mt(),e),Ll={class:"info-modal-header"},jl=["src","alt"],Vl={class:"info-modal-title"},Ul={key:0},zl={key:0},Gl={key:0},Hl=gn(()=>M("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),Wl=gn(()=>M("br",null,null,-1)),Yl=gn(()=>M("br",null,null,-1)),Xl=["href"],Ql=gn(()=>M("span",{class:"material-icons info-modal-discord"},"discord",-1)),Kl=gn(()=>M("div",null,[M("a",{href:"https://discord.gg/yJ4fjnjU54",class:"info-modal-discord-link",target:"_blank"},[M("span",{class:"material-icons info-modal-discord"},"discord"),u(" Profectus & Friends ")])],-1)),Zl=gn(()=>M("div",null,[M("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[M("span",{class:"material-icons info-modal-discord"},"discord"),u(" The Modding Tree ")])],-1)),Jl=gn(()=>M("br",null,null,-1));var eu=ie({__name:"Info",props:{changelog:null},setup(e,{expose:n}){const i=e,{title:r,logo:s,author:l,discordName:m,discordLink:c,versionNumber:d,versionTitle:p}=ve,h=et(i),f=pe(!1),N=_(()=>Oi(he.timePlayed)),w=_(()=>oe(q(()=>a(g,null,[Sr.map(te)]))));n({open(){f.value=!0}});function S(){var C;(C=t(h.changelog))==null||C.open()}return(C,E)=>(I(),ne(fn,{modelValue:f.value,"onUpdate:modelValue":E[0]||(E[0]=B=>f.value=B)},{header:fe(()=>[M("div",Ll,[t(s)?(I(),F("img",{key:0,class:"info-modal-logo",src:t(s),alt:t(r)},null,8,jl)):J("",!0),M("div",Vl,[M("h2",null,se(t(r)),1),M("h4",null,[u(" v"+se(t(d)),1),t(p)?(I(),F("span",Ul,": "+se(t(p)),1)):J("",!0)])])])]),body:fe(({shown:B})=>[B?(I(),F("div",zl,[t(l)?(I(),F("div",Gl,"By "+se(t(l)),1)):J("",!0),Hl,Wl,M("div",{class:"link",onClick:S},"Changelog"),Yl,M("div",null,[t(c)?(I(),F("a",{key:0,href:t(c),class:"info-modal-discord-link",target:"_blank"},[Ql,u(" "+se(t(m)),1)],8,Xl)):J("",!0)]),Kl,Zl,Jl,M("div",null,"Time Played: "+se(t(N)),1),(I(),ne(Ce(t(w))))])):J("",!0)]),_:1},8,["modelValue"]))}});var tu=ge(eu,[["__scopeId","data-v-10effbe8"]]);const nu={class:"field"},iu={key:0,class:"field-title"},Bn=ie({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){var m;const i=e,r=Gn(Kt(i,"title"),"span"),s=pe((m=i.options.find(c=>c.value===i.modelValue))!=null?m:null);wt(Kt(i,"modelValue"),c=>{var d;Se(s)!==c&&(s.value=(d=i.options.find(p=>p.value===c))!=null?d:null)});function l(c){n("update:modelValue",c.value)}return(c,d)=>(I(),F("div",nu,[t(r)?(I(),F("span",iu,[(I(),ne(Ce(t(r))))])):J("",!0),a(t(as),{options:e.options,modelValue:s.value,"onUpdate:modelValue":[d[0]||(d[0]=p=>s.value=p),l],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const ru={class:"field"},su=ie({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,r=_(()=>{var l;return oe((l=t(i.title))!=null?l:"<span></span>","span")}),s=_({get(){return!!i.modelValue},set(l){n("update:modelValue",l)}});return(l,m)=>(I(),F("label",ru,[Ii(M("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":m[0]||(m[0]=c=>De(s)?s.value=c:null)},null,512),[[ts,t(s)]]),(I(),ne(Ce(t(r))))]))}});var Dt=ge(su,[["__scopeId","data-v-11046116"]]);const ou={class:"header"},au=M("h2",null,"Settings",-1),lu={class:"option-tabs"},uu={key:0},cu={key:1};var du=ie({__name:"Options",setup(e,{expose:n}){const i=pe(!1),r=pe("behaviour");function s($){return $==r.value}function l($){r.value=$}n({isTab:s,setTab:l,save:Ct,open(){i.value=!0}});const m=Object.keys($n).map($=>({label:Pr($),value:$})),c=[{label:"Standard",value:Le.standard},{label:"Thousands",value:Le.thousands},{label:"Engineering",value:Le.engineering},{label:"Scientific",value:Le.scientific}],d=c.filter($=>$.value!==Le.standard),p=_(()=>oe(q(()=>a(g,null,[wr.map(te)])))),{showTPS:h,theme:f,unthrottled:N,alignUnits:w,numberFormat:S,backupNumberFormat:C}=et($e),{autosave:E}=et(he),B=_({get(){return he.devSpeed===0},set($){he.devSpeed=$?0:null}}),R=q(()=>a("span",{class:"option-title"},[u("Unthrottled"),a("desc",null,[u("Allow the game to run as fast as possible. Not battery friendly.")])])),P=q(()=>a("span",{class:"option-title"},[u("Autosave"),a(tt,{display:"Save-specific",direction:Oe.Right},{default:()=>[u("*")]}),a("desc",null,[u("Automatically save the game every second or when the game is closed.")])])),K=q(()=>a("span",{class:"option-title"},[u("Pause game"),a(tt,{display:"Save-specific",direction:Oe.Right},{default:()=>[u("*")]}),a("desc",null,[u("Stop everything from moving.")])])),de=q(()=>a("span",{class:"option-title"},[u("Theme"),a("desc",null,[u("How the game looks.")])])),V=q(()=>a("span",{class:"option-title"},[u("Show TPS"),a("desc",null,[u("Show TPS meter at the bottom-left corner of the page.")])])),H=q(()=>a("span",{class:"option-title"},[u("Align modifier units"),a("desc",null,[u("Align numbers to the beginning of the unit in modifier view.")])])),Be=q(()=>a("span",{class:"option-title"},[u("Number Notation"),a("desc",null,[u("Change how numbers are formatted for display.")])])),b=q(()=>a("span",{class:"option-title"},[u("Backup Number Notation"),a("desc",null,[u("Change how numbers are formatted beyond the limit of Standard Notation")])]));return($,W)=>(I(),ne(fn,{modelValue:i.value,"onUpdate:modelValue":W[11]||(W[11]=ue=>i.value=ue)},{header:fe(()=>[M("div",ou,[au,M("div",lu,[M("button",{class:Te({selected:s("behaviour")}),onClick:W[0]||(W[0]=ue=>l("behaviour"))},"Behaviour",2),M("button",{class:Te({selected:s("appearance")}),onClick:W[1]||(W[1]=ue=>l("appearance"))},"Appearance",2)])])]),body:fe(()=>[s("behaviour")?(I(),F("div",uu,[a(Dt,{title:t(R),modelValue:t(N),"onUpdate:modelValue":W[2]||(W[2]=ue=>De(N)?N.value=ue:null)},null,8,["title","modelValue"]),t(ve).enablePausing?(I(),ne(Dt,{key:0,title:t(K),modelValue:t(B),"onUpdate:modelValue":W[3]||(W[3]=ue=>De(B)?B.value=ue:null)},null,8,["title","modelValue"])):J("",!0),a(Dt,{title:t(P),modelValue:t(E),"onUpdate:modelValue":W[4]||(W[4]=ue=>De(E)?E.value=ue:null)},null,8,["title","modelValue"]),t(E)?J("",!0):(I(),ne(Mi,{key:1,class:"button save-button",onClick:W[5]||(W[5]=ue=>t(Ct)())},{default:fe(()=>[u("Manually save")]),_:1}))])):J("",!0),s("appearance")?(I(),F("div",cu,[a(Bn,{title:t(de),options:t(m),modelValue:t(f),"onUpdate:modelValue":W[6]||(W[6]=ue=>De(f)?f.value=ue:null)},null,8,["title","options","modelValue"]),a(Bn,{title:t(Be),options:c,modelValue:t(S),"onUpdate:modelValue":W[7]||(W[7]=ue=>De(S)?S.value=ue:null)},null,8,["title","modelValue"]),t(S)===t(Le).standard?(I(),ne(Bn,{key:0,title:t(b),options:t(d),modelValue:t(C),"onUpdate:modelValue":W[8]||(W[8]=ue=>De(C)?C.value=ue:null)},null,8,["title","options","modelValue"])):J("",!0),(I(),ne(Ce(t(p)))),a(Dt,{title:t(V),modelValue:t(h),"onUpdate:modelValue":W[9]||(W[9]=ue=>De(h)?h.value=ue:null)},null,8,["title","modelValue"]),a(Dt,{title:t(H),modelValue:t(w),"onUpdate:modelValue":W[10]||(W[10]=ue=>De(w)?w.value=ue:null)},null,8,["title","modelValue"])])):J("",!0)]),_:1},8,["modelValue"]))}});const mu=["onSubmit"],pu={class:"field"},fu={key:0,class:"field-title"},gu=["placeholder"],bu=ie({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean},autofocus:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:n}){var d;const i=e,r=Gn(Kt(i,"title"),"span"),s=ft(null);((d=i.autofocus)==null||d)&&zn(()=>{var p;(p=s.value)==null||p.focus()});const l=_({get(){var p;return(p=t(i.modelValue))!=null?p:""},set(p){n("update:modelValue",p)}});function m(){n("submit")}function c(){i.submitOnBlur!==!1?n("submit"):n("cancel")}return(p,h)=>(I(),F("form",{onSubmit:En(m,["prevent"])},[M("div",pu,[t(r)?(I(),F("span",fu,[(I(),ne(Ce(t(r))))])):J("",!0),e.textArea?(I(),ne(t(us),{key:1,modelValue:t(l),"onUpdate:modelValue":h[0]||(h[0]=f=>De(l)?l.value=f:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:c,ref_key:"field",ref:s},null,8,["modelValue","placeholder","maxHeight"])):Ii((I(),F("input",{key:2,type:"text","onUpdate:modelValue":h[1]||(h[1]=f=>De(l)?l.value=f:null),placeholder:e.placeholder,class:Te({fullWidth:!e.title}),onBlur:c,ref_key:"field",ref:s},null,42,gu)),[[ns,t(l)]])])],40,mu))}});var Gi=ge(bu,[["__scopeId","data-v-7e1eaf88"]]);const hu={key:0},vu=["onClick","disabled"],yu={key:0},_u=["onClick"],wu=ie({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:n}){const r=et(e),s=pe(!1);wt(s,c=>{n("confirmingChanged",c)});function l(){if(t(r.skipConfirm)){n("click");return}s.value&&n("click"),s.value=!s.value}function m(){s.value=!1}return(c,d)=>(I(),F("span",{class:Te(["container",{confirming:s.value}])},[s.value?(I(),F("span",hu,"Are you sure?")):J("",!0),M("button",{onClick:En(l,["stop"]),class:"button danger",disabled:e.disabled},[s.value?(I(),F("span",yu,"Yes")):jt(c.$slots,"default",{key:1},void 0,!0)],8,vu),s.value?(I(),F("button",{key:1,class:"button",onClick:En(m,["stop"])},"No",8,_u)):J("",!0)],2))}});var ku=ge(wu,[["__scopeId","data-v-2f8ef34c"]]);const Zt=e=>($t("data-v-32313015"),e=e(),Mt(),e),Su=Zt(()=>M("div",{class:"handle material-icons"},"drag_handle",-1)),Cu={key:0,class:"actions"},Nu=Zt(()=>M("span",{class:"material-icons"},"content_paste",-1)),qu=Zt(()=>M("span",{class:"material-icons"},"content_copy",-1)),Iu=Zt(()=>M("span",{class:"material-icons"},"edit",-1)),$u=Zt(()=>M("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),Mu={key:1,class:"actions"},Pu=Zt(()=>M("span",{class:"material-icons"},"check",-1)),Tu=Zt(()=>M("span",{class:"material-icons"},"close",-1)),xu={key:2,class:"details"},Au={class:"save-version"},Fu=Zt(()=>M("br",null,null,-1)),Bu={key:0},Ru={key:3,class:"details"},Eu={key:4,class:"details error"},Ou=Zt(()=>M("br",null,null,-1)),Du=ie({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:n}){const i=e,{save:r}=et(i),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),l=pe(!1),m=pe(!1),c=pe("");wt(l,()=>{var f;return c.value=(f=r.value.name)!=null?f:""});const d=_(()=>r.value!=null&&r.value.id===he.id),p=_(()=>{var f;return d.value?he.time:(f=r.value!=null&&r.value.time)!=null?f:0});function h(){n("editName",c.value),l.value=!1}return(f,N)=>(I(),F("div",{class:Te(["save",{active:t(d)}])},[Su,l.value?(I(),F("div",Mu,[M("button",{onClick:h,class:"button"},[a(tt,{display:"Save",direction:t(Oe).Left,class:"info"},{default:fe(()=>[Pu]),_:1},8,["direction"])]),M("button",{onClick:N[5]||(N[5]=w=>l.value=!l.value),class:"button"},[a(tt,{display:"Cancel",direction:t(Oe).Left,class:"info"},{default:fe(()=>[Tu]),_:1},8,["direction"])])])):(I(),F("div",Cu,[t(r).error==null&&!m.value?(I(),ne(Mi,{key:0,onClick:N[0]||(N[0]=w=>n("export")),class:"button",left:""},{default:fe(()=>[a(tt,{display:"Export",direction:t(Oe).Left,class:"info"},{default:fe(()=>[Nu]),_:1},8,["direction"])]),_:1})):J("",!0),t(r).error==null&&!m.value?(I(),F("button",{key:1,onClick:N[1]||(N[1]=w=>n("duplicate")),class:"button"},[a(tt,{display:"Duplicate",direction:t(Oe).Left,class:"info"},{default:fe(()=>[qu]),_:1},8,["direction"])])):J("",!0),t(r).error==null&&!m.value?(I(),F("button",{key:2,onClick:N[2]||(N[2]=w=>l.value=!l.value),class:"button"},[a(tt,{display:"Edit Name",direction:t(Oe).Left,class:"info"},{default:fe(()=>[Iu]),_:1},8,["direction"])])):J("",!0),a(ku,{disabled:t(d),onClick:N[3]||(N[3]=w=>n("delete")),onConfirmingChanged:N[4]||(N[4]=w=>m.value=w)},{default:fe(()=>[a(tt,{display:"Delete",direction:t(Oe).Left,class:"info"},{default:fe(()=>[$u]),_:1},8,["direction"])]),_:1},8,["disabled"])])),t(r).error==null&&!l.value?(I(),F("div",xu,[M("button",{class:"button open",onClick:N[6]||(N[6]=w=>n("open"))},[M("h3",null,se(t(r).name),1)]),M("span",Au,"v"+se(t(r).modVersion),1),Fu,t(p)?(I(),F("div",Bu,"Last played "+se(t(s).format(t(p))),1)):J("",!0)])):t(r).error==null&&l.value?(I(),F("div",Ru,[a(Gi,{modelValue:c.value,"onUpdate:modelValue":N[7]||(N[7]=w=>c.value=w),class:"editname",onSubmit:h},null,8,["modelValue"])])):(I(),F("div",Eu,[u(" Error: Failed to load save with id "+se(t(r).id),1),Ou,u(se(t(r).error),1)]))],2))}});var Lu=ge(Du,[["__scopeId","data-v-32313015"]]);const Hi=e=>($t("data-v-2a4275be"),e=e(),Mt(),e),ju=Hi(()=>M("h2",null,"Saves Manager",-1)),Vu={class:"modal-footer"},Uu={class:"field"},zu=Hi(()=>M("span",{class:"field-title"},"Create Save",-1)),Gu={class:"field-buttons"},Hu={class:"footer"},Wu=Hi(()=>M("div",{style:{"flex-grow":"1"}},null,-1)),Yu=ie({__name:"SavesManager",setup(e,{expose:n}){const i=pe(!1),r=pe(null);n({open(){i.value=!0}});const s=pe(!1),l=pe(""),m=pe(null);wt(l,R=>{R?sn(()=>{try{if(R[0]!=="{")if(R[0]==="e")R=decodeURIComponent(escape(atob(R)));else if(R[0]==="\u1BE1")R=Qt.decompressFromUTF16(R);else{console.warn("Unable to determine preset encoding",R),s.value=!0;return}const P=JSON.parse(R);if(typeof P!="object"){s.value=!0;return}const K=ri();P.id=K,Ct(P),l.value="",s.value=!1,$e.saves.push(K)}catch{s.value=!0}}):s.value=!1});let c={},d=pe(Object.keys(c).reduce((R,P)=>(R.push({label:P.split("/").slice(-1)[0].slice(0,-4),value:c[P]}),R),[]));const p=ci({});function h(R){if(p[R]==null){let P=localStorage.getItem(R);if(P==null)p[R]={error:"Save doesn't exist in localStorage",id:R};else if(P==="dW5kZWZpbmVk")p[R]={error:"Save is undefined",id:R};else try{if(P[0]!=="{")if(P[0]==="e")P=decodeURIComponent(escape(atob(P)));else if(P[0]==="\u1BE1")P=Qt.decompressFromUTF16(P);else return console.warn("Unable to determine preset encoding",P),s.value=!0,p[R]={error:"Unable to determine preset encoding",id:R},p[R];p[R]={...JSON.parse(P),id:R}}catch(K){p[R]={error:K,id:R},console.warn(`SavesManager: Failed to load info about save with id ${R}:
${K}
${P}`)}}return p[R]}wt(i,R=>{R&&Object.keys(p).forEach(P=>delete p[P])});const f=_(()=>$e.saves.reduce((R,P)=>(R[P]=h(P),R),{}));function N(R){let P;switch(he.id===R?P=$i(he):P=JSON.stringify(f.value[R]),ve.exportEncoding){default:console.warn(`Unknown save encoding: ${ve.exportEncoding}. Defaulting to lz`);case"lz":P=Qt.compressToUTF16(P);break;case"base64":P=btoa(unescape(encodeURIComponent(P)));break;case"plain":break}const K=document.createElement("textarea");K.value=P,document.body.appendChild(K),K.select(),K.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(K)}function w(R){he.id===R&&Ct();const P={...f.value[R],id:ri()};Ct(P),$e.saves.push(P.id)}function S(R){$e.saves=$e.saves.filter(P=>P!==R),localStorage.removeItem(R),p[R]=void 0}function C(R){f.value[he.id].time=he.time,Ct(),p[he.id]=void 0,cn(f.value[R]),p[R]=void 0}function E(R){if(m.value=R,sn(()=>{m.value=null}),R[0]!=="{")if(R[0]==="e")R=decodeURIComponent(escape(atob(R)));else if(R[0]==="\u1BE1")R=Qt.decompressFromUTF16(R);else{console.warn("Unable to determine preset encoding",R);return}const P=JSON.parse(R);P.id=ri(),Ct(P),$e.saves.push(P.id),C(P.id)}function B(R,P){const K=f.value[R];K!=null&&(K.name=P,he.id===R?(he.name=P,Ct()):(Ct(K),p[R]=void 0))}return(R,P)=>(I(),ne(fn,{modelValue:i.value,"onUpdate:modelValue":P[4]||(P[4]=K=>i.value=K),ref_key:"modal",ref:r},{header:fe(()=>[ju]),body:fe(({shown:K})=>[K?(I(),ne(t(ls),{key:0,list:t($e).saves,handle:".handle",itemKey:de=>de},{item:fe(({element:de})=>[a(Lu,{save:t(f)[de],onOpen:V=>C(de),onExport:V=>N(de),onEditName:V=>B(de,V),onDuplicate:V=>w(de),onDelete:V=>S(de)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):J("",!0)]),footer:fe(()=>[M("div",Vu,[a(Gi,{modelValue:l.value,"onUpdate:modelValue":P[0]||(P[0]=K=>l.value=K),title:"Import Save",placeholder:"Paste your save here!",class:Te({importingFailed:s.value})},null,8,["modelValue","class"]),M("div",Uu,[zu,M("div",Gu,[M("button",{class:"button",onClick:P[1]||(P[1]=K=>C(t(_n)().id))},"New Game"),Object.keys(t(d)).length>0?(I(),ne(Bn,{key:0,options:t(d),modelValue:m.value,"onUpdate:modelValue":P[2]||(P[2]=K=>E(K)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):J("",!0)])]),M("div",Hu,[Wu,M("button",{class:"button modal-default-button",onClick:P[3]||(P[3]=K=>i.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var Or=ge(Yu,[["__scopeId","data-v-2a4275be"]]);const Pt=e=>($t("data-v-48016e86"),e=e(),Mt(),e),Xu=["src","alt"],Qu={key:1,class:"title"},Ku={key:2,class:"devspeed"},Zu={key:3,class:"devspeed"},Ju=Pt(()=>M("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),ec={class:"discord"},tc={class:"discord-links"},nc={key:0},ic=["href"],rc=Pt(()=>M("li",null,[M("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),sc=Pt(()=>M("li",null,[M("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),oc={href:"https://forums.moddingtree.com/",target:"_blank"},ac=Pt(()=>M("span",{class:"material-icons"},"forum",-1)),lc=Pt(()=>M("span",{class:"material-icons"},"info",-1)),uc=Pt(()=>M("span",{class:"material-icons"},"library_books",-1)),cc=Pt(()=>M("span",{class:"material-icons"},"settings",-1)),dc=Pt(()=>M("span",{class:"material-icons"},"library_books",-1)),mc=Pt(()=>M("span",{class:"material-icons"},"settings",-1)),pc=Pt(()=>M("span",{class:"material-icons"},"info",-1)),fc={href:"https://forums.moddingtree.com/",target:"_blank"},gc=Pt(()=>M("span",{class:"material-icons"},"forum",-1)),bc={class:"discord"},hc={class:"discord-links"},vc={key:0},yc=["href"],_c=Pt(()=>M("li",null,[M("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),wc=Pt(()=>M("li",null,[M("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),kc=ie({__name:"Nav",setup(e){const n=pe(null),i=pe(null),r=pe(null),s=pe(null),{useHeader:l,banner:m,title:c,discordName:d,discordLink:p,versionNumber:h}=ve;function f(){window.open(p,"mywindow")}return(N,w)=>(I(),F(g,null,[t(l)?(I(),F("div",qt({key:0,class:"nav"},N.$attrs),[t(m)?(I(),F("img",{key:0,src:t(m),class:"banner",alt:t(c)},null,8,Xu)):(I(),F("div",Qu,se(t(c)),1)),M("div",{onClick:w[0]||(w[0]=S=>{var C;return(C=s.value)==null?void 0:C.open()}),class:"version-container"},[a(tt,{display:"Changelog",direction:t(Oe).Down,class:"version"},{default:fe(()=>[M("span",null,"v"+se(t(h)),1)]),_:1},8,["direction"])]),t(he).devSpeed===0?(I(),F("div",Ku,"Game Paused")):t(he).devSpeed&&t(he).devSpeed!==1?(I(),F("div",Zu,"Dev Speed: "+se(t(D)(t(he).devSpeed))+"x",1)):J("",!0),Ju,M("div",ec,[M("span",{onClick:f,class:"material-icons"},"discord"),M("ul",tc,[t(p)?(I(),F("li",nc,[M("a",{href:t(p),target:"_blank"},se(t(d)),9,ic)])):J("",!0),rc,sc])]),M("div",null,[M("a",oc,[a(tt,{display:"Forums",direction:t(Oe).Down,yoffset:"5px"},{default:fe(()=>[ac]),_:1},8,["direction"])])]),M("div",{onClick:w[1]||(w[1]=S=>{var C;return(C=n.value)==null?void 0:C.open()})},[a(tt,{display:"Info",direction:t(Oe).Down,class:"info"},{default:fe(()=>[lc]),_:1},8,["direction"])]),M("div",{onClick:w[2]||(w[2]=S=>{var C;return(C=i.value)==null?void 0:C.open()})},[a(tt,{display:"Saves",direction:t(Oe).Down,xoffset:"-20px"},{default:fe(()=>[uc]),_:1},8,["direction"])]),M("div",{onClick:w[3]||(w[3]=S=>{var C;return(C=r.value)==null?void 0:C.open()})},[a(tt,{display:"Settings",direction:t(Oe).Down,xoffset:"-66px"},{default:fe(()=>[cc]),_:1},8,["direction"])])],16)):(I(),F("div",qt({key:1,class:"overlay-nav"},N.$attrs),[M("div",{onClick:w[4]||(w[4]=S=>{var C;return(C=s.value)==null?void 0:C.open()}),class:"version-container"},[a(tt,{display:"Changelog",direction:t(Oe).Right,xoffset:"25%",class:"version"},{default:fe(()=>[M("span",null,"v"+se(t(h)),1)]),_:1},8,["direction"])]),M("div",{onClick:w[5]||(w[5]=S=>{var C;return(C=i.value)==null?void 0:C.open()})},[a(tt,{display:"Saves",direction:t(Oe).Right},{default:fe(()=>[dc]),_:1},8,["direction"])]),M("div",{onClick:w[6]||(w[6]=S=>{var C;return(C=r.value)==null?void 0:C.open()})},[a(tt,{display:"Settings",direction:t(Oe).Right},{default:fe(()=>[mc]),_:1},8,["direction"])]),M("div",{onClick:w[7]||(w[7]=S=>{var C;return(C=n.value)==null?void 0:C.open()})},[a(tt,{display:"Info",direction:t(Oe).Right},{default:fe(()=>[pc]),_:1},8,["direction"])]),M("div",null,[M("a",fc,[a(tt,{display:"Forums",direction:t(Oe).Right,xoffset:"7px"},{default:fe(()=>[gc]),_:1},8,["direction"])])]),M("div",bc,[M("span",{onClick:f,class:"material-icons"},"discord"),M("ul",hc,[t(p)?(I(),F("li",vc,[M("a",{href:t(p),target:"_blank"},se(t(d)),9,yc)])):J("",!0),_c,wc])])],16)),a(tu,{ref_key:"info",ref:n,changelog:s.value},null,8,["changelog"]),a(Or,{ref_key:"savesManager",ref:i},null,512),a(du,{ref_key:"options",ref:r},null,512),a(Rl,{ref_key:"changelog",ref:s},null,512)],64))}});var Dr=ge(kc,[["__scopeId","data-v-48016e86"]]);const Sc=["id"],Cc={class:"inner-tab"},Nc=ie({__name:"Game",setup(e){const n=Kt(he,"tabs"),i=_(()=>Object.keys(pt)),r=ve.useHeader;function s(l){const{display:m,name:c,color:d,nodes:p}=l;return{display:m,name:c,color:d,nodes:p}}return(l,m)=>(I(),F("div",{class:Te(["tabs-container",{useHeader:t(r)}])},[(I(!0),F(g,null,Re(t(n),(c,d)=>{var p,h;return I(),F("div",{key:d,id:c,class:Te(["tab",t((p=t(pt)[c])==null?void 0:p.classes)]),style:Ee(t((h=t(pt)[c])==null?void 0:h.style))},[d===0&&!t(r)?(I(),ne(Dr,{key:0})):J("",!0),M("div",Cc,[t(i).includes(c)?(I(),ne(xl,qt({key:0},s(t(pt)[c]),{index:d}),null,16,["index"])):(I(),ne(Ce(c),{key:1,index:d},null,8,["index"]))])],14,Sc)}),128))],2))}});var qc=ge(Nc,[["__scopeId","data-v-438bb8c8"]]);const Ic=ie({__name:"Tab",props:{display:null},setup(e){const n=e,{display:i}=et(n),r=Li(i);return(s,l)=>(I(),ne(Ce(t(r))))}}),$c=Symbol("Tab");function Ht(e){return Ge(n=>{const i=e.call(n,n);return i.id=Rt("tab-"),i.type=$c,i[lt]=Ic,i[gt]=function(){const{display:r}=this;return{display:r}},i})}ut.on("setupVue",e=>e.use(cs));function Wi(e="white",n="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${n} ${e}`,zIndex:1}}function Mc(){return Wi("red","20px")}const Pc=ie({props:{visibility:{type:ee(Number,Boolean),required:!0},display:{type:ee(Object,String,Function),required:!0},style:ee(String,Object,Array),classes:ee(Object),glowColor:ee(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:n}){const{display:i,glowColor:r,floating:s}=et(e),l=Li(i),m=_(()=>{const d=Se(r);return d==null||d===""?{}:t(s)?Wi(d):{boxShadow:`0px 9px 5px -6px ${d}`}});function c(){n("selectTab")}return{selectTab:c,component:l,glowColorStyle:m,unref:t,Visibility:Me,isVisible:_e,isHidden:Vt}}});function Tc(e,n,i,r,s,l){var m;return e.isVisible(e.visibility)?(I(),F("button",{key:0,onClick:n[0]||(n[0]=(...c)=>e.selectTab&&e.selectTab(...c)),class:Te(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:Ee([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.glowColorStyle,(m=e.unref(e.style))!=null?m:{}])},[(I(),ne(Ce(e.component)))],6)):J("",!0)}var Lr=ge(Pc,[["render",Tc],["__scopeId","data-v-21427abb"]]);const xc=ie({__name:"Sticky",props:{style:null},setup(e){const n=pe("0"),i=new ResizeObserver(s),r=ft(null);function s(){let l=r.value;if(l==null)return;let m=0;for(;l.previousSibling;){const c=l.previousSibling;c.dataset&&"vSticky"in c.dataset&&(m+=c.offsetHeight),l=c}n.value=m+"px"}return sn(s),document.fonts.ready.then(s),zn(()=>{var m;const l=(m=r.value)==null?void 0:m.parentElement;l&&i.observe(l)}),(l,m)=>{var c;return I(),F("div",{class:"sticky",style:Ee([(c=e.style)!=null?c:{},{top:n.value}]),ref_key:"element",ref:r,"data-v-sticky":""},[jt(l.$slots,"default",{},void 0,!0)],4)}}});var jr=ge(xc,[["__scopeId","data-v-4627c2ee"]]);const Ac=ie({props:{visibility:{type:ee(Number,Boolean),required:!0},activeTab:{type:ee(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:ee(Object),required:!0},style:ee(String,Object,Array),classes:ee(Object),buttonContainerStyle:ee(String,Object,Array),buttonContainerClasses:ee(Object)},components:{Sticky:jr,TabButton:Lr},setup(e){const{activeTab:n}=et(e),i=_(()=>$n[$e.theme].floatingTabs),r=ft("");kt(()=>{const c=Se(n);if(c==null){r.value="";return}if(bt(c)){r.value=oe(c);return}r.value=oe(t(c.display))});const s=_(()=>{const c=Se(n);return bt(c)||!c?void 0:t(c.classes)}),l=_(()=>{const c=Se(n);return bt(c)||!c?void 0:t(c.style)});function m(c){const{display:d,style:p,classes:h,glowColor:f,visibility:N}=c;return{display:d,style:t(p),classes:h,glowColor:f,visibility:N}}return{floating:i,tabClasses:s,tabStyle:l,Visibility:Me,component:r,gatherButtonProps:m,unref:t,isVisible:_e,isHidden:Vt}}});function Fc(e,n,i,r,s,l){var d,p;const m=Bt("TabButton"),c=Bt("Sticky");return e.isVisible(e.visibility)?(I(),F("div",{key:0,class:Te(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:Ee([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[],(p=e.tabStyle)!=null?p:[]])},[a(c,{class:Te(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:Ee(e.unref(e.buttonContainerStyle))},{default:fe(()=>[M("div",{class:Te(["tab-buttons",{floating:e.floating}])},[(I(!0),F(g,null,Re(e.unref(e.tabs),(h,f)=>(I(),ne(m,qt({onSelectTab:N=>e.selected.value=f,floating:e.floating,key:f,active:e.unref(h.tab)===e.unref(e.activeTab)},e.gatherButtonProps(h)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?(I(),ne(Ce(e.unref(e.component)),{key:0})):J("",!0)],6)):J("",!0)}var Bc=ge(Ac,[["render",Fc],["__scopeId","data-v-65b34424"]]);const Rc=Symbol("TabButton"),Ec=Symbol("TabFamily");function Hn(e,n){Object.keys(e).length===0&&console.error("Cannot create tab family with 0 tabs");const i=qe(Object.keys(e)[0],!1);return Ge(r=>{var m;const s=(m=n==null?void 0:n.call(r,r))!=null?m:{};s.id=Rt("tabFamily-"),s.type=Ec,s[lt]=Bc,s.tabs=Object.keys(e).reduce((c,d)=>{const p=e[d]();return p.type=Rc,p[lt]=Lr,U(p,"visibility"),Fe(p,"visibility",Me.Visible),U(p,"tab"),U(p,"display"),U(p,"classes"),U(p,"style"),U(p,"glowColor"),c[d]=p,c},{}),s.selected=i,s.activeTab=_(()=>{const c=t(l.tabs);if(i.value in c&&_e(c[i.value].visibility))return t(c[i.value].tab);const d=Object.values(c).find(p=>_e(p.visibility));return d?t(d.tab):null}),U(s,"visibility"),Fe(s,"visibility",Me.Visible),U(s,"classes"),U(s,"style"),U(s,"buttonContainerClasses"),U(s,"buttonContainerStyle"),s[gt]=function(){const{visibility:c,activeTab:d,selected:p,tabs:h,style:f,classes:N,buttonContainerClasses:w,buttonContainerStyle:S}=this;return{visibility:c,activeTab:d,selected:p,tabs:h,style:t(f),classes:N,buttonContainerClasses:w,buttonContainerStyle:S}};const l=s;return l})}function it(e,n="points",i=0,r=void 0){const s=De(e)?e:qe(e);if(s.displayName=n,s.precision=i,s.small=r,!De(e)){const l=s[zt];l.displayName=n,l.precision=i,l.small=r}return s}function Yi(e){const n=qe(e.value);return wt(e,i=>{Ti.value||o.gt(i,n.value)&&(n.value=i)}),n}function Oc(e){const n=qe(e.value);return wt(e,(i,r)=>{Ti.value||o.gt(i,r)&&(n.value=o.add(n.value,o.sub(i,r)))}),n}new o("10^^8");new o("1e100");function pn(e,n){const i=n!=null?n:e.value;return e.small&&o.lt(i,.98)?li(i,void 0,e.small):o.eq(e.precision,0)?mn(e.small?i:o.floor(i)):li(i,e.precision,e.small)}function Dc(e){return Ge(n=>{const{addend:i,description:r,enabled:s,smallerIsBetter:l}=e.call(n,n),m=ct(i),c=ct(r),d=s==null?void 0:ct(s);return{apply:p=>o.add(p,t(m)),invert:p=>o.sub(p,t(m)),getFormula:p=>v.add(p,m),enabled:d,description:r==null?void 0:q(()=>a("div",{class:"modifier-container"},[t(c)!=null?a("span",{class:"modifier-description"},[Ft(t(c))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(m),0):o.lt(t(m),0))?"color: var(--danger)":""},[o.gte(t(m),0)?"+":"",mi(t(m))])]))}})}function Q(e){return Ge(n=>{const{multiplier:i,description:r,enabled:s,smallerIsBetter:l}=e.call(n,n),m=ct(i),c=ct(r),d=s==null?void 0:ct(s);return{apply:p=>o.times(p,t(m)),invert:p=>o.div(p,t(m)),getFormula:p=>v.times(p,m),enabled:d,description:r==null?void 0:q(()=>a("div",{class:"modifier-container"},[t(c)!=null?a("span",{class:"modifier-description"},[Ft(t(c))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(m),1):o.lt(t(m),1))?"color: var(--danger)":""},[u("\xD7"),mi(t(m))])]))}})}function Tn(e){return Ge(n=>{const{exponent:i,description:r,enabled:s,supportLowNumbers:l,smallerIsBetter:m}=e.call(n,n),c=ct(i),d=ct(r),p=s==null?void 0:ct(s);return{apply:h=>{let f=h;return l&&(f=o.add(f,1)),f=o.pow(f,t(c)),l&&(f=o.sub(f,1)),f},invert:h=>{let f=h;return l&&(f=o.add(f,1)),f=o.root(f,t(c)),l&&(f=o.sub(f,1)),f},getFormula:h=>l?v.add(h,1).pow(c).sub(1):v.pow(h,c),enabled:p,description:r==null?void 0:q(()=>a("div",{class:"modifier-container"},[t(d)!=null?a("span",{class:"modifier-description"},[Ft(t(d)),l?" (+1 effective)":null]):null,a("span",{class:"modifier-amount",style:(m===!0?o.gt(t(c),1):o.lt(t(c),1))?"color: var(--danger)":""},[u("^"),mi(t(c))])]))}})}function It(e){return Ge(()=>{const n=e();return{apply:i=>n.filter(r=>t(r.enabled)!==!1).reduce((r,s)=>s.apply(r),i),invert:n.every(i=>i.invert!=null)?i=>n.filter(r=>t(r.enabled)!==!1).reduceRight((r,s)=>s.invert(r),i):void 0,getFormula:n.every(i=>i.getFormula!=null)?i=>n.filter(r=>t(r.enabled)!==!1).reduce((r,s)=>s.getFormula(r),i):void 0,enabled:n.some(i=>i.enabled!=null)?_(()=>n.filter(i=>t(i.enabled)!==!1).length>0):void 0,description:n.some(i=>i.description!=null)?q(()=>a(g,null,[n.filter(i=>t(i.enabled)!==!1).map(i=>t(i.description)).filter(i=>i).map(Ft)])):void 0}})}const Ne=ie({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(n,i)=>(I(),F("div",{style:Ee({width:e.width,height:e.height})},null,4))}});function xn(e,n){return U(n,"display"),U(n,"classes"),U(n,"style"),U(n,"direction"),Fe(n,"direction",Oe.Up),U(n,"xoffset"),U(n,"yoffset"),n.pinnable&&(n.pinned=qe(!1,!1)),sn(()=>{const i=e[lt];e[lt]=tt;const r=e[gt].bind(e);e[gt]=function(){const{display:l,classes:m,style:c,direction:d,xoffset:p,yoffset:h,pinned:f}=this;return{element:{[lt]:i,[gt]:r},display:l,classes:m,style:t(c),direction:d,xoffset:p,yoffset:h,pinned:f}}.bind(n)}),n}const Lc={key:0},jc={key:0,class:"mark star"},Vc=["src"],Uc=ie({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(n,i)=>e.mark?(I(),F("div",Lc,[e.mark===!0?(I(),F("div",jc)):(I(),F("img",{key:1,class:"mark",src:e.mark},null,8,Vc))])):J("",!0)}});var Wn=ge(Uc,[["__scopeId","data-v-2207999f"]]);const zc=ie({__name:"Node",props:{id:null},setup(e){const i=et(e),r=ai(ji,()=>{}),s=ai(Vi,()=>{}),l=ft(null),m=_(()=>l.value&&l.value.parentElement);return wt([m,i.id],([c,d],[p,h])=>{p&&s(t(h)),c&&r(d,c)}),pr(()=>s(t(i.id))),(c,d)=>(I(),F("div",{class:"node",ref_key:"node",ref:l},null,512))}});var bn=ge(zc,[["__scopeId","data-v-a48cb382"]]);function j(e){return Ge(n=>{var r;const i=e.call(n,n);return i.partialDisplay=s=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[pn(i.resource,i.cost instanceof v?Gt(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),i.display=s=>a("div",null,[t(i.requiresPay)?"Costs: ":"Requires: ",pn(i.resource,i.cost instanceof v?Gt(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),U(i,"visibility"),Fe(i,"visibility",Me.Visible),U(i,"cost"),U(i,"requiresPay"),Fe(i,"requiresPay",!0),U(i,"cumulativeCost"),Fe(i,"cumulativeCost",!0),U(i,"maxBulkAmount"),Fe(i,"maxBulkAmount",1),U(i,"directSum"),Fe(i,"pay",function(s){const l=i.cost instanceof v?Gt(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost);i.resource.value=o.sub(i.resource.value,l).max(0)}),i.canMaximize=_(()=>{var c;if(!(i.cost instanceof v))return!1;const s=t(i.maxBulkAmount);if(o.lte(s,1))return!1;const l=t(i.cumulativeCost),m=(c=t(i.directSum))!=null?c:l?10:0;return o.lte(s,m)?!0:!(!i.cost.isInvertible()||l===!0&&!i.cost.isIntegrable())}),i.cost instanceof v?i.requirementMet=Sl(i.cost,i.resource,(r=i.cumulativeCost)!=null?r:!0,i.directSum,i.maxBulkAmount):i.requirementMet=_(()=>o.gte(i.resource.value,t(i.cost))?1:0),i})}function Xi(e){return Ge(()=>({requirementMet:_(()=>_e(e.visibility)),visibility:Me.None,requiresPay:!1}))}function Ot(e,n){return Ge(()=>({requirementMet:ct(e),partialDisplay:n==null?void 0:q(()=>Ft(n)),display:n==null?void 0:q(()=>a(g,null,[u("Req: "),Ft(n)])),visibility:n==null?Me.None:Me.Visible,requiresPay:!1}))}function Nt(e){if(Wt(e))return e.every(Nt);const n=t(e.requirementMet);return typeof n=="boolean"?n:o.gt(n,0)}function Un(e){if(Wt(e))return e.map(Un).reduce(o.min);const n=t(e.requirementMet);return typeof n=="boolean"?n?o.dInf:0:o.gt(n,1)&&t(e.canMaximize)!==!0?1:n}function We(e,n=1){var i,r;if(Wt(e)&&(e=e.filter(s=>_e(s.visibility)),e.length===1&&(e=e[0])),Wt(e)){e=e.filter(m=>"partialDisplay"in m);const s=e.filter(m=>t(m.requiresPay)),l=e.filter(m=>!t(m.requiresPay));return a(g,null,[s.length>0?a("div",null,[u("Costs:")," ",Ci(s.map(m=>m.partialDisplay(n)),a(g,null,[u(", ")]))]):null,l.length>0?a("div",null,[u("Requires:")," ",Ci(l.map(m=>m.partialDisplay(n)),a(g,null,[u(", ")]))]):null])}return(r=(i=e.display)==null?void 0:i.call(e))!=null?r:a(g,null,null)}function Rn(e,n=1){var i;Wt(e)?e.filter(r=>t(r.requiresPay)).forEach(r=>{var s;return(s=r.pay)==null?void 0:s.call(r,n)}):t(e.requiresPay)&&((i=e.pay)==null||i.call(e,n))}var Gc=ie({props:{display:{type:ee(String,Object,Function),required:!0},visibility:{type:ee(Number,Boolean),required:!0},style:ee(String,Object,Array),classes:ee(Object),requirements:{type:Object,required:!0},canPurchase:{type:ee(Boolean),required:!0},bought:{type:ee(Boolean),required:!0},mark:ee(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:bn,MarkNode:Wn},setup(e){const{display:n,requirements:i,bought:r}=et(e),s=ft("");return kt(()=>{const l=Se(n);if(l==null){s.value="";return}if(bt(l)){s.value=oe(l);return}const m=oe(l.title||"","h3"),c=oe(l.description,"div"),d=oe(l.effect||"");s.value=oe(q(()=>a("span",null,[l.title!=null?a("div",null,[a(m,null,null)]):null,a(c,null,null),l.effect!=null?a("div",null,[u("Currently: "),a(d,null,null)]):null,r.value?null:a(g,null,[a("br",null,null),We(i.value)])])))}),{component:s,unref:t,Visibility:Me,isVisible:_e,isHidden:Vt}}});const Hc=["disabled"];function Wc(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),F("button",{key:0,style:Ee([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:{}]),onClick:n[0]||(n[0]=(...p)=>e.purchase&&e.purchase(...p)),class:Te({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(I(),ne(Ce(e.unref(e.component)),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],14,Hc)):J("",!0)}var Yc=ge(Gc,[["render",Wc],["__scopeId","data-v-67ed4380"]]);const Xc=Symbol("Upgrade");function ce(e,...n){const i=qe(!1,!1),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return Ge(s=>{var d,p;const l=e.call(s,s);l.id=Rt("upgrade-"),l.type=Xc,l[lt]=Yc;for(const h of n)(d=h.preConstruct)==null||d.call(h,l);l.bought=i,Object.assign(l,r),l.canPurchase=_(()=>!i.value&&Nt(l.requirements)),l.purchase=function(){var f;const h=l;!t(h.canPurchase)||(Rn(l.requirements),i.value=!0,(f=h.onPurchase)==null||f.call(h))};const m=Xi(l);Wt(l.requirements)?l.requirements.unshift(m):l.requirements=[m,l.requirements],U(l,"visibility"),Fe(l,"visibility",Me.Visible),U(l,"classes"),U(l,"style"),U(l,"display"),U(l,"mark");for(const h of n)(p=h.postConstruct)==null||p.call(h,l);const c=n.reduce((h,f)=>{var N;return Object.assign(h,(N=f.getGatheredProps)==null?void 0:N.call(f,l))},{});return l[gt]=function(){const{display:h,visibility:f,style:N,classes:w,requirements:S,canPurchase:C,bought:E,mark:B,id:R,purchase:P}=this;return{display:h,visibility:f,style:t(N),classes:w,requirements:S,canPurchase:C,bought:E,mark:B,id:R,purchase:P,...c}},l})}function nt(e,n=1,i=!1){if(!("effect"in e))throw new TypeError(`Upgrade ${e.id} does not have an effect`);return i||t(e.bought)?t(e.effect):n}function Qc(e){const n=ce(()=>({visibility:e.visibility,requirements:e.requirements,display:e.display.title,onPurchase:e.onPurchase}));return xn(n,{direction:Oe.Up,display:q(()=>a(g,null,[e.display.description,a(Ne,null,null),We(e.requirements)]))}),n}const ke={postConstruct(e){U(e,"effect")}},Yn=ie({__name:"Resource",props:{resource:null,color:null,tag:null,override:null},setup(e){const n=e,i=_(()=>pn(n.resource,n.override));return(r,s)=>{var l;return I(),ne(Ce((l=e.tag)!=null?l:"h2"),{style:Ee({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},{default:fe(()=>[u(se(t(i)),1)]),_:1},8,["style"])}}});const Kc={class:"main-display"},Zc={key:0},Jc={key:1},Sn=ie({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,stickyStyle:null,effect:null},setup(e){const i=et(e),r=pe(null),s=Gn(i.effect),l=_(()=>o.lt(i.resource.value,"1e1000"));return(m,c)=>(I(),ne(jr,{style:Ee(e.stickyStyle)},{default:fe(()=>{var d,p,h,f;return[M("div",{class:Te(["main-display-container",(d=e.classes)!=null?d:{}]),style:Ee([{height:`${((h=(p=r.value)==null?void 0:p.$el.clientHeight)!=null?h:0)+50}px`},(f=e.style)!=null?f:{}])},[M("div",Kc,[t(l)?(I(),F("span",Zc,"You have ")):J("",!0),a(Yn,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),u(" "+se(e.resource.displayName),1),t(s)?(I(),F("span",Jc,[u(", "),(I(),ne(Ce(t(s)),{ref_key:"effectRef",ref:r},null,512))])):J("",!0)])],6)]}),_:1},8,["style"]))}});const ed={class:"timecube row"},td=ie({__name:"TimecubeUpgrades",props:{upgrades:null},setup(e){const n=e,i=[];for(let h=0;h<t(n.upgrades).length;h+=5)i.push([]);let r=0;for(const h of t(n.upgrades))i[r].push(h),i[r].length>=5&&r++;const s=i.map(h=>h.map((f,N)=>N===0?!1:_(()=>_e(h[N-1].visibility)))),l=i.map(h=>h.map((f,N)=>N>=h.length-1?!1:_(()=>_e(h[N+1].visibility)))),m=i.map(h=>_(()=>h.filter(f=>_e(f.visibility)).length)),c=i.map((h,f)=>h.map(()=>_(()=>f===0?!1:t(m[f])<=t(m[f-1])))),d=i.map((h,f)=>h.map(()=>_(()=>f>=i.length-1?!1:t(m[f])<=t(m[f+1])))),p=i.map((h,f)=>h.map((N,w)=>_(()=>({upgrade:N,classes:{left:t(s[f][w]),right:t(l[f][w]),top:t(c[f][w]),bottom:t(d[f][w])}}))));return(h,f)=>(I(!0),F(g,null,Re(t(p),N=>(I(),F("div",ed,[(I(!0),F(g,null,Re(N,w=>(I(),ne(Ce(t(te)(t(w).upgrade)),{classes:t(w).classes},null,8,["classes"]))),256))]))),256))}});var nd=ge(td,[["__scopeId","data-v-46085314"]]),id=ie({props:{display:{type:ee(Object,String,Function),required:!0},visibility:{type:ee(Number,Boolean),required:!0},style:ee(Object,String,Array),classes:ee(Object),onClick:Function,onHold:Function,canClick:{type:ee(Boolean),required:!0},small:Boolean,mark:ee(Boolean,String),id:{type:String,required:!0}},components:{Node:bn,MarkNode:Wn},setup(e){const{display:n,onClick:i,onHold:r}=et(e),s=ft("");kt(()=>{var h;const c=Se(n);if(c==null){s.value="";return}if(bt(c)){s.value=oe(c);return}const d=oe((h=c.title)!=null?h:"","h3"),p=oe(c.description,"div");s.value=oe(q(()=>a("span",null,[c.title!=null?a("div",null,[a(d,null,null)]):null,a(p,null,null)])))});const{start:l,stop:m}=xr(i,r);return{start:l,stop:m,comp:s,Visibility:Me,isVisible:_e,isHidden:Vt,unref:t}}});function rd(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),F("button",{key:0,style:Ee([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[]]),onClick:n[0]||(n[0]=(...p)=>e.onClick&&e.onClick(...p)),onMousedown:n[1]||(n[1]=(...p)=>e.start&&e.start(...p)),onMouseleave:n[2]||(n[2]=(...p)=>e.stop&&e.stop(...p)),onMouseup:n[3]||(n[3]=(...p)=>e.stop&&e.stop(...p)),onTouchstartPassive:n[4]||(n[4]=(...p)=>e.start&&e.start(...p)),onTouchendPassive:n[5]||(n[5]=(...p)=>e.stop&&e.stop(...p)),onTouchcancelPassive:n[6]||(n[6]=(...p)=>e.stop&&e.stop(...p)),class:Te({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(I(),ne(Ce(e.unref(e.comp)),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],38)):J("",!0)}var Vr=ge(id,[["render",rd],["__scopeId","data-v-211328c0"]]);const sd=Symbol("Clickable");function st(e,...n){const i=n.reduce((r,s)=>{var l;return Object.assign(r,(l=s.getPersistentData)==null?void 0:l.call(s))},{});return Ge(r=>{var m,c,d;const s=(m=e==null?void 0:e.call(r,r))!=null?m:{};s.id=Rt("clickable-"),s.type=sd,s[lt]=Vr;for(const p of n)(c=p.preConstruct)==null||c.call(p,s);if(Object.assign(s,i),U(s,"visibility"),Fe(s,"visibility",Me.Visible),U(s,"canClick"),Fe(s,"canClick",!0),U(s,"classes"),U(s,"style"),U(s,"mark"),U(s,"display"),s.onClick){const p=s.onClick.bind(s);s.onClick=function(h){t(s.canClick)!==!1&&p(h)}}if(s.onHold){const p=s.onHold.bind(s);s.onHold=function(){t(s.canClick)!==!1&&p()}}for(const p of n)(d=p.postConstruct)==null||d.call(p,s);const l=n.reduce((p,h)=>{var f;return Object.assign(p,(f=h.getGatheredProps)==null?void 0:f.call(h,s))},{});return s[gt]=function(){const{display:p,visibility:h,style:f,classes:N,onClick:w,onHold:S,canClick:C,small:E,mark:B,id:R}=this;return{display:p,visibility:h,style:t(f),classes:N,onClick:w,onHold:S,canClick:C,small:E,mark:B,id:R,...l}},s})}const od=["disabled"],ad={key:0};var ld=ie({__name:"Research",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,research:null},setup(e){const n=e,i=ft("");kt(()=>{var p,h;const s=t(n.display);if(s==null){i.value="";return}if(bt(s)){i.value=oe(s);return}const l=t(n.requirements),m=oe((p=s.title)!=null?p:"","h3"),c=oe(s.description),d=oe((h=s.effect)!=null?h:"");i.value=oe(q(()=>a(g,null,[s.title?a("span",null,[a(m,null,null)]):null,a("span",null,[a(c,null,null)]),s.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,We(l)])))});const r=_(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(s,l)=>(I(),F("button",{style:Ee([{visibility:t(Vt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(r)))}%`}]),onClick:l[0]||(l[0]=m=>e.research(!1)),class:Te({research:!0,hidden:t(Vt)(e.visibility),locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching)&&!t(e.researched),queued:t(e.isResearching),done:t(e.researched)}),disabled:!t(e.canResearch)},[t(_e)(e.visibility)?t(t(i))?(I(),ne(Ce(t(t(i))),{key:1})):J("",!0):(I(),F("div",ad,"???")),a(bn,{id:e.id},null,8,["id"])],14,od))}});var ud=ge(ld,[["__scopeId","data-v-1f627772"]]);const cd=Symbol("Research");function Qi(e,...n){const i=qe(0),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return Ge(s=>{var p,h;const l=e.call(s,s);l.id=Rt("research-"),l.type=cd,l[lt]=ud;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.progress=i,Object.assign(l,r),U(l,"canResearch");const m=l.canResearch;l.canResearch=_(()=>{var f,N;return m!=null&&!t(m)?!1:(N=(f=l.prerequisites)==null?void 0:f.every(w=>t(w.researched)))!=null?N:!0}),U(l,"visibility");const c=l.visibility;l.visibility=_(()=>{var f,N,w;return t(l.researched)?Me.Visible:(N=(f=l.prerequisites)==null?void 0:f.every(S=>t(S.researched)||t(S.canResearch)))==null||N?(w=t(c))!=null?w:Me.Visible:Me.None}),U(l,"display"),U(l,"isResearching"),l.progressPercentage=_(()=>{if(Array.isArray(l.requirements)){let f=o.dZero,N=o.dZero;for(const w of l.requirements){if(!("cost"in w&&"resource"in w))continue;const S=w.cost,C=w.resource;f=f.plus(S instanceof v?Gt(S,1,!1,0):t(S)),N=N.plus(t(C))}return f.gte(0)?f.div(N):0}else{if(!("cost"in l.requirements&&"resource"in l.requirements))return 0;const f=l.requirements.cost,N=l.requirements.resource;return o.div(t(N),f instanceof v?Gt(f,1,!1,0):t(f))}}),l.researched=_(()=>Nt(l.requirements));for(const f of n)(h=f.postConstruct)==null||h.call(f,l);const d=n.reduce((f,N)=>{var w;return Object.assign(f,(w=N.getGatheredProps)==null?void 0:w.call(N,l))},{});return l[gt]=function(){const{visibility:f,display:N,id:w,requirements:S,canResearch:C,research:E,isResearching:B,progress:R,progressPercentage:P,researched:K}=this;return{visibility:f,display:N,id:w,requirements:S,canResearch:C,research:E,isResearching:B,progress:R,progressPercentage:P,researched:K,...d}},l})}function at(e,n){return t(e.researched)?t(e.effect):n}const Ur={postConstruct(e){e.amount===void 0&&console.error(`Decorated feature ${e.id} does not contain the required 'amount' property"`),U(e,"bonusAmount"),e.totalAmount===void 0&&(e.totalAmount=_(()=>{var n;return o.add(t((n=e.amount)!=null?n:0),t(e.bonusAmount))}))}},dd=Symbol("Repeatable");function ze(e,...n){const i=qe(0),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return Ge(s=>{var N,w,S;const l=e.call(s,s);l.id=Rt("repeatable-"),l.type=dd,l[lt]=Vr;for(const C of n)(N=C.preConstruct)==null||N.call(C,l);l.amount=i,l.amount[Ut]=(w=l.initialAmount)!=null?w:0,Object.assign(l,r);const m={requirementMet:_(()=>o.sub(t(l.limit),l.amount.value)),requiresPay:!1,visibility:Me.None,canMaximize:!0},c=Xi(l);Wt(l.requirements)?(l.requirements.unshift(c),l.requirements.push(m)):l.requirements=[c,l.requirements,m],l.maxed=_(()=>o.gte(l.amount.value,t(l.limit))),U(l,"classes");const d=l.classes;l.classes=_(()=>{const C=t(d)||{};return l.maxed.value&&(C.bought=!0),C}),l.amountToIncrease=_(()=>o.clampMin(Un(l.requirements),1)),l.canClick=_(()=>Nt(l.requirements));const p=l.onClick;l.onClick=function(C){var R;const E=l;if(!t(E.canClick))return;const B=(R=t(l.amountToIncrease))!=null?R:1;Rn(l.requirements,B),E.amount.value=o.add(E.amount.value,B),p==null||p(C)},U(l,"display");const h=l.display;l.display=q(()=>{var E,B,R;const C=t(h);if(bt(C)){const P=oe(C);return a(P,null,null)}if(C!=null){const P=l,K=oe((E=C.title)!=null?E:"","h3"),de=oe((B=C.description)!=null?B:""),V=oe((R=C.effect)!=null?R:"");return a("span",null,[C.title==null?null:a("div",null,[a(K,null,null)]),C.description==null?null:a(de,null,null),C.showAmount===!1?null:a("div",null,[a("br",null,null),a(g,null,[u("Amount: "),mn(P.amount.value)]),o.isFinite(t(P.limit))?a(g,null,[u(" / "),mn(t(P.limit))]):void 0]),C.effect==null?null:a("div",null,[a("br",null,null),u("Currently: "),a(V,null,null)]),P.maxed.value?null:a("div",null,[a("br",null,null),We(P.requirements,t(l.amountToIncrease))])])}return""}),U(l,"visibility"),Fe(l,"visibility",Me.Visible),U(l,"limit"),Fe(l,"limit",o.dInf),U(l,"style"),U(l,"mark"),U(l,"small");for(const C of n)(S=C.postConstruct)==null||S.call(C,l);const f=n.reduce((C,E)=>{var B;return Object.assign(C,(B=E.getGatheredProps)==null?void 0:B.call(E,l))},{});return l[gt]=function(){const{display:C,visibility:E,style:B,classes:R,onClick:P,canClick:K,small:de,mark:V,id:H}=this;return{display:C,visibility:E,style:t(B),classes:R,onClick:P,canClick:K,small:de,mark:V,id:H,...f}},l})}const md=["disabled"],pd={key:0};var fd=ie({__name:"RepeatableResearch",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,amount:null,limit:null,research:null},setup(e){const n=e,i=ft("");kt(()=>{var p,h;const s=t(n.display);if(s==null){i.value="";return}if(bt(s)){i.value=oe(s);return}const l=n.requirements,m=oe((p=s.title)!=null?p:"","h3"),c=oe(s.description),d=oe((h=s.effect)!=null?h:"");i.value=oe(q(()=>a(g,null,[s.title?a(m,null,null):null,a("span",null,[a(c,null,null)]),s.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,We(l)])))});const r=_(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(s,l)=>t(_e)(e.visibility)?(I(),F("button",{key:0,style:Ee([{visibility:t(Vt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(r)))}%`}]),onClick:l[0]||(l[0]=m=>e.research(!1)),class:Te({research:!0,repeatable:!0,locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching),queued:t(e.isResearching)}),disabled:!t(e.canResearch)},[t(_e)(e.visibility)?t(t(i))?(I(),ne(Ce(t(t(i))),{key:1})):J("",!0):(I(),F("div",pd,"???")),a(bn,{id:e.id},null,8,["id"])],14,md)):J("",!0)}});var gd=ge(fd,[["__scopeId","data-v-7554ad12"]]);const bd={getPersistentData(){return{amount:qe(0)}},preConstruct(e){if(e[lt]=gd,bt(e.display)||De(e.display)||jn(e.display))return;const n=e.display.title;e.display.title=q(()=>{var r;const i=oe(n!=null?n:"");return a("h3",null,[u("Repeatable: "),a(i,null,null),u(" "),hd(o.add(t((r=e.amount)!=null?r:0),1))])})},postConstruct(e){U(e,"limit"),Fe(e,"limit",3998),e.maxed=_(()=>o.gte(t(e.amount),t(e.limit))),e.researched=_(()=>o.gt(t(e.amount),0));const n=e.onResearch;e.onResearch=()=>{n==null||n(),e.amount.value=o.add(t(e.amount),1),e.progress.value=0}},getGatheredProps(e){return{amount:e.amount}}};function hd(e){const n=[[1,"I"],[4,"IV"],[5,"V"],[9,"IX"],[10,"X"],[40,"XL"],[50,"L"],[90,"XC"],[100,"C"],[400,"CD"],[500,"D"],[900,"CM"],[1e3,"M"]];let i=new o(e).trunc().toNumber();if(i>=4e3)return D(e);if(i<1)return"Nulla";const r=[];for(let s=n.length-1;i>0;s--){for(let l=Math.floor(i/n[s][0]);l>0;l--)r.push(n[s][1]);i%=n[s][0]}return r.join("")}const vd=["x1","y1","x2","y2"],yd=ie({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=e,i=et(n),r=_(()=>{const m=i.startNode.value.rect,c=i.boundingRect.value,d=c?{x:m.x+m.width/2-c.x,y:m.y+m.height/2-c.y}:{x:0,y:0};return i.link.value.offsetStart&&(d.x+=i.link.value.offsetStart.x,d.y+=i.link.value.offsetStart.y),d}),s=_(()=>{const m=i.endNode.value.rect,c=i.boundingRect.value,d=c?{x:m.x+m.width/2-c.x,y:m.y+m.height/2-c.y}:{x:0,y:0};return i.link.value.offsetEnd&&(d.x+=i.link.value.offsetEnd.x,d.y+=i.link.value.offsetEnd.y),d}),l=_(()=>jo(n.link));return(m,c)=>(I(),F("line",qt({"stroke-width":"15px",stroke:"white"},t(l),{x1:t(r).x,y1:t(r).y,x2:t(s).x,y2:t(s).y}),null,16,vd))}});const _d=ie({__name:"Links",props:{links:null},setup(e){var d;const i=Kt(e,"links"),r=pe(null),s=ai(Ui,pe({})),l=ai(zi,pe(void 0)),m=pe((d=r.value)==null?void 0:d.getBoundingClientRect());wt(l,()=>{var p;return m.value=(p=r.value)==null?void 0:p.getBoundingClientRect()}),zn(()=>{var p;return m.value=(p=r.value)==null?void 0:p.getBoundingClientRect()});const c=_(()=>{var h,f;const p=s.value;return(f=(h=i.value)==null?void 0:h.filter(N=>{var w,S;return((w=p[N.startNode.id])==null?void 0:w.rect)&&((S=p[N.startNode.id])==null?void 0:S.rect)}))!=null?f:[]});return(p,h)=>(I(),F(g,null,[t(c)?(I(),F("svg",is(qt({key:0},p.$attrs)),[(I(!0),F(g,null,Re(t(c),(f,N)=>(I(),ne(yd,{key:N,link:f,boundingRect:m.value,startNode:t(s)[f.startNode.id],endNode:t(s)[f.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):J("",!0),M("div",{ref_key:"resizeListener",ref:r,class:"resize-listener"},null,512)],64))}});var zr=ge(_d,[["__scopeId","data-v-063f6d6b"]]);const wd=e=>($t("data-v-4d279c24"),e=e(),Mt(),e),kd={class:"container"},Sd={class:"row research-tree"},Cd={class:"col"},Nd=wd(()=>M("div",{class:"fade"},null,-1)),qd=ie({__name:"ResearchTree",props:{research:null},setup(e){const n=e,i=_(()=>n.research.flatMap(r=>r).flatMap(r=>{var s,l;return(l=(s=r.prerequisites)==null?void 0:s.map(m=>({startNode:{id:r.id},endNode:{id:m.id},stroke:_e(r.visibility)?t(m.researched)?"var(--layer-color)":"white":"var(--locked)","stroke-width":"5px"})))!=null?l:[]}));return(r,s)=>(I(),F("div",kd,[M("div",Sd,[a(Ne,{width:"30px"}),M("div",Cd,[a(Ne,{height:"30px"}),(I(!0),F(g,null,Re(e.research,l=>(I(),ne(Mn,null,{default:fe(()=>[(I(!0),F(g,null,Re(l,m=>(I(),F(g,null,[t(_e)(m.visibility)?(I(),ne(Ce(t(te)(m)),{key:0})):J("",!0)],64))),256))]),_:2},1024))),256)),a(Ne,{height:"30px"}),a(zr,{links:t(t(i))},null,8,["links"])]),a(Ne,{width:"30px"})]),Nd]))}});var Id=ge(qd,[["__scopeId","data-v-4d279c24"]]);const $d=["disabled"],Md={key:0},Pd={key:1},Td=ie({__name:"ResearchQueueSlot",props:{node:null,name:null,index:null},setup(e){const n=e,i=_(()=>n.node!==void 0),r=_(()=>{var l,m;return o.times((m=t((l=n.node)==null?void 0:l.progressPercentage))!=null?m:0,1.1).minus(.05).times(100)}),s=()=>t(i)?Wd(n.node):{};return(l,m)=>{var c;return I(),F("button",{disabled:!t(i),class:Te({queue:!0,can:t(i)}),style:Ee([{"--fill-percent":`${t(D)(t(t(r)))}%`}]),onClick:s},[t(i)?(I(),F("span",Md,[(I(),ne(Ce(t(oe)((c=t(e.name))!=null?c:""))))])):(I(),F("span",Pd,"Research Slot "+se(t(e.index)+1),1))],14,$d)}}});var lr=ge(Td,[["__scopeId","data-v-82f051e2"]]);const xd={key:0},Ad=ie({__name:"ResearchQueue",props:{queue:null,parallel:{default:1}},setup(e){const n=e,i=[ae.research,ae.repeatables].flatMap(l=>Object.values(l)),r=_(()=>t(n.queue).map(l=>i.find(m=>m.id===l)));function s(l){const m=t(r)[l];if(m!==void 0)return bt(m.display)||De(m.display)||jn(m.display)?m.id:m.display.title}return(l,m)=>(I(),ne(Nn,null,{default:fe(()=>[(I(!0),F(g,null,Re(t(r),(c,d)=>(I(),F(g,{key:c?c.id:`empty-${d}`},[d===t(e.parallel)?(I(),F("h3",xd,"Next Up:")):J("",!0),c?(I(),ne(lr,{key:2,node:c,name:s(d),index:d},null,8,["node","name","index"])):(I(),ne(lr,{key:1,index:d},null,8,["index"]))],64))),128))]),_:1}))}});var Fd=ge(Ad,[["__scopeId","data-v-5504435e"]]);const Bd={class:"timesquare"},Rd={class:"timesquare-buy-buttons"};var Ed=ie({__name:"TimesquareComponent",props:{square:null,buy:null,buyNext:null,buyMax:null},setup(e){return(n,i)=>(I(),F("div",Bd,[(I(),ne(Ce(t(te)(e.square)))),M("div",Rd,[(I(),ne(Ce(t(te)(e.buy)))),(I(),ne(Ce(t(te)(e.buyNext)))),(I(),ne(Ce(t(te)(e.buyMax))))])]))}});var Od=ge(Ed,[["__scopeId","data-v-6de3c974"]]);const Dd=Symbol("Reset");function Ki(e){return Ge(n=>{const i=e.call(n,n);return i.id=Rt("reset-"),i.type=Dd,i.reset=function(){var s;const r=l=>{if(l!=null&&typeof l=="object"&&!(l instanceof o)&&!(l instanceof v)){if(Lt in l&&l[Lt]===!0)return;if(Ut in l){const m=l;m.value=m[Ut]}else!(l instanceof o)&&!De(l)&&Object.values(l).forEach(m=>r(m))}};t(i.thingsToReset).forEach(r),ut.emit("reset",i),(s=i.onReset)==null||s.call(i)},U(i,"thingsToReset"),i})}const ei={};ut.on("removeLayer",e=>{var n;(n=ei[e.id])==null||n.call(ei),ei[e.id]=void 0});var Ld=ie({__name:"TimelineComponent",props:{id:null,sides:null,active:null,next:null,score:null,onClick:null},setup(e){const n=e,i=n.sides.map(l=>l[0].toUpperCase()+l.slice(1)),r=_(()=>o.add(t(n.score),1).log10().dividedBy(10)),s={[n.sides[0]]:_(()=>t(r).times(He.scoreMultipliers[n.sides[0]])),[n.sides[1]]:_(()=>t(r).times(He.scoreMultipliers[n.sides[1]]))};return(l,m)=>(I(),F("button",{onClick:m[0]||(m[0]=(...c)=>e.onClick&&e.onClick(...c)),class:Te({feature:!0,timeline:!0,active:t(e.active),next:t(e.next)})},[M("h2",null,se(t(i)[0])+" "+se(t(i)[1]),1),M("div",null,"Amount: "+se(t(D)(t(e.score))),1),M("div",null,se(t(i)[0])+": +"+se(t(D)(t(s[e.sides[0]]).times(100)))+"%",1),M("div",null,se(t(i)[1])+": +"+se(t(D)(t(s[e.sides[1]]).times(100)))+"%",1)],2))}});var jd=ge(Ld,[["__scopeId","data-v-d0106a2c"]]);const Vd=Symbol("Timeline");function xt(e){const n=qe(!1),i=qe(!1),r=qe(0);return Ge(()=>{const s=e;return s.id=Rt("timeline-"),s.type=Vd,s[lt]=jd,s.active=n,s.next=i,s.score=r,s.onClick=()=>{i.value=!i.value},s[gt]=function(){const{id:l,sides:m,active:c,next:d,score:p,onClick:h}=this;return{id:l,sides:m,active:c,next:d,score:p,onClick:h}},s})}const Ud="timeline",He=Ze(Ud,function(){const e={topLeft:xt({sides:[Y.TOP,Y.LEFT]}),topFront:xt({sides:[Y.TOP,Y.FRONT]}),topBack:xt({sides:[Y.TOP,Y.BACK]}),topRight:xt({sides:[Y.TOP,Y.RIGHT]}),frontLeft:xt({sides:[Y.FRONT,Y.LEFT]}),frontRight:xt({sides:[Y.FRONT,Y.RIGHT]}),backLeft:xt({sides:[Y.BACK,Y.LEFT]}),backRight:xt({sides:[Y.BACK,Y.RIGHT]}),bottomLeft:xt({sides:[Y.BOTTOM,Y.LEFT]}),bottomFront:xt({sides:[Y.BOTTOM,Y.FRONT]}),bottomBack:xt({sides:[Y.BOTTOM,Y.BACK]}),bottomRight:xt({sides:[Y.BOTTOM,Y.RIGHT]})},n={[Y.FRONT]:[e.topFront,e.frontLeft,e.frontRight,e.bottomFront],[Y.RIGHT]:[e.topRight,e.frontRight,e.backRight,e.bottomRight],[Y.TOP]:[e.topLeft,e.topFront,e.topBack,e.topRight],[Y.BACK]:[e.topBack,e.backLeft,e.backRight,e.bottomBack],[Y.LEFT]:[e.topLeft,e.frontLeft,e.backLeft,e.bottomLeft],[Y.BOTTOM]:[e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight]},i=Object.fromEntries(Object.entries(n).map(([S,C])=>[S,_(()=>C.filter(E=>t(E.active)).length)])),r=Object.fromEntries(Object.entries(n).map(([S,C])=>[S,_(()=>C.filter(E=>t(E.next)).length)])),s=_(()=>Object.values(i).some(S=>t(S)>0)),l={[Y.FRONT]:100,[Y.RIGHT]:.01,[Y.TOP]:1,[Y.BACK]:1,[Y.LEFT]:1e3,[Y.BOTTOM]:1},m=Object.fromEntries(Object.entries(n).map(([S,C])=>[S,_(()=>C.reduce((E,B)=>E.plus(t(B.score)),o.dZero))])),c=Object.fromEntries(Object.entries(m).map(([S,C])=>[S,_(()=>t(C).times(l[S]).plus(1))])),d={[Y.FRONT]:[1,1e8,1e80,"1e800","1e8000"],[Y.RIGHT]:[1,1e12,1e120,"1e1200","1e12000"],[Y.TOP]:[1,1e3,1e30,1e300,"1e3000"],[Y.BACK]:[1,1e6,1e60,"1e600","1e6000"],[Y.LEFT]:[1,100,1e20,1e200,"1e2000"],[Y.BOTTOM]:[1,1e5,1e50,"1e500","1e5000"]},p=Object.fromEntries(Object.entries(i).map(([S,C])=>[S,_(()=>t(d[S])[t(C)])]));Object.fromEntries(Object.entries(r).map(([S,C])=>[S,_(()=>t(d[S])[t(C)])]));const h=It(()=>[Q(()=>({multiplier(){return[t(A.pion.pions),t(A.spinor.spinors)].map(S=>o.add(S,1).log10()).reduce((S,C)=>S.plus(C)).dividedBy(10)},description:q(()=>a(g,null,[u("1/10th of the magnitude of "),A.pion.pions.displayName,u(" and "),A.spinor.spinors.displayName]))})),Q(()=>({multiplier(){return[k.protoversal,k.infinitesimal,k.subspatial,k.subplanck,k.quantum].map(S=>o.add(t(y[S].amount),1).log10()).reduce((S,C)=>S.plus(C),o.dZero).dividedBy(50)},description:q(()=>a(g,null,[u("1/50th of the magnitude of all types of Foam")]))})),Q(()=>({multiplier(){return o.add(t(L.accelerons),1).log10()},description:q(()=>a(g,null,[u("The magnitude of "),L.accelerons.displayName]))})),Q(()=>({multiplier(){return o.add(t(le.buildings.buildings.storage.effect),10).log10().log10().times(5)},description:q(()=>a(g,null,[u("5x the magnitude"),a("sup",null,[u("2")]),u(" of Stored "),le.inflatons.displayName]))})),Q(()=>({multiplier(){return o.add(t(z.timecubes),1).log10()},description:q(()=>a(g,null,[u("The magnitude of "),z.timecubes.displayName]))})),Tn(()=>({exponent(){return Object.values(e).filter(S=>t(S.active)).length/2},description:q(()=>a(g,null,[u("Number of active Timelines")]))}))]),f=_(()=>h.apply(1e-4)),N=st(()=>({display(){return Object.values(e).some(S=>t(S.next))?"Enter Timeline":Object.values(e).some(S=>t(S.active))?"Exit Timeline":"Enter Timeline"},canClick(){return Object.values(e).some(S=>t(S.next)||t(S.active))},onClick(){const S=new o(t(f));for(const C of Object.values(e))!t(C.active)||S.gt(t(C.score))&&(C.score.value=S);w.reset(),y.protoversal.upgrades.reform.amount.value=o.dOne,le.inflatons.value=o.dOne;for(const C of Object.values(e))C.active.value=t(C.next)}})),w=Ki(()=>({thingsToReset(){return[A.skyrmions,A.pion,A.spinor,y[k.protoversal],y[k.infinitesimal],y[k.subspatial],y[k.subplanck],y[k.quantum],L.accelerons,L.totalAccelerons,L.upgrades.acceleration,L.upgrades.fluctuation,L.upgrades.conversion,L.upgrades.translation,L.upgrades.alacrity,z.timecubes,le.inflatons,le.buildings.buildings,le.buildings.maxSize,le.inflating,le.upgrades.moreFome,le.coreResearch.repeatables.buildingSize]}}));return{timelines:e,scores:m,buffs:c,nerfs:p,depths:i,scoreMultipliers:l,inTimeline:s,display:q(()=>a(g,null,[te(N),a(Ne,null,null),nn(e.topLeft,e.topFront,e.topBack,e.topRight),nn(e.frontLeft,e.frontRight,e.backLeft,e.backRight),nn(e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight)]))}}),zd=Symbol("Timesquare");function hn(e,n){return Ge(i=>{const{display:r,buyAmount:s,baseCost:l,resource:m,effect:c}=n.call(i,i),d=ct(l),p=ct(s),h=_(()=>o.dOne.plus(t(z.upgrades.title.bought)?t(He.scores[e]):0).reciprocate().times(t(d))),f=(()=>{const N={buyAmount:p},w={buyAmount:_(()=>{const C=t(i.square.amount),E=o.clampMin(C,1).log10().floor().pow10();return o.div(C,E).floor().plus(1).times(E).minus(C)})},S={buyAmount:_(()=>{const C=t(i.square.amount),E=o.add(C,1).times(C).div(2).times(t(h));return o.clampMin(t(m),1).plus(E).div(t(h)).times(8).plus(1).sqrt().minus(1).div(2).floor().minus(C)})};for(const C of[N,w,S])C.cost=j(()=>({cost(){const E=t(i.square.amount),B=o.add(E,t(C.buyAmount)),R=B.plus(1).times(B).div(2),P=o.add(E,1).times(E).div(2);return R.minus(P).times(t(h))},resource:m}));return{buy:N,buyNext:w,buyMax:S}})();return i.square=ze(()=>({requirements:Ot(!1),display:r,effect:c}),ke),i.buy=st(()=>({canClick:()=>Nt(f.buy.cost),display:{title:"Buy",description:q(()=>a(g,null,[u("+"),D(t(f.buy.buyAmount)),u(": "),Z(t(f.buy.cost.cost)),u(" "),m.displayName]))},onClick(){const N=t(f.buy.buyAmount);Rn(f.buy.cost),i.square.amount.value=o.add(t(i.square.amount),N)}})),i.buyNext=st(()=>({canClick:()=>Nt(f.buyNext.cost),display:{title:"Buy Next",description:q(()=>a(g,null,[u("+"),D(t(f.buyNext.buyAmount)),u(": "),Z(t(f.buyNext.cost.cost)),u(" "),m.displayName]))},onClick(){const N=t(f.buyNext.buyAmount);Rn(f.buyNext.cost),i.square.amount.value=o.add(t(i.square.amount),N)}})),i.buyMax=st(()=>({canClick:()=>Nt(f.buyMax.cost),display:{title:"Buy Max",description:q(()=>a(g,null,[u("+"),D(t(f.buyMax.buyAmount)),u(": "),Z(t(f.buyMax.cost.cost)),u(" "),m.displayName]))},onClick(){const N=t(f.buyMax.buyAmount);Rn(f.buyMax.cost),i.square.amount.value=o.add(t(i.square.amount),N)}})),i.type=zd,i[lt]=Od,i[gt]=function(){const{square:N,buy:w,buyNext:S,buyMax:C}=this;return{square:N,buy:w,buyNext:S,buyMax:C}},i})}const Gd="timesquare",yi=Ze(Gd,function(){const e=qe(1),n=_(()=>o.clampMin(t(e),1).log10().floor().minus(1).pow10()),i=_(()=>o.gt(t(e),1)),r={minHeight:"30px",width:"50px"},s={timesTen:st(()=>({display:"x10",onClick(){e.value=o.times(t(e),10)},style:r})),plusTen:st(()=>({display:q(()=>a(g,null,[u("+"),Z(t(n).times(10))])),onClick(){e.value=t(n).times(10).plus(t(e))},style:r})),plusOne:st(()=>({canClick(){return o.gte(t(e),10)},display:q(()=>a(g,null,[u("+"),Z(t(n))])),onClick(){e.value=t(n).plus(t(e))},style:r})),minusOne:st(()=>({canClick:i,display:q(()=>a(g,null,[u("-"),Z(t(n))])),onClick(){e.value=o.minus(t(e),t(n)).clampMin(1)},style:r})),minusTen:st(()=>({canClick:i,display:q(()=>a(g,null,[u("-"),Z(t(n).times(10))])),onClick(){e.value=o.minus(t(e),t(n).times(10)).clampMin(1)},style:r})),overTen:st(()=>({canClick:i,display:"/10",onClick(){e.value=o.div(t(e),10).clampMin(1)},style:r}))},l={[Y.FRONT]:hn(Y.FRONT,c=>({display:{title:q(()=>a(g,null,[u("Front")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect).minus(1).times(100)),u("% "),z.timecubes.displayName]))},effect(){return o.pow(t(c.square.amount),.45).times(nt(z.upgrades.turn)).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.RIGHT]:hn(Y.RIGHT,c=>({display:{title:q(()=>a(g,null,[u("Right")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect)),u("x Entropic Loop build speed")]))},effect(){return o.pow(t(c.square.amount),.7).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.TOP]:hn(Y.TOP,c=>({display:{title:q(()=>a(g,null,[u("Top")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect).minus(1).times(100)),u("% increased Universe diameter")]))},effect(){return o.pow(t(c.square.amount),.15).dividedBy(15).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.BACK]:hn(Y.BACK,c=>({display:{title:q(()=>a(g,null,[u("Back")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect).minus(1).times(100)),u("% "),L.accelerons.displayName,u(" effect")]))},effect(){return o.pow(t(c.square.amount),.2).dividedBy(5).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.LEFT]:hn(Y.LEFT,c=>({display:{title:q(()=>a(g,null,[u("Left")])),effect:q(()=>a(g,null,[u("1/"),D(t(c.square.effect)),u("x Subspatial Construction cost")]))},effect(){return o.pow(t(c.square.amount),.5).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.BOTTOM]:hn(Y.BOTTOM,c=>({display:{title:q(()=>a(g,null,[u("Bottom")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect)),u(" effective Entropic Enhancements")]))},effect(){return o.pow(t(c.square.amount),.1).times(nt(z.upgrades.tall))},resource:x(z.timecubes),baseCost:1e6,buyAmount:e}))},m=pe("1");return wt(m,c=>{if(c===""){e.value=o.dOne;return}if(!o.isNaN(c)){if(o.lt(c,1)){e.value=o.dOne;return}e.value=o.floor(c)}}),{buyAmount:e,squares:l,display:q(()=>a(g,null,[a(Mn,null,{default:()=>[te(s.overTen),te(s.minusTen),te(s.minusOne),a(Gi,{style:{width:"fit-content"},"onUpdate:modelValue":c=>m.value=c,modelValue:m.value,autofocus:!1},null),te(s.plusOne),te(s.plusTen),te(s.timesTen)]}),a(Ne,null,null),nn(l.front,l.right,l.top),nn(l.back,l.left,l.bottom)]))}});let Y=function(e){return e.FRONT="front",e.RIGHT="right",e.TOP="top",e.BACK="back",e.LEFT="left",e.BOTTOM="bottom",e}({});const Hd="coreResearch",ae=Ze(Hd,function(){const e=(()=>{const d=St(()=>({cost:75,display:{title:"Branon Induction Phases",description:"Quintuple the effect of M-field Condensers"},effect:5})),p=At(()=>({cost:500,display:{title:"Inflaton Containment Strategies",description:"Allow construction of Inflaton Containment Units"},prerequisites:[P]})),h=St(()=>({cost:1500,display:{title:"Enhanced Isolation Protocols",description:"Improve the Inflaton Containment Unit's storage capabilities"},effect:1,prerequisites:[C]})),f=At(()=>({cost:6e3,display:{title:"Inflationary Tolerances",description:"Allow stored Inflatons to inflate to fill your storage"},prerequisites:[C,h]})),N=At(()=>({cost:25e3,display:{title:"Secondary Isolation Standards",description:"M-field Condensers no longer reduce the effect of Stored Inflatons"},prerequisites:[w]})),w=At(()=>({cost:15e3,display:{title:"Active Restoration Protocols",description:"Allow the construction of Active Redistribution Centers"},prerequisites:[Ie,h]})),S=St(()=>({cost:25e3,display:{title:"Macroscale Synergies",description:"Increase subspace building size tenfold, and their potency by twice as much"},effect:{size:10,effect:2},prerequisites:[$,ue,w],onResearch(){for(const Yt of Object.values(Ve.buildings))Yt.amount.value=0}})),C=At(()=>({cost:750,display:{title:"Superstructural Stability Patterns",description:"Enable individual building respecs"},prerequisites:[p]})),E=At(()=>({cost:1e5,display:{title:"Mechanized Superscale Subsystems",description:"Automatically build subspace buildings, and building them no longer consumes Foam"},prerequisites:[N,xe]})),B=St(()=>({cost:100,display:{title:"Banach-Tarski Point Manipulation",description:"You can stabilize the universe at double the size"},effect:2,prerequisites:[d]})),R=St(()=>({cost:750,display:{title:"Von Neumann Transformation",description:"Double the size of the universe, again"},effect:2,prerequisites:[V]})),P=At(()=>({cost:100,display:{title:"Subspatial Binding Constants",description:"Reduce the cost scaling of Quantum Flux Analyzers"},prerequisites:[d]})),K=_(()=>o.times(t(n.analysis.effect),1.8)),de=St(Yt=>({cost:1500,display:{title:"Distributed Analysis Framework",description:q(()=>a("span",null,[u("Transform 10% of your Quantum Flux Analyzers into networking nodes, increasing Research Point gain by up to "),D(t(K)),u("x")])),effect:q(()=>a(g,null,[D(t(Yt.effect))]))},effect(){return o.pow(1.1,t(Ve.buildings.lab.amount)).clampMax(t(K))},prerequisites:[B,P]})),V=St(()=>({cost:500,display:{title:"Counter-Inflational Cycles",description:"Gain up to 1e6x more Foam, based on your current Stored Inflatons"},effect:1e6,prerequisites:[B]})),H=St(()=>({cost:1500,display:{title:"Scatter-Field Repulsion",description:"Retain up to 1e12x more Foam, based on your current Stored Inflatons"},effect:1e12,prerequisites:[b,W]})),Be=St(()=>({cost:9e3,display:{title:"Scalar Flux Reduction",description:"Retain up to 1e12x more Foam yet again, based on your current Stored Inflatons"},effect:1e12,prerequisites:[$,ue]})),b=St(()=>({cost:750,display:{title:"Quantum Phasor Coherence",description:"Halve the effect of inflation on Quantum Foam"},effect:.5,prerequisites:[V]})),$=St(()=>({cost:6e3,display:{title:"Aggressive Flow Diffusion",description:"Halve the effect of inflation on Quantum Foam, again"},effect:.5,prerequisites:[b,H]})),W=At(()=>({cost:750,display:{title:"Quantum Inflationo-dynamics",description:"Unlock two more Inflaton upgrades"},prerequisites:[p]})),ue=At(()=>({cost:6e3,display:{title:"Infinite Expansion Theories",description:"Unlock two repeatable researches"},prerequisites:[R]})),Pe=At(()=>({cost:1e5,display:{title:"Sustainable Expansion Hypothesis",description:"Unlock three more repeatable research projects"},prerequisites:[Be,S]})),Ie=St(()=>({cost:1e4,display:{title:"Scheduled Itemization",description:"You can queue up to 2 additional researches"},effect:2,prerequisites:[de]})),Tt=St(()=>({cost:1e5,display:{title:"Static Proposal Induction",description:"Increase the research queue size by another 2 researches"},effect:2,prerequisites:[Ie,ue]})),xe=At(()=>({cost:25e3,display:{title:"Instantaneous Limit Testing",description:"Beginning Inflation instantly expands the universe to the limit of your M-field Condensers' safe operation"},prerequisites:[w,f]})),rt=At(()=>({cost:75e4,display:{title:"Spatial Mastery",description:q(()=>a("span",null,[u("Unlock "),ye.isFirstBranch(ht)||o.gt(t(ye.strings),0)?L.accelerons.displayName:ye.strings.displayName]))},prerequisites:[Pe,Tt,E]}));return{quintupleCondenser:d,doubleSize:B,cheaperLabs:P,fomeGain:V,researchBoost:de,storage:p,halfQuantum:b,quadrupleSize:R,upgrades:W,respecs:C,moreFomeGain:H,queueTwo:Ie,improvedStorage:h,quarterQuantum:$,repeatableUnlock:ue,inflationResearch:w,autofillStorage:f,evenMoreFomeGain:Be,biggerBuildings:S,isolatedStorage:N,instantInflation:xe,moreRepeatables:Pe,queueFour:Tt,autobuild:E,mastery:rt}})(),n=(()=>{const d=Fn(w=>({visibility:_(()=>t(e.repeatableUnlock.researched)?Me.Visible:Me.Hidden),display:{title:"Eternal Inflation",description:"Double the size of your universe",effect:q(()=>a(g,null,[Z(t(w.effect)),u("x")]))},cost(){return o.pow(4,t(w.amount)).times(12e3).dividedBy(t(A.spinor.upgrades.nu.effect))},effect(){return o.pow(2,t(w.amount))}})),p=Fn(w=>({visibility:e.repeatableUnlock.researched,display:{title:"Perpetual Testing",description:"Increase Distributed Analysis Framework's maximum bonus by 80%",effect:q(()=>a(g,null,[Z(t(w.effect)),u("x")]))},cost(){return o.pow(8,t(w.amount)).times(15e3).dividedBy(t(A.spinor.upgrades.nu.effect))},effect(){return o.pow(1.8,t(w.amount))}})),h=Fn(w=>({visibility:e.moreRepeatables.researched,display:{title:"Subspatial Construction",description:"Increase Subspace building size tenfold, and their potency by twice as much",effect:q(()=>a(g,null,[Z(t(w.effect).size),u("x, "),Z(o.times(t(w.effect).size,t(w.effect).effect)),u("x")]))},cost(){return o.pow(200,t(w.amount)).times(15e4).dividedBy(t(A.spinor.upgrades.nu.effect)).div(t(z.getTimesquareEffect(Y.LEFT)))},effect(){return{size:o.pow(10,t(w.amount)),effect:o.pow(2,t(w.amount))}},canResearch(){const S=t(Cn);for(const C of Object.values(Ve.buildings))if(S.times(10).gt(t(C.amount)))return!1;return!0},onResearch(){for(const S of Object.values(Ve.buildings))S.amount.value=0}})),f=Fn(w=>({visibility:e.moreRepeatables.researched,display:{title:"Efficient Design",description:"Decrease Subspace building cost scaling by 1.5x",effect:q(()=>a(g,null,[u("1/"),D(t(w.effect)),u("x")]))},cost(){return o.pow(3,t(w.amount)).times(12e4).dividedBy(t(A.spinor.upgrades.nu.effect))},effect(){return o.pow(1.5,t(w.amount))}})),N=Fn(w=>({visibility:e.moreRepeatables.researched,display:{title:"Inflational Dynamics",description:"Retain up to 1e6x more Foam",effect:q(()=>a(g,null,[Z(t(w.effect)),u("x")]))},cost(){return o.pow(5,t(w.amount)).times(16e4).dividedBy(t(A.spinor.upgrades.nu.effect))},effect(){return o.pow(1e6,t(w.amount))}}));return{universeSize:d,analysis:p,buildingSize:h,buildingCost:f,fome:N}})(),i=_(()=>1+at(e.queueTwo,0)+at(e.queueFour,0)),r=_(()=>1),s=qe([]),l=_(()=>o.times(t(Ve.buildings.lab.effect),at(e.researchBoost,1)).times(t(A.spinor.upgrades.nu.effect))),m=_(()=>t(l).minus(t(Ve.buildings.tuner.effect).cost).clampMin(0)),c=qe(!1);return le.on("preUpdate",d=>{if(t(s).length<=0)return;const p=o.times(t(m),d);for(const h of t(s).slice(0,t(r))){const f=[e,n].flatMap(N=>Object.values(N)).find(N=>N.id===h);f!==void 0&&(f.progress.value=p.plus(f.progress.value))}}),le.on("update",()=>{if(!!t(c)){if(t(s).length>=t(r)){if(!t(n.buildingSize.canResearch)||t(s).some(d=>d===n.buildingSize.id)||t(s).length>=t(i))return;s.value=[n.buildingSize.id,...t(s)].map(d=>[e,n].flatMap(p=>Object.values(p)).find(p=>p.id===d)).filter(d=>d!==void 0).sort((d,p)=>o.compare(t(d.requirements.cost),t(p.requirements.cost))).map(d=>d.id);return}Object.values(n).filter(d=>o.gte(t(d.amount),1)).filter(d=>!t(d.isResearching)).filter(d=>t(d.canResearch)).sort((d,p)=>o.compare(t(d.requirements.cost),t(p.requirements.cost))).slice(0,t(r)-t(s).length).forEach(d=>d.research(!0))}}),le.on("postUpdate",()=>{s.value=t(s).filter(d=>{var h;const p=[e,n].flatMap(f=>Object.values(f)).find(f=>f.id===d);return p===void 0?!1:o.gte(t(p.progressPercentage),1)?((h=p.onResearch)==null||h.call(p),!1):!0})}),{research:e,repeatables:n,queueLength:i,parallelResearchCount:r,researchQueue:s,researchGain:l,totalResearchGain:m,autoResearching:c,display:q(()=>a(g,null,[a("div",null,[u("Your buildings are producing "),Z(t(m)),u(" Research Points")]),a("div",{class:"row",style:{flexFlow:"row-reverse nowrap",alignItems:"flex-start",justifyContent:"space-evenly"}},[a(Nn,null,{default:()=>[a(Fd,{parallel:r,queue:_(()=>Array.from({...t(s),length:Math.max(t(s).length,t(i))}))},null),t(e.repeatableUnlock.researched)?a(g,null,[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Repeatable Research:")]),a(Dt,{modelValue:c.value,"onUpdate:modelValue":d=>c.value=d,style:{marginTop:0}},null),a(Ne,null,null)]):void 0]}),a(Id,{research:[[e.quintupleCondenser],[e.doubleSize,e.cheaperLabs],[e.fomeGain,e.researchBoost,e.storage],[e.halfQuantum,e.quadrupleSize,e.upgrades,e.respecs],[e.moreFomeGain,e.queueTwo,e.improvedStorage],[e.quarterQuantum,e.repeatableUnlock,e.inflationResearch,e.autofillStorage],[e.evenMoreFomeGain,e.biggerBuildings,e.isolatedStorage,e.instantInflation],[e.moreRepeatables,e.queueFour,e.autobuild],[e.mastery]]},null),a(Nn,null,{default:()=>[...Object.values(n).map(te).map(d=>a("div",{style:{margin:"var(--feature-margin) 0px"}},[d]))]})])]))}});function Wd(e){ae.researchQueue.value=t(ae.researchQueue).filter(n=>n!==e.id)}const Yd=_(()=>[ae.research,ae.repeatables].flatMap(e=>Object.values(e)));function Zi(e=!1){if(e||t(ae.researchQueue).length<t(ae.queueLength)){const n=t(Yd).find(i=>i.id===this.id);n&&t(ae.researchQueue).push(n.id)}}function Ji(){return t(ae.researchQueue).some(e=>e===this.id)}function At(e){return Qi(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:m,onResearch:c}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:j(()=>({resource:x(it(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:m,onResearch:c,research:Zi,isResearching:Ji}})}function St(e){return Qi(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:m,onResearch:c,effect:d}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:j(()=>({resource:x(it(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:m,onResearch:c,research:Zi,isResearching:Ji,effect:d}},ke)}function Fn(e){return Qi(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:m,onResearch:c,effect:d,limit:p}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:j(()=>({resource:x(it(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:m,onResearch:c,research:Zi,isResearching:Ji,effect:d,limit:p}},ke,bd)}function ti(e){return ze(n=>{var m;const{effect:i,cost:r,display:s,size:l}=e.call(n,n);return(m=r.free)!=null||(r.free=ae.research.autobuild.researched),{bonusAmount(){return o.times(t(this.amount),t(A.spinor.upgrades.rho.effect))},visibility:s.visibility,requirements:[Ot(Qd(l!=null?l:1)),j(()=>({cost(){const c=t(r.multiplier),d=new o(t(r.base)),p=o.div(t(n.amount),at(ae.repeatables.buildingCost,1)).div(t(A.pion.upgrades.rho.effect)),h=t(Cn);return t(ae.research.autobuild.researched)?d.pow(p).times(c):d.pow(h).minus(1).times(c).times(d.pow(p)).dividedBy(d.minus(1))},resource:x(r.resource),requiresPay:()=>!t(r.free),cumulativeCost:!1,maxBulkAmount:Cn}))],onClick(){n.amount.value=t(Cn).minus(1).plus(t(n.amount))},effect(){return i(Kd(this))},display:q(()=>{var f,N;const c=oe(s.title,"h3"),d=oe(s.description),p=oe(s.effect),h=n;return a("span",null,[a("div",null,[a(c,null,null)]),a(d,null,null),a("div",null,[a("br",null,null),a("b",null,[u("Size:")]),u(" "),qn(o.times(t(h.amount),(f=h.size)!=null?f:1),0),o.gt(t(h.bonusAmount),0)?qn(o.times(t(h.bonusAmount),(N=h.size)!=null?N:1),0):void 0]),a("div",null,[a("br",null,null),a("b",null,[u("Currently:")]),u(" "),a(p,null,null)]),a("div",null,[a("br",null,null),We(h.requirements)])])}),style:Xd,size:l}},ke,Ur)}const Xd=_(()=>({width:"250px",minHeight:"150px",borderBottomLeftRadius:t(ae.research.respecs.researched)?0:"var(--border-radius)",borderBottomRightRadius:t(ae.research.respecs.researched)?0:"var(--border-radius)"})),Cn=_(()=>o.times(at(ae.research.biggerBuildings,{size:1,effect:1}).size,at(ae.repeatables.buildingSize,{size:1,effect:1}).size));function Qd(e){return _(()=>o.minus(t(Ve.maxSize),t(Ve.usedSize)).gte(t(Cn).times(e)))}function Kd(e){var n;return o.times(t(e.totalAmount),(n=e.size)!=null?n:1).times(at(ae.research.biggerBuildings,{size:1,effect:1}).effect).times(t(ae.repeatables.buildingSize.effect).effect)}function qn(e,n){return e=new o(e),e.lt(6187e7)?a(g,null,[D(e,n),u("\u2113"),a("sub",null,[u("P")])]):(e=e.dividedBy(6187e7),e.lt(1e3)?`${D(e,n)}ym`:e.lt(1e6)?`${D(e.dividedBy(1e3),n)}zm`:e.lt(1e9)?`${D(e.dividedBy(1e6),n)}am`:e.lt(1e12)?`${D(e.dividedBy(1e9),n)}fm`:e.lt(1e15)?`${D(e.dividedBy(1e12),n)}pm`:e.lt(1e18)?`${D(e.dividedBy(1e15),n)}nm`:e.lt(1e21)?`${D(e.dividedBy(1e18),n)}\u03BCm`:e.lt(1e24)?`${D(e.dividedBy(1e21),n)}mm`:e.lt(1e27)?`${D(e.dividedBy(1e24),n)}m`:e.lt(1e30)?`${D(e.dividedBy(1e27),n)}km`:e.lt(1e33)?`${D(e.dividedBy(1e30),n)}Mm`:e.lt(1e36)?`${D(e.dividedBy(1e33),n)}Gm`:e.lt(1e39)?`${D(e.dividedBy(1e36),n)}Tm`:e.lt(1e42)?`${D(e.dividedBy(1e39),n)}Pm`:e.lt(9461e39)?`${D(e.dividedBy(1e42),n)}ly`:e.lt(3086e40)?`${D(e.dividedBy(9461e39),n)}pc`:e.lt(3086e43)?`${D(e.dividedBy(3086e40),n)}kcp`:e.lt(3086e46)?`${D(e.dividedBy(3086e43),n)}Mpc`:`${D(e.dividedBy(3086e46),n)}Gpc`)}const Zd="buildings",Ve=Ze(Zd,function(){const e=(()=>{const p=ti(w=>({effect(S){return o.times(S,at(ae.research.quintupleCondenser,1)).pow_base(.975)},cost:{resource:x(y[k.subspatial].amount),base:1.1,multiplier:_(()=>ye.isFirstBranch(ht)?1e30:1e82)},display:{visibility:x(le.upgrades.subspaceBuildings.bought),title:"M-Field Condenser",description:"Slightly reduce the loss of resources to Inflation",effect:q(()=>a(g,null,[vt(t(w.effect))]))}})),h=ti(()=>({effect(w){return(t(ae.research.researchBoost.researched)?o.times(t(ae.research.researchBoost.effect),.9):o.dOne).times(w).times(t(A.pion.upgrades.nu.effect))},cost:{resource:x(y[k.subspatial].amount),base:_(()=>t(ae.research.cheaperLabs.researched)?1.5:15),multiplier:_(()=>ye.isFirstBranch(ht)?1e30:1e82)},display:{visibility:x(le.upgrades.research.bought),title:"Quantum Flux Analyzer",description:"Study fluctuations in the quantum field",effect:q(()=>a(g,null,[u("+"),Z(t(ae.researchGain)),u(" research points/s")]))}})),f=ti(w=>({effect(S){return o.times(S,at(ae.research.improvedStorage,1/3)).pow_base(500)},cost:{resource:x(y[k.quantum].amount),base:1.2,multiplier:_(()=>ye.isFirstBranch(ht)?1e15:1e48)},display:{visibility:ae.research.storage.researched,title:"Inflaton Containment Unit",description:"Specialized storage facilities designed to keep Inflatons separated and inert",effect:q(()=>a(g,null,[u("Safely store up to "),Z(t(w.effect)),u(" Inflatons")]))},size:3})),N=ti(w=>({effect(S){let C=o.times(S,.01).plus(1),E=new o(S),B=t(ae.researchGain);return E.gt(B)?{gain:C.times(B).dividedBy(E),cost:B}:{gain:C,cost:E}},cost:{resource:x(y[k.subspatial].amount),base:1.5,multiplier:_(()=>ye.isFirstBranch(ht)?1e40:1e92)},display:{visibility:ae.research.inflationResearch.researched,title:"Active Redistribution Center",description:"Tune your M-field Condensers with continuous analysis of inflation patterns",effect:q(()=>a(g,null,[D(t(w.effect).gain),u("x"),a("br",null,null),a("b",null,[u("Consumes:")]),u(" "),D(t(w.effect).cost),u(" Research/s")]))}}));return{condenser:p,lab:h,storage:f,tuner:N}})(),n=it(_(()=>{if(o.lt(t(le.inflatons),1))return o.dZero;let p=o.clampMin(t(le.inflatons),2).log2().log2().times(at(ae.research.doubleSize,1)).times(at(ae.research.quadrupleSize,1)).times(at(ae.repeatables.universeSize,1));const h=6187e7;return p.gt(h)&&(p=p.pow(.1).times(o.dOne.minus(.1).pow_base(h))),p.times(t(z.getTimesquareEffect(Y.TOP))).div(t(He.nerfs[Y.TOP])).times(t(He.buffs[Y.TOP]))})),i=Yi(n),r=_(()=>Object.values(e).map(p=>{var h;return o.times(t(p.amount),(h=p.size)!=null?h:1)}).reduce((p,h)=>p.plus(h),o.dZero)),s={width:"125px",minHeight:"25px",borderRadius:0},l=Object.fromEntries(Object.entries(e).map(([p,h])=>[p,{one:st(()=>({visibility:h.visibility,canClick(){return o.gt(t(h.amount),0)},display:{description:"Sell One"},onClick(){h.amount.value=o.minus(h.amount.value,t(Cn)).clampMin(0)},style:{...s,borderBottomLeftRadius:"var(--border-radius)"}})),all:st(()=>({visibility:h.visibility,canClick(){return o.gt(t(h.amount),0)},display:{description:"Sell All"},onClick(){h.amount.value=o.dZero},style:{...s,borderBottomRightRadius:"var(--border-radius)"}}))}])),m=st(()=>({canClick(){return Object.values(e).some(p=>o.gt(t(p.amount),0))},display:{description:"Sell All"},onClick(){for(const p of Object.values(e))p.amount.value=o.dZero},style:{...s,borderRadius:"var(--border-radius)"}})),c=qe(!1);le.on("update",()=>{if(!!t(c))for(const p of Object.values(e))!_e(p.visibility)||!t(p.canClick)||p.onClick()});const d=Object.fromEntries(Object.entries(e).map(([p,h])=>[p,q(()=>_e(h.visibility)?a("div",{class:"col mergeAdjacent"},[te(h),t(ae.research.respecs.researched)?a("div",{class:"row mergeAdjacent"},[te(l[p].one),te(l[p].all)]):void 0]):a("span",null,null))]));return{buildings:e,currentSize:n,maxSize:i,usedSize:r,autoBuilding:c,display:q(()=>a(g,null,[a("div",null,[u("Your buildings are taking up "),qn(t(r),0),u(" / "),qn(o.floor(t(i)),0)]),a(Ne,null,null),nn(...Object.values(d)),a(Ne,null,null),t(ae.research.autobuild.researched)?a(g,null,[a(Nn,null,{default:()=>[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Building Construction")]),a(Dt,{modelValue:c.value,"onUpdate:modelValue":p=>c.value=p,style:{marginTop:0}},null)]})]):void 0,te(m)]))}}),ht="inflaton",le=Ze(ht,function(){const e="Inflatons",n="#ff5e13",i=_(()=>t(ye.milestones[1].earned)||ye.isFirstBranch(ht)||t(L.upgrades.mastery.bought)?!0:t(y[k.quantum].upgrades.condense.bought)),r=it(0,e),s=j(()=>({resource:x(y[k.quantum].amount),cost:()=>ye.isFirstBranch(ht)?1e9:1e50,requiresPay:!1})),l=st(()=>({canClick:()=>Nt(s),display:q(()=>a(g,null,[u("1 "),r.displayName,a("br",null,null),a("br",null,null),We(s)])),onClick(){r.value=o.dOne,ye.isFirstBranch(ht)&&(ye.branchOrder.value=ht)},style:{width:"fit-content",minHeight:"60px"},visibility:()=>o.eq(t(r),0)})),m=st(()=>({display:q(()=>t(p)?a(g,null,[u("DISPERSE")]):a(g,null,[u("INFLATE")])),onClick(){t(p)?d():c()},style:{width:"150px",minHeight:"60px"},visibility:()=>o.gte(t(r),1)}));function c(){p.value=!0,r.value=t(ae.research.instantInflation.researched)?o.reciprocate(t(Ve.buildings.condenser.effect)).dividedBy(10).pow10():o.add(t(r),1)}function d(){p.value=!1,r.value=o.min(t(r),t(Ve.buildings.storage.effect))}const p=qe(!1),h=_(()=>{let K=o.clampMin(t(r),1).log10();return(t(p)||!t(ae.research.isolatedStorage.researched))&&(K=K.times(t(Ve.buildings.condenser.effect))),K.pow_base(2).clampMin(1)}),f=_(()=>t(h).dividedBy(at(ae.research.fomeGain,1)).dividedBy(at(ae.research.moreFomeGain,1)).dividedBy(at(ae.research.evenMoreFomeGain,1)).dividedBy(at(ae.repeatables.fome,1)).clampMin(1)),N=_(()=>t(z.upgrades.tower.bought)?t(z.timelines.inTimeline)?t(f):t(h):t(h)),w={pion:N,spinor:N,[k.protoversal]:f,[k.infinitesimal]:f,[k.subspatial]:f,[k.subplanck]:f,[k.quantum]:_(()=>o.times(t(f),at(ae.research.halfQuantum,1)).times(at(ae.research.quarterQuantum,1)).clampMin(1)),acceleron:h,timecube:h},S=_(()=>{let de=o.clampMin(t(r),1).log10().plus(1).dividedBy(10).pow_base(2).times(t(r));return de.layer>=3?o.fromComponents(de.sign,de.layer,de.mag*1.000000000000001):de}),C=It(()=>[Q(()=>({multiplier:ae.research.fomeGain.effect,enabled:ae.research.fomeGain.researched,description:q(()=>a(g,null,[u("["),e,u("] research.fomeGain")]))})),Q(()=>({multiplier:ae.research.moreFomeGain.effect,enabled:ae.research.moreFomeGain.researched,description:q(()=>a(g,null,[u("["),e,u("] research.moreFomeGain")]))})),Q(()=>({multiplier:ae.research.evenMoreFomeGain.effect,enabled:ae.research.evenMoreFomeGain.researched,description:q(()=>a(g,null,[u("["),e,u("] research.evenMoreFomeGain")]))})),Q(()=>({multiplier:ae.repeatables.fome.effect,enabled:()=>o.gt(t(ae.repeatables.fome.amount),0),description:q(()=>a(g,null,[u("["),e,u("] repeatables.fome ("),D(t(ae.repeatables.fome.amount)),u(")")]))}))]),E=_(()=>t(p)?o.dOne:o.clampMax(C.apply(o.dOne),t(h))),B=(()=>{const K=ce(()=>({display:{title:"Subspatial Field Stabilizers",description:"<br />Allow the creation of Subspatial Structures<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?5e5:5e46,resource:y[k.quantum].amount})),visibility(){return t(this.bought)||t(ye.milestones[1].earned)||o.gte(t(Ve.maxSize),6)},style:{width:"250px"}})),de=ce(()=>({display:{title:"Quantum Field Investigations",description:"<br />Stabilization isn't enough. Maybe the constant bubbling of the quantum field may hold the secret to sustaining inflation<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?1e6:1e47,resource:y[k.quantum].amount})),visibility(){return t(this.bought)||t(ye.milestones[1].earned)||t(K.bought)&&o.gte(t(Ve.maxSize),7)},style:{width:"250px"}})),V=ce(()=>({display:{title:"Dynamic Inflational Formation",description:"<br />Generate more Foam based on the size of your universe<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?1e25:1e58,resource:y[k.quantum].amount})),visibility(){return t(this.bought)||t(ae.research.upgrades.researched)},effect:Ve.maxSize,style:{width:"250px"}}),ke),H=ce(()=>({display:{title:"Micro-Inflational Subsystems",description:"<br />Gain a new Pion and Spinor Upgrade<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?1e27:1e60,resource:y[k.quantum].amount})),visibility(){return t(this.bought)||t(ae.research.upgrades.researched)},style:{width:"250px"}}));return{subspaceBuildings:K,research:de,moreFome:V,skyrmionUpgrades:H}})();this.on("preUpdate",()=>{if(!!t(p)){for(const[K,de]of[[A.pion.pions,w.pion],[A.spinor.spinors,w.spinor],[y[k.protoversal].amount,w[k.protoversal]],[y[k.infinitesimal].amount,w[k.infinitesimal]],[y[k.subspatial].amount,w[k.subspatial]],[y[k.subplanck].amount,w[k.subplanck]],[y[k.quantum].amount,w[k.quantum]],[L.accelerons,w.acceleron],[z.timecubes,w.timecube]])K.value=o.divide(K.value,de.value);[A.pion.pions,A.spinor.spinors,...Object.values(k).map(K=>y[K].amount)].some(K=>o.lt(t(K),1))&&d()}}),this.on("postUpdate",K=>{let de=!1;t(p)&&(de=!0),t(ae.research.autofillStorage.researched)&&o.lt(t(r),t(Ve.buildings.storage.effect))&&(de=!0),de?r.value=t(S).times(K).plus(t(r)):o.gt(t(r),t(Ve.buildings.storage.effect))&&(r.value=t(Ve.buildings.storage.effect))});const R=q(()=>a(g,null,[a(Sn,{resource:r,color:n,stickyStyle:{background:"unset"}},null),a("div",{style:{marginTop:"-20px",fontSize:"12px"}},[t(p)?a(g,null,[u("Runaway inflation is dividing all other resources by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Z(t(h))])]):a(g,null,[t(ae.research.fomeGain.researched)?a(g,null,[u("Inflaton resonance is increasing Foam generation by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Z(t(E))])]):void 0])]),te(m),te(l),o.gt(t(r),0)&&o.gt(t(Ve.maxSize),0)?a("div",null,[u("You have managed to stabilize the universe at a diameter of "),qn(t(Ve.maxSize)),t(p)&&o.lt(t(Ve.currentSize),t(Ve.maxSize))?a(g,null,[u(" ("),qn(t(Ve.currentSize)),u(")")]):void 0]):void 0,a(Ne,null,null)])),P=Hn({buildings:()=>({display:"Structures",tab:Ht(()=>({display:q(()=>a(g,null,[te(R),o.gt(t(r),0)?a(g,null,[t(B.subspaceBuildings.bought)?te(Ve.display):void 0,a(Ne,null,null),nn(B.moreFome,B.subspaceBuildings,B.research,B.skyrmionUpgrades)]):void 0]))}))}),research:()=>({display:"Research",tab:Ht(()=>({display:q(()=>a(g,null,[te(R),te(ae.display)]))}))})});return{id:ht,name:e,color:n,unlocked:i,inflatons:r,inflating:p,fomeBonus:E,upgrades:B,tabs:P,tabStyle:{"--bought":"#b14e24"},display:q(()=>a(g,null,[t(B.research.bought)?te(P):te(t(P.tabs.buildings.tab))])),buildings:Ve,coreResearch:ae}});var Jd=ie({props:{visibility:{type:ee(Number,Boolean),required:!0},display:ee(Object,String,Function),earned:{type:ee(Boolean),required:!0},requirements:ee(Object,Array),image:ee(String),style:ee(String,Object,Array),classes:ee(Object),mark:ee(Boolean,String),small:ee(Boolean),id:{type:String,required:!0}},components:{Node:bn,MarkNode:Wn},setup(e){const{display:n,requirements:i,earned:r}=et(e),s=ft("");return kt(()=>{const l=Se(n);if(l==null){s.value="";return}if(bt(l)){s.value=oe(l);return}const m=oe(l.requirement?l.requirement:q(()=>{var p;return We((p=Se(i))!=null?p:[])}),"h3"),c=oe(l.effect||"","b"),d=Se(r)?oe(l.optionsDisplay||"","span"):"";s.value=oe(q(()=>a("span",null,[a(m,null,null),l.effect!=null?a("div",null,[a(c,null,null)]):null,l.optionsDisplay!=null?a("div",{class:"equal-spaced"},[a(d,null,null)]):null])))}),{comp:s,unref:t,Visibility:Me,isVisible:_e,isHidden:Vt}}});function em(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),F("div",{key:0,style:Ee([{visibility:e.isHidden(e.visibility)?"hidden":void 0,backgroundImage:e.earned&&e.image&&`url(${e.image})`||""},(d=e.unref(e.style))!=null?d:[]]),class:Te({feature:!0,achievement:!0,locked:!e.unref(e.earned),done:e.unref(e.earned),small:e.unref(e.small),...e.unref(e.classes)})},[e.comp?(I(),ne(Ce(e.comp),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],6)):J("",!0)}var tm=ge(Jd,[["render",em],["__scopeId","data-v-78143a58"]]);const nm=hr(),im=Symbol("Achievement");let yn=function(e){return e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none",e}({});function mt(e,...n){const i=qe(!1,!1),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return Ge(s=>{var d,p,h;const l=(d=e==null?void 0:e.call(s,s))!=null?d:{};l.id=Rt("achievement-"),l.type=im,l[lt]=tm;for(const f of n)(p=f.preConstruct)==null||p.call(f,l);l.earned=i,l.complete=function(){var N,w;if(i.value)return;i.value=!0;const f=l;if((N=f.onComplete)==null||N.call(f),f.display!=null&&t(f.showPopups)===!0){const S=t(f.display);let C;bt(S)?C=oe(S):S.requirement!=null?C=oe(S.requirement):C=We((w=f.requirements)!=null?w:[]),nm.info(a("div",null,[a("h3",null,[u("Achievement earned!")]),a("div",null,[a(C,null,null)])]))}},Object.assign(l,r),U(l,"visibility"),Fe(l,"visibility",Me.Visible);const m=l.visibility;l.visibility=rs(()=>{const f=t(l.display);switch($e.msDisplay){default:case yn.All:return t(m);case yn.Configurable:return t(l.earned)&&!(f!=null&&typeof f=="object"&&"optionsDisplay"in f)?Me.None:t(m);case yn.Incomplete:return t(l.earned)?Me.None:t(m);case yn.None:return Me.None}}),U(l,"display"),U(l,"mark"),U(l,"small"),U(l,"image"),U(l,"style"),U(l,"classes"),U(l,"showPopups"),Fe(l,"showPopups",!0);for(const f of n)(h=f.postConstruct)==null||h.call(f,l);const c=n.reduce((f,N)=>{var w;return Object.assign(f,(w=N.getGatheredProps)==null?void 0:w.call(N,l))},{});if(l[gt]=function(){const{visibility:f,display:N,requirements:w,earned:S,image:C,style:E,classes:B,mark:R,small:P,id:K}=this;return{visibility:f,display:N,requirements:w,earned:S,image:C,style:t(E),classes:B,mark:R,small:P,id:K,...c}},l.requirements){const f=l,N=[Xi(f),Ot(()=>!f.earned.value),...Wt(l.requirements)?l.requirements:[l.requirements]];kt(()=>{$e.active===he.id&&Nt(N)&&f.complete()})}return l})}ut.on("loadSettings",e=>{Fe(e,"msDisplay",yn.All)});const rm=Object.values(yn).map(e=>({label:Pr(e),value:e}));kr(q(()=>a(Bn,{title:q(()=>a("span",{class:"option-title"},[u("Show achievements"),a("desc",null,[u("Select which achievements to display based on criterias.")])])),options:rm,"onUpdate:modelValue":e=>$e.msDisplay=e,modelValue:$e.msDisplay},null)));const ye=Ze("entangled",()=>{const e="Entangled Strings",n="#9a4500",i=_(()=>t(S[1].earned)||t(L.upgrades.mastery.bought)&&t(le.coreResearch.research.mastery.researched)),r=it(0,"Entangled Strings"),s=qe("",!1);function l(C){return t(S[1].earned)?!0:C===t(s)}const m="160px",c=(()=>{const C=_(()=>[E,B,R,P,K].filter(de=>t(de.bought)).length+2),E=ce(()=>({requirements:j(()=>({resource:x(r),cost:C,requiresPay:!1})),visibility:S[2].earned,display:{title:"Grasp the Void",description:"You have long since extracted all you can from your Skyrmions, but new insights show there may be yet more to gain"},style:{width:m,height:m}})),B=ce(()=>({requirements:j(()=>({resource:x(r),cost:C,requiresPay:!1})),visibility:S[2].earned,display:{title:"Architectural Renaissance (TBD)",description:"Look to the past, and see what glories the future may hold"},style:{width:m,height:m}})),R=ce(()=>({requirements:j(()=>({resource:x(r),cost:C,requiresPay:!1})),visibility:S[2].earned,display:{title:"Tetradimensional Engineering (TBD)",description:"Application of structural ideas gained from Entropic Loops may give rise to a powerful new sector of exploration and progress"},style:{width:m,height:m}})),P=ce(()=>({requirements:j(()=>({resource:x(r),cost:C,requiresPay:!1})),visibility:S[2].earned,display:{title:"Enigmatic Engineering",description:"Time Cubes seem helpful, but limited in power. Maybe your newfound mastery over space and time can reveal more of their secrets"},style:{width:m,height:m}})),K=ce(()=>({requirements:j(()=>({resource:x(r),cost:C,requiresPay:!1})),visibility:S[2].earned,display:{title:"Technological Ascendency (TBD)",description:"You have shown mastery over space and time, at least individually. Together, though, there are more secrets to unlock"},style:{width:m,height:m}}));return{skyrmion:E,fome:B,acceleron:R,timecube:P,inflaton:K}})(),d=_(()=>Object.values(c).filter(C=>C.bought.value).length),p=_(()=>(t(c.skyrmion.bought)?1:0)+(t(c.fome.bought)?2:0)+(t(c.acceleron.bought)?4:0)+(t(c.timecube.bought)?8:0)+(t(c.inflaton.bought)?16:0)),h=_(()=>o.lte(r.value,1)?!0:o.lte(r.value,d.value+1)),f={expansion:Ot(h),acceleron:j(()=>({resource:x(L.accelerons),cost(){const C=(()=>o.eq(t(r),0)?1e19:[1e29,15e40,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,25e40,1e64,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(C,t(A.pion.upgrades.xi.effect))}})),inflaton:j(()=>({resource:x(le.inflatons),cost(){const C=(()=>o.eq(t(r),0)?o.pow10(8e3):[o.pow10(18e3),o.pow10(85e11),o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.pow10(37e4),o.pow10(45e16),o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)])();return o.times(C,t(A.spinor.upgrades.xi.effect))}})),timecube:j(()=>({resource:it(_(()=>Object.values(z.timelines.timelines).map(C=>t(C.score)).reduce((C,E)=>C.plus(E),o.dZero))),cost(){return t(c.timecube.bought)?[o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,1e4,5e6,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(p)]:0},visibility:x(c.timecube.bought)}))},N=st(()=>({canClick(){return Nt(Object.values(f))},onClick(){r.value=o.add(t(r.value),1),sn(()=>{const C=(t(S[3].earned)?[le.coreResearch.research.queueTwo,le.coreResearch.research.queueFour]:[]).filter(E=>t(E.researched));w.reset(),t(S[2].earned)&&(y.protoversal.upgrades.reform.amount.value=o.dOne);for(const E of C)E.researched.value=!0;A.skyrmions.value=t(L.achievements.skyrmion.earned)?10:1})},display:"<h2>Condense reality into 1 Entangled String</h2>",style:{width:m,height:m}})),w=Ki(()=>({thingsToReset(){const C=[A.skyrmions,A.pion,A.spinor,y.protoversal,y.infinitesimal,y.subspatial,y.subplanck,y.quantum,L.accelerons,L.bestAccelerons,L.totalAccelerons,L.time,L.upgrades,L.loops,z,le.inflatons,le.inflating,le.upgrades,le.buildings,le.coreResearch];return t(S[2].earned)||C.push(A.upgrades,y.achievements),C}})),S={1:mt(()=>({requirements:j(()=>({resource:x(r),cost:1})),display:{requirement:`1 ${r.displayName}`,effect:`${L.accelerons.displayName} and ${le.inflatons.displayName} no longer inflate each other's costs`},small:!1})),2:mt(()=>({requirements:j(()=>({resource:x(r),cost:2})),display:{requirement:`2 ${r.displayName}`,effect:q(()=>a(g,null,[u("Unlock expansions to previous content"),a("br",null,null),u("Keep Skyrmion upgrades and Foam milestones")]))},small:!1})),3:mt(()=>({requirements:j(()=>({resource:x(r),cost:3})),display:{requirement:`3 ${r.displayName}`,effect:"Keep all parallel research and research queue researches"},small:!1})),7:mt(()=>({requirements:j(()=>({resource:x(r),cost:7})),display:{requirement:`7 ${r.displayName}`,effect:"Unlock Fundamental Particles"},small:!1}))};return{name:e,color:n,unlocked:i,strings:r,expansions:c,milestones:S,display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),a(Mn,null,{default:()=>[vi(c.skyrmion,c.fome),a(Nn,null,{default:()=>[te(N),a(Ne,{height:m},null),te(c.acceleron)]}),vi(c.inflaton,c.timecube)]}),a(Ne,null,null),a("div",null,[u("The next "),r.displayName,u(" requires:")]),a(Ne,null,null),a("div",{style:{color:L.color}},[L.accelerons.displayName,u(": "),D(t(f.acceleron.resource)),u(" / "),D(t(f.acceleron.cost))]),a("div",{style:{color:le.color}},[u("Stored "),le.inflatons.displayName,u(": "),D(t(f.inflaton.resource)),u(" / "),D(t(f.inflaton.cost))]),_e(f.timecube.visibility)?a("div",{style:{color:z.color}},[u("Total Timeline Score: "),D(t(f.timecube.resource)),u(" / "),D(t(f.timecube.cost))]):void 0,a(Ne,null,null),vi(...Object.values(S))])),branchOrder:s,isFirstBranch:l}}),sm="timecube",z=Ze(sm,function(){const e="Time Cubes",n="#f037ea",i=_(()=>t(ye.milestones[1].earned)||t(L.loops.loops.timecube.built)),r=it(0,"Time Cubes"),s=Yi(r),l=(()=>{const c=ce(rt=>({display:{title:"Tile",description:"log10(Accelerons) increases Time Cube gain",effect:q(()=>a(g,null,[D(t(rt.effect)),u("x")]))},requirements:j(()=>({resource:x(r),cost:1})),effect(){return o.max(t(L.accelerons),0).plus(1).log10()}}),ke),d=ce(rt=>({visibility(){return t(this.bought)||t(c.bought)},display:{title:"Time",description:"log10(Best Time Cubes) increases Acceleron effect",effect:q(()=>a(g,null,[D(t(rt.effect)),u("x")]))},requirements:j(()=>({resource:x(r),cost:2})),effect(){return o.max(t(s),0).plus(1).log10().plus(1)}}),ke),p=ce(rt=>({visibility(){return t(this.bought)||t(d.bought)},display:{title:"Tier",description:"Each upgrade in this row gives a free level of every Foam Boost",effect:q(()=>a(g,null,[u("+"),Z(t(rt.effect)),u(" free levels")]))},requirements:j(()=>({resource:x(r),cost:3})),effect(){return[c,d,this,h,f].filter(Yt=>t(Yt.bought)).length}}),ke),h=ce(()=>({visibility(){return t(this.bought)||t(p.bought)},display:{title:"Tilt",description:"Entropic Expansion is 50% stronger"},requirements:j(()=>({resource:x(r),cost:10})),effect:1.5}),ke),f=ce(()=>({visibility(){return t(this.bought)||t(h.bought)},display:{title:"Tiny",description:"Unlock another Entropic Loop"},requirements:j(()=>({resource:x(r),cost:25}))})),N=ce(()=>({visibility(){return t(this.bought)||t(f.bought)},display:()=>({title:"Twice",description:`${t(R.bought)?"Triple":"Double"} maximum entropy`}),requirements:j(()=>({resource:x(r),cost:2500})),effect(){return t(R.bought)?3:2}}),ke),w=ce(()=>({visibility(){return t(this.bought)||t(N.bought)},display:{title:"Twist",description:"You may select an additional first row Entropic Enhancement"},requirements:j(()=>({resource:x(r),cost:4e8}))})),S=ce(()=>({visibility(){return t(this.bought)||t(w.bought)},display:{title:"Ten",description:"Increase Entropic Loop build speed by 10,000x"},requirements:j(()=>({resource:x(r),cost:5e8})),effect:1e4}),ke),C=ce(()=>({visibility(){return t(this.bought)||t(S.bought)},display:{title:"Twirl",description:"You may select an additional fourth row Entropic Enhancement"},requirements:j(()=>({resource:x(r),cost:125e7}))})),E=ce(()=>({visibility(){return t(this.bought)||t(C.bought)},display:{title:"Tetrate",description:"Unlock the fourth column of Entropic Enhancements"},requirements:j(()=>({resource:x(r),cost:5e9}))})),B=ce(()=>({visibility(){return t(this.bought)||t(ye.expansions.timecube.bought)},display:{title:"Tesselate",description:"Unlock Time Squares"},requirements:j(()=>({resource:x(r),cost:1e6}))})),R=ce(()=>({visibility(){return t(this.bought)||t(B.bought)},display:{title:"Triple",description:"Change <b>Twice</b> from double to triple"},requirements:j(()=>({resource:x(r),cost:1e11}))})),P=ce(()=>({visibility(){return t(this.bought)||t(B.bought)},display:{title:"Turn",description:"Front squares are 50% stronger"},requirements:j(()=>({resource:x(r),cost:1e12})),effect:1.5})),K=ce(()=>({visibility(){return t(this.bought)||t(R.bought)&&t(P.bought)},display:{title:"Tall",description:"Bottom squares are 50% stronger"},requirements:j(()=>({resource:x(r),cost:2e12})),effect:1.5})),de=ce(()=>({visibility(){return t(this.bought)||t(R.bought)&&t(P.bought)},display:{title:"Tour",description:"Double the Acceleron effect"},requirements:j(()=>({resource:x(r),cost:5e12})),effect:2})),V=ce(()=>({visibility(){return t(this.bought)||t(de.bought)},display:{title:"Tactics",description:"Unlock Timelines"},requirements:j(()=>({resource:x(r),cost:1e13}))})),H=ce(()=>({visibility(){return t(this.bought)||t(V.bought)},display:{title:"Tower",description:"While in at least one Top timeline, Foam retainment applies to Pions and Spinors as well"},requirements:j(()=>({resource:x(r),cost:1e16}))})),Be=ce(()=>({visibility(){return t(this.bought)||t(V.bought)},display:{title:"Title",description:"Best timeline scores also increase their corresponding Time Square gain"},requirements:j(()=>({resource:x(r),cost:1e17}))})),b=ce(()=>({visibility(){return t(this.bought)||t(Be.bought)&&t(H.bought)},display:{title:"Tempo",description:"The first entropic loop always produces at least one Acceleron"},requirements:j(()=>({resource:x(r),cost:1e18}))})),$={[k.protoversal]:1e46,[k.infinitesimal]:3e38,[k.subspatial]:1e31,[k.subplanck]:3e23,[k.quantum]:1e16},W=ce(()=>({visibility(){return t(this.bought)||t(Be.bought)&&t(H.bought)},display:{title:"Toil",description:"While in at least one Left timeline, Foam gain is massively increased based on how little of that Foam you have"},requirements:j(()=>({resource:x(r),cost:1e19})),effect(){return Object.fromEntries(Object.entries($).map(([rt,Yt])=>[rt,o.minus(Math.E/Math.PI,o.div(t(y[rt].amount),Yt)).pow10().times(15).plus(1)]))}})),ue=ce(rt=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Pe=ce(rt=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Ie=ce(rt=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Tt=ce(rt=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),xe=ce(rt=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))}));return{tile:c,time:d,tier:p,tilt:h,tiny:f,twice:N,twist:w,ten:S,twirl:C,tetrate:E,tesselate:B,triple:R,turn:P,tall:K,tour:de,tactics:V,tower:H,title:Be,tempo:b,toil:W,a:ue,b:Pe,c:Ie,d:Tt,e:xe}})(),m=Hn({cubes:()=>({display:"Time Cubes",tab:Ht(()=>({display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),a(nd,{upgrades:Object.values(l)},null)]))}))}),squares:()=>({display:"Time Squares",tab:Ht(()=>({display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),te(t(yi.display))]))}))}),lines:()=>({display:"Timelines",unlocked:x(l.tactics.bought),tab:Ht(()=>({display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),te(t(He.display))]))}))})});return{name:e,color:n,unlocked:i,timecubes:r,bestTimecubes:s,upgrades:l,tabs:m,display:q(()=>a(g,null,[t(l.tesselate.bought)?te(m):te(t(m.tabs.cubes.tab))])),timesquares:yi,timelines:He,getTimesquareEffect(c){return yi.squares[c].square.effect}}}),om=["stroke-width","cx","cy","r"],am=["stroke","stroke-width","stroke-dasharray","cx","cy","r"],Gr=ie({__name:"Loop",props:{color:null,width:null,radius:null,offset:null,angle:null},setup(e){const n=e,i=_(()=>n.radius*Math.PI*2),r=_(()=>t(i)*n.angle/360),s=_(()=>n.radius+n.width/2),l=_(()=>`${t(r)}, ${t(i)}`),m=_(()=>`rotate(${n.offset}deg)`);return(c,d)=>(I(),F(g,null,[M("circle",{stroke:"#242526","stroke-width":e.width/2,cx:t(s),cy:t(s),r:e.radius},null,8,om),e.angle>0?(I(),F("circle",{key:0,stroke:e.color,"stroke-width":e.width,"stroke-dasharray":t(l),cx:t(s),cy:t(s),r:e.radius,"stroke-linecap":"round",style:Ee({transitionDuration:"0s",transform:t(m),transformOrigin:`${t(s)}px ${t(s)}px`})},null,12,am)):J("",!0)],64))}}),lm=Symbol("Loop");function vn(e,...n){const i=qe(0),r=qe(0),s=qe(!1),l=n.reduce((m,c)=>{var d;return Object.assign(m,(d=c.getPersistentData)==null?void 0:d.call(c))},{});return Ge(m=>{var p,h;const c=e.call(m,m);c.id=Rt("loop-"),c.type=lm,c[lt]=Gr;for(const f of n)(p=f.preConstruct)==null||p.call(f,c);c.triggerProgress=i,c.buildProgress=r,c.built=s,Object.assign(c,l),wt(c.buildProgress,f=>{o.gte(f,t(c.buildRequirement))&&(s.value=!0)}),U(c,"visibility"),U(c,"buildRequirement"),U(c,"triggerRequirement"),U(c,"display"),U(c,"effect");for(const f of n)(h=f.postConstruct)==null||h.call(f,c);const d=n.reduce((f,N)=>{var w;return Object.assign(f,(w=N.getGatheredProps)==null?void 0:w.call(N,c))},{});return c[gt]=function(){const{visibility:f,display:N,buildProgress:w,buildRequirement:S,built:C,triggerProgress:E,triggerRequirement:B}=this;return{visibility:f,display:N,buildProgress:w,buildRequirement:S,built:C,triggerProgress:E,triggerRequirement:B,...d}},c})}const _i={getPersistentData(){return{value:qe(0)}},getGatheredProps(e){return{value:e.value}}};const um=["transform"],cm=ie({__name:"Loops",props:{radius:null,loops:null,buildButton:null},setup(e){const n=e,i=n.radius*2,r=n.loops.map((p,h,f)=>h===f.length-1?_(()=>_e(p.visibility)?n.radius-t(p.display).width/2:n.radius):_(()=>_e(p.visibility)?t(r[h+1])-t(f[h+1].display).width/2-t(p.display).width/2:t(r[h+1]))),s=n.loops.map((p,h,f)=>h===f.length-1?_(()=>0):_(()=>{const N=f[h],w=f[h+1],S=t(s[h+1]),C=_e(w.visibility)?t(w.display).width/2:0,E=_e(N.visibility)?t(N.display).width/2:0;return S+C+E})),l=n.loops.map(p=>_(()=>t(p.built)?o.div(t(p.triggerProgress),t(p.triggerRequirement)):o.div(t(p.buildProgress),t(p.buildRequirement)))),m=n.loops.map(p=>_(()=>o.times(t(L.time),t(L.timeMult)).div(t(p.triggerRequirement)).toNumber()%360)),c=n.loops.map((p,h)=>_(()=>t(l[h]).times(360).toNumber()%360)),d=n.loops.map((p,h)=>({id:p.id,visibility:p.visibility,color:_(()=>t(t(p.display).color)),width:_(()=>t(p.display).width),radius:r[h],offset:m[h],angle:c[h],translation:_(()=>{const f=t(s[h]);return`translate(${f},${f})`})}));return(p,h)=>(I(),F("div",{class:"loop-container",style:Ee({width:`${i}px`,height:`${i}px`})},[(I(),F("svg",{height:i,width:i},[(I(!0),F(g,null,Re(t(d).filter(f=>t(_e)(f.visibility)).reverse(),f=>(I(),F("g",{key:f.id,fill:"none",transform:t(f.translation)},[t(_e)(f.visibility)&&!t(Vt)(f.visibility)?(I(),ne(Gr,{key:0,color:t(f.color),width:t(f.width),radius:t(f.radius),offset:t(f.offset),angle:t(f.angle)},null,8,["color","width","radius","offset","angle"])):J("",!0)],8,um))),128))])),e.buildButton?(I(),ne(Ce(t(te)(t(e.buildButton))),{key:0})):J("",!0)],4))}}),dm=e=>($t("data-v-761e0687"),e=e(),Mt(),e),mm=dm(()=>M("div",null,"Hover for Current Effects",-1));var pm=ie({__name:"LoopDescriptions",props:{loops:null},setup(e){const n=e,i=_(()=>n.loops.filter(s=>t(s.built)).map(s=>Ft(t(s.display).description))),r=q(()=>Ci(t(i),a(g,null,[a("br",null,null)])));return(s,l)=>t(t(i)).length>0?(I(),ne(tt,{key:0,display:t(r),direction:t(Oe).Up},{default:fe(()=>[mm]),_:1},8,["display","direction"])):J("",!0)}});var fm=ge(pm,[["__scopeId","data-v-761e0687"]]),gm=ie({props:{active:{type:ee(Boolean),required:!0},maxed:{type:ee(Boolean),required:!0},canComplete:{type:ee(Boolean),required:!0},display:ee(String,Object,Function),requirements:ee(Object,Array),visibility:{type:ee(Number,Boolean),required:!0},style:ee(String,Object,Array),classes:ee(Object),completed:{type:ee(Boolean),required:!0},canStart:{type:ee(Boolean),required:!0},mark:ee(Boolean,String),id:{type:String,required:!0},toggle:{type:Function,required:!0}},components:{MarkNode:Wn,Node:bn},setup(e){const{active:n,maxed:i,canComplete:r,display:s,requirements:l}=et(e),m=_(()=>n.value?r.value?"Finish":"Exit Early":i.value?"Completed":"Start"),c=ft(""),d=_(()=>{const p=Se(n),h=Se(r);return p?h?Mc():Wi():{}});return kt(()=>{const p=Se(s);if(p==null){c.value="";return}if(bt(p)){c.value=oe(p);return}const h=oe(p.title||"","h3"),f=oe(p.description,"div"),N=oe(p.goal!=null?p.goal:q(()=>{var C;return We((C=Se(l))!=null?C:[])}),"h3"),w=oe(p.reward||""),S=oe(p.effect||"");c.value=oe(q(()=>a("span",null,[p.title!=null?a("div",null,[a(h,null,null)]):null,a(f,null,null),a("div",null,[a("br",null,null),u("Goal: "),a(N,null,null)]),p.reward!=null?a("div",null,[a("br",null,null),u("Reward: "),a(w,null,null)]):null,p.effect!=null?a("div",null,[u("Currently: "),a(S,null,null)]):null])))}),{buttonText:m,notifyStyle:d,comp:c,Visibility:Me,isVisible:_e,isHidden:Vt,unref:t}}});const bm=["disabled"];function hm(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),F("div",{key:0,style:Ee([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.notifyStyle,(d=e.unref(e.style))!=null?d:{}]),class:Te({feature:!0,challenge:!0,done:e.unref(e.completed),canStart:e.unref(e.canStart)&&!e.unref(e.maxed),maxed:e.unref(e.maxed),...e.unref(e.classes)})},[M("button",{class:"toggleChallenge",onClick:n[0]||(n[0]=(...p)=>e.toggle&&e.toggle(...p)),disabled:!e.unref(e.canStart)||e.unref(e.maxed)},se(e.buttonText),9,bm),e.unref(e.comp)?(I(),ne(Ce(e.unref(e.comp)),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],6)):J("",!0)}var vm=ge(gm,[["render",hm],["__scopeId","data-v-ec73ff4c"]]);const ym=Symbol("Challenge");function _m(e,...n){const i=qe(0),r=qe(!1,!1),s=n.reduce((l,m)=>{var c;return Object.assign(l,(c=m.getPersistentData)==null?void 0:c.call(m))},{});return Ge(l=>{var p,h;const m=e.call(l,l);m.id=Rt("challenge-"),m.type=ym,m[lt]=vm;for(const f of n)(p=f.preConstruct)==null||p.call(f,m);m.completions=i,m.active=r,Object.assign(m,s),m.completed=_(()=>o.gt(m.completions.value,0)),m.maxed=_(()=>o.gte(m.completions.value,t(m.completionLimit))),m.toggle=function(){var N,w,S,C,E;const f=m;if(f.active.value){if(o.gt(t(f.canComplete),0)&&!f.maxed.value){const B=t(f.canComplete);f.completions.value=o.min(o.add(f.completions.value,B),t(f.completionLimit)),(N=f.onComplete)==null||N.call(f)}f.active.value=!1,(w=f.onExit)==null||w.call(f),(S=f.reset)==null||S.reset()}else t(f.canStart)&&_e(f.visibility)&&!f.maxed.value&&((C=f.reset)==null||C.reset(),f.active.value=!0,(E=f.onEnter)==null||E.call(f))},m.canComplete=_(()=>Un(m.requirements)),m.complete=function(f){var S,C,E;const N=m,w=t(N.canComplete);N.active.value&&o.gt(w,0)&&!N.maxed.value&&(N.completions.value=o.min(o.add(N.completions.value,w),t(N.completionLimit)),(S=N.onComplete)==null||S.call(N),f!==!0&&(N.active.value=!1,(C=N.onExit)==null||C.call(N),(E=N.reset)==null||E.reset()))},U(m,"visibility"),Fe(m,"visibility",Me.Visible);const c=m.visibility;m.visibility=_(()=>$e.hideChallenges===!0&&t(m.maxed)?Me.None:t(c)),m.mark==null&&(m.mark=_(()=>o.gt(t(m.completionLimit),1)&&!!t(m.maxed))),U(m,"canStart"),Fe(m,"canStart",!0),U(m,"completionLimit"),Fe(m,"completionLimit",1),U(m,"mark"),U(m,"classes"),U(m,"style"),U(m,"display"),m.reset!=null&&ut.on("reset",f=>{f===m.reset&&m.active.value&&m.toggle()});for(const f of n)(h=f.postConstruct)==null||h.call(f,m);const d=n.reduce((f,N)=>{var w;return Object.assign(f,(w=N.getGatheredProps)==null?void 0:w.call(N,m))},{});return m[gt]=function(){const{active:f,maxed:N,canComplete:w,display:S,visibility:C,style:E,classes:B,completed:R,canStart:P,mark:K,id:de,toggle:V,requirements:H}=this;return{active:f,maxed:N,canComplete:w,display:S,visibility:C,style:t(E),classes:B,completed:R,canStart:P,mark:K,id:de,toggle:V,requirements:H,...d}},m})}ut.on("loadSettings",e=>{Fe(e,"hideChallenges",!1)});kr(q(()=>a(Dt,{title:q(()=>a("span",{class:"option-title"},[u("Hide maxed challenges"),a("desc",null,[u("Hide challenges that have been fully completed.")])])),"onUpdate:modelValue":e=>$e.hideChallenges=e,modelValue:$e.hideChallenges},null)));function Hr(e){e.effect===void 0&&(e.effect=i=>i),e.display.effect===void 0&&(e.display.effect=i=>`${vt(i)}x`);const n=ze(i=>{var r;return{visibility:e.visibility,requirements:e.requirements,display:e.display.name,effect:()=>e.effect(t(i.totalAmount)),bonusAmount:(r=e.bonusAmount)!=null?r:0}},ke,Ur);return xn(n,{direction:Oe.Down,yoffset:"var(--upgrade-width)",display:q(()=>{const i=t(n.bonusAmount);let r;o.gt(i,0)&&(r=a(g,null,[u("+"),Z(t(n.bonusAmount))]));const s=e.display.effect(t(n.effect));return a(g,null,[e.display.description,a("br",null,null),u("Amount: "),Z(t(n.amount)),r,a("br",null,null),u("Currently: "),s,a("br",null,null),We(n.requirements)])})}),n}const wm={class:"spinor-container"},km={class:"spinor-grid"},Sm=ie({__name:"Spinor",setup(e){const n=Ue.upgrades,i={alpha:{row:1,col:1},beta:{row:2,col:3},gamma:{row:3,col:1},delta:{row:4,col:3},epsilon:{row:5,col:1},zeta:{row:3,col:5},eta:{row:5,col:5},theta:{row:6,col:3},iota:{row:7,col:1},kappa:{row:4,col:7},lambda:{row:6,col:7},mu:{row:7,col:5},nu:{row:8,col:3},xi:{row:8,col:7},pi:{row:9,col:5},rho:{row:10,col:7}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(I(),F("div",wm,[M("ul",km,[(I(!0),F(g,null,Re(t(n),(m,c)=>(I(),F(g,{key:c},[t(m.visibility)!==t(Me).None?(I(),F("li",qt({key:0,class:"spinor-upgrade"},s.$attrs,{style:r(c)}),[(I(),ne(Ce(t(te)(m))))],16)):J("",!0)],64))),128))])]))}});var Cm=ge(Sm,[["__scopeId","data-v-41962e7a"]]);const Nm=Symbol("Boost");function je(e){const n=qe(0);return Ge(i=>{const r=e.call(i,i);return r.id=Rt("boost-"),r.type=Nm,r.amount=n,U(r,"display"),U(r,"effect"),r.bonus===void 0&&(r.bonus=0),U(r,"bonus"),r.total=_(()=>o.add(t(r.amount),t(r.bonus))),r})}function me(e,n){return t(y[e].boosts[n].effect)}const qm="spinor",Ue=Ze(qm,function(){const e="Spinors",n=it(0,e,void 0,!0),i=It(()=>[...A.production,Q(()=>({multiplier:ot.upgrades.gamma.effect,enabled:()=>o.gt(t(ot.upgrades.gamma.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03B3 ("),D(t(ot.upgrades.gamma.totalAmount)),u(")")]))})),Q(()=>({multiplier:ot.upgrades.mu.effect,enabled:()=>o.gt(t(ot.upgrades.mu.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03BC ("),D(t(ot.upgrades.mu.totalAmount)),u(")")]))}))]),r=_(()=>i.apply(t(A.totalSkyrmions).times(.01)));A.on("preUpdate",p=>{const h=t(L.timeMult).times(p);n.value=h.times(t(r)).plus(n.value)});const s=_(()=>Object.values(c).map(p=>t(p.amount)).reduce((p,h)=>p.plus(h),o.dZero)),l=_(()=>t(s).minus(me(k.subspatial,2))),m=_(()=>{const p=t(re.challenge.active)?t(re.upgradeCount):t(ot.upgradeCount),h=p.times(.2).times(t(ot.upgrades.beta.effect)).plus(1),f=p.times(.25).times(me(k.quantum,2));return h.pow(f)}),c=(()=>{const p=d({cost(b){let $=b.pow_base(1.2).times(.1);return b.gt(25)&&($=b.pow_base(7.9).times(342e-25).times($)),b.gt(90)&&($=b.pow_base(19.75).times(208e-106).times($)),$.times(me(k.infinitesimal,2))},shouldAutobuy:x(A.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Reduce the cost of "),A.skyrmions.displayName,u(" by 33%")]),effect:b=>`/${D(b)}`},effect:b=>o.pow(1.5,b),bonusAmount:y[k.protoversal].boosts[2].effect}),h=d({cost(b){let $=b.pow_base(1.3).times(.1);return b.gt(15)&&($=b.pow_base(7.7).times(6e-14).times($)),b.gt(45)&&($=b.pow_base(29.25).times(1e-39).times($)),$.plus(.9)},shouldAutobuy:x(A.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Pion upgrade cost by 10%")]),effect:b=>`Pion upgrade cost nerf reduced to ${vt(o.times(b,100))}%`},effect:b=>o.pow(.9,b),bonusAmount:y[k.protoversal].boosts[3].effect}),f=d({cost(b){let $=b.pow_base(1.7).times(.1);return b.gt(10)&&($=b.pow_base(7.35).times(268e-11).times($)),b.gt(60)&&($=b.pow_base(29.4).times(89e-75).times($)),$.plus(4.9).times(me(k.infinitesimal,5))},shouldAutobuy:x(A.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Pions")])},effect:b=>o.pow(1.75,b),bonusAmount:y[k.protoversal].boosts[4].effect}),N=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.protoversal].boosts[1].total),0),cost(b){let $=b.pow_base(6).times(30);return b.gt(60)&&($=b.pow_base(37.5).times(27e-72).times($)),$},shouldAutobuy:x(A.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Boost 1 effect")])},effect:b=>o.pow(1.7,b),bonusAmount:y[k.subplanck].boosts[2].effect}),w=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.infinitesimal].upgrades.reform.amount),0),cost(b){let $=b.pow_base(5).times(50);return b.gt(60)&&($=b.pow_base(28.8).times(177e-67).times($)),$},shouldAutobuy:x(A.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Infinitesimal Foam gain by 50% per order of magnitude of Protoversal Foam")])},effect:b=>o.max(t(y[k.protoversal].amount),0).plus(1).log10().times(b).times(.5).plus(1),bonusAmount:()=>o.add(me(k.subplanck,3),t(ot.upgrades.eta.effect))}),S=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.subspatial].upgrades.reform.amount),0),cost(b){let $=b.pow_base(5.5).times(5e3);return b.gt(60)&&($=b.pow_base(35.64).times(1e-68).times($)),$},shouldAutobuy:x(A.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Pion and Spinor gain by 30% per order of magnitude of Subspatial Foam")])},effect:b=>o.max(t(y[k.subspatial].amount),0).plus(1).log10().times(b).times(.3).plus(1),bonusAmount:y[k.subplanck].boosts[4].effect}),C=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.protoversal].upgrades.reform.amount),1),cost(b){let $=b.pow_base(5).times(3e5);return b.gt(60)&&($=b.pow_base(28.8).times(177e-66).times($)),$},shouldAutobuy:x(A.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain 120% increased Foam generation")])},effect:b=>o.times(b,1.2).plus(1),bonusAmount:y[k.subplanck].boosts[5].effect}),E=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.subplanck].upgrades.reform.amount),0),cost(b){let $=b.pow_base(6.5).times(7e5);return b.gt(45)&&($=b.pow_base(26).times(545e-36).times($)),$},shouldAutobuy:x(A.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Subspatial Foam gain by 30% per order of magnitude of Protoversal and Infinitesimal Foam")])},effect:b=>o.add(o.max(t(y[k.protoversal].amount),0).plus(1).log10(),o.max(t(y[k.infinitesimal].amount),0).plus(1).log10()).times(b).times(.3).plus(1),bonusAmount:y[k.quantum].boosts[4].effect}),B=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.protoversal].upgrades.reform.amount),2),cost(b){let $=b.pow_base(7.5).times(4e8);return b.gt(45)&&($=b.pow_base(30).times(595e-50).times($)),$},shouldAutobuy:x(A.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Pions increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:b=>o.max(t(ot.pions),0).plus(1).log10().times(b).times(.02).plus(1),bonusAmount:y[k.quantum].boosts[4].effect}),R=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.infinitesimal].upgrades.reform.amount),1),cost(b){let $=b.pow_base(7).times(5e9);return b.gt(45)&&($=b.pow_base(26).times(145e-45).times($)),$},shouldAutobuy:x(A.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Increase Subplanck Boost 1 effect by 40% per order of magnitude of Subplanck Foam")])},effect:b=>o.max(t(y[k.subplanck].amount),0).plus(1).log10().times(b).times(.4).plus(1),bonusAmount:y[k.quantum].boosts[4].effect}),P=d({visibility:()=>t(re.challenge.active)||t(L.upgrades.skyrmion.bought),cost(b){let $=b.pow_base(5).times(7e10);return b.gt(45)&&($=b.pow_base(20).times(1e-35).times($)),$},shouldAutobuy:x(A.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("ln(Best Accelerons) increases Pion and Spinor gain")])},effect:b=>o.max(t(L.bestAccelerons),0).plus(1).ln().times(b).plus(1)}),K=d({visibility:()=>t(re.challenge.active)||t(le.upgrades.skyrmionUpgrades.bought),cost(b){let $=b.pow_base(5).times(7e10);return b.gt(45)&&($=b.pow_base(20).times(1e-35).times($)),$},shouldAutobuy:x(A.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Pions per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:b=>o.clamp(t(le.inflatons),1,t(le.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(b)}),de=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.nu.bought),cost(b){return b.pow_base(150).times(1e50)},shouldAutobuy:x(A.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Add "),vt(25e-5),u(" to a repeatable research cost divider per order of magnitude of Spinors")]),effect:b=>`/${vt(b)}x`},effect:b=>o.clampMin(t(n),0).plus(1).log10().times(b).times(25e-5).plus(1)}),V=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.xi.bought),cost(b){return b.pow_base(135).times(1e50)},shouldAutobuy:x(A.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the magnitude of the Entangled String Inflaton requirement by 5%")]),effect:b=>`${vt(b)}x`},effect:b=>o.pow_base(.95,b)}),H=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.pi.bought),cost(b){return b.pow_base(160).times(1e50)},shouldAutobuy:x(A.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Pion and Spinor gain by 0.25% per total "),Ae.entropy.displayName])},effect:b=>o.times(b,.0025).times(t(Ae.maxEntropy)).plus(1)}),Be=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.rho.bought),cost(b){return b.pow_base(175).times(1e50)},shouldAutobuy:x(A.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Increase effective Subspace building count by 0.1%")]),effect:b=>`${D(o.times(b,100),1)}%`},effect:b=>o.times(b,.001)});return{alpha:p,beta:h,gamma:f,delta:N,epsilon:w,zeta:S,eta:C,theta:E,iota:B,kappa:R,lambda:P,mu:K,nu:de,xi:V,pi:H,rho:Be}})();return{name:e,spinors:n,upgradeCount:l,upgrades:c,display:q(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-start"},[a("div",{class:"col",style:"align-items: flex-start"},[a("div",null,[u("You have "),a(Yn,{resource:n,color:t(re.challenge.active)?re.color:A.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),pn(n,r.value),u("/s)")]),a("div",{style:"font-size: 12px"},[u("Your Pion upgrades are increasing Spinor upgrade costs by "),vt(t(m).minus(1).times(100)),u("%")]),a(Ne,null,null),a(Cm,null,null)])]))};function d(p){const{visibility:h,cost:f,shouldAutobuy:N,display:w,effect:S,bonusAmount:C}=p,E=Hr({visibility:h,display:w,bonusAmount:C,effect:S,requirements:j(()=>({resource:x(n),cost:()=>f(o.sub(t(E.amount),me(k.subplanck,5))).times(t(m)),requiresPay:()=>!t(N),canMaximize:!1}))});return A.on("update",()=>{t(re.challenge.active)||t(N)&&Nt(E.requirements)&&E.onClick()}),E}});const Im={class:"pion-container"},$m={class:"pion-grid"},Mm=ie({__name:"Pion",setup(e){const n=ot.upgrades,i={alpha:{row:1,col:7},beta:{row:2,col:5},gamma:{row:3,col:7},delta:{row:4,col:5},epsilon:{row:5,col:7},zeta:{row:3,col:3},eta:{row:5,col:3},theta:{row:6,col:5},iota:{row:7,col:7},kappa:{row:4,col:1},lambda:{row:6,col:1},mu:{row:7,col:3},nu:{row:8,col:5},xi:{row:8,col:1},pi:{row:9,col:3},rho:{row:10,col:1}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(I(),F("div",Im,[M("ul",$m,[(I(!0),F(g,null,Re(t(n),(m,c)=>(I(),F(g,{key:c},[t(m.visibility)!==t(Me).None?(I(),F("li",qt({key:0,class:"pion-upgrade"},s.$attrs,{style:r(c)}),[(I(),ne(Ce(t(te)(m))))],16)):J("",!0)],64))),128))])]))}});var Pm=ge(Mm,[["__scopeId","data-v-4a683717"]]);const Tm="pion",ot=Ze(Tm,function(){const e="Pions",n=it(0,e,void 0,!0),i=It(()=>[...A.production,Q(()=>({multiplier:Ue.upgrades.gamma.effect,enabled:()=>o.gt(t(Ue.upgrades.gamma.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Spinor Upgrade \u03B3 ("),D(t(Ue.upgrades.gamma.totalAmount)),u(")")]))})),Q(()=>({multiplier:Ue.upgrades.mu.effect,enabled:()=>o.gt(t(Ue.upgrades.mu.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Spinor Upgrade \u03BC ("),D(t(Ue.upgrades.mu.totalAmount)),u(")")]))}))]),r=_(()=>i.apply(t(A.totalSkyrmions).times(.01)));A.on("preUpdate",p=>{const h=t(L.timeMult).times(p);n.value=h.times(t(r)).plus(n.value)});const s=_(()=>Object.values(c).map(p=>t(p.amount)).reduce((p,h)=>p.plus(h),o.dZero)),l=_(()=>t(s).minus(me(k.subspatial,2))),m=_(()=>{const p=t(re.challenge.active)?t(re.upgradeCount):t(Ue.upgradeCount),h=p.times(.2).times(t(Ue.upgrades.beta.effect)).plus(1),f=p.times(.25).times(me(k.quantum,2));return h.pow(f)}),c=(()=>{const p=d({cost(b){let $=b.pow_base(1.2).times(.1);return b.gt(25)&&($=b.pow_base(7.9).times(342e-25).times($)),b.gt(90)&&($=b.pow_base(19.75).times(208e-106).times($)),$.times(me(k.infinitesimal,3))},shouldAutobuy:x(A.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Gain 50% more Pions and Spinors")])},effect:b=>o.pow(1.5,b),bonusAmount:y[k.protoversal].boosts[2].effect}),h=d({cost(b){let $=b.pow_base(1.3).times(.1);return b.gt(15)&&($=b.pow_base(7.7).times(6e-14).times($)),b.gt(45)&&($=b.pow_base(29.25).times(1e-39).times($)),$.plus(.9)},shouldAutobuy:x(A.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Spinor upgrade cost by 10%")]),effect:b=>`Spinor upgrade cost nerf reduced to ${vt(o.times(b,100))}%`},effect:b=>o.pow(.9,b),bonusAmount:y[k.protoversal].boosts[3].effect}),f=d({cost(b){let $=b.pow_base(1.7).times(.1);return b.gt(10)&&($=b.pow_base(7.35).times(268e-11).times($)),b.gt(60)&&($=b.pow_base(29.4).times(89e-75).times($)),$.plus(4.9).times(me(k.infinitesimal,5))},shouldAutobuy:x(A.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Spinors")])},effect:b=>o.pow(1.75,b),bonusAmount:y[k.protoversal].boosts[4].effect}),N=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.protoversal].boosts[1].total),0),cost(b){let $=b.pow_base(6).times(30);return b.gt(60)&&($=b.pow_base(37.5).times(27e-72).times($)),$},shouldAutobuy:x(A.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Foam from Skyrmions")])},effect:b=>o.pow(b,1.7),bonusAmount:y[k.subplanck].boosts[2].effect}),w=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.infinitesimal].upgrades.reform.amount),0),cost(b){let $=b.pow_base(5).times(50);return b.gt(60)&&($=b.pow_base(28.8).times(177e-67).times($)),$},shouldAutobuy:x(A.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Protoversal Foam gain by 50% per order of magnitude of Infinitesimal Foam")])},effect:b=>o.max(t(y[k.infinitesimal].amount),0).plus(1).log10().times(b).times(.5).plus(1),bonusAmount:y[k.subplanck].boosts[3].effect}),S=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.subspatial].upgrades.reform.amount),0),cost(b){let $=b.pow_base(5.5).times(5e3);return b.gt(60)&&($=b.pow_base(35.64).times(1e-68).times($)),$},shouldAutobuy:x(A.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Subspatial Foam gain by 5% per Skyrmion")])},effect:b=>t(A.totalSkyrmions).times(b).times(.05).plus(1),bonusAmount:y[k.subplanck].boosts[4].effect}),C=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.protoversal].upgrades.reform.amount),1),cost(b){let $=b.pow_base(5).times(3e5);return b.gt(60)&&($=b.pow_base(28.8).times(177e-66).times($)),$},shouldAutobuy:x(A.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain a free level of "),a("b",null,[u("Spinor Upgrade \u03B5")])]),effect:b=>`${D(b)} free levels`},effect:b=>b,bonusAmount:y[k.subplanck].boosts[5].effect}),E=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.subplanck].upgrades.reform.amount),0),cost(b){let $=b.pow_base(6.5).times(7e5);return b.gt(45)&&($=b.pow_base(26).times(545e-36).times($)),$},shouldAutobuy:x(A.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Protoversal Foam gain by 100% per order of magnitude of Subspatial Foam")])},effect:b=>o.max(t(y[k.subspatial].amount),0).plus(1).log10().times(b).plus(1),bonusAmount:y[k.quantum].boosts[4].effect}),B=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.protoversal].upgrades.reform.amount),2),cost(b){let $=b.pow_base(7.5).times(4e8);return b.gt(45)&&($=b.pow_base(30).times(595e-50).times($)),$},shouldAutobuy:x(A.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Spinors increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:b=>o.max(t(Ue.spinors),0).plus(1).log10().times(b).times(.02).plus(1),bonusAmount:y[k.quantum].boosts[4].effect}),R=d({visibility:()=>t(re.challenge.active)||o.gt(t(y[k.infinitesimal].upgrades.reform.amount),1),cost(b){let $=b.pow_base(7).times(5e9);return b.gt(45)&&($=b.pow_base(26).times(145e-45).times($)),$},shouldAutobuy:x(A.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Protoversal Boost 1 levels each increase other Foam Boost 1 effects by 30%")])},effect:b=>o.times(t(y[k.protoversal].boosts[1].total),b).times(.3).plus(1),bonusAmount:y[k.quantum].boosts[4].effect}),P=d({visibility:()=>t(re.challenge.active)||t(L.upgrades.skyrmion.bought),cost(b){let $=b.pow(1.1).pow_base(5).times(700);return b.gt(45)&&($=b.pow(1.1).pow_base(20).times(7e-17).times($)),$},shouldAutobuy:x(A.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("Double the Infinitesimal Foam Boost 1 effect")])},effect:b=>o.pow(2,b)}),K=d({visibility:()=>t(re.challenge.active)||t(le.upgrades.skyrmionUpgrades.bought),cost(b){let $=b.pow_base(5).times(7e10);return b.gt(45)&&($=b.pow_base(20).times(1e-35).times($)),$},shouldAutobuy:x(A.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Spinors per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:b=>o.clamp(t(le.inflatons),1,t(le.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(b)}),de=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.nu.bought),cost(b){return b.pow_base(150).times(1e50)},shouldAutobuy:x(A.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Increase research speed by "),vt(25e-5),u("x per order of magnitude of Pions")]),effect:b=>`${vt(b)}x`},effect:b=>o.clampMin(t(n),0).plus(1).log10().times(b).times(25e-5).plus(1)}),V=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.xi.bought),cost(b){return b.pow_base(135).times(1e50)},shouldAutobuy:x(A.upgrades.xi.bought),display:{name:"\u03BE",description:a(g,null,[u("Decrease the Entangled String Acceleron requirement by 5%")]),effect:b=>`${vt(b)}x`},effect:b=>o.pow_base(.95,b)}),H=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.pi.bought),cost(b){return b.pow_base(160).times(1e50)},shouldAutobuy:x(A.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Entropic Loop construction speed by 5% per completed Entropic Loop")])},effect:b=>o.times(b,.05).times(t(L.loops.numBuiltLoops))}),Be=d({visibility:()=>t(re.challenge.active)||t(A.upgrades.rho.bought),cost(b){return b.pow_base(175).times(1e50)},shouldAutobuy:x(A.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Decrease Subspace building cost scaling by 1.1x")])},effect:b=>o.pow(1.1,b)});return{alpha:p,beta:h,gamma:f,delta:N,epsilon:w,zeta:S,eta:C,theta:E,iota:B,kappa:R,lambda:P,mu:K,nu:de,xi:V,pi:H,rho:Be}})();return{name:e,pions:n,upgradeCount:l,upgrades:c,display:q(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-end"},[a("div",{class:"col",style:"align-items: flex-end"},[a("div",null,[u("You have "),a(Yn,{resource:n,color:t(re.challenge.active)?re.color:A.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),pn(n,r.value),u("/s)")]),a("div",{style:"font-size: 12px"},[u("Your Spinor upgrades are increasing Pion upgrade costs by "),vt(t(m).minus(1).times(100)),u("%")]),a(Ne,null,null),a(Pm,null,null)])]))};function d(p){const{visibility:h,cost:f,shouldAutobuy:N,display:w,effect:S,bonusAmount:C}=p,E=Hr({visibility:h,display:w,bonusAmount:C,effect:S,requirements:j(()=>({resource:x(n),cost:()=>f(o.sub(t(E.amount),me(k.subspatial,5))).times(t(m)),requiresPay:()=>!t(N),canMaximize:!1}))});return A.on("update",()=>{t(re.challenge.active)||t(N)&&Nt(E.requirements)&&E.onClick()}),E}});function dt(e){if(e==null||typeof e!="object"||e instanceof o||e instanceof v||Lt in e&&e[Lt]===!0)return;if(Ut in e)return qe(e[Ut]);if(De(e))return;const n={};for(const[i,r]of Object.entries(e)){if(["requirements","tabs","prerequisites"].includes(i))continue;let s=dt(r);s!==void 0&&(n[i]=s)}if(Object.keys(n).length!==0)return n}function qi(e,n){if(!(e==null||n==null)&&!(typeof e!="object"||typeof n!="object")&&!(e instanceof o||n instanceof o)&&!(e instanceof v||n instanceof v)&&!(Lt in e&&e[Lt]===!0)&&!(Lt in n&&n[Lt]===!0)){if(Ut in n){const i=e,r=n,s=i.value;i.value=r.value,r.value=s;return}if(!De(e)&&!De(n))for(const i in n)qi(e[i],n[i])}}const xm="abyss",re=Ze(xm,function(){const e="#ff0000",n=_m(l=>({style:{border:0,borderRadius:0,clipPath:"polygon(75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%, 25% 0%)",marginHorizontal:"50px",width:"250px",minWidth:"250px",minHeight:"250px",boxShadow:"0"},requirements:j(()=>({cost:()=>o.add(t(l.completions),1),resource:r})),completionLimit:4,onEnter(){qi(pt,s)},onExit(){qi(pt,s)}})),i=_(()=>o.add(t(ot.upgradeCount),t(Ue.upgradeCount)).times(.75)),r=it(_(()=>[A.upgrades.nu,A.upgrades.xi,A.upgrades.pi,A.upgrades.rho].filter(l=>t(l.bought)).length),"Abyssal Skyrmion Upgrades");wt(r,l=>n.completions.value=o.max(t(n.completions),l));const s=(()=>({skyrmion:{conversion:{amount:qe(1)},pion:dt(A.pion),spinor:dt(A.spinor)},fome:{protoversal:dt(y.protoversal),infinitesimal:dt(y.infinitesimal),subspatial:dt(y.subspatial),subplanck:dt(y.subplanck),quantum:dt(y.quantum)},acceleron:{accelerons:dt(L.accelerons),bestAccelerons:dt(L.bestAccelerons),totalAccelerons:dt(L.totalAccelerons),entropy:dt(L.entropy),loops:dt(L.loops),upgrades:dt(L.upgrades)},timecube:dt(z),inflaton:dt(le)}))();return{color:e,challenge:n,upgradeCount:i,abyssUpgradeCount:r,swapData:s,display:q(()=>a(g,null,[te(n)]))}}),Am="loops",Xe=Ze(Am,function(){const e=qe(!1),n=st(()=>({visibility:x(L.upgrades.superstructures.bought),canClick(){return t(h)!==void 0},onClick(){e.value=!t(e)},display:q(()=>a("h3",null,[t(e)?"Halt":"Begin",a("br",null,null),u("Construction")])),style(){return{borderRadius:"50%",borderColor:t(this.canClick)?"var(--layer-color)":"var(--locked)",backgroundColor:"#0000",color:t(this.canClick)?"var(--layer-color)":"var(--locked)"}}})),i=It(()=>[Q(()=>({multiplier:Ae.enhancements.construction.effect,enabled:x(Ae.enhancements.construction.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Construction")]))})),Q(()=>({multiplier:z.upgrades.ten.effect,enabled:x(z.upgrades.ten.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Ten")]))})),Q(()=>({multiplier:A.pion.upgrades.pi.effect,enabled:()=>o.gt(t(A.pion.upgrades.pi.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03C0 ("),D(t(A.pion.upgrades.pi.totalAmount)),u(")")]))})),Q(()=>({multiplier:z.getTimesquareEffect(Y.RIGHT),enabled:()=>o.gt(t(z.timesquares.squares[Y.RIGHT].square.amount),0),description:q(()=>a(g,null,[u("["),z.name,u("] Right Time Squares")]))}))]),r=_(()=>i.apply(t(L.timeMult))),s=It(()=>[Q(()=>({multiplier:Ae.enhancements.development.effect,enabled:x(Ae.enhancements.development.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Development")])),smallerIsBetter:!0}))]),l=_(()=>s.apply(1)),m=_(()=>{const f=t(h);return f===void 0?o.dZero:o.minus(t(f.buildRequirement),t(f.buildProgress))}),c=_(()=>t(m).times(t(l)));L.on("update",f=>{if(!t(e))return;const N=t(h);if(N===void 0){e.value=!1;return}const w=t(m),S=o.div(t(L.accelerons),t(l)),C=o.times(t(r),f).clampMax(w).clampMax(S);N.buildProgress.value=C.plus(t(N.buildProgress)).clampMax(t(N.buildRequirement)),L.accelerons.value=o.subtract(t(L.accelerons),C.times(t(l))).clampMin(0),t(N.built)&&(e.value=!1)}),L.on("preUpdate",f=>{if(t(e))return;const N=t(L.timeMult).times(f);for(const w of Object.values(d).filter(S=>t(S.built))){w.triggerProgress.value=N.plus(t(w.triggerProgress));const S=o.divide(t(w.triggerProgress),t(w.triggerRequirement)).floor();S.gte(1)&&(w.triggerProgress.value=o.sub(t(w.triggerProgress),S.times(t(w.triggerRequirement))),w.trigger(S))}});const d=(()=>{const f=vn(B=>({visibility:x(L.upgrades.superstructures.bought),buildRequirement:new o(60),triggerRequirement:o.dOne,display:{color:_(()=>t(re.challenge.active)?re.color:L.color),width:10,description:q(()=>a(g,null,[u("Every second, gain "),a("span",{style:{color:t(t(B.display).color)}},[vt(t(B.effect).times(100),1),u("%")]),u(" of your Acceleron gain. Currently: "),a("span",{style:{color:t(t(B.display).color)}},[D(o.times(t(L.conversion.currentGain),t(L.timeMult)).times(t(B.effect)).div(t(B.triggerRequirement)))]),u(" Accelerons/s")]))},effect(){return o.add(.001,nt(Ae.enhancements.acceleration,0)).div(t(He.nerfs[Y.RIGHT])).times(t(He.buffs[Y.RIGHT]))},trigger(R){let P=new o(t(L.conversion.currentGain));P=P.times(t(B.effect)),P=P.times(R),t(z.upgrades.tempo.bought)&&(P=P.clampMin(1)),L.accelerons.value=o.add(t(L.accelerons),P)}})),N=vn(B=>({visibility(){return t(B.built)||t(f.built)},buildRequirement:new o(360),triggerRequirement:new o(60),display:()=>({color:_(()=>t(re.challenge.active)?re.color:A.color),width:10,description:q(()=>a(g,null,[u("Every minute, gain "),a("span",{style:{color:t(t(B.display).color)}},[vt(t(B.effect))]),u(" minutes of Foam and Skyrmion production. Currently: "),a("span",{style:{color:t(t(B.display).color)}},[D(o.times(t(B.effect),t(L.timeMult)).div(t(B.triggerRequirement)))]),u(" minutes/s")]))}),effect(){return o.plus(1,nt(Ae.enhancements.expansion,0)).div(t(He.nerfs[Y.RIGHT])).times(t(He.buffs[Y.RIGHT]))},trigger(R){const P=new o(t(this.triggerRequirement)).times(t(B.effect)).times(R);A.pion.pions.value=P.times(t(1)).plus(t(A.pion.pions)),A.spinor.spinors.value=P.times(t(1)).plus(t(A.spinor.spinors)),Object.values(k).forEach(K=>y[K].amount.value=P.times(t(y[K].production)).plus(t(y[K].amount)))}})),w=vn(B=>({visibility(){return t(this.built)||t(N.built)},buildRequirement:new o(600),triggerRequirement:new o(3600),display:{color:_(()=>t(re.challenge.active)?re.color:z.color),width:10,description:q(()=>a(g,null,[u("Every hour, gain "),a("span",{style:{color:t(t(B.display).color)}},[D(t(B.effect))]),u(" Time Cubes. Currently: "),a("span",{style:{color:t(t(B.display).color)}},[D(o.times(t(B.effect),t(L.timeMult)).div(t(B.triggerRequirement)))]),u(" Time Cubes/s")]))},effect(){return new o(nt(z.upgrades.tile)).times(nt(L.upgrades.conversion)).times(nt(Ae.enhancements.tesselation)).times(t(z.getTimesquareEffect(Y.FRONT))).div(t(He.nerfs[Y.RIGHT])).times(t(He.buffs[Y.RIGHT])).div(t(He.nerfs[Y.FRONT])).times(t(He.buffs[Y.FRONT]))},trigger(R){z.timecubes.value=t(B.effect).times(R).plus(t(z.timecubes))}})),S=vn(B=>({visibility(){return t(this.built)||t(L.upgrades.tetration.bought)||t(z.upgrades.tiny.bought)},buildRequirement:new o(25e4),triggerRequirement:new o(86400),display:{color:_(()=>t(re.challenge.active)?re.color:y.color),width:10,description:q(()=>a(g,null,[u("Every day, gain a decaying boost to Foam production. Currently: "),a("span",{style:{color:t(t(B.display).color)}},[D(t(B.value))]),u("x")]))},effect(){return new o(1e6)},trigger(R){this.value.value=t(B.effect).div(o.div(t(He.nerfs[Y.RIGHT]),t(He.buffs[Y.RIGHT]))).times(R)}}),_i),C=vn(B=>({visibility(){return t(this.built)||t(L.upgrades.tetration.bought)&&t(S.built)},buildRequirement:new o(1e11),triggerRequirement:new o(31536e3),display:{color:_(()=>t(re.challenge.active)?re.color:L.color),width:10,description:q(()=>a(g,null,[u("Every year, gain a decaying boost to Acceleron production. Currently: "),a("span",{style:{color:t(t(B.display).color)}},[D(t(B.value))]),u("x")]))},effect(){return new o(1e3)},trigger(R){this.value.value=t(B.effect).div(o.div(t(He.nerfs[Y.RIGHT]),t(He.buffs[Y.RIGHT]))).times(R)}}),_i),E=vn(B=>({visibility(){return t(this.built)||t(L.upgrades.tetration.bought)&&t(z.upgrades.tiny.bought)&&t(C.built)},buildRequirement:new o(4e17),triggerRequirement:new o(31536e4),display:{color:_(()=>t(re.challenge.active)?re.color:A.color),width:10,description:q(()=>a(g,null,[u("Every decade, gain a decaying boost to Pion and Spinor production. Currently: "),a("span",{style:{color:t(t(B.display).color)}},[D(t(B.value))]),u("x")]))},effect(){return new o(1e9)},trigger(R){this.value.value=t(B.effect).div(o.div(t(He.nerfs[Y.RIGHT]),t(He.buffs[Y.RIGHT]))).times(R)}}),_i);return{acceleron:f,instantProd:N,timecube:w,tempFome:S,tempAcceleron:C,tempSkyrmion:E}})(),p=_(()=>Object.values(d).filter(f=>t(f.built)).length),h=_(()=>Object.values(d).find(f=>_e(f.visibility)&&!t(f.built)));return L.on("postUpdate",f=>{const N=o.pow(.2,f);for(const w of[d.tempFome,d.tempAcceleron,d.tempSkyrmion])o.lte(t(w.value),t(w.effect))&&(w.value.value=N.times(t(w.value)).clampMin(1))}),{isBuilding:e,loops:d,numBuiltLoops:p,upperDisplay:q(()=>{var f,N,w,S;return a(g,null,[t(h)===void 0?a(Ne,{height:"50px"},null):a(g,null,[a(Ne,{height:"18px"},null),a("div",{style:{fontSize:"12px",color:"var(--link)"}},[u("Construction Progress: "),Z(t((N=(f=t(h))==null?void 0:f.buildProgress)!=null?N:0)),u(" / "),Z(t((S=(w=t(h))==null?void 0:w.buildRequirement)!=null?S:0)),a("br",null,null),u("Construction will consume "),Z(t(c)),u(" "),L.accelerons.displayName])])])}),lowerDisplay:q(()=>a(g,null,[a(cm,{radius:175,loops:Object.values(d),buildButton:n},null),a(Ne,null,null),a(fm,{loops:Object.values(d)},null)])),display:"This page intentionally left blank"}});const Fm={class:"enhancementRow"},Bm=ie({__name:"Enhancements",props:{rows:null},setup(e){const n=e,i=[1,2,3,4].map(r=>({limit:Ae.enhancementLimits[r],count:Ae.enhancementCounts[r],row:t(n.rows)[r]}));return(r,s)=>(I(!0),F(g,null,Re(t(i),(l,m)=>(I(),F("div",Fm,[l.row.some(c=>t(_e)(c.visibility))?(I(),ne(Mn,{key:0},{default:fe(()=>[M("div",{class:Te({bought:t(l.count)>=t(l.limit)})},[M("span",null,"Row "+se(m+1)+": "+se(t(l.count))+"/"+se(t(l.limit)),1)],2),(I(!0),F(g,null,Re(l.row,c=>(I(),F(g,null,[t(_e)(c.visibility)?(I(),ne(Ce(t(te)(c)),{key:0})):J("",!0)],64))),256))]),_:2},1024)):J("",!0)]))),256))}});var Rm=ge(Bm,[["__scopeId","data-v-83e9ae4a"]]);const Em="entropy",Ae=Ze(Em,function(){const n=it(0,"Entropy"),i=It(()=>[Dc(()=>({addend:Xe.numBuiltLoops,description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Loops")]))})),Q(()=>({multiplier:z.upgrades.twice.effect,enabled:x(z.upgrades.twice.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Twice")]))}))]),r=_(()=>i.apply(0));wt(r,S=>{const C=Object.values(f).filter(E=>t(E.bought));for(const E of C)E.bought.value=!1;n.value=S;for(const E of C)E.purchase()});const s={1:["expansion","construction","dilation","contraction"],2:["formation","development","acceleration","entrenchment"],3:["extension","configuration","invention","inversion"],4:["tesselation","amplification","rotation","entitlement"]},l={1:_(()=>1+(t(z.upgrades.twist.bought)?1:0)),2:_(()=>1+(t(f.entrenchment.bought)?1:0)),3:_(()=>1),4:_(()=>1+(t(z.upgrades.twirl.bought)?1:0))},m=Object.fromEntries(Object.entries(s).map(([S,C])=>[Number(S),_(()=>C.map(E=>f[E]).filter(E=>t(E.bought)).length)])),c=_(()=>Object.values(m).map(S=>t(S)).reduce((S,C)=>S+C)),d=_(()=>o.add(t(c),t(z.getTimesquareEffect(Y.BOTTOM)))),p=_(()=>ni(t(d))),h=_(()=>ni(t(c)).round()),f=(()=>{const S=w(()=>({row:1,visibility:Xe.loops.acceleron.built,display:{title:"Entropic Expansion",description:"Increase the second Entropic Loop effect based on purchased Entropic Enhancements",effect:Ie=>`+${D(Ie)} minutes`},effect:()=>t(p).pow(.9).times(nt(z.upgrades.tilt))})),C=w(()=>({row:1,visibility:Xe.loops.acceleron.built,display:{title:"Entropic Construction",description:"Entropic Loops build faster based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.9).pow10()})),E=w(()=>({row:1,visibility:Xe.loops.acceleron.built,display:{title:"Entropic Dilation",description:"Increase time speed based on purchased Entropic Enhancements"},effect:()=>t(p).pow(.8).plus(1)})),B=w(()=>({row:1,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Contraction",description:"Divide Acceleron cost based on number of purchased Entropic Enhancements",effect:Ie=>`/${D(Ie)}`},effect:()=>t(p).pow(.9)})),R=w(()=>({row:2,visibility:Xe.loops.instantProd.built,display:{title:"Entropic Formation",description:"Increase Foam gain based on best Accelerons"},effect:()=>ni(o.clampMin(t(L.bestAccelerons),0).plus(1).log10().floor()).pow(2.5).plus(1)})),P=w(()=>({row:2,visibility:Xe.loops.instantProd.built,display:{title:"Entropic Development",description:"Decrease Entropic Loop construction cost based on purchased Entropic Enhancements"},effect:()=>t(p).pow_base(.7)})),K=w(()=>({row:2,visibility:Xe.loops.instantProd.built,display:{title:"Entropic Acceleration",description:"Increase the first Entropic Loop effect based on completed Entropic Loops",effect:Ie=>`+${D(o.times(Ie,100),1)}% of your Acceleron reset gain`},effect:()=>o.times(t(Xe.numBuiltLoops),.001)})),de=w(()=>({row:2,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Entrenchment",description:"You may select an additional second row Entropic Enhancement"}})),V=w(()=>({row:3,visibility:Xe.loops.timecube.built,display:{title:"Entropic Extension",description:"Increase Infinitesimal Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(2).plus(1)})),H=w(()=>({row:3,visibility:Xe.loops.timecube.built,display:{title:"Entropic Configuration",description:"Increase Subspatial Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.75).plus(1)})),Be=w(()=>({row:3,visibility:Xe.loops.timecube.built,display:{title:"Entropic Invention",description:"Increase Subplanck Foam gain based on purchased Entropic Enhancements"},effect:()=>t(p).pow(1.5).plus(1)})),b=w(()=>({row:3,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Inversion",description:"Divide Acceleron cost based on Quantum Foam",effect:Ie=>`/${D(Ie)}`},effect:()=>o.max(t(y[k.quantum].amount),0).plus(1).log10().plus(1)})),$=w(()=>({row:4,visibility:Xe.loops.tempFome.built,display:{title:"Entropic Tesselation",description:"Increase Time Cube gain based on best Accelerons"},effect:()=>o.max(t(L.bestAccelerons),0).plus(1).log10().plus(1)})),W=w(()=>({row:4,visibility:Xe.loops.tempFome.built,display:{title:"Entropic Amplification",description:"Skyrmions are cheaper based on best Time Cubes",effect:Ie=>`/${D(Ie.reciprocate())}`},effect:()=>ni(o.max(t(z.bestTimecubes),0).plus(1).log10().floor()).pow_base(.9)})),ue=w(()=>({row:4,visibility:Xe.loops.tempFome.built,display:{title:"Entropic Rotation",description:"Divide Acceleron cost based on best Time Cubes",effect:Ie=>`/${D(Ie)}`},effect:()=>o.max(t(z.bestTimecubes),0).plus(1).log10().plus(1)})),Pe=w(()=>({row:4,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Entitlement",description:"Each purchased Entropic Enhancement gives 0.1 free levels to each Foam Boost",effect:Ie=>`${D(Ie,1)} free levels`},effect:()=>t(d).times(.1)}));return{expansion:S,construction:C,dilation:E,contraction:B,formation:R,development:P,acceleration:K,entrenchment:de,extension:V,configuration:H,invention:Be,inversion:b,tesselation:$,amplification:W,rotation:ue,entitlement:Pe}})(),N=st(()=>({canClick(){return t(c)>0},onClick(){for(const S of Object.values(f))S.bought.value=!1;n.value=t(r)},display:{description:"Reset Enhancements"},style:{minHeight:"30px",width:"100px"}}));return{entropy:n,maxEntropy:r,enhancements:f,enhancementCounts:m,enhancementLimits:l,display:q(()=>a(g,null,[a(Ne,null,null),u("Entropy: "),Z(t(n)),u(" / "),Z(t(r)),a("br",null,null),u("Next Enhancement: "),Z(t(h)),u(" "),n.displayName,a(Ne,null,null),te(N),a(Ne,null,null),a(Rm,{rows:Object.keys(s).reduce((S,C)=>(S[C]=s[C].map(E=>f[E]),S),{})},null)]))};function w(S){var R;const C=S.call({},{});U(C,"visibility"),U(C,"effect");const E=(R=C.display.effect)!=null?R:P=>`${D(P)}x`,B=ce(()=>({requirements:[j(()=>({cost:h,resource:x(n)})),Ot(()=>t(m[C.row])<t(l[C.row]))],visibility(){var P;return t(this.bought)||t((P=C.visibility)!=null?P:!0)},display:C.display.title,effect:C.effect}),ke);return xn(B,{display:q(()=>{const P=oe(C.display.description,"div"),K=C.effect?oe(q(()=>a(g,null,[E(t(B.effect))]))):void 0;return a(g,null,[a(P,null,null),K?a("div",null,[u("Currently: "),a(K,null,null)]):void 0])})}),B}}),Wr=o.sqrt(5),Om=Wr.plus(1).div(2);function ni(e){const n=Om.pow(e),i=o.times(e,Math.PI).cos();return n.minus(i.dividedBy(n)).dividedBy(Wr)}const Dm=ie({props:{radius:{type:ee(Number),required:!0},width:{type:ee(Number),required:!0},distance:{type:ee(Number),required:!0},top:{type:ee(Number),required:!0},right:{type:ee(Array),required:!0},bottom:{type:ee(Number),required:!0},left:{type:ee(Array),required:!0}},setup(e){const{radius:n,width:i,distance:r,top:s,right:l,bottom:m,left:c}=et(e),d={global:{margin:5,border:2},upgrade:{width:250,height:125},line:{x:8,y:32,radius:_(()=>t(S)+Se(i))}},p={left:_(()=>Se(c).filter(V=>_e(V.visibility)).length),right:_(()=>Se(l).filter(V=>_e(V.visibility)).length)},h={top:_(()=>Se(s)),right:_(()=>Se(l).length),bottom:_(()=>Se(m)),left:_(()=>Se(c).length)},f=_(()=>Object.values(h).map(V=>t(V)).reduce((V,H)=>V+H)),N=_(()=>2*Math.PI/t(f)),w=_(()=>Se(n)),S=_(()=>Se(n)+Se(i)),C=_(()=>t(w)*t(N)-(d.global.margin+d.global.border)),E=_(()=>t(S)*t(N)-(d.global.margin+d.global.border)),B=_(()=>t(C)/t(w)),R=_(()=>t(E)/t(S)),P={left:Se(c).map((V,H,Be)=>({base:{index:(()=>H===0?_(()=>0):_(()=>t(P.left[H-1].base.index)+(_e(Be[H-1].visibility)?1:0)))(),angle:_(()=>Math.PI-t(N)*(t(P.left[H].base.index)-t(p.left)/2+.5))},ring:{points:_(()=>{let b=t(P.left[H].base.angle),$=[b-t(B)/2,t(w)],W=[b+t(B)/2,t(w)],ue=[b-t(R)/2,t(S)],Pe=[b+t(R)/2,t(S)];return[$,W,Pe,ue].map(([Ie,Tt])=>[Math.cos(Ie)*Tt,Math.sin(Ie)*Tt])}),bounds:_(()=>{let b=t(P.left[H].ring.points),$={minX:Math.min(...b.map(W=>W[0])),maxX:Math.max(...b.map(W=>W[0])),minY:Math.min(...b.map(W=>W[1])),maxY:Math.max(...b.map(W=>W[1]))};return Math.sign($.minY)!==Math.sign($.maxY)&&($.minX=Math.min(-t(S),$.minX)),$}),size:_(()=>{let b=t(P.left[H].ring.bounds);return{width:b.maxX-b.minX+d.global.border,height:b.maxY-b.minY+d.global.border}}),position:_(()=>{let b=t(P.left[H].ring.bounds);return{top:`${b.minY-d.global.border/2}px`,left:`${b.minX-d.global.border/2}px`}}),path:_(()=>{let b=t(w),$=t(S),W=t(P.left[H].ring.points),ue=t(P.left[H].ring.bounds),Pe=W.map(Ie=>[Ie[0]-ue.minX+d.global.border/2,Ie[1]-ue.minY+d.global.border/2]);return[`M ${Pe[0][0]} ${Pe[0][1]}`,`A ${b} ${b} 0 0 1 ${Pe[1][0]} ${Pe[1][1]}`,`L ${Pe[2][0]} ${Pe[2][1]}`,`A ${$} ${$} 0 0 0 ${Pe[3][0]} ${Pe[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:V,render:te(V),id:V.id,color:_(()=>t(V.bought)?"var(--bought)":t(V.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:_(()=>{let b=t(P.left[H].base.angle);if(b===0)return t(S);let $=(Math.PI-b)/t(N);return(d.upgrade.height+d.global.margin)*$/Math.sin(b)}),offset:_(()=>{let b=t(P.left[H].base.angle),$=t(P.left[H].upgrade.distance),W=Math.cos(b)*$,ue=Math.cos(b)*t(S);return{x:Math.min(W-ue,-Se(r))+ue-d.upgrade.width/2,y:Math.sin(b)*$}}),position:_(()=>{let b=t(P.left[H].upgrade.offset);return{top:`${b.y-d.upgrade.height/2}px`,left:`${b.x-d.upgrade.width/2}px`}})},line:{height:_(()=>{let b=t(P.left[H].base.angle),$=(Math.PI-b)/t(N);return(d.upgrade.height+d.global.margin)*$+d.line.y-d.upgrade.height/2}),angle:_(()=>{let b=t(d.line.radius),$=t(P.left[H].line.height),W=Math.PI-Math.asin($/b);return Math.min(t(P.left[H].base.angle)+t(R)/2,W)}),radius:_(()=>{let b=t(P.left[H].line.height),$=t(P.left[H].line.angle);return b/Math.sin($)}),points:_(()=>{let b=t(P.left[H].line.angle),$=t(P.left[H].line.height),W=t(P.left[H].line.radius);return[[t(P.left[H].upgrade.offset).x-d.upgrade.width/2+d.line.x,$],[Math.cos(b)*W,$],[Math.cos(b)*t(S),Math.sin(b)*t(S)]]}),bounds:_(()=>{let b=t(P.left[H].line.points);return{minX:Math.min(...b.map($=>$[0])),maxX:Math.max(...b.map($=>$[0])),minY:Math.min(...b.map($=>$[1])),maxY:Math.max(...b.map($=>$[1]))}}),size:_(()=>{let b=t(P.left[H].line.bounds);return{width:b.maxX-b.minX+d.global.border,height:b.maxY-b.minY+d.global.border}}),position:_(()=>{let b=t(P.left[H].line.bounds);return{top:`${b.minY-d.global.border/2}px`,left:`${b.minX-d.global.border/2}px`}}),path:_(()=>{let b=t(P.left[H].line.points),$=t(P.left[H].line.bounds),W=b.map(ue=>[ue[0]-$.minX+d.global.border/2,ue[1]-$.minY+d.global.border/2]);return[`M ${W[0][0]} ${W[0][1]}`,`L ${W[1][0]} ${W[1][1]}`,`L ${W[2][0]} ${W[2][1]}`].join(" ")})}})),right:Se(l).map((V,H,Be)=>({base:{index:(()=>H===0?_(()=>0):_(()=>t(P.right[H-1].base.index)+(_e(Be[H-1].visibility)?1:0)))(),angle:_(()=>t(N)*(t(P.right[H].base.index)-t(p.right)/2+.5))},ring:{points:_(()=>{let b=t(P.right[H].base.angle),$=[b-t(B)/2,t(w)],W=[b+t(B)/2,t(w)],ue=[b-t(R)/2,t(S)],Pe=[b+t(R)/2,t(S)];return[$,W,Pe,ue].map(([Ie,Tt])=>[Math.cos(Ie)*Tt,Math.sin(Ie)*Tt])}),bounds:_(()=>{let b=t(P.right[H].ring.points),$={minX:Math.min(...b.map(W=>W[0])),maxX:Math.max(...b.map(W=>W[0])),minY:Math.min(...b.map(W=>W[1])),maxY:Math.max(...b.map(W=>W[1]))};return Math.sign($.minY)!==Math.sign($.maxY)&&($.maxX=Math.max(t(S),$.maxX)),$}),size:_(()=>{let b=t(P.right[H].ring.bounds);return{width:b.maxX-b.minX+d.global.border,height:b.maxY-b.minY+d.global.border}}),position:_(()=>{let b=t(P.right[H].ring.bounds);return{top:`${b.minY-d.global.border/2}px`,left:`${b.minX-d.global.border/2}px`}}),path:_(()=>{let b=t(w),$=t(S),W=t(P.right[H].ring.points),ue=t(P.right[H].ring.bounds),Pe=W.map(Ie=>[Ie[0]-ue.minX+d.global.border/2,Ie[1]-ue.minY+d.global.border/2]);return[`M ${Pe[0][0]} ${Pe[0][1]}`,`A ${b} ${b} 0 0 1 ${Pe[1][0]} ${Pe[1][1]}`,`L ${Pe[2][0]} ${Pe[2][1]}`,`A ${$} ${$} 0 0 0 ${Pe[3][0]} ${Pe[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:V,render:te(V),id:V.id,color:_(()=>t(V.bought)?"var(--bought)":t(V.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:_(()=>{let b=t(P.right[H].base.angle);if(b===0)return t(S);let $=b/t(N);return(d.upgrade.height+d.global.margin)*$/Math.sin(b)}),offset:_(()=>{let b=t(P.right[H].base.angle),$=t(P.right[H].upgrade.distance),W=Math.cos(b)*$,ue=Math.cos(b)*t(S);return{x:Math.max(W-ue,Se(r))+ue+d.upgrade.width/2,y:Math.sin(b)*$}}),position:_(()=>{let b=t(P.right[H].upgrade.offset);return{top:`${b.y-d.upgrade.height/2}px`,left:`${b.x-d.upgrade.width/2}px`}})},line:{height:_(()=>{let $=t(P.right[H].base.angle)/t(N);return(d.upgrade.height+d.global.margin)*$+d.line.y-d.upgrade.height/2}),angle:_(()=>{let b=t(d.line.radius),$=t(P.right[H].line.height),W=Math.asin($/b);return Math.max(t(P.right[H].base.angle)-t(R)/2,W)}),radius:_(()=>{let b=t(P.right[H].line.height),$=t(P.right[H].line.angle);return b/Math.sin($)}),points:_(()=>{let b=t(P.right[H].line.angle),$=t(P.right[H].line.height),W=t(P.right[H].line.radius);return[[t(P.right[H].upgrade.offset).x+d.upgrade.width/2-d.line.x,$],[Math.cos(b)*W,$],[Math.cos(b)*t(S),Math.sin(b)*t(S)]]}),bounds:_(()=>{let b=t(P.right[H].line.points);return{minX:Math.min(...b.map($=>$[0])),maxX:Math.max(...b.map($=>$[0])),minY:Math.min(...b.map($=>$[1])),maxY:Math.max(...b.map($=>$[1]))}}),size:_(()=>{let b=t(P.right[H].line.bounds);return{width:b.maxX-b.minX+d.global.border,height:b.maxY-b.minY+d.global.border}}),position:_(()=>{let b=t(P.right[H].line.bounds);return{top:`${b.minY-d.global.border/2}px`,left:`${b.minX-d.global.border/2}px`}}),path:_(()=>{let b=t(P.right[H].line.points),$=t(P.right[H].line.bounds),W=b.map(ue=>[ue[0]-$.minX+d.global.border/2,ue[1]-$.minY+d.global.border/2]);return[`M ${W[0][0]} ${W[0][1]}`,`L ${W[1][0]} ${W[1][1]}`,`L ${W[2][0]} ${W[2][1]}`].join(" ")})}}))};function K(V){var H,Be;((H=document.getElementById(`${V}-ring`))==null?void 0:H.children[1].children[1].children[0]).beginElement(),(Be=document.getElementById(`${V}-upgrade`))==null||Be.children[0].classList.add("hover")}function de(V){var H,Be;((H=document.getElementById(`${V}-ring`))==null?void 0:H.children[1].children[1].children[1]).beginElement(),(Be=document.getElementById(`${V}-upgrade`))==null||Be.children[0].classList.remove("hover")}return{render:te,unref:t,isVisible:_e,onMouseEnter:K,onMouseLeave:de,upgradeData:P,values:d}}}),Yr=e=>($t("data-v-37038660"),e=e(),Mt(),e),Lm=["width","height","id","onMouseenter","onMouseleave","onClick"],jm=["d","stroke","stroke-width"],Vm=["id"],Um=ss('<feOffset dx="0" dy="0" data-v-37038660></feOffset><feGaussianBlur stdDeviation="0" result="offset-blur" data-v-37038660><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="6" dur="0.5s" begin="indefinite" data-v-37038660></animate><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="0" dur="0.5s" begin="indefinite" data-v-37038660></animate></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse" data-v-37038660></feComposite>',3),zm=["flood-color"],Gm=Yr(()=>M("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"},null,-1)),Hm=Yr(()=>M("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"},null,-1)),Wm=["width","height"],Ym=["d","stroke","stroke-width"],Xm=["id"];function Qm(e,n,i,r,s,l){return I(),F("div",{class:"ring-container",style:Ee({top:`${e.unref(e.radius)}px`})},[(I(!0),F(g,null,Re(e.upgradeData,(m,c)=>(I(),F(g,null,[(I(!0),F(g,null,Re(e.unref(m),d=>(I(),F(g,{key:d.upgrade.id},[e.isVisible(d.upgrade.upgrade.visibility)?(I(),F("svg",{key:0,width:e.unref(d.ring.size).width,height:e.unref(d.ring.size).height,style:Ee({...e.unref(d.ring.position),"--shadow-id":`url(#${d.upgrade.id}-shadow)`}),class:"ring-segment",id:`${d.upgrade.id}-ring`,onMouseenter:p=>e.onMouseEnter(d.upgrade.id),onMouseleave:p=>e.onMouseLeave(d.upgrade.id),onClick:d.upgrade.upgrade.purchase},[M("path",{d:e.unref(d.ring.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"var(--background)",class:Te({can:e.unref(d.upgrade.upgrade.canPurchase)})},null,10,jm),M("filter",{id:`${d.upgrade.id}-shadow`},[Um,M("feFlood",{"flood-color":e.unref(d.upgrade.color),"flood-opacity":"1",result:"color"},null,8,zm),Gm,Hm],8,Vm)],44,Lm)):J("",!0),e.isVisible(d.upgrade.upgrade.visibility)?(I(),F("svg",{key:1,width:e.unref(d.line.size).width,height:e.unref(d.line.size).height,style:Ee(e.unref(d.line.position)),class:"ring-line"},[M("path",{d:e.unref(d.line.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"none"},null,8,Ym)],12,Wm)):J("",!0),M("div",{id:`${d.upgrade.id}-upgrade`},[(I(),ne(Ce(d.upgrade.render),{style:Ee({...e.unref(d.upgrade.position),width:e.values.upgrade.width,minHeight:e.values.upgrade.height}),class:Te(["ring-upgrade",c]),onMouseenter:p=>e.onMouseEnter(d.upgrade.id),onMouseleave:p=>e.onMouseLeave(d.upgrade.id)},null,40,["style","class","onMouseenter","onMouseleave"]))],8,Xm)],64))),128))],64))),256))],4)}var Km=ge(Dm,[["render",Qm],["__scopeId","data-v-37038660"]]);function Zm(e,...n){return Ge(i=>{var s,l;const r=e.call(i,i);for(const m of n)(s=m.preConstruct)==null||s.call(m,r);r.formula=r.formula(v.variable(r.baseResource)),r.currentGain==null&&(r.currentGain=_(()=>{let m=o.floor(r.formula.evaluate(r.baseResource.value)).max(0);return t(r.buyMax)===!1&&(m=m.min(1)),m})),r.actualGain==null&&(r.actualGain=r.currentGain),r.currentAt==null&&(r.currentAt=_(()=>r.formula.invert(o.floor(t(r.currentGain))))),r.nextAt==null&&(r.nextAt=_(()=>r.formula.invert(o.floor(t(r.currentGain)).add(1)))),r.convert==null&&(r.convert=function(){var c;const m=t(r.currentGain);r.gainResource.value=o.add(r.gainResource.value,m),r.spend(m),(c=r.onConvert)==null||c.call(r,m)}),r.spend==null&&(r.spend=function(){r.baseResource.value=0}),U(r,"currentGain"),U(r,"actualGain"),U(r,"currentAt"),U(r,"nextAt"),U(r,"buyMax"),Fe(r,"buyMax",!0);for(const m of n)(l=m.postConstruct)==null||l.call(m,r);return r})}function Jm(e){return Zm(e)}ie({props:{nodes:{type:ee(Array),required:!0},leftSideNodes:ee(Array),rightSideNodes:ee(Array),branches:ee(Array)},components:{Links:zr},setup(e){const{nodes:n,leftSideNodes:i,rightSideNodes:r}=et(e),s=ft();kt(()=>{const c=Se(n);s.value=oe(q(()=>a(g,null,[c.map(d=>a("span",{class:"row tree-row",style:"margin: 50px auto;"},[d.map(Ft)]))])))});const l=ft();kt(()=>{const c=Se(i);l.value=c?oe(q(()=>a("span",{class:"left-side-nodes small"},[c.map(Ft)]))):""});const m=ft();return kt(()=>{const c=Se(r);m.value=c?oe(q(()=>a("span",{class:"side-nodes small"},[c.map(Ft)]))):""}),{unref:t,nodesComp:s,leftNodesComp:l,rightNodesComp:m}}});ie({props:{display:ee(Object,String,Function),visibility:{type:ee(Number,Boolean),required:!0},style:ee(String,Object,Array),classes:ee(Object),onClick:Function,onHold:Function,color:ee(String),glowColor:ee(String),canClick:{type:ee(Boolean),required:!0},mark:ee(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:Wn,Node:bn},setup(e){const{onClick:n,onHold:i,display:r}=et(e),s=Gn(r),{start:l,stop:m}=xr(n,i);return{start:l,stop:m,comp:s,unref:t,Visibility:Me,isCoercableComponent:bt,isVisible:_e,isHidden:Vt}}});function ep(e){return st(n=>{const i=e.call(n,n);U(i,"showNextAt"),Fe(i,"showNextAt",!0),Fe(i,"minimumGain",1),i.resetDescription==null?i.resetDescription=_(()=>o.lt(i.conversion.gainResource.value,1e3)?"Reset for ":""):U(i,"resetDescription"),i.display==null&&(i.display=q(()=>a("span",null,[t(i.resetDescription),a("b",null,[pn(i.conversion.gainResource,o.max(t(i.conversion.actualGain),t(i.minimumGain)))])," ",i.conversion.gainResource.displayName,t(i.showNextAt)!=null?a("div",null,[a("br",null,null),t(i.conversion.buyMax)?"Next:":"Req:"," ",pn(i.conversion.baseResource,!t(i.conversion.buyMax)&&o.gte(t(i.conversion.actualGain),1)?t(i.conversion.currentAt):t(i.conversion.nextAt))," ",i.conversion.baseResource.displayName]):null]))),i.canClick==null&&(i.canClick=_(()=>o.gte(t(i.conversion.actualGain),t(i.minimumGain))));const r=i.onClick;return i.onClick=function(s){t(i.canClick)!==!1&&(i.conversion.convert(),i.resetTime&&(i.resetTime.value=i.resetTime[Ut]),r==null||r(s))},i})}const ln="acceleron",L=Ze(ln,function(){const e="Accelerons",n="#0f52ba",i=_(()=>t(ye.milestones[1].earned)||ye.isFirstBranch(ln)||t(le.coreResearch.research.mastery.researched)?!0:t(y[k.quantum].upgrades.condense.bought)),r=it(0,e),s=Yi(r),l=Oc(r),m=Jm(()=>({formula:V=>V.times(nt(B.translation)).times(nt(B.fluctuation)).times(nt(Ae.enhancements.contraction)).times(nt(Ae.enhancements.inversion)).times(nt(Ae.enhancements.rotation)).dividedBy(_(()=>ye.isFirstBranch(ln)?1e9:1e80)).pow(_(()=>ye.isFirstBranch(ln)?.1:.05)),baseResource:x(y[k.quantum].amount),gainResource:x(r),onConvert(){ye.isFirstBranch(ln)&&(ye.branchOrder.value=ln)}})),c=Ki(()=>({thingsToReset(){const V=[A.skyrmions,A.pion,A.spinor,y.protoversal.amount,y.protoversal.upgrades.condense,y.protoversal.upgrades.reform,y.infinitesimal.amount,y.infinitesimal.upgrades.condense,y.infinitesimal.upgrades.reform,y.subspatial.amount,y.subspatial.upgrades.condense,y.subspatial.upgrades.reform,y.subplanck.amount,y.subplanck.upgrades.condense,y.subplanck.upgrades.reform,y.quantum.amount,y.quantum.upgrades.condense,y.quantum.upgrades.reform];return t(E.protoversal.earned)||V.push(y.protoversal),t(E.infinitesimal.earned)||V.push(y.infinitesimal),t(E.subspatial.earned)||V.push(y.subspatial),t(E.subplanck.earned)||V.push(y.subplanck),t(E.quantum.earned)||V.push(y.quantum),V},onReset(){y.protoversal.upgrades.reform.amount.value=o.dOne,t(E.skyrmion.earned)&&(A.skyrmions.value=o.dTen)}})),d=ep(()=>({conversion:m,style:{width:"fit-content",padding:"5px 10px",minHeight:"60px"},onClick(){c.reset(),A.skyrmions.value=t(E.skyrmion.earned)?10:1}})),p=_(()=>{let V=o.max(t(s),0).plus(1);return V.gte(1e12)?V.log10().times(5e5/6):V.sqrt()}),h=It(()=>[Q(()=>({multiplier:z.upgrades.time.effect,enabled:x(z.upgrades.time.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Time")]))})),Q(()=>({multiplier:Ae.enhancements.dilation.effect,enabled:x(Ae.enhancements.dilation.bought),description:q(()=>a(g,null,[u("["),e,u("] Entropic Dilation")]))})),Q(()=>({multiplier:z.getTimesquareEffect(Y.BACK),enabled:()=>o.gt(t(z.timesquares.squares[Y.BACK].square.amount),0),description:q(()=>a(g,null,[u("["),z.name,u("] Back Time Squares ("),Z(o.dZero),u(")")]))})),Q(()=>({multiplier:2,enabled:z.upgrades.tour.bought,description:q(()=>a(g,null,[u("["),z.name,u("] Tour")]))})),Q(()=>({multiplier:z.timelines.nerfs[Y.BACK],enabled:()=>t(z.timelines.depths[Y.BACK])>0,description:q(()=>a(g,null,[u("["),z.name,u("] Active Back Timeline Effect")]))})),Q(()=>({multiplier:z.timelines.buffs[Y.BACK],enabled:()=>t(z.timelines.scores[Y.BACK]).gt(0),description:q(()=>a(g,null,[u("["),z.name,u("] Passive Back Timeline Bonus")]))}))]),f=_(()=>new o(h.apply(t(p)))),N=qe(0);this.on("preUpdate",V=>{N.value=o.add(t(N),V)});const w=it(x(l)),S={fontSize:"48px",fontWeight:"normal"},C=V=>_(()=>({background:"#0000002F",border:`solid ${t(V.earned)?"var(--bought)":"var(--layer-color)"} 2px`,borderRadius:0,color:t(V.earned)?"var(--bought)":"var(--layer-color)"})),E={protoversal:mt(V=>({display:q(()=>a("span",{style:S},[u("P")])),requirements:j(()=>({resource:x(w),cost:1})),small:!0,style:C(V),tooltip:{requirement:a(g,null,[u("1 Acceleron")]),effect:a(g,null,[u("Keep Protoversal Boosts and Size Upgrades on Acceleron reset"),a("br",null,null),u("Keep Foam Achievements on Acceleron reset")])}})),infinitesimal:mt(V=>({display:q(()=>a("span",{style:S},[u("I")])),requirements:j(()=>({resource:x(w),cost:2})),small:!0,style:C(V),tooltip:{requirement:a(g,null,[u("2 "),r.displayName]),effect:a(g,null,[u("Keep Infinitesimal Boosts and Size Upgrades on Acceleron reset")])}})),subspatial:mt(V=>({display:q(()=>a("span",{style:S},[u("Ss")])),requirements:j(()=>({resource:x(w),cost:3})),small:!0,style:C(V),tooltip:{requirement:a(g,null,[u("3 "),r.displayName]),effect:a(g,null,[u("Keep Subspatial Boosts and Size Upgrades on Acceleron reset")])}})),skyrmion:mt(V=>({display:q(()=>a("span",{style:S},[u("S")])),requirements:j(()=>({resource:x(w),cost:5})),small:!0,style:C(V),tooltip:{requirement:a(g,null,[u("5 "),r.displayName]),effect:a(g,null,[u("Start with 10 Skyrmions on Acceleron reset")])}})),subplanck:mt(V=>({display:q(()=>a("span",{style:S},[u("Sp")])),requirements:j(()=>({resource:x(w),cost:7})),small:!0,style:C(V),tooltip:{requirement:a(g,null,[u("7 "),r.displayName]),effect:a(g,null,[u("Keep Subplanck Boosts and Size Upgrades on Acceleron reset")])}})),quantum:mt(V=>({display:q(()=>a("span",{style:S},[u("Q")])),requirements:j(()=>({resource:x(w),cost:10})),small:!0,style:C(V),tooltip:{requirement:a(g,null,[u("10 "),r.displayName]),effect:a(g,null,[u("Keep Quantum Boosts and Size Upgrades on Acceleron reset")])}}))};for(const V of Object.values(E))xn(V,{display:q(()=>a(g,null,[a("h3",null,[V.tooltip.requirement]),a("br",null,null),V.tooltip.effect]))});const B=(()=>{const V=ce(xe=>({visibility(){return t(this.bought)||o.gte(t(l),4)},display:q(()=>a(g,null,[a("h3",null,[u("Minute Acceleration")]),a("br",null,null),a("br",null,null),u("Time speed massively multiplies Foam generation"),a("br",null,null),a("br",null,null),u("Currently: "),D(nt(xe,void 0,!0)),u("x"),a("br",null,null),We(xe.requirements)])),effect(){return t(f).abs().sqrt().times(1e3)},requirements:j(()=>({cost:1,resource:x(r)}))}),ke),H=ce(xe=>({visibility(){return t(this.bought)||t(V.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Quantum Translation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of Foam re-formations"),a("br",null,null),a("br",null,null),u("Currently: /"),Z(nt(xe,void 0,!0)),u("x"),a("br",null,null),We(xe.requirements)])),effect(){return Object.values(k).map(rt=>t(y[rt].upgrades.reform.amount)).reduce((rt,Yt)=>rt.plus(Yt),o.dZero)},requirements:j(()=>({cost:5,resource:x(r)}))}),ke),Be=ce(xe=>({visibility(){return t(this.bought)||t(V.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Superpositional Acceleration")]),a("br",null,null),a("br",null,null),u("Gain a new Pion upgrade"),a("br",null,null),u("Gain a new Spinor upgrade"),a("br",null,null),a("br",null,null),a("br",null,null),We(xe.requirements)])),requirements:j(()=>({cost:25,resource:x(r)}))})),b=ce(xe=>({visibility(){return t(this.bought)||t(Be.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Quasi-temporal Superstructures")]),a("br",null,null),a("br",null,null),u("Consume the past to build the future"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),We(xe.requirements)])),requirements:j(()=>({cost:50,resource:x(r)}))})),$=ce(xe=>({visibility(){return t(this.bought)||t(Xe.loops.acceleron.built)},display:q(()=>a(g,null,[a("h3",null,[u("Temporal Fluctuation")]),a("br",null,null),a("br",null,null),u("Acceleron cost is divided by the number of completed Entropic Loops"),a("br",null,null),a("br",null,null),u("Currently: /"),Z(nt(xe,void 0,!0)),u("x"),a("br",null,null),We(xe.requirements)])),effect(){return t(Xe.numBuiltLoops)+1},requirements:j(()=>({cost:new o(100),resource:x(r)}))}),ke),W=ce(xe=>({visibility(){return t(this.bought)||t(Xe.loops.instantProd.built)},display:q(()=>a(g,null,[a("h3",null,[u("Unstable Expansion")]),a("br",null,null),a("br",null,null),u("Unlock Entropic Enhancements"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),We(xe.requirements)])),requirements:j(()=>({cost:new o(300),resource:x(r)}))})),ue=ce(xe=>({visibility(){return t(this.bought)||t(Xe.loops.timecube.built)},display:q(()=>a(g,null,[a("h3",null,[u("Stability Conversion")]),a("br",null,null),a("br",null,null),u("Each Entropic Loop multiplies Time Cube gain"),a("br",null,null),a("br",null,null),u("Currently: "),Z(nt(xe,void 0,!0)),u("x"),a("br",null,null),We(xe.requirements)])),effect(){return t(Xe.numBuiltLoops)+1},requirements:j(()=>({cost:new o(15e4),resource:x(r)}))}),ke),Pe=ce(xe=>({visibility(){return t(this.bought)||t(ue.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Subspatial Alacrity")]),a("br",null,null),a("br",null,null),u("Increase Subspatial Foam gain by "),Z(nt(xe,void 0,!0)),u("x"),a("br",null,null),a("br",null,null),a("br",null,null),We(xe.requirements)])),effect:1e4,requirements:j(()=>({cost:2e6,resource:x(r)}))})),Ie=ce(xe=>({visibility(){return t(this.bought)||t(Pe.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Cubic Tetration")]),a("br",null,null),a("br",null,null),u("Remove the ability to Acceleron reset"),a("br",null,null),u("Unlock two additional Entropic Loops"),a("br",null,null),a("br",null,null),a("br",null,null),We(xe.requirements)])),requirements:j(()=>({cost:1e8,resource:x(r)}))})),Tt=ce(xe=>({visibility(){return t(this.bought)||t(Ie.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Temporal Mastery")]),a("br",null,null),a("br",null,null),u("Unlock "),ye.isFirstBranch(ln)||o.gt(t(ye.strings),0)?le.inflatons.displayName:ye.strings.displayName,a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),We(xe.requirements)])),requirements:j(()=>({cost:1e19,resource:x(r)}))}));return{acceleration:V,translation:H,skyrmion:Be,superstructures:b,fluctuation:$,expansion:W,conversion:ue,alacrity:Pe,tetration:Ie,mastery:Tt}})(),R=[B.acceleration,B.fluctuation,B.tetration,B.conversion,B.skyrmion],P=[B.translation,B.expansion,B.mastery,B.alacrity,B.superstructures],K=q(()=>a(g,null,[a(Sn,{resource:r,color:n,effect:q(()=>a(g,null,[u("which are causing time to go "),D(t(f)),u("x faster"),a("br",null,null),u("For every second in real time, "),a("pre",{style:{display:"inline"}},[Ei(t(f))]),u(" passes")]))},null)])),de=Hn({loops:()=>({display:"Entropic Loops",tab:Ht(()=>({display:q(()=>a(g,null,[te(K),t(B.tetration.bought)?a(Ne,{height:"70px"},null):te(d),te(Xe.upperDisplay),a(Km,{radius:192,width:60,distance:150,top:4,right:P,bottom:4,left:R},null),a(Ne,null,null),te(Xe.lowerDisplay),a(Ne,null,null),a(Ne,null,null),nn(...Object.values(E))]))}))}),enhancements:()=>({display:"Entropic Enhancements",tab:Ht(()=>({display:q(()=>a(g,null,[te(K),te(Ae.display)]))}))})});return{name:e,color:n,accelerons:r,bestAccelerons:s,totalAccelerons:l,conversion:m,timeMult:f,time:N,upgrades:B,achievements:E,tabs:de,display:q(()=>a(g,null,[t(B.expansion.bought)?te(de):te(t(de.tabs.loops.tab))])),unlocked:i,loops:Xe,entropy:Ae}}),tp="protoversal",un=Ze(tp,function(){const e=it(0,"Protoversal Foam"),n=It(()=>[...y.production,Q(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Protoversal Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),Q(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Protoversal Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),Q(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Protoversal Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),Q(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:q(()=>a(g,null,[u("["),y.name,u("] Protoversal Boost 1 ("),Z(t(c[1].total)),u(")")]))})),Q(()=>({multiplier:A.pion.upgrades.delta.effect,enabled:()=>o.gt(t(A.pion.upgrades.delta.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03B4 ("),Z(t(A.pion.upgrades.delta.totalAmount)),u(")")]))})),Q(()=>({multiplier:A.pion.upgrades.epsilon.effect,enabled:()=>o.gt(t(A.pion.upgrades.epsilon.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03B5 ("),Z(t(A.pion.upgrades.epsilon.totalAmount)),u(")")]))})),Q(()=>({multiplier:A.pion.upgrades.theta.effect,enabled:()=>o.gt(t(A.pion.upgrades.theta.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03B8 ("),Z(t(A.pion.upgrades.theta.totalAmount)),u(")")]))})),Tn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),y.name,u("] Protoversal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),Q(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Protoversal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),...y.timelineProduction,Q(()=>({multiplier:()=>t(z.upgrades.toil.effect)[k.protoversal],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=_(()=>n.apply(t(A.totalSkyrmions).times(.01)));y.on("preUpdate",d=>{if(!t(y.unlocked)||o.eq(t(s.reform.amount),0))return;const p=t(L.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const r=_(()=>t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:ze(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(4).times(2),requiresPay:()=>!t(y.achievements[k.protoversal].earned)})),display:_t(k.protoversal,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.protoversal].earned)}),onClick:()=>yt(k.protoversal)}),ke),[X.width]:ze(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(6).times(5),requiresPay:()=>!t(y.achievements[k.protoversal].earned)})),display:_t(k.protoversal,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.protoversal].earned)}),onClick:()=>yt(k.protoversal)}),ke),[X.depth]:ze(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(y.achievements[k.protoversal].earned)})),display:_t(k.protoversal,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.protoversal].earned)}),onClick:()=>yt(k.protoversal)}),ke),condense:ce(d=>({visibility:()=>!t(d.bought),requirements:j(()=>({resource:x(e),cost:1e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){y.infinitesimal.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(y.achievements.reform.earned)})})),reform:ze(d=>({visibility:x(s.condense.bought),requirements:j(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(y.achievements.reform.earned)})),display:Qn(k.protoversal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(y.achievements.reform.earned)})}),ke)};y.on("update",()=>{if(t(y.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(y.achievements[k.protoversal].earned))for(const d of Object.values(X))t(s[d].canClick)&&s[d].onClick()});const l=_(()=>t(y.globalBoostBonus).plus(me(k.quantum,5)).plus(me(k.subspatial,3))),m=_(()=>t(l).plus(me(k.protoversal,5))),c={index:qe(1),1:je(d=>({display:()=>`Multiply the generation of Protoversal Foam by ${D(me(k.protoversal,1))}`,effect:()=>new o(t(d.total)).times(t(A.spinor.upgrades.delta.effect)).plus(1),bonus:m})),2:je(d=>({display:()=>`Gain ${D(me(k.protoversal,2))} bonus Pion and Spinor Upgrade \u03B1 levels`,effect:()=>new o(t(d.total)),bonus:m})),3:je(d=>({display:()=>`Gain ${D(me(k.protoversal,3))} bonus Pion and Spinor Upgrade \u03B2 levels`,effect:()=>o.sqrt(t(d.total)),bonus:m})),4:je(d=>({display:()=>`Gain ${D(me(k.protoversal,4))} bonus Pion and Spinor Upgrade \u03B3 levels`,effect:()=>new o(t(d.total)),bonus:m})),5:je(d=>({display:()=>`Add ${D(me(k.protoversal,5))} levels to all above boosts`,effect:()=>o.times(t(d.total),.1),bonus:l}))};return{amount:e,upgrades:s,boosts:c,production:i,display:"This page intentionally left blank"}});const np={class:"fome-grid"},ip={key:0},rp=["innerHTML"],sp=ie({__name:"Fome",setup(e){function n(i){return`You have ${D(t(y[i].amount))} ${y[i].amount.displayName}${o.gt(t(y[i].upgrades.reform.amount),1)?`<sup>${Z(t(y[i].upgrades.reform.amount))}</sup>`:""}`}return(i,r)=>(I(),F("div",np,[(I(!0),F(g,null,Re(Object.values(t(k)).slice().reverse(),s=>(I(),F(g,{key:s},[t(t(L).unlocked)||t(t(le).unlocked)||t(t(ye).unlocked)||t(o).gt(t(t(y)[s].upgrades.reform.amount),0)?(I(),F("div",ip,[M("div",{innerHTML:n(s),style:{"white-space":"nowrap"}},null,8,rp),M("div",null,"+"+se(t(D)(t(t(y)[s].production)))+"/s",1)])):J("",!0),(I(!0),F(g,null,Re(Object.keys(t(y)[s].upgrades),l=>(I(),ne(Ce(t(te)(t(y)[s].upgrades[l]))))),256))],64))),128))]))}});var op=ge(sp,[["__scopeId","data-v-53718422"]]);const Xn=e=>($t("data-v-149b6b3a"),e=e(),Mt(),e),ap={style:{display:"grid",gridTemplateColumns:"repeat(7, auto)",width:"fit-content",margin:"auto","padding-left":"150px"}},lp=Xn(()=>M("div",null,"[",-1)),up=Xn(()=>M("div",null,"+",-1)),cp=Xn(()=>M("div",null,null,-1)),dp=Xn(()=>M("div",null,null,-1)),mp=Xn(()=>M("div",null,"]:",-1)),pp=ie({__name:"FomeBoost",setup(e){const n=Object.fromEntries(Object.values(k).map(i=>[i,Object.fromEntries(Object.values([1,2,3,4,5]).map(r=>[r,t(y[i].boosts[r].display)]))]));return(i,r)=>(I(),F("div",ap,[(I(!0),F(g,null,Re(t(n),(s,l)=>(I(),F(g,{key:l},[(I(),F(g,null,Re(7,m=>a(Ne,{"num-labels":7,key:m})),64)),(I(!0),F(g,null,Re(s,(m,c)=>{var d,p;return I(),F(g,{key:l+"-"+c},[t(o).gt(t(t(y)[l].boosts[c].total),0)?(I(),F(g,{key:0},[M("div",null,se(t(y)[l].amount.displayName.split(" ")[0])+" Boost "+se(c),1),lp,M("div",null,se(t(Z)(t(t(y)[l].boosts[c].amount))),1),t(o).gt(t((d=t(y)[l].boosts[c].bonus)!=null?d:0),0)?(I(),F(g,{key:0},[up,M("div",null,se(t(D)(t((p=t(y)[l].boosts[c].bonus)!=null?p:0))),1)],64)):(I(),F(g,{key:1},[cp,dp],64)),mp,M("div",null,se(m),1)],64)):(I(),F(g,{key:1},Re(7,h=>M("div",{"num-labels":7,key:h})),64))],64)}),128))],64))),128))]))}});var fp=ge(pp,[["__scopeId","data-v-149b6b3a"]]);function tn(e){return Ge(n=>{const i=e.call(n,n);return U(i,"fomeType"),i.partialDisplay=r=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[y[t(i.fomeType)].amount.displayName,a("sup",null,[mn(o.floor(i.cost instanceof v?Gt(i.cost,r!=null?r:1,!1):t(i.cost)))])]),i.display=r=>a("div",null,[u("Requires: "),y[t(i.fomeType)].amount.displayName,a("sup",null,[mn(o.floor(i.cost instanceof v?Gt(i.cost,r!=null?r:1,!1):t(i.cost)))])]),i.visibility=Me.Visible,i.requiresPay=!1,U(i,"cost"),i.requirementMet=_(()=>i.cost instanceof v?o.gte(y[t(i.fomeType)].upgrades.reform.amount.value,i.cost.evaluate()):o.gte(y[t(i.fomeType)].upgrades.reform.amount.value,t(i.cost))),i})}const gp="infinitesimal",ur=Ze(gp,function(){const e=it(0,"Infinitesimal Foam"),n=It(()=>[...y.production,Q(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),Q(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),Q(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),Q(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Boost 1 ("),Z(t(m[1].total)),u(")")]))})),Q(()=>({multiplier:A.pion.upgrades.iota.effect,enabled:()=>o.gt(t(A.pion.upgrades.iota.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03B9 ("),Z(t(A.pion.upgrades.iota.totalAmount)),u(")")]))})),Q(()=>({multiplier:A.spinor.upgrades.epsilon.effect,enabled:()=>o.gt(t(A.spinor.upgrades.epsilon.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Spinor Upgrade \u03B5 ("),Z(t(A.spinor.upgrades.epsilon.totalAmount)),u(")")]))})),Q(()=>({multiplier:A.spinor.upgrades.iota.effect,enabled:()=>o.gt(t(A.spinor.upgrades.iota.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Spinor Upgrade \u03B9 ("),Z(t(A.spinor.upgrades.iota.totalAmount)),u(")")]))})),Q(()=>({multiplier:Ae.enhancements.extension.effect,enabled:x(Ae.enhancements.extension.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Extension")]))})),Tn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),Q(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),...y.timelineProduction,Q(()=>({multiplier:()=>t(z.upgrades.toil.effect)[k.infinitesimal],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=_(()=>n.apply(t(A.totalSkyrmions).times(.01)));y.on("preUpdate",c=>{if(!t(y.unlocked)||o.eq(t(s.reform.amount),0))return;const d=t(L.timeMult).times(c);e.value=d.times(t(i)).plus(e.value)});const r=_(()=>t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(5).times(6),requiresPay:()=>!t(y.achievements[k.infinitesimal].earned)})),display:_t(k.infinitesimal,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.infinitesimal].earned)}),onClick:()=>yt(k.infinitesimal)}),ke),[X.width]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(7).times(10),requiresPay:()=>!t(y.achievements[k.infinitesimal].earned)})),display:_t(k.infinitesimal,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.infinitesimal].earned)}),onClick:()=>yt(k.infinitesimal)}),ke),[X.depth]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(y.achievements[k.infinitesimal].earned)})),display:_t(k.infinitesimal,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.infinitesimal].earned)}),onClick:()=>yt(k.infinitesimal)}),ke),condense:ce(c=>({visibility:()=>!t(c.bought)&&(t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||t(y[k.protoversal].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:2e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){y.subspatial.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(y.achievements.reform.earned)})})),reform:ze(c=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(c.amount),3).max(2).pow_base(t(c.amount)).plus(1).times(5).pow10().dividedBy(5),requiresPay:()=>!t(y.achievements.reform.earned)})),tn(()=>({fomeType:k.protoversal,cost:v.variable(c.amount).plus(2)}))],display:Qn(k.infinitesimal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(y.achievements.reform.earned)})}),ke)};y.on("update",()=>{if(t(y.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(y.achievements[k.infinitesimal].earned))for(const c of Object.values(X))t(s[c].canClick)&&s[c].onClick()});const l=_(()=>t(y.globalBoostBonus).plus(me(k.quantum,5)).plus(me(k.subspatial,3))),m={index:qe(1),1:je(c=>({display:()=>`Multiply the generation of Infinitesimal Foam by ${D(me(k.infinitesimal,1))}`,effect:()=>new o(t(c.total)).times(t(A.pion.upgrades.lambda.effect)).times(t(A.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:je(c=>({display:()=>`Increase Pion and Spinor gain by ${D(o.minus(me(k.infinitesimal,2),1).times(100))}%`,effect:()=>o.times(t(c.total),.5).plus(1),bonus:l})),3:je(c=>({display:()=>`Reduce Pion and Spinor \u03B1 costs by ${D(o.sub(1,me(k.infinitesimal,3)).times(100))}%`,effect:()=>o.pow(.8,t(c.total)),bonus:l})),4:je(c=>({display:()=>`Increase Skyrmion gain by ${D(o.minus(me(k.infinitesimal,4),1).times(100))}%`,effect:()=>o.times(t(c.total),.5).plus(1),bonus:l})),5:je(c=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B3 costs by ${D(o.sub(1,me(k.infinitesimal,5)).times(100))}%`,effect:()=>o.pow(.8,t(c.total)),bonus:l}))};return{amount:e,upgrades:s,boosts:m,production:i,display:"This page intentionally left blank"}}),bp="subspatial",cr=Ze(bp,function(){const e=it(0,"Subspatial Foam"),n=It(()=>[...y.production,Q(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subspatial Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),Q(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subspatial Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),Q(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subspatial Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),Q(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subspatial Boost 1 ("),Z(t(c[1].total)),u(")")]))})),Q(()=>({multiplier:A.pion.upgrades.zeta.effect,enabled:()=>o.gt(t(A.pion.upgrades.zeta.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Pion Upgrade \u03B6 ("),Z(t(A.pion.upgrades.zeta.totalAmount)),u(")")]))})),Q(()=>({multiplier:A.spinor.upgrades.theta.effect,enabled:()=>o.gt(t(A.spinor.upgrades.theta.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Spinor Upgrade \u03B8 ("),Z(t(A.spinor.upgrades.theta.totalAmount)),u(")")]))})),Q(()=>({multiplier:L.upgrades.alacrity.effect,enabled:t(L.upgrades.alacrity.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Subspatial Alacrity")]))})),Q(()=>({multiplier:Ae.enhancements.configuration.effect,enabled:x(Ae.enhancements.configuration.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Configuration")]))})),Tn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),y.name,u("] Subspatial Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),Q(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subspatial Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),...y.timelineProduction,Q(()=>({multiplier:()=>t(z.upgrades.toil.effect)[k.subspatial],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=_(()=>n.apply(t(A.totalSkyrmions).times(.01)));y.on("preUpdate",d=>{if(!t(y.unlocked)||o.eq(t(s.reform.amount),0))return;const p=t(L.timeMult).times(d);e.value=p.times(t(i)).plus(e.value)});const r=_(()=>t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:ze(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(6).times(10),requiresPay:()=>!t(y.achievements[k.subspatial].earned)})),display:_t(k.subspatial,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.subspatial].earned)}),onClick:()=>yt(k.subspatial)}),ke),[X.width]:ze(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(8).times(18),requiresPay:()=>!t(y.achievements[k.subspatial].earned)})),display:_t(k.subspatial,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.subspatial].earned)}),onClick:()=>yt(k.subspatial)}),ke),[X.depth]:ze(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(10).times(60),requiresPay:()=>!t(y.achievements[k.subspatial].earned)})),display:_t(k.subspatial,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.subspatial].earned)}),onClick:()=>yt(k.subspatial)}),ke),condense:ce(d=>({visibility:()=>!t(d.bought)&&(t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||t(y[k.infinitesimal].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:4e5})),display:{description:`Condense your ${e.displayName}`},onPurchase(){y.subplanck.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(y.achievements.reform.earned)})})),reform:ze(d=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(6).pow10().dividedBy(2.5),requiresPay:()=>!t(y.achievements.reform.earned)})),tn(()=>({fomeType:k.infinitesimal,cost:v.variable(d.amount).plus(2)}))],display:Qn(k.subspatial),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(y.achievements.reform.earned)})}),ke)};y.on("update",()=>{if(t(y.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(y.achievements[k.subspatial].earned))for(const d of Object.values(X))t(s[d].canClick)&&s[d].onClick()});const l=_(()=>t(y.globalBoostBonus).plus(me(k.quantum,5))),m=_(()=>t(l).plus(me(k.subspatial,3))),c={index:qe(1),1:je(d=>({display:()=>`Multiply the generation of Subspatial Foam by ${D(me(k.subspatial,1))}`,effect:()=>new o(t(d.total)).times(t(A.pion.upgrades.kappa.effect)),bonus:m})),2:je(d=>({display:()=>`The Pion and Spinor nerfs act as if you had ${D(me(k.subspatial,2))} fewer upgrades`,effect:()=>new o(t(d.total)),bonus:m})),3:je(d=>({display:()=>`Add ${D(me(k.subspatial,3))} levels to all above boosts`,effect:()=>o.times(t(d.total),.1),bonus:l})),4:je(d=>({display:()=>`Increase effective Skyrmion count by ${D(me(k.subspatial,4))}`,effect:()=>new o(t(d.total)),bonus:l})),5:je(d=>({display:()=>`Pion and Spinor upgrades cost as if you had ${D(me(k.subspatial,5))} fewer`,effect:()=>o.times(t(d.total),.25),bonus:l}))};return{amount:e,upgrades:s,boosts:c,production:i,display:"This page intentionally left blank"}}),hp="subplanck",dr=Ze(hp,function(){const e=it(0,"Subplanck Foam"),n=It(()=>[...y.production,Q(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subplanck Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),Q(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subplanck Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),Q(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subplanck Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),Q(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subplanck Boost 1 ("),Z(t(m[1].total)),u(")")]))})),Q(()=>({multiplier:Ae.enhancements.invention.effect,enabled:x(Ae.enhancements.invention.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Invention")]))})),Tn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),y.name,u("] Subplanck Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),Q(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Subplanck Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),...y.timelineProduction,Q(()=>({multiplier:()=>t(z.upgrades.toil.effect)[k.subplanck],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=_(()=>n.apply(t(A.totalSkyrmions).times(.01)));y.on("preUpdate",c=>{if(!t(y.unlocked)||o.eq(t(s.reform.amount),0))return;const d=t(L.timeMult).times(c);e.value=d.times(t(i)).plus(e.value)});const r=_(()=>t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(7).times(15),requiresPay:()=>!t(y.achievements[k.subplanck].earned)})),display:_t(k.subplanck,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.subplanck].earned)}),onClick:()=>yt(k.subplanck)}),ke),[X.width]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(y.achievements[k.subplanck].earned)})),display:_t(k.subplanck,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.subplanck].earned)}),onClick:()=>yt(k.subplanck)}),ke),[X.depth]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(11).times(90),requiresPay:()=>!t(y.achievements[k.subplanck].earned)})),display:_t(k.subplanck,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.subplanck].earned)}),onClick:()=>yt(k.subplanck)}),ke),condense:ce(c=>({visibility:()=>!t(c.bought)&&(t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||t(y[k.subspatial].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:1e6})),display:{description:`Condense your ${e.displayName}`},onPurchase(){y.quantum.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(y.achievements.reform.earned)})})),reform:ze(c=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(c.amount),3).max(2).pow_base(t(c.amount)).plus(1).times(6).pow10(),requiresPay:()=>!t(y.achievements.reform.earned)})),tn(()=>({fomeType:k.subspatial,cost:v.variable(c.amount).plus(2)}))],display:Qn(k.subplanck),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(y.achievements.reform.earned)})}),ke)};y.on("update",()=>{if(t(y.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(y.achievements[k.subplanck].earned))for(const c of Object.values(X))t(s[c].canClick)&&s[c].onClick()});const l=_(()=>t(y.globalBoostBonus).plus(me(k.quantum,5))),m={index:qe(1),1:je(c=>({display:()=>`Multiply the generation of Subplanck Foam by ${D(me(k.subplanck,1))}`,effect:()=>new o(t(c.total)).times(t(A.spinor.upgrades.kappa.effect)).times(t(A.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:je(c=>({display:()=>`Gain ${D(me(k.subplanck,2))} bonus Pion and Spinor Upgrade \u03B4 levels`,effect:()=>o.times(t(c.total),.5),bonus:l})),3:je(c=>({display:()=>`Gain ${D(me(k.subplanck,3))} bonus Pion and Spinor Upgrade \u03B5 levels`,effect:()=>o.times(t(c.total),.5),bonus:l})),4:je(c=>({display:()=>`Gain ${D(me(k.subplanck,4))} bonus Pion and Spinor Upgrade \u03B6 levels`,effect:()=>o.times(t(c.total),.5),bonus:l})),5:je(c=>({display:()=>`Gain ${D(me(k.subplanck,5))} bonus Pion and Spinor Upgrade \u03B7 levels`,effect:()=>o.times(t(c.total),.5),bonus:l}))};return{amount:e,upgrades:s,boosts:m,production:i,display:"This page intentionally left blank"}}),vp="quantum",Xt=Ze(vp,function(){const e=it(0,"Quantum Foam"),n=It(()=>[...y.production,Q(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Quantum Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),Q(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Quantum Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),Q(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Quantum Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),Tn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),y.name,u("] Quantum Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),Q(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),y.name,u("] Quantum Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),...y.timelineProduction,Q(()=>({multiplier:()=>t(z.upgrades.toil.effect)[k.quantum],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=_(()=>n.apply(t(A.totalSkyrmions).times(.01)));y.on("preUpdate",c=>{if(!t(y.unlocked)||o.eq(t(s.reform.amount),0))return;const d=t(L.timeMult).times(c);e.value=d.times(t(i)).plus(e.value)});const r=_(()=>t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(y.achievements[k.quantum].earned)})),display:_t(k.quantum,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.quantum].earned)}),onClick:()=>yt(k.quantum)}),ke),[X.width]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(10).times(30),requiresPay:()=>!t(y.achievements[k.quantum].earned)})),display:_t(k.quantum,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.quantum].earned)}),onClick:()=>yt(k.quantum)}),ke),[X.depth]:ze(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(12).times(100),requiresPay:()=>!t(y.achievements[k.quantum].earned)})),display:_t(k.quantum,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(y.achievements[k.quantum].earned)}),onClick:()=>yt(k.quantum)}),ke),condense:ce(c=>({visibility:()=>!t(c.bought)&&(t(L.unlocked)||t(le.unlocked)||t(ye.unlocked)||t(y[k.subplanck].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:1e5})),display:{description:`Condense your ${e.displayName}`},classes:()=>({auto:t(y.achievements.reform.earned)})})),reform:ze(c=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(c.amount),3).max(2).pow_base(t(c.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(y.achievements.reform.earned)})),tn(()=>({fomeType:k.subplanck,cost:v.variable(c.amount).plus(2)}))],display:Qn(k.quantum),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(y.achievements.reform.earned)})}),ke)};y.on("update",()=>{if(t(y.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(y.achievements[k.quantum].earned))for(const c of Object.values(X))t(s[c].canClick)&&s[c].onClick()});const l=_(()=>t(y.globalBoostBonus).plus(me(k.quantum,5))),m={index:qe(1),1:je(c=>({display:()=>`Multiply the generation of all Foam types by ${D(me(k.quantum,1))}`,effect:()=>new o(t(c.total)).times(t(A.pion.upgrades.kappa.effect)).plus(1),bonus:l})),2:je(c=>({display:()=>`Reduce the Pion and Spinor cost nerf exponent by ${D(o.sub(1,me(k.quantum,2)).times(100))}%`,effect:()=>{let d=t(c.total);return o.gt(d,16)&&(d=o.ln(2).recip().times(4).times(d)),o.pow(.975,d)},bonus:l})),3:je(c=>({display:()=>`Multiply the generation of all Foam types again by ${D(me(k.quantum,3))}x`,effect:()=>{let d=t(c.total);return o.gt(d,16)&&(d=o.sqrt(d).times(4)),o.sqrt(me(k.quantum,1)).times(d).dividedBy(10).plus(1)},bonus:l})),4:je(c=>({display:()=>`Gain ${D(me(k.quantum,4))} bonus Pion and Spinor Upgrade \u03B8, \u03B9, and \u03BA levels`,effect:()=>o.times(t(c.total),.25),bonus:l})),5:je(c=>({display:()=>`Add ${D(me(k.quantum,5))} bonus levels to all above boosts`,effect:()=>o.times(t(c.total),.1),bonus:y.globalBoostBonus}))};return{amount:e,upgrades:s,boosts:m,production:i,display:"This page intentionally left blank"}});let k=function(e){return e.protoversal="protoversal",e.infinitesimal="infinitesimal",e.subspatial="subspatial",e.subplanck="subplanck",e.quantum="quantum",e}({}),X=function(e){return e.height="height",e.width="width",e.depth="depth",e}({});function yt(e){const n=y[e].boosts.index,i=y[e].boosts[t(n)].amount;i.value=o.add(t(i),1),n.value=t(n)===5?1:t(n)+1}function _t(e,n){let i;switch(n){case X.height:i="Height";break;case X.width:i="Width";break;case X.depth:i="Depth";break}return q(()=>a(g,null,[a("h3",null,[u("Enlarge "),y[e].amount.displayName,u(" "),i,u(" by 1m")]),a("br",null,null),a("br",null,null),u("Current "),i,u(": "),D(t(y[e].upgrades[n].amount)),u("m"),a("br",null,null),a("br",null,null),We(y[e].upgrades[n].requirements)]))}function Qn(e){return q(()=>a(g,null,[u("Re-form your "),y[e].amount.displayName,a("br",null,null),a("br",null,null),u("Amount: "),Z(t(y[e].upgrades.reform.amount)),a("br",null,null),a("br",null,null),We(y[e].upgrades.reform.requirements)]))}const yp="fome",y=Ze(yp,function(){const e="Quantum Foam",n="#ffffff",i=_(()=>t(ye.milestones[1].earned)||t(A.upgrades.fome.bought)),r=_(()=>o.gt(t(Xt.upgrades.reform.amount),0)?k.quantum:o.gt(t(dr.upgrades.reform.amount),0)?k.subplanck:o.gt(t(cr.upgrades.reform.amount),0)?k.subspatial:o.gt(t(ur.upgrades.reform.amount),0)?k.infinitesimal:k.protoversal),s=[Q(()=>({multiplier:A.spinor.upgrades.eta.effect,enabled:()=>o.gt(t(A.spinor.upgrades.eta.totalAmount),0),description:q(()=>a(g,null,[u("["),A.name,u("] Spinor Upgrade \u03B7 ("),Z(t(A.spinor.upgrades.eta.totalAmount)),u(")")]))})),Q(()=>({multiplier:L.upgrades.acceleration.effect,enabled:x(L.upgrades.acceleration.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Acceleration")]))})),Q(()=>({multiplier:L.loops.loops.tempFome.value,enabled:L.loops.loops.tempFome.built,description:q(()=>a(g,null,[u("["),L.name,u("] Acceleron Loop #4")]))})),Q(()=>({multiplier:Ae.enhancements.formation.effect,enabled:x(Ae.enhancements.formation.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Formation")]))})),Q(()=>({multiplier:le.fomeBonus,enabled:()=>t(le.coreResearch.research.fomeGain.researched),description:q(()=>a(g,null,[u("["),le.name,u("] Inflaton Resonance")]))})),Q(()=>({multiplier:le.upgrades.moreFome.effect,enabled:x(le.upgrades.moreFome.bought),description:q(()=>a(g,null,[u("["),le.name,u("] Dynamic Inflational Formation")]))})),Q(()=>({multiplier:Xt.boosts[1].effect,enabled:()=>o.gt(t(Xt.boosts[1].total),0),description:q(()=>a(g,null,[u("["),e,u("] Quantum Boost 1 ("),Z(t(Xt.boosts[1].total)),u(")")]))})),Q(()=>({multiplier:Xt.boosts[3].effect,enabled:()=>o.gt(t(Xt.boosts[3].total),0),description:q(()=>a(g,null,[u("["),e,u("] Quantum Boost 3 ("),Z(t(Xt.boosts[3].total)),u(")")]))}))],l=[Q(()=>({multiplier:He.buffs[Y.LEFT],enabled:x(z.upgrades.tactics.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Passive Left Timeline Bonus")]))})),Q(()=>({multiplier:()=>o.reciprocate(t(He.nerfs[Y.LEFT])),enabled:x(z.upgrades.tactics.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Active Left Timeline Effect")]))}))],m=_(()=>o.add(nt(Ae.enhancements.entitlement,0),nt(z.upgrades.tier,0))),c={fontSize:"48px",fontWeight:"normal",color:"var(--feature-foreground)"},d={[k.protoversal]:mt(()=>({display:q(()=>a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Protoversal Foam")]),effect:a(g,null,[u("Unlock the Pion and Spinor Buy All button"),a("br",null,null),u("Automatically enlarge your Protoversal Foam")])}})),[k.infinitesimal]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("3")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),3)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("3")])]),effect:a(g,null,[u("Automatically enlarge your Infinitesimal Foam")])}})),[k.subspatial]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("4")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),4)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("4")])]),effect:a(g,null,[u("Automatically enlarge your Subspatial Foam")])}})),[k.subplanck]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("5")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),5)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("5")])]),effect:a(g,null,[u("Automatically enlarge your Subplanck Foam")])}})),[k.quantum]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("6")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),6)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("6")])]),effect:a(g,null,[u("Automatically enlarge your Quantum Foam")])}})),reform:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("Q"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])])),requirements:Ot(()=>o.gte(t(Xt.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Quantum Foam")]),effect:a(g,null,[u("Automatically re-form your Foam")])}}))};for(const h of Object.values(d))xn(h,{display:q(()=>a(g,null,[a("h3",null,[h.tooltip.requirement]),a("br",null,null),h.tooltip.effect]))});const p=Hn({main:()=>({display:"Foam",tab:Ht(()=>({display:q(()=>a(g,null,[a("div",null,[u("You have "),a(Yn,{resource:y[t(r)].amount,color:n},null),u(" "),y[t(r)].amount.displayName,o.gt(t(y[t(r)].upgrades.reform.amount),1)?a("sup",null,[Z(t(y[t(r)].upgrades.reform.amount))]):void 0]),a(Ne,null,null),a(op,null,null),a(Ne,{height:"8px"},null),Lo(...Object.values(d))]))}))}),boosts:()=>({display:"Boosts",tab:Ht(()=>({display:q(()=>a(fp,null,null))}))})});return{name:e,color:n,unlocked:i,production:s,timelineProduction:l,globalBoostBonus:m,achievements:d,display:q(()=>a(g,null,[o.gt(t(un.boosts[1].total),0)?te(p):te(t(p.tabs.main.tab))])),tabStyle:{"--bought":"#929aa9"},tabs:p,[k.protoversal]:un,[k.infinitesimal]:ur,[k.subspatial]:cr,[k.subplanck]:dr,[k.quantum]:Xt}});const _p={class:"skyrmion-container"},wp={class:"skyrmion-grid"},kp=ie({__name:"Skyrmion",setup(e){const n=A.upgrades,i={fome:{row:2,col:7},autoGain:{row:2,col:11},alpha:{row:3,col:5},beta:{row:3,col:9},gamma:{row:3,col:13},delta:{row:4,col:3},epsilon:{row:4,col:7},zeta:{row:4,col:11},eta:{row:4,col:15},theta:{row:5,col:1},iota:{row:5,col:5},kappa:{row:5,col:9},lambda:{row:5,col:13},mu:{row:5,col:17},nu:{row:6,col:3},xi:{row:6,col:7},pi:{row:6,col:11},rho:{row:6,col:15}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(I(),F("div",_p,[M("ul",wp,[M("li",qt({class:"skyrmion-upgrade reset"},s.$attrs),[jt(s.$slots,"default",{},void 0,!0)],16),(I(!0),F(g,null,Re(t(t(n)),(m,c)=>(I(),F(g,{key:c},[t(m.visibility)!==t(Me).None?(I(),F("li",qt({key:0,class:"skyrmion-upgrade"},s.$attrs,{style:r(c)}),[(I(),ne(Ce(t(te)(m))))],16)):J("",!0)],64))),128))])]))}});var Sp=ge(kp,[["__scopeId","data-v-3a223863"]]);function Cp(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fr(e)}const Np="skyrmion",A=Ze(Np,function(){const e="Skyrmions",n="#37d7ff",i=p=>v.variable(p).pow10().dividedBy(y.infinitesimal.boosts[4].effect).dividedBy(Ue.upgrades.alpha.effect).dividedBy(Ae.enhancements.amplification.effect),r=ze(p=>({initialAmount:1,requirements:[j(()=>({resource:x(ot.pions),requiresPay:()=>!t(c.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:i(p.amount)})),j(()=>({resource:x(Ue.spinors),requiresPay:()=>!t(c.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:i(p.amount)}))],style:{paddingHorizontal:"20px"},display:q(()=>{const h=i(p.amount),f=o.clampMin(Un(r.requirements),1),N=Gt(h,o.clampMin(f,1),!0);return a(g,null,[a("h3",null,[u("Convert "),D(N),u(" Pions and Spinors to "),Z(f),u(" Skyrmions")])])})}));xn(r,{direction:Oe.Up,display:q(()=>{const p=i(r.amount),h=Un(r.requirements),f=Gt(p,o.add(h,1),!0);return a(g,null,[u("Next at "),D(f),u(" Pions and Spinors")])})}),this.on("update",()=>{t(c.autoGain.bought)&&Nt(r.requirements)&&r.onClick()});const s=it(r.amount,e),l=_(()=>o.add(t(s),me(k.subspatial,4))),m=[Q(()=>({multiplier:ot.upgrades.alpha.effect,enabled:()=>o.gt(t(ot.upgrades.alpha.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Pion Upgrade \u03B1 ("),D(t(ot.upgrades.alpha.totalAmount)),u(")")]))})),Q(()=>({multiplier:Ue.upgrades.zeta.effect,enabled:()=>o.gt(t(Ue.upgrades.zeta.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B6 ("),D(t(Ue.upgrades.zeta.totalAmount)),u(")")]))})),Q(()=>({multiplier:Ue.upgrades.lambda.effect,enabled:()=>o.gt(t(Ue.upgrades.lambda.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03BB ("),D(t(Ue.upgrades.lambda.totalAmount)),u(")")]))})),Q(()=>({multiplier:Ue.upgrades.pi.effect,enabled:()=>o.gt(t(Ue.upgrades.pi.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03C0 ("),D(t(Ue.upgrades.pi.totalAmount)),u(")")]))})),Q(()=>({multiplier:y[k.infinitesimal].boosts[2].effect,enabled:()=>o.gt(t(y[k.infinitesimal].boosts[2].total),0),description:q(()=>a(g,null,[u("["),y.name,u("] Infinitesimal Boost 2 ("),Z(t(y[k.infinitesimal].boosts[2].total)),u(")")]))}))],c={fome:d({display:{title:"Condensation",description:a(g,null,[u("Begin Foam generation")])},cost:10,onPurchase(){y.protoversal.upgrades.reform.amount.value=o.dOne}}),autoGain:d({display:{title:"Reformation",description:a(g,null,[u("Automatically gain Skyrmions; they don't cost Pions or Spinors")])},cost:16}),alpha:d({visibility(){return t(this.bought)||o.gte(t(s),20)},display:{title:"Alteration",description:a(g,null,[u("Autobuy \u03B1 upgrades"),a("br",null,null),u("\u03B1 upgrades no longer consume Pions or Spinors")])},cost:24}),beta:d({visibility(){return t(this.bought)||o.gte(t(s),25)},display:{title:"Benediction",description:a(g,null,[u("Autobuy \u03B2 upgrades"),a("br",null,null),u("\u03B2 upgrades no longer consume Pions or Spinors")])},cost:28}),gamma:d({visibility(){return t(this.bought)||o.gte(t(s),30)},display:{title:"Consolidation",description:a(g,null,[u("Autobuy \u03B3 upgrades"),a("br",null,null),u("\u03B3 upgrades no longer consume Pions or Spinors")])},cost:32}),delta:d({visibility(){return t(this.bought)||o.gte(t(s),35)},display:{title:"Diversification",description:a(g,null,[u("Autobuy \u03B4 upgrades"),a("br",null,null),u("\u03B4 upgrades no longer consume Pions or Spinors")])},cost:36}),epsilon:d({visibility(){return t(this.bought)||o.gte(t(s),40)},display:{title:"Encapsulation",description:a(g,null,[u("Autobuy \u03B5 upgrades"),a("br",null,null),u("\u03B5 upgrades no longer consume Pions or Spinors")])},cost:42}),zeta:d({visibility(){return t(this.bought)||o.gte(t(s),45)},display:{title:"Fabrication",description:a(g,null,[u("Autobuy \u03B6 upgrades"),a("br",null,null),u("\u03B6 upgrades no longer consume Pions or Spinors")])},cost:48}),eta:d({visibility(){return t(this.bought)||o.gte(t(s),50)},display:{title:"Germination",description:a(g,null,[u("Autobuy \u03B7 upgrades"),a("br",null,null),u("\u03B7 upgrades no longer consume Pions or Spinors")])},cost:52}),theta:d({visibility(){return t(this.bought)||o.gte(t(s),55)},display:{title:"Hesitation",description:a(g,null,[u("Autobuy \u03B8 upgrades"),a("br",null,null),u("\u03B8 upgrades no longer consume Pions or Spinors")])},cost:56}),iota:d({visibility(){return t(this.bought)||o.gte(t(s),60)},display:{title:"Immitation",description:a(g,null,[u("Autobuy \u03B9 upgrades"),a("br",null,null),u("\u03B9 upgrades no longer consume Pions or Spinors")])},cost:64}),kappa:d({visibility(){return t(this.bought)||o.gte(t(s),65)},display:{title:"Juxtaposition",description:a(g,null,[u("Autobuy \u03BA upgrades"),a("br",null,null),u("\u03BA upgrades no longer consume Pions or Spinors")])},cost:69}),lambda:d({visibility(){return t(this.bought)||o.gte(t(s),70)},display:{title:"Lateralization",description:a(g,null,[u("Autobuy \u03BB upgrades"),a("br",null,null),u("\u03BB upgrades no longer consume Pions or Spinors")])},cost:72}),mu:d({visibility(){return t(this.bought)||o.gte(t(s),75)},display:{title:"Materialization",description:a(g,null,[u("Autobuy \u03BC upgrades"),a("br",null,null),u("\u03BC upgrades no longer consume Pions or Spinors")])},cost:92}),nu:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Neutralization",description:a(g,null,[u("Autobuy \u03BD upgrades"),a("br",null,null),u("\u03BD upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>{var p;return(p=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(re.abyssUpgradeCount)])!=null?p:k.quantum},cost:2}))}),xi:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Externalization",description:a(g,null,[u("Autobuy \u03BE upgrades"),a("br",null,null),u("\u03BE upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>{var p;return(p=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(re.abyssUpgradeCount)])!=null?p:k.quantum},cost:2}))}),pi:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Prioritization",description:a(g,null,[u("Autobuy \u03C0 upgrades"),a("br",null,null),u("\u03C0 upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>{var p;return(p=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(re.abyssUpgradeCount)])!=null?p:k.quantum},cost:2}))}),rho:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Obfuscation",description:a(g,null,[u("Autobuy \u03C1 upgrades"),a("br",null,null),u("\u03C1 upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>{var p;return(p=[k.infinitesimal,k.subspatial,k.subplanck,k.quantum][t(re.abyssUpgradeCount)])!=null?p:k.quantum},cost:2}))})};return{name:e,color:n,conversion:r,skyrmions:s,totalSkyrmions:l,production:m,upgrades:c,display:q(()=>{let p;return a(g,null,[u("You have "),a(Yn,{resource:s,color:n,tag:"h2"},null),u(" "),s.displayName,o.gt(me(k.subspatial,4),0)?a(g,null,[a("br",null,null),u("Your "),y.subspatial.amount.displayName,u(" is granting an additional "),a("h3",{style:{color:n,textShadow:`0px 0px 10px ${n}`}},[D(me(k.subspatial,4))]),u(" "),s.displayName]):a(Ne,{height:"25px"},null),a(Ne,null,null),a("div",{class:"row",style:{flexFlow:"row nowrap"}},[te(ot.display),t(ye.expansions.skyrmion.bought)?te(re.challenge):a(Ne,{width:"250px",height:"250px"},null),te(Ue.display)]),a(Ne,null,null),a(Sp,null,Cp(p=te(r))?p:{default:()=>[p]})])}),pion:ot,spinor:Ue,abyss:re};function d(p){const{visibility:h,cost:f,requirement:N,display:w,onPurchase:S}=p;return Qc({visibility:h,requirements:N!=null?N:j(()=>({cost:f,resource:x(s),requiresPay:!1})),display:w,onPurchase:S})}});const Xr=e=>($t("data-v-5e2d38ce"),e=e(),Mt(),e),qp=Xr(()=>M("div",{class:"key"},"Ctrl",-1)),Ip=Xr(()=>M("div",{class:"key"},"Shift",-1)),$p={class:"key"},Mp=ie({__name:"Hotkey",props:{hotkey:null},setup(e){const n=e;let i="",r=!1,s=!1,l=!1;return kt(()=>{i=n.hotkey.key,r=i.startsWith("ctrl+"),r&&(i=i.slice(5)),s=i.startsWith("shift+"),s&&(i=i.slice(6)),l=i.length==1&&i.toLowerCase()!=i.toUpperCase(),l&&(i=i.toUpperCase())}),(m,c)=>(I(),F(g,null,[t(r)?(I(),F(g,{key:0},[qp,u("+")],64)):J("",!0),t(s)?(I(),F(g,{key:1},[Ip,u("+")],64)):J("",!0),M("div",$p,se(t(i)),1)],64))}});var Pp=ge(Mp,[["__scopeId","data-v-5e2d38ce"]]);const pi=ci({}),er=Symbol("Hotkey"),mr=[")","!","@","#","$","%","^","&","*","("];function ii(e){return Ge(n=>{const i=e.call(n,n);return i.type=er,U(i,"enabled"),Fe(i,"enabled",!0),U(i,"description"),i})}ut.on("addLayer",e=>{Tr(e,er).forEach(n=>{pi[n.key]=n})});ut.on("removeLayer",e=>{Tr(e,er).forEach(n=>{pi[n.key]=void 0})});document.onkeydown=function(e){var r;if(((r=e.target)==null?void 0:r.tagName)==="INPUT"||tr.value&&!he.keepGoing)return;let n=e.key;mr.includes(n)?n="shift+"+mr.indexOf(n):e.shiftKey&&(n="shift+"+n),e.ctrlKey&&(n="ctrl+"+n);const i=pi[n];i&&t(i.enabled)&&(e.preventDefault(),i.onPress())};ho(q(()=>{const e=Object.values(pi).filter(n=>t(n==null?void 0:n.enabled));return e.length===0?"":a("div",null,[a("br",null,null),a("h4",null,[u("Hotkeys")]),a("div",{style:"column-count: 2"},[e.map(n=>a("div",null,[a(Pp,{hotkey:n},null),u(" "),n==null?void 0:n.description]))])])}));const Tp="root",oi=[A,y,L,z,le,ye],Qr=Ze(Tp,()=>{const e=Hn(Object.fromEntries(oi.map(i=>[i.name,()=>({display:i.name,tab:Ht(()=>({style:_(()=>({"--layer-color":t(re.challenge.active)?t(re.color):t(i.color),...t(i.tabStyle)})),display:q(()=>a(g,null,[a("div",null,[te(t(i.display))])]))})),visibility:"unlocked"in i?()=>{var r;return t((r=i.unlocked)!=null?r:!0)}:!0})]))),n={left:ii(()=>({key:"ArrowLeft",description:"Previous Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=Object.entries(e.tabs).filter(([l,m])=>_e(m.visibility)).map(([l,m])=>l);if(r.length<=0)return;const s=r.indexOf(i);switch(s){case-1:break;case 0:e.selected.value=r.at(-1);break;default:e.selected.value=r[s-1];break}}})),right:ii(()=>({key:"ArrowRight",description:"Next Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=Object.entries(e.tabs).filter(([l,m])=>_e(m.visibility)).map(([l,m])=>l);if(r.length<=0)return;const s=r.indexOf(i);switch(s){case-1:break;case r.length-1:e.selected.value=r[0];break;default:e.selected.value=r[s+1];break}}})),shiftLeft:ii(()=>({key:"shift+ArrowLeft",description:"Previous Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=oi.find(d=>d.name===i);if(r===void 0||!("tabs"in r))return;const s=r.tabs,l=s.selected.value;if(l===void 0)return;const m=Object.entries(s.tabs).filter(([d,p])=>_e(p.visibility)).map(([d,p])=>d);if(m.length<=0)return;const c=m.indexOf(l);switch(c){case-1:break;case 0:s.selected.value=m.at(-1);break;default:s.selected.value=m[c-1];break}}})),shiftRight:ii(()=>({key:"shift+ArrowRight",description:"Next Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=oi.find(d=>d.name===i);if(r===void 0||!("tabs"in r))return;const s=r.tabs,l=s.selected.value;if(l===void 0)return;const m=Object.entries(s.tabs).filter(([d,p])=>_e(p.visibility)).map(([d,p])=>d);if(m.length<=0)return;const c=m.indexOf(l);switch(c){case-1:break;case m.length-1:s.selected.value=m[0];break;default:s.selected.value=m[c+1];break}}}))};return{name:"Root",minWidth:300,display:q(()=>t(y.unlocked)?a(g,null,[te(e)]):a("div",{style:{"--layer-color":t(A.color)}},[te(t(e.tabs[A.name].tab))])),hotkeys:n,tabs:e}}),xp=e=>[...Object.values(oi),Qr],tr=_(()=>!1);function Ap(e,n){}var Fp=Object.freeze(Object.defineProperty({__proto__:null,root:Qr,getInitialLayers:xp,hasWon:tr,fixOldSave:Ap},Symbol.toStringTag,{value:"Module"}));const Kn=e=>($t("data-v-4a50ce42"),e=e(),Mt(),e),Bp={class:"game-over-modal-header"},Rp=["src","alt"],Ep={class:"game-over-modal-title"},Op=Kn(()=>M("h2",null,"Congratulations!",-1)),Dp={key:0},Lp=Kn(()=>M("br",null,null,-1)),jp=Kn(()=>M("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),Vp=Kn(()=>M("br",null,null,-1)),Up=["href"],zp=Kn(()=>M("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),Gp=ie({__name:"GameOverScreen",setup(e){const{title:n,logo:i,discordName:r,discordLink:s,versionNumber:l,versionTitle:m}=ve,c=_(()=>Oi(he.timePlayed)),d=_(()=>tr.value&&!he.keepGoing),p=Kt(he,"autosave");function h(){he.keepGoing=!0}function f(){cn(_n())}return(N,w)=>(I(),ne(fn,{"model-value":t(d)},{header:fe(()=>[M("div",Bp,[t(i)?(I(),F("img",{key:0,class:"game-over-modal-logo",src:t(i),alt:t(n)},null,8,Rp)):J("",!0),M("div",Ep,[Op,M("h4",null,"You've beaten "+se(t(n))+" v"+se(t(l))+": "+se(t(m)),1)])])]),body:fe(({shown:S})=>[S?(I(),F("div",Dp,[M("div",null,"It took you "+se(t(c))+" to beat the game.",1),Lp,jp,Vp,M("div",null,[M("a",{href:t(s),class:"game-over-modal-discord-link"},[zp,u(" "+se(t(r)),1)],8,Up)]),a(Dt,{title:"Autosave",modelValue:t(p),"onUpdate:modelValue":w[0]||(w[0]=C=>De(p)?p.value=C:null)},null,8,["modelValue"])])):J("",!0)]),footer:fe(()=>[M("div",{class:"game-over-footer"},[M("button",{onClick:h,class:"button"},"Keep Going"),M("button",{onClick:f,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var Hp=ge(Gp,[["__scopeId","data-v-4a50ce42"]]);const fi=e=>($t("data-v-d3bb0716"),e=e(),Mt(),e),Wp=fi(()=>M("div",{class:"nan-modal-header"},[M("h2",null,"NaN value detected!")],-1)),Yp={key:0},Xp=fi(()=>M("br",null,null,-1)),Qp=["href"],Kp=fi(()=>M("span",{class:"material-icons nan-modal-discord"},"discord",-1)),Zp=fi(()=>M("br",null,null,-1)),Jp={class:"nan-footer"},ef=ie({__name:"NaNScreen",setup(e){const{discordName:n,discordLink:i}=ve,r=pe(!0),s=pe(!0),l=Kt(Qe,"hasNaN"),m=pe(null);wt(l,N=>{N?(r.value=he.autosave,s.value=he.devSpeed===0):(he.autosave=r.value,he.devSpeed=s.value?0:null)});const c=_(()=>{var N;return(N=Qe.NaNPath)==null?void 0:N.join(".")}),d=_(()=>Qe.NaNPersistent!=null?Qe.NaNPersistent.value:null);function p(){Qe.NaNPersistent!=null&&(Qe.NaNPersistent.value=new o(0),Qe.hasNaN=!1)}function h(){Qe.NaNPersistent&&(Qe.NaNPersistent.value=new o(1),Qe.hasNaN=!1)}function f(){Qe.NaNPersistent&&(Qe.NaNPersistent.value=new o(NaN),Qe.hasNaN=!1)}return(N,w)=>(I(),F(g,null,[a(fn,qt({modelValue:t(l),"onUpdate:modelValue":w[4]||(w[4]=S=>De(l)?l.value=S:null)},N.$attrs),{header:fe(()=>[Wp]),body:fe(()=>[M("div",null,[u(' Attempted to assign "'+se(t(c))+'" to NaN',1),t(d)?(I(),F("span",Yp,se(" ")+"(previously "+se(t(li)(t(d)))+")",1)):J("",!0),u(". Auto-saving has been "+se(r.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),Xp,M("div",null,[M("a",{href:t(i)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[Kp,u(" "+se(t(n)||"Profectus & Friends"),1)],8,Qp)]),Zp,a(Dt,{title:"Autosave",modelValue:r.value,"onUpdate:modelValue":w[0]||(w[0]=S=>r.value=S)},null,8,["modelValue"]),t(ve).enablePausing?(I(),ne(Dt,{key:0,title:"Pause game",modelValue:s.value,"onUpdate:modelValue":w[1]||(w[1]=S=>s.value=S)},null,8,["modelValue"])):J("",!0)]),footer:fe(()=>[M("div",Jp,[M("button",{onClick:w[2]||(w[2]=S=>{var C;return(C=m.value)==null?void 0:C.open()}),class:"button"},"Open Saves Manager"),M("button",{onClick:p,class:"button"},"Set to 0"),M("button",{onClick:h,class:"button"},"Set to 1"),t(d)&&t(o).neq(t(d),0)&&t(o).neq(t(d),1)?(I(),F("button",{key:0,onClick:w[3]||(w[3]=S=>l.value=!1),class:"button"}," Set to previous ")):J("",!0),M("button",{onClick:f,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),a(Or,{ref_key:"savesManager",ref:m},null,512)],64))}});var tf=ge(ef,[["__scopeId","data-v-d3bb0716"]]);const nf={key:0,class:"tpsDisplay"},rf=ie({__name:"TPS",setup(e){const n=_(()=>o.div(Qe.lastTenTicks.length,Qe.lastTenTicks.reduce((i,r)=>i+r,0)));return(i,r)=>t(n).isNan()?J("",!0):(I(),F("div",nf,"TPS: "+se(t(mn)(t(n))),1))}});var sf=ge(rf,[["__scopeId","data-v-89b89152"]]);var of=ie({__name:"App",setup(e){const n=ve.useHeader,i=_(()=>$n[$e.theme].variables),r=Kt($e,"showTPS"),s=Kt(Qe,"errors"),l=_(()=>oe(q(()=>a(g,null,[vo.map(te)]))));return(m,c)=>t(s).length>0?(I(),F("div",{key:0,class:"error-container",style:Ee(t(i))},[a(vr,{errors:t(s)},null,8,["errors"])],4)):(I(),F(g,{key:1},[M("div",{id:"modal-root",style:Ee(t(i))},null,4),M("div",{class:Te(["app",{useHeader:t(n)}]),style:Ee(t(i))},[t(n)?(I(),ne(Dr,{key:0})):J("",!0),a(qc),t(t(r))?(I(),ne(sf,{key:1})):J("",!0),a(Hp),a(tf),(I(),ne(Ce(t(l))))],6)],64))}});var af=ge(of,[["__scopeId","data-v-bf4e22ac"]]);function lf(e={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:m}=e;let c,d,p,h;const f=async(w=!0)=>{await p,w&&(c==null||c.addEventListener("controlling",S=>{S.isUpdate&&window.location.reload()})),await(h==null?void 0:h())};async function N(){if("serviceWorker"in navigator){const{Workbox:w,messageSW:S}=await On(()=>import("./workbox-window.4a8794bb.js"),[]);h=async()=>{d&&d.waiting&&await S(d.waiting,{type:"SKIP_WAITING"})},c=new w("./sw.js",{scope:"./",type:"classic"}),c.addEventListener("activated",C=>{C.isUpdate||r==null||r()});{const C=()=>{i==null||i()};c.addEventListener("waiting",C),c.addEventListener("externalwaiting",C)}c.register({immediate:n}).then(C=>{d=C,l?l("./sw.js",C):s==null||s(C)}).catch(C=>{m==null||m(C)})}}return p=N(),f}function uf(e={}){const{immediate:n=!0,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:m}=e,c=pe(!1),d=pe(!1);return{updateServiceWorker:lf({immediate:n,onNeedRefresh(){c.value=!0,i==null||i()},onOfflineReady(){d.value=!0,r==null||r()},onRegistered:s,onRegisteredSW:l,onRegisterError:m}),offlineReady:d,needRefresh:c}}const nr=console.error;console.error=function(...e){nr(...e)};window.onerror=function(e,n,i,r,s){return Qe.errors.push(s instanceof Error?s:new Error(JSON.stringify(s))),nr(s),!0};window.onunhandledrejection=function(e){Qe.errors.push(e.reason instanceof Error?e.reason:new Error(JSON.stringify(e.reason))),nr(e.reason)};document.title=ve.title;window.projInfo=ve;ve.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await fo();const{globalBus:e}=await On(()=>Promise.resolve().then(function(){return mo}),void 0),{startGameLoop:n}=await On(()=>import("./gameLoop.7383d242.js"),["assets/gameLoop.7383d242.js","assets/@fontsource.f66d05e7.css","assets/vue.7234e199.js","assets/lz-string.bfbf8ec3.js","assets/@vue.6b211d3c.js","assets/nanoevents.1080beb7.js","assets/vue-next-select.1947c758.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.60c57c44.js","assets/sortablejs.93acc2fb.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-toastification.00c27ea8.js","assets/vue-toastification.4b5f8ac8.css"]),i=window.vue=os(af);i.config.errorHandler=function(r,s,l){console.error(r,l,s)},e.emit("setupVue",i),i.mount("#app"),sn(()=>{const r=hr(),{updateServiceWorker:s}=uf({onNeedRefresh(){r.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){s()}})},onOfflineReady(){r.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(l){l&&setInterval(()=>l.update(),60*60*1e3)}})}),n()});export{o as D,On as _,Qe as a,ve as b,Fp as c,ut as g,Ti as l,he as p,$e as s};
