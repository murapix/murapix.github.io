/* empty css                    */import"./vue.7234e199.js";import{q as qn,C as t,ab as ie,t as de,aF as I,a1 as A,aL as jt,bv as En,G as Pe,as as sn,_ as y,az as zn,a2 as $,J as se,O as g,aK as Fe,a0 as J,I as Be,a8 as u,a9 as a,b7 as me,aI as $t,aG as Mt,b2 as wt,l as De,u as ci,aD as pr,w as ft,b3 as kt,ap as fr,aH as Zn,A as et,$ as ne,b9 as Ii,ar as qt,bt as Qr,bc as gr,T as Zr,j as Jr,bw as Wt,ay as es,aM as Bt,aO as Ce,z as Qt,bo as ts,bs as ns,am as ai,H as is,bx as rs,a7 as ss,bf as os}from"./@vue.6b211d3c.js";import{L as Kt}from"./lz-string.bfbf8ec3.js";import{c as br}from"./nanoevents.1080beb7.js";import{Y as as}from"./vue-next-select.1947c758.js";import{D as ls}from"./vuedraggable.60c57c44.js";import{p as us}from"./vue-textarea-autosize.35804eaf.js";import{s as cs,u as hr}from"./vue-toastification.00c27ea8.js";import"./sortablejs.93acc2fb.js";const ds=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}};ds();const ms="modulepreload",ir={},ps="./",Rn=function(n,i){return!i||i.length===0?n():Promise.all(i.map(r=>{if(r=`${ps}${r}`,r in ir)return;ir[r]=!0;const s=r.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const m=document.createElement("link");if(m.rel=s?"stylesheet":ms,s||(m.as="script",m.crossOrigin=""),m.href=r,document.head.appendChild(m),s)return new Promise((c,d)=>{m.addEventListener("load",c),m.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())},fs="./projInfo-schema.json",gs="Universal Reconstruction",bs="An expanded reversal of Distance Incremental",hs="universal_reconstruction",vs="Escapee",ys="The Paper Pilot Community",_s="https://discord.gg/WzejVAx",ws="1.0",ks="Revitalization",Ss=!0,Cs=!1,Ns=2,qs=!0,Is=null,$s="",Ms=["root"],Ps=3600,Ts=!0,xs="base64";var he={$schema:fs,title:gs,description:bs,id:hs,author:vs,discordName:ys,discordLink:_s,versionNumber:ws,versionTitle:ks,allowGoBack:Ss,defaultShowSmall:Cs,defaultDigitsShown:Ns,useHeader:qs,banner:Is,logo:$s,initialTabs:Ms,maxTickLength:Ps,enablePausing:Ts,exportEncoding:xs};const As=qn({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});var be=window.player=As;function $i(e){return JSON.stringify(e,(n,i)=>t(i))}var fe=(e,n)=>{const i=e.__vccOpts||e;for(const[r,s]of n)i[r]=s;return i};const Fs=["onClick"],Bs=ie({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:n}){const i=de(!1),r=de(null);function s(){n("click"),r.value&&clearTimeout(r.value),i.value=!1,sn(()=>{i.value=!0,r.value=setTimeout(()=>i.value=!1,500)})}return(l,m)=>(I(),A("button",{onClick:En(s,["stop"]),class:Pe(["feedback",{activated:i.value,left:e.left}])},[jt(l.$slots,"default",{},void 0,!0)],10,Fs))}});var Mi=fe(Bs,[["__scopeId","data-v-01a1b95c"]]);const di=e=>($t("data-v-ac351c02"),e=e(),Mt(),e),Es={class:"error"},Rs={class:"error-title"},Os={class:"error-details",style:{"margin-top":"-10px"}},Ds={key:0},Ls={class:"instructions"},js=["href"],Vs=di(()=>$("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1)),Us=di(()=>$("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)),zs=di(()=>$("br",null,null,-1)),Gs={key:0,style:{"margin-top":"20px"}},Hs=di(()=>$("h3",null,"Other errors",-1)),Ws=[Hs],Ys={class:"error-details"},Xs={key:0,style:{"margin-top":"10px"}},Ks={key:1,style:{"margin-top":"10px"}},Qs=ie({__name:"Error",props:{errors:null},setup(e){const n=e,i=y(()=>n.errors[0]),r=y(()=>n.errors.map(m=>m.stack==null?[]:m.stack.split(`
`))),s=y(()=>n.errors.map(m=>m.cause==null?[]:(typeof m.cause=="string"?m.cause:JSON.stringify(m.cause)).split(`
`)));function l(){let m=$i(be);switch(he.exportEncoding){default:console.warn(`Unknown save encoding: ${he.exportEncoding}. Defaulting to lz`);case"lz":m=Kt.compressToUTF16(m);break;case"base64":m=btoa(unescape(encodeURIComponent(m)));break;case"plain":break}console.log(m);const c=document.createElement("textarea");c.value=m,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}return zn(()=>{be.autosave=!1,be.devSpeed=0}),(m,c)=>(I(),A("div",Es,[$("h1",Rs,se(t(i).name)+": "+se(t(i).message),1),$("div",Os,[t(i).cause?(I(),A("div",Ds,[(I(!0),A(g,null,Fe(t(s)[0],d=>(I(),A("div",{key:d},se(d),1))),128))])):J("",!0),t(i).stack?(I(),A("div",{key:1,style:Be(t(i).cause?"margin-top: 10px":"")},[(I(!0),A(g,null,Fe(t(r)[0],d=>(I(),A("div",{key:d},se(d),1))),128))],4)):J("",!0)]),$("div",Ls,[u(" Check the console for more details, and consider sharing it with the developers on "),$("a",{href:t(he).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,js),u("! "),a(Mi,{onClick:l,class:"button",style:{display:"inline-flex"}},{default:me(()=>[Vs,Us]),_:1}),zs,e.errors.length>1?(I(),A("div",Gs,Ws)):J("",!0),(I(!0),A(g,null,Fe(e.errors.slice(1),(d,f)=>(I(),A("div",{key:f,style:{"margin-top":"20px"}},[$("details",Ys,[$("summary",null,se(d.name)+": "+se(d.message),1),d.cause?(I(),A("div",Xs,[(I(!0),A(g,null,Fe(t(s)[f+1],b=>(I(),A("div",{key:b},se(b),1))),128))])):J("",!0),d.stack?(I(),A("div",Ks,[(I(!0),A(g,null,Fe(t(r)[f+1],b=>(I(),A("div",{key:b},se(b),1))),128))])):J("",!0)])]))),128))])]))}});var vr=fe(Qs,[["__scopeId","data-v-ac351c02"]]);class Zs{constructor(n){this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=n}get size(){return this.map.size}get(n){const i=this.map.get(n);if(i!==void 0)return i!==this.first&&(i===this.last?(this.last=i.prev,this.last.next=void 0):(i.prev.next=i.next,i.next.prev=i.prev),i.next=this.first,this.first.prev=i,this.first=i),i.value}set(n,i){if(this.maxSize<1)return;if(this.map.has(n))throw new Error("Cannot update existing keys in the cache");const r=new Js(n,i);for(this.first===void 0?(this.first=r,this.last=r):(r.next=this.first,this.first.prev=r,this.first=r),this.map.set(n,r);this.map.size>this.maxSize;){const s=this.last;this.map.delete(s.key),this.last=s.prev,this.last.next=void 0}}}class Js{constructor(n,i){this.next=void 0,this.prev=void 0,this.key=n,this.value=i}}const gi=17,eo=9e15,to=Math.log10(9e15),no=1/9e15,io=308,ro=-324,rr=5,so=(1<<10)-1,oo=function(){const e=[];for(let i=ro+1;i<=io;i++)e.push(Number("1e"+i));const n=323;return function(i){return e[i+n]}}(),an=[2,Math.E,3,4,5,6,7,8,9,10],ao=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],lo=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let O=function(n){return o.fromValue_noAlloc(n)},ge=function(e,n,i){return o.fromComponents(e,n,i)},we=function(n,i,r){return o.fromComponents_noNormalize(n,i,r)};const Jt=function(n,i){const r=i+1,s=Math.ceil(Math.log10(Math.abs(n))),l=Math.round(n*Math.pow(10,r-s))*Math.pow(10,s-r);return parseFloat(l.toFixed(Math.max(r-s,0)))},bi=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},uo=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let n=1;for(;e<10;)n=n*e,++e;e-=1;let i=.9189385332046727;i=i+(e+.5)*Math.log(e),i=i-e;const r=e*e;let s=e;return i=i+1/(12*s),s=s*r,i=i+1/(360*s),s=s*r,i=i+1/(1260*s),s=s*r,i=i+1/(1680*s),s=s*r,i=i+1/(1188*s),s=s*r,i=i+691/(360360*s),s=s*r,i=i+7/(1092*s),s=s*r,i=i+3617/(122400*s),Math.exp(i)/n},yr=.5671432904097838,sr=function(e,n=1e-10){let i,r;if(!Number.isFinite(e)||e===0)return e;if(e===1)return yr;e<10?i=0:i=Math.log(e)-Math.log(Math.log(e));for(let s=0;s<100;++s){if(r=(e*Math.exp(-i)+i*i)/(i+1),Math.abs(r-i)<n*Math.abs(r))return r;i=r}throw Error(`Iteration failed to converge: ${e.toString()}`)};function or(e,n=1e-10){let i,r,s,l;if(!Number.isFinite(e.mag)||e.eq(o.dZero))return e;if(e.eq(o.dOne))return o.fromNumber(yr);i=o.ln(e);for(let m=0;m<100;++m){if(r=i.neg().exp(),s=i.sub(e.mul(r)),l=i.sub(s.div(i.add(1).sub(i.add(2).mul(s).div(o.mul(2,i).add(2))))),o.abs(l.sub(i)).lt(o.abs(l).mul(n)))return l;i=l}throw Error(`Iteration failed to converge: ${e.toString()}`)}const T=class{constructor(e){this.sign=0,this.mag=0,this.layer=0,e instanceof T?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let n;return this.mag===5e-324?n=5:n=this.mag/oo(e),this.sign*n}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,n,i){return new T().fromComponents(e,n,i)}static fromComponents_noNormalize(e,n,i){return new T().fromComponents_noNormalize(e,n,i)}static fromMantissaExponent(e,n){return new T().fromMantissaExponent(e,n)}static fromMantissaExponent_noNormalize(e,n){return new T().fromMantissaExponent_noNormalize(e,n)}static fromDecimal(e){return new T().fromDecimal(e)}static fromNumber(e){return new T().fromNumber(e)}static fromString(e){return new T().fromString(e)}static fromValue(e){return new T().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof T)return e;if(typeof e=="string"){const n=T.fromStringCache.get(e);return n!==void 0?n:T.fromString(e)}else return typeof e=="number"?T.fromNumber(e):T.dZero}static abs(e){return O(e).abs()}static neg(e){return O(e).neg()}static negate(e){return O(e).neg()}static negated(e){return O(e).neg()}static sign(e){return O(e).sign}static sgn(e){return O(e).sign}static round(e){return O(e).round()}static floor(e){return O(e).floor()}static ceil(e){return O(e).ceil()}static trunc(e){return O(e).trunc()}static add(e,n){return O(e).add(n)}static plus(e,n){return O(e).add(n)}static sub(e,n){return O(e).sub(n)}static subtract(e,n){return O(e).sub(n)}static minus(e,n){return O(e).sub(n)}static mul(e,n){return O(e).mul(n)}static multiply(e,n){return O(e).mul(n)}static times(e,n){return O(e).mul(n)}static div(e,n){return O(e).div(n)}static divide(e,n){return O(e).div(n)}static recip(e){return O(e).recip()}static reciprocal(e){return O(e).recip()}static reciprocate(e){return O(e).reciprocate()}static cmp(e,n){return O(e).cmp(n)}static cmpabs(e,n){return O(e).cmpabs(n)}static compare(e,n){return O(e).cmp(n)}static isNaN(e){return e=O(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=O(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,n){return O(e).eq(n)}static equals(e,n){return O(e).eq(n)}static neq(e,n){return O(e).neq(n)}static notEquals(e,n){return O(e).notEquals(n)}static lt(e,n){return O(e).lt(n)}static lte(e,n){return O(e).lte(n)}static gt(e,n){return O(e).gt(n)}static gte(e,n){return O(e).gte(n)}static max(e,n){return O(e).max(n)}static min(e,n){return O(e).min(n)}static minabs(e,n){return O(e).minabs(n)}static maxabs(e,n){return O(e).maxabs(n)}static clamp(e,n,i){return O(e).clamp(n,i)}static clampMin(e,n){return O(e).clampMin(n)}static clampMax(e,n){return O(e).clampMax(n)}static cmp_tolerance(e,n,i){return O(e).cmp_tolerance(n,i)}static compare_tolerance(e,n,i){return O(e).cmp_tolerance(n,i)}static eq_tolerance(e,n,i){return O(e).eq_tolerance(n,i)}static equals_tolerance(e,n,i){return O(e).eq_tolerance(n,i)}static neq_tolerance(e,n,i){return O(e).neq_tolerance(n,i)}static notEquals_tolerance(e,n,i){return O(e).notEquals_tolerance(n,i)}static lt_tolerance(e,n,i){return O(e).lt_tolerance(n,i)}static lte_tolerance(e,n,i){return O(e).lte_tolerance(n,i)}static gt_tolerance(e,n,i){return O(e).gt_tolerance(n,i)}static gte_tolerance(e,n,i){return O(e).gte_tolerance(n,i)}static pLog10(e){return O(e).pLog10()}static absLog10(e){return O(e).absLog10()}static log10(e){return O(e).log10()}static log(e,n){return O(e).log(n)}static log2(e){return O(e).log2()}static ln(e){return O(e).ln()}static logarithm(e,n){return O(e).logarithm(n)}static pow(e,n){return O(e).pow(n)}static pow10(e){return O(e).pow10()}static pow_base(e,n){return O(e).pow_base(n)}static root(e,n){return O(e).root(n)}static factorial(e,n){return O(e).factorial()}static gamma(e,n){return O(e).gamma()}static lngamma(e,n){return O(e).lngamma()}static exp(e){return O(e).exp()}static sqr(e){return O(e).sqr()}static sqrt(e){return O(e).sqrt()}static cube(e){return O(e).cube()}static cbrt(e){return O(e).cbrt()}static tetrate(e,n=2,i=we(1,0,1)){return O(e).tetrate(n,i)}static iteratedexp(e,n=2,i=we(1,0,1)){return O(e).iteratedexp(n,i)}static iteratedlog(e,n=10,i=1){return O(e).iteratedlog(n,i)}static layeradd10(e,n){return O(e).layeradd10(n)}static layeradd(e,n,i=10){return O(e).layeradd(n,i)}static slog(e,n=10){return O(e).slog(n)}static lambertw(e){return O(e).lambertw()}static ssqrt(e){return O(e).ssqrt()}static pentate(e,n=2,i=we(1,0,1)){return O(e).pentate(n,i)}static sin(e){return O(e).sin()}static cos(e){return O(e).cos()}static tan(e){return O(e).tan()}static asin(e){return O(e).asin()}static acos(e){return O(e).acos()}static atan(e){return O(e).atan()}static sinh(e){return O(e).sinh()}static cosh(e){return O(e).cosh()}static tanh(e){return O(e).tanh()}static asinh(e){return O(e).asinh()}static acosh(e){return O(e).acosh()}static atanh(e){return O(e).atanh()}static affordGeometricSeries(e,n,i,r){return this.affordGeometricSeries_core(O(e),O(n),O(i),r)}static sumGeometricSeries(e,n,i,r){return this.sumGeometricSeries_core(e,O(n),O(i),r)}static affordArithmeticSeries(e,n,i,r){return this.affordArithmeticSeries_core(O(e),O(n),O(i),O(r))}static sumArithmeticSeries(e,n,i,r){return this.sumArithmeticSeries_core(O(e),O(n),O(i),O(r))}static efficiencyOfPurchase(e,n,i){return this.efficiencyOfPurchase_core(O(e),O(n),O(i))}static randomDecimalForTesting(e){if(Math.random()*20<1)return we(0,0,0);const n=Math.random()>.5?1:-1;if(Math.random()*20<1)return we(n,0,1);const i=Math.floor(Math.random()*(e+1));let r=i===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(r=Math.trunc(r));let s=Math.pow(10,r);return Math.random()>.9&&(s=Math.trunc(s)),ge(n,i,s)}static affordGeometricSeries_core(e,n,i,r){const s=n.mul(i.pow(r));return T.floor(e.div(s).mul(i.sub(1)).add(1).log10().div(i.log10()))}static sumGeometricSeries_core(e,n,i,r){return n.mul(i.pow(r)).mul(T.sub(1,i.pow(e))).div(T.sub(1,i))}static affordArithmeticSeries_core(e,n,i,r){const l=n.add(r.mul(i)).sub(i.div(2)),m=l.pow(2);return l.neg().add(m.add(i.mul(e).mul(2)).sqrt()).div(i).floor()}static sumArithmeticSeries_core(e,n,i,r){const s=n.add(r.mul(i));return e.div(2).mul(s.mul(2).plus(e.sub(1).mul(i)))}static efficiencyOfPurchase_core(e,n,i){return e.div(n).add(e.div(i))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<no)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),n=Math.sign(this.mag);if(e>=eo)return this.layer+=1,this.mag=n*Math.log10(e),this;for(;e<to&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=n*Math.pow(10,e),e=Math.abs(this.mag),n=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this.normalize(),this}fromComponents_noNormalize(e,n,i){return this.sign=e,this.layer=n,this.mag=i,this}fromMantissaExponent(e,n){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=n+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,n){return this.fromMantissaExponent(e,n),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const n=e,i=T.fromStringCache.get(n);if(i!==void 0)return this.fromDecimal(i);e=e.replace(",","");const r=e.split("^^^");if(r.length===2){const S=parseFloat(r[0]),k=parseFloat(r[1]),B=r[1].split(";");let R=1;if(B.length===2&&(R=parseFloat(B[1]),isFinite(R)||(R=1)),isFinite(S)&&isFinite(k)){const E=T.pentate(S,k,R);return this.sign=E.sign,this.layer=E.layer,this.mag=E.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}const s=e.split("^^");if(s.length===2){const S=parseFloat(s[0]),k=parseFloat(s[1]),B=s[1].split(";");let R=1;if(B.length===2&&(R=parseFloat(B[1]),isFinite(R)||(R=1)),isFinite(S)&&isFinite(k)){const E=T.tetrate(S,k,R);return this.sign=E.sign,this.layer=E.layer,this.mag=E.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}const l=e.split("^");if(l.length===2){const S=parseFloat(l[0]),k=parseFloat(l[1]);if(isFinite(S)&&isFinite(k)){const B=T.pow(S,k);return this.sign=B.sign,this.layer=B.layer,this.mag=B.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}e=e.trim().toLowerCase();let m,c,d=e.split("pt");if(d.length===2){m=10,c=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let S=parseFloat(d[1]);if(isFinite(S)||(S=1),isFinite(m)&&isFinite(c)){const k=T.tetrate(m,c,S);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}if(d=e.split("p"),d.length===2){m=10,c=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let S=parseFloat(d[1]);if(isFinite(S)||(S=1),isFinite(m)&&isFinite(c)){const k=T.tetrate(m,c,S);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}const f=e.split("e"),b=f.length-1;if(b===0){const S=parseFloat(e);if(isFinite(S))return this.fromNumber(S),T.fromStringCache.size>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}else if(b===1){const S=parseFloat(e);if(isFinite(S)&&S!==0)return this.fromNumber(S),T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}const p=e.split("e^");if(p.length===2){this.sign=1,p[0].charAt(0)=="-"&&(this.sign=-1);let S="";for(let k=0;k<p[1].length;++k){const B=p[1].charCodeAt(k);if(B>=43&&B<=57||B===101)S+=p[1].charAt(k);else return this.layer=parseFloat(S),this.mag=parseFloat(p[1].substr(k+1)),this.normalize(),T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}}if(b<1)return this.sign=0,this.layer=0,this.mag=0,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this;const w=parseFloat(f[0]);if(w===0)return this.sign=0,this.layer=0,this.mag=0,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this;let C=parseFloat(f[f.length-1]);if(b>=2){const S=parseFloat(f[f.length-2]);isFinite(S)&&(C*=Math.sign(S),C+=bi(S))}if(!isFinite(w))this.sign=f[0]==="-"?-1:1,this.layer=b,this.mag=C;else if(b===1)this.sign=Math.sign(w),this.layer=1,this.mag=C+Math.log10(Math.abs(w));else if(this.sign=Math.sign(w),this.layer=b,b===2){const S=T.mul(ge(1,2,C),O(w));return this.sign=S.sign,this.layer=S.layer,this.mag=S.mag,T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}else this.mag=C;return this.normalize(),T.fromStringCache.maxSize>=1&&T.fromStringCache.set(n,T.fromDecimal(this)),this}fromValue(e){return e instanceof T?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:Jt(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:Jt(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=rr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):Jt(this.m,e)+"e"+Jt(this.e,e):this.layer===1?Jt(this.m,e)+"e"+Jt(this.e,e):this.layer<=rr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+Jt(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+Jt(this.mag,e)}abs(){return we(this.sign===0?0:1,this.layer,this.mag)}neg(){return we(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?T.dZero:this.layer===0?ge(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?T.dZero:this.layer===0?ge(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?T.dZero:this.layer===0?ge(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?T.dZero:this.layer===0?ge(this.sign,0,Math.trunc(this.mag)):this}add(e){const n=O(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer)||this.sign===0)return n;if(n.sign===0)return this;if(this.sign===-n.sign&&this.layer===n.layer&&this.mag===n.mag)return we(0,0,0);let i,r;if(this.layer>=2||n.layer>=2)return this.maxabs(n);if(T.cmpabs(this,n)>0?(i=this,r=n):(i=n,r=this),i.layer===0&&r.layer===0)return T.fromNumber(i.sign*i.mag+r.sign*r.mag);const s=i.layer*Math.sign(i.mag),l=r.layer*Math.sign(r.mag);if(s-l>=2)return i;if(s===0&&l===-1){if(Math.abs(r.mag-Math.log10(i.mag))>gi)return i;{const m=Math.pow(10,Math.log10(i.mag)-r.mag),c=r.sign+i.sign*m;return ge(Math.sign(c),1,r.mag+Math.log10(Math.abs(c)))}}if(s===1&&l===0){if(Math.abs(i.mag-Math.log10(r.mag))>gi)return i;{const m=Math.pow(10,i.mag-Math.log10(r.mag)),c=r.sign+i.sign*m;return ge(Math.sign(c),1,Math.log10(r.mag)+Math.log10(Math.abs(c)))}}if(Math.abs(i.mag-r.mag)>gi)return i;{const m=Math.pow(10,i.mag-r.mag),c=r.sign+i.sign*m;return ge(Math.sign(c),1,r.mag+Math.log10(Math.abs(c)))}}plus(e){return this.add(e)}sub(e){return this.add(O(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const n=O(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(n.layer))return n;if(this.sign===0||n.sign===0)return we(0,0,0);if(this.layer===n.layer&&this.mag===-n.mag)return we(this.sign*n.sign,0,1);let i,r;if(this.layer>n.layer||this.layer==n.layer&&Math.abs(this.mag)>Math.abs(n.mag)?(i=this,r=n):(i=n,r=this),i.layer===0&&r.layer===0)return T.fromNumber(i.sign*r.sign*i.mag*r.mag);if(i.layer>=3||i.layer-r.layer>=2)return ge(i.sign*r.sign,i.layer,i.mag);if(i.layer===1&&r.layer===0)return ge(i.sign*r.sign,1,i.mag+Math.log10(r.mag));if(i.layer===1&&r.layer===1)return ge(i.sign*r.sign,1,i.mag+r.mag);if(i.layer===2&&r.layer===1){const s=ge(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(ge(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return ge(i.sign*r.sign,s.layer+1,s.sign*s.mag)}if(i.layer===2&&r.layer===2){const s=ge(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(ge(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return ge(i.sign*r.sign,s.layer+1,s.sign*s.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const n=O(e);return this.mul(n.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?T.dNaN:this.layer===0?ge(this.sign,0,1/this.mag):ge(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const n=O(e);return this.sign>n.sign?1:this.sign<n.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const n=O(e),i=this.mag>0?this.layer:-this.layer,r=n.mag>0?n.layer:-n.layer;return i>r?1:i<r?-1:this.mag>n.mag?1:this.mag<n.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const n=O(e);return this.sign===n.sign&&this.layer===n.layer&&this.mag===n.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const n=O(e);return this.lt(n)?n:this}min(e){const n=O(e);return this.gt(n)?n:this}maxabs(e){const n=O(e);return this.cmpabs(n)<0?n:this}minabs(e){const n=O(e);return this.cmpabs(n)>0?n:this}clamp(e,n){return this.max(e).min(n)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)?0:this.cmp(i)}compare_tolerance(e,n){return this.cmp_tolerance(e,n)}eq_tolerance(e,n){const i=O(e);if(n==null&&(n=1e-7),this.sign!==i.sign||Math.abs(this.layer-i.layer)>1)return!1;let r=this.mag,s=i.mag;return this.layer>i.layer&&(s=bi(s)),this.layer<i.layer&&(r=bi(r)),Math.abs(r-s)<=n*Math.max(Math.abs(r),Math.abs(s))}equals_tolerance(e,n){return this.eq_tolerance(e,n)}neq_tolerance(e,n){return!this.eq_tolerance(e,n)}notEquals_tolerance(e,n){return this.neq_tolerance(e,n)}lt_tolerance(e,n){const i=O(e);return!this.eq_tolerance(i,n)&&this.lt(i)}lte_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)||this.lt(i)}gt_tolerance(e,n){const i=O(e);return!this.eq_tolerance(i,n)&&this.gt(i)}gte_tolerance(e,n){const i=O(e);return this.eq_tolerance(i,n)||this.gt(i)}pLog10(){return this.lt(T.dZero)?T.dZero:this.log10()}absLog10(){return this.sign===0?T.dNaN:this.layer>0?ge(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):ge(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?T.dNaN:this.layer>0?ge(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):ge(this.sign,0,Math.log10(this.mag))}log(e){return e=O(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?T.dNaN:this.layer===0&&e.layer===0?ge(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):T.div(this.log10(),e.log10())}log2(){return this.sign<=0?T.dNaN:this.layer===0?ge(this.sign,0,Math.log2(this.mag)):this.layer===1?ge(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?ge(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):ge(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?T.dNaN:this.layer===0?ge(this.sign,0,Math.log(this.mag)):this.layer===1?ge(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?ge(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):ge(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const n=O(e),i=this,r=n;if(i.sign===0)return r.eq(0)?we(1,0,1):i;if(i.sign===1&&i.layer===0&&i.mag===1)return i;if(r.sign===0)return we(1,0,1);if(r.sign===1&&r.layer===0&&r.mag===1)return i;const s=i.absLog10().mul(r).pow10();return this.sign===-1?Math.abs(r.toNumber()%2)%2===1?s.neg():Math.abs(r.toNumber()%2)%2===0?s:T.dNaN:s}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return T.dNaN;let e=this;if(e.layer===0){const n=Math.pow(10,e.sign*e.mag);if(Number.isFinite(n)&&Math.abs(n)>=.1)return ge(1,0,n);if(e.sign===0)return T.dOne;e=we(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?ge(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?ge(-e.sign,e.layer+1,-e.mag):T.dOne}pow_base(e){return O(e).pow(this)}root(e){const n=O(e);return this.pow(n.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?T.exp(T.mul(this,T.ln(this).sub(1))):T.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(we(1,0,24)))return T.fromNumber(uo(this.sign*this.mag));const e=this.mag-1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let r=e,s=12*r,l=1/s,m=n+l;if(m===n||(n=m,r=r*i,s=360*r,l=1/s,m=n-l,m===n))return T.exp(n);n=m,r=r*i,s=1260*r;let c=1/s;return n=n+c,r=r*i,s=1680*r,c=1/s,n=n-c,T.exp(n)}else return this.layer===1?T.exp(T.mul(this,T.ln(this).sub(1))):T.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?T.dOne:this.layer===0&&this.mag<=709.7?T.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?ge(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?ge(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):ge(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return T.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return ge(1,2,Math.log10(this.mag)-.3010299956639812);{const e=T.div(we(this.sign,this.layer-1,this.mag),we(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,n=we(1,0,1)){if(e===1)return T.pow(this,n);if(e===0)return new T(n);if(this.eq(T.dOne))return T.dOne;if(this.eq(-1))return T.pow(this,n);if(e===Number.POSITIVE_INFINITY){const s=this.toNumber();if(s<=1.444667861009766&&s>=.06598803584531254){if(s>1.444667861009099)return T.fromNumber(Math.E);const l=T.ln(this).neg();return l.lambertw().div(l)}else return s>1.444667861009766?T.fromNumber(Number.POSITIVE_INFINITY):T.dNaN}if(this.eq(T.dZero)){let s=Math.abs((e+1)%2);return s>1&&(s=2-s),T.fromNumber(s)}if(e<0)return T.iteratedlog(n,this,-e);n=O(n);const i=e;e=Math.trunc(e);const r=i-e;if(this.gt(T.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let s=0;s<e;++s){const l=n;if(n=this.pow(n),l.eq(n))return n}if(r!=0){const s=this.pow(n);return n.mul(1-r).add(s.mul(r))}return n}r!==0&&(n.eq(T.dOne)?this.gt(10)?n=this.pow(r):(n=T.fromNumber(T.tetrate_critical(this.toNumber(),r)),this.lt(2)&&(n=n.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?n=n.layeradd10(r):n=n.layeradd(r,this));for(let s=0;s<e;++s){if(n=this.pow(n),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(n.layer-this.layer>3)return we(n.sign,n.layer+(e-s-1),n.mag);if(s>1e4)return n}return n}iteratedexp(e=2,n=we(1,0,1)){return this.tetrate(e,n)}iteratedlog(e=10,n=1){if(n<0)return T.tetrate(e,-n,this);e=O(e);let i=T.fromDecimal(this);const r=n;n=Math.trunc(n);const s=r-n;if(i.layer-e.layer>3){const l=Math.min(n,i.layer-e.layer-3);n-=l,i.layer-=l}for(let l=0;l<n;++l){if(i=i.log(e),!isFinite(i.layer)||!isFinite(i.mag))return i.normalize();if(l>1e4)return i}return s>0&&s<1&&(e.eq(10)?i=i.layeradd10(-s):i=i.layeradd(-s,e)),i}slog(e=10,n=100){let i=.001,r=!1,s=!1,l=this.slog_internal(e).toNumber();for(let m=1;m<n;++m){const d=new T(e).tetrate(l).gt(this);if(m>1&&s!=d&&(r=!0),s=d,r?i/=2:i*=2,i=Math.abs(i)*(d?-1:1),l+=i,i===0)break}return T.fromNumber(l)}slog_internal(e=10){if(e=O(e),e.lte(T.dZero)||e.eq(T.dOne))return T.dNaN;if(e.lt(T.dOne))return this.eq(T.dOne)?T.dZero:this.eq(T.dZero)?T.dNegOne:T.dNaN;if(this.mag<0||this.eq(T.dZero))return T.dNegOne;let n=0,i=T.fromDecimal(this);if(i.layer-e.layer>3){const r=i.layer-e.layer-3;n+=r,i.layer-=r}for(let r=0;r<100;++r)if(i.lt(T.dZero))i=T.pow(e,i),n-=1;else{if(i.lte(T.dOne))return T.fromNumber(n+T.slog_critical(e.toNumber(),i.toNumber()));n+=1,i=T.log(i,e)}return T.fromNumber(n)}static slog_critical(e,n){return e>10?n-1:T.critical_section(e,n,lo)}static tetrate_critical(e,n){return T.critical_section(e,n,ao)}static critical_section(e,n,i){n*=10,n<0&&(n=0),n>10&&(n=10),e<2&&(e=2),e>10&&(e=10);let r=0,s=0;for(let m=0;m<an.length;++m)if(an[m]==e){r=i[m][Math.floor(n)],s=i[m][Math.ceil(n)];break}else if(an[m]<e&&an[m+1]>e){const c=(e-an[m])/(an[m+1]-an[m]);r=i[m][Math.floor(n)]*(1-c)+i[m+1][Math.floor(n)]*c,s=i[m][Math.ceil(n)]*(1-c)+i[m+1][Math.ceil(n)]*c;break}const l=n-Math.floor(n);return r<=0||s<=0?r*(1-l)+s*l:Math.pow(e,Math.log(r)/Math.log(e)*(1-l)+Math.log(s)/Math.log(e)*l)}layeradd10(e){e=T.fromValue_noAlloc(e).toNumber();const n=T.fromDecimal(this);if(e>=1){n.mag<0&&n.layer>0?(n.sign=0,n.mag=0,n.layer=0):n.sign===-1&&n.layer==0&&(n.sign=1,n.mag=-n.mag);const i=Math.trunc(e);e-=i,n.layer+=i}if(e<=-1){const i=Math.trunc(e);if(e-=i,n.layer+=i,n.layer<0)for(let r=0;r<100;++r){if(n.layer++,n.mag=Math.log10(n.mag),!isFinite(n.mag))return n.sign===0&&(n.sign=1),n.layer<0&&(n.layer=0),n.normalize();if(n.layer>=0)break}}for(;n.layer<0;)n.layer++,n.mag=Math.log10(n.mag);return n.sign===0&&(n.sign=1,n.mag===0&&n.layer>=1&&(n.layer-=1,n.mag=1)),n.normalize(),e!==0?n.layeradd(e,10):n}layeradd(e,n){const r=this.slog(n).toNumber()+e;return r>=0?T.tetrate(n,r):Number.isFinite(r)?r>=-1?T.log(T.tetrate(n,r+1),n):T.log(T.log(T.tetrate(n,r+2),n),n):T.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return T.fromNumber(sr(this.toNumber()));if(this.layer===0)return T.fromNumber(sr(this.sign*this.mag));if(this.layer===1)return or(this);if(this.layer===2)return or(this);if(this.layer>=3)return we(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return we(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,n=we(1,0,1)){n=O(n);const i=e;e=Math.trunc(e);const r=i-e;r!==0&&(n.eq(T.dOne)?(++e,n=T.fromNumber(r)):this.eq(10)?n=n.layeradd10(r):n=n.layeradd(r,this));for(let s=0;s<e;++s){if(n=this.tetrate(n.toNumber()),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(s>10)return n}return n}sin(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.sin(this.sign*this.mag)):we(0,0,0)}cos(){return this.mag<0?T.dOne:this.layer===0?T.fromNumber(Math.cos(this.sign*this.mag)):we(0,0,0)}tan(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.tan(this.sign*this.mag)):we(0,0,0)}asin(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.asin(this.sign*this.mag)):we(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?T.fromNumber(Math.acos(this.toNumber())):this.layer===0?T.fromNumber(Math.acos(this.sign*this.mag)):we(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?T.fromNumber(Math.atan(this.sign*this.mag)):T.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return T.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return T.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?we(Number.NaN,Number.NaN,Number.NaN):T.ln(this.add(1).div(T.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(T.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let o=T;o.fromStringCache=new Zs(so);o.dZero=we(0,0,0);o.dOne=we(1,0,1);o.dNegOne=we(-1,0,1);o.dTwo=we(1,0,2);o.dTen=we(1,0,10);o.dNaN=we(Number.NaN,Number.NaN,Number.NaN);o.dInf=we(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);o.dNegInf=we(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);o.dNumberMax=ge(1,0,Number.MAX_VALUE);o.dNumberMin=ge(1,0,Number.MIN_VALUE);O=o.fromValue_noAlloc;ge=o.fromComponents;we=o.fromComponents_noNormalize;o.fromMantissaExponent;o.fromMantissaExponent_noNormalize;const co={variables:{"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"15px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1,mergeAdjacent:!1,showPin:!0};var Pi=(e=>(e.Classic="classic",e))(Pi||{}),In={classic:co};const ut=br();"fonts"in document&&(document.fonts.onloadingdone=()=>ut.emit("fontsLoaded"));var mo=Object.freeze(Object.defineProperty({__proto__:null,globalBus:ut},Symbol.toStringTag,{value:"Module"})),Le=(e=>(e.standard="standard",e.thousands="thousands",e.engineering="engineering",e.scientific="scientific",e))(Le||{});function _r(e={}){return Object.assign({id:`${he.id}-0`,name:"Default Save",tabs:he.initialTabs.slice(),time:Date.now(),autosave:!0,timePlayed:0,keepGoing:!1,modID:he.id,modVersion:he.versionNumber,layers:{}},e)}const po=de(!1);function Ct(e){var i;if(t(po))return(i=localStorage.getItem((e!=null?e:be).id))!=null?i:"";const n=Kt.compressToUTF16($i(e!=null?e:be));return localStorage.setItem((e!=null?e:be).id,n),n}async function fo(){bo();try{let e=localStorage.getItem(Ie.active);if(e==null){await cn(_n());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Kt.decompressFromUTF16(e);else throw"Unable to determine save encoding";const n=JSON.parse(e);if(n.modID!==he.id){await cn(_n());return}n.id=Ie.active,await cn(n)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await cn(_n())}}function _n(){const e=ri(),n=_r({id:e});return Ct(n),Ie.saves.push(e),n}function ri(){let e,n=0;do e=`${he.id}-${n++}`;while(localStorage.getItem(e)!=null);return e}const Ti=de(!1);async function cn(e){console.info("Loading save",e),Ti.value=!0;const{layers:n,removeLayer:i,addLayer:r}=await Rn(()=>Promise.resolve().then(function(){return Ml}),void 0),{fixOldSave:s,getInitialLayers:l}=await Rn(()=>Promise.resolve().then(function(){return Fp}),void 0);for(const m in n){const c=n[m];c&&i(c)}l(e).forEach(m=>r(m,e)),e=_r(e),e.time=Date.now(),e.modVersion!==he.versionNumber&&(s(e.modVersion,e),e.modVersion=he.versionNumber),Object.assign(be,e),Ie.active=be.id,ut.emit("onLoad")}setInterval(()=>{be.autosave&&Ct()},1e3);window.onbeforeunload=()=>{be.autosave&&Ct()};window.save=Ct;const go=window.hardReset=async()=>{await cn(_n())};window.deleteLowerSaves=()=>{const e=Object.values(Ie.saves).indexOf(be.id)+1;Object.values(Ie.saves).slice(e).forEach(n=>localStorage.removeItem(n)),Ie.saves=Ie.saves.slice(0,e)};const On=qn({active:"",saves:[],showTPS:!0,theme:Pi.Classic,unthrottled:!1,alignUnits:!1,numberFormat:Le.scientific,backupNumberFormat:Le.scientific});wt(On,e=>{const n=Kt.compressToUTF16(JSON.stringify(e));localStorage.setItem(he.id,n)},{deep:!0});var Ie=window.settings=On;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Pi.Classic,alignUnits:!1,numberFormat:Le.scientific,backupNumberFormat:Le.scientific};ut.emit("loadSettings",e),Object.assign(On,e),go()};function bo(){try{let e=localStorage.getItem(he.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Kt.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const n=JSON.parse(e);typeof n=="object"&&Object.assign(On,n)}ut.emit("loadSettings",On)}catch{}}const wr=qn([]);function kr(e){wr.push(e)}const Sr=qn([]);function ho(e){Sr.push(e)}const vo=qn([]),yo=o.pow10(1e3),xi=new o(.001),Jn=o.pow10(1e4),_o=o.pow10(Number.MAX_SAFE_INTEGER),wo=new o("eeee1000");var Ai=(e=>(e.decimal="decimal",e.total="total",e))(Ai||{});function D(e,n=he.defaultDigitsShown,i=he.defaultShowSmall,r=Ie.numberFormat){if(e=new o(e),o.isNaN(e))return"NaN";if(e.sign<0)return`-${D(e.negate(),n,i,r)}`;if(!o.isFinite(e))return"Infinity";if(e.gte(wo))return Cr(e);if(e.gte(_o))return wn(e,n);if(e.eq(o.dZero))return 0 .toFixed(n);if(e.lt(xi)&&i)return e=Mr(e),e.gte(yo)?`${D(e,n)}\u207B\xB9`:wn(e,n).replace(/([^(?:e|F)]*)$/,"-$1");if(e.gte(1e9))switch(r){case Le.standard:return Nr(e,Ie.backupNumberFormat,n+1,"total",e.gte(Jn));case Le.thousands:return Bi(e,n+1,"total",e.gte(Jn));case Le.engineering:return Ei(e,n+1,"total",e.gte(Jn));case Le.scientific:return wn(e,n,"decimal",e.gte(Jn))}if(e.gte(1e3))switch(r){case Le.standard:case Le.thousands:case Le.engineering:return Dn(e,n,"total");case Le.scientific:return Dn(e,n,"decimal")}return on(e,n)}function Z(e,n=he.defaultShowSmall,i=Ie.numberFormat){if(e=new o(e),e.gte(1e9)||e.lte(.98)&&e.neq(0)&&n)return D(e,void 0,n,i);switch(i){case Le.standard:case Le.thousands:return e.gte(1e4)?D(e,void 0,n,i):D(e,0,n,Le.scientific);default:return D(e,0,n,i)}}function Cr(e){e=new o(e);const n=e.slog();if(n.gte(1e6))return`F${D(n.floor())}`;const i=n.sub(n.floor()).pow10(),r=n.floor();return`${i.toStringWithDecimalPlaces(3)}F${Dn(r,0)}`}function Nr(e,n=Ie.backupNumberFormat,i=he.defaultDigitsShown+1,r="total",s=!1){i<3&&(i=3);const[l,m]=ko(e,i);if(typeof m=="string"){if(s)return`1 ${m}`;switch(r){case"decimal":return`${on(l,i)} ${m}`;case"total":return`${l.toPrecision(i)} ${m}`}}if(m.eq(0))switch(r){case"decimal":return on(l,i);case"total":return l.toPrecision(i)}switch(n){case Le.thousands:return Bi(e,i,void 0,s);case Le.engineering:return Ei(e,i,void 0,s);case Le.scientific:return wn(e,i-1,void 0,s)}}function ko(e,n=he.defaultDigitsShown+1){let[r,s]=qr(e,n);if(s.gt(1e3))return[r,s];if(s.eq(0))return[r,s];if(s.eq(1))return[r,"K"];if(s.eq(2))return[r,"M"];if(s.eq(3))return[r,"B"];const l=s.minus(1).toNumber(),m=l%10,c=Math.trunc(l%100/10),d=Math.trunc(l%1e3/100);return[r,[Fi(m),So(c,m),Co(d)].join("")]}function Fi(e){switch(e){default:return"";case 1:return"U";case 2:return"D";case 3:return"T";case 4:return"Qa";case 5:return"Qi";case 6:return"Sx";case 7:return"Sp";case 8:return"Oc";case 9:return"No"}}function So(e,n){return e===0?"":e===1?n===0?"Dc":"D":e===2?"Vg":`${Fi(e)}g`}function Co(e){return e===0?"":e===1?"C":`${Fi(e)}C`}function Bi(e,n=he.defaultDigitsShown+1,i="total",r=!1){n<3&&(n=3);const[s,l]=qr(e,n,i);if(l.eq(0))switch(i){case"decimal":return on(s);case"total":return s.toPrecision(n)}if(r)return`t${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${on(s)}t${l.toStringWithDecimalPlaces(0)}`;case"total":return`${s.toPrecision(n)}t${l.toStringWithDecimalPlaces(0)}`}}function qr(e,n=he.defaultDigitsShown+1,i="total"){let[r,s]=Ir(e,n,i);return[r,s.div(3)]}function Ei(e,n=he.defaultDigitsShown+1,i="total",r=!1){n<3&&(n=3);const[s,l]=Ir(e,n,i);if(l.eq(0))switch(i){case"decimal":return on(s);case"total":return s.toPrecision(n)}if(r)return`e${l.toStringWithDecimalPlaces(0)}`;switch(i){case"decimal":return`${s.toStringWithDecimalPlaces(n)}e${l.toStringWithDecimalPlaces(0)}`;case"total":return`${s.toPrecision(n)}e${l.toStringWithDecimalPlaces(0)}`}}function Ir(e,n=he.defaultDigitsShown+1,i="total"){let[r,s]=$r(e,n,i);if(s.gte(Number.MAX_SAFE_INTEGER))return[r,s];const l=s.toNumber()%3;return[o.pow10(l).times(r),s.minus(l)]}const No=wn;function wn(e,n=he.defaultDigitsShown,i="decimal",r=!1){let[s,l]=$r(e,n,i);const m=l.gte(1e9)?D(l,Math.max(n,3,he.defaultDigitsShown)):l.gte(1e4)?Dn(l,0):l.toStringWithDecimalPlaces(0);return r?`e${m}`:`${(()=>{switch(i){case"decimal":return on(s);case"total":return s.toPrecision(n)}})()}e${m}`}function $r(e,n=he.defaultDigitsShown,i="decimal"){let r=o.log10(e).floor(),s=o.div(e,r.pow10());return(()=>{switch(i){case"decimal":return s.toStringWithDecimalPlaces(n);case"total":return s.toPrecision(n)}})()==="10"&&(s=o.dOne,r=r.plus(1)),[s,r]}function Dn(e,n=he.defaultDigitsShown,i="decimal"){if(e=new o(e),e.lt(xi))return 0 .toFixed(n);const s=(()=>{switch(i){case"decimal":return e.toStringWithDecimalPlaces(n);case"total":return e.toStringWithDecimalPlaces(Math.max(n-e.log10().floor().toNumber(),0))}})().split(".");return s[0]=s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),s.join(".")}function on(e,n=he.defaultDigitsShown){return e=new o(e),e.lt(xi)?0 .toFixed(n):(e.lt(.1)&&n>0&&(n=Math.max(n,e.log10().negate().ceil().toNumber(),he.defaultDigitsShown)),e.toStringWithDecimalPlaces(n))}const wi=60,qo=60,Io=24,$o=365,ki=wi*qo,Si=ki*Io,hi=Si*$o;function Ri(e){if(e=new o(e),e.lt(0))return`-${Ri(e.negate())}`;if(e.gt(Number.MAX_SAFE_INTEGER))return`${D(e.div(hi))}y`;e=e.toNumber();const n=Math.floor(e/hi);e-=n*hi;const i=Math.floor(e/Si);e-=i*Si;const r=Math.floor(e/ki);e-=r*ki;const s=Math.floor(e/wi);e-=s*wi;const l=e.toPrecision(2),m=String(i).padStart(3),c=String(r).padStart(2),d=String(s).padStart(2),f=l.padStart(2);return n>0?`${n}y ${m}d ${c}h`:i>0?`${m}d ${c}h ${d}m`:r>0?`${c}h ${d}m ${f}s`:s>0?`${d}m ${f}s`:`${f}s`}function Mo(e,n,i){e=new o(e);let r=e.toStringWithDecimalPlaces(n);return o.gte(r,i)&&(r=o.minus(i,Math.pow(.1,n)).toStringWithDecimalPlaces(n)),r}function vt(e,n=he.defaultDigitsShown,i=Ie.numberFormat){return D(e,n,!0,i)}function Mr(e){const n=o.log10(e).ceil(),i=o.divide(e,n.pow10());return n.negate().pow10().times(i)}var Po=Object.freeze(Object.defineProperty({__proto__:null,default:o,PrecisionType:Ai,format:D,formatWhole:Z,slogFormat:Cr,standardNotation:Nr,thousandsNotation:Bi,engineeringNotation:Ei,exponentialFormat:No,scientificNotation:wn,commaFormat:Dn,regularFormat:on,formatTime:Ri,toPlaces:Mo,formatSmall:vt,invertOOM:Mr},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:To,commaFormat:xo,regularFormat:Ao,format:li,formatWhole:mn,formatTime:Oi,toPlaces:Fo,formatSmall:mi,invertOOM:Bo}=Po;window.Decimal=o;window.exponentialFormat=(e,n,i)=>To(e,n,Ai.decimal,!i);window.commaFormat=xo;window.regularFormat=Ao;window.format=li;window.formatWhole=mn;window.formatTime=Oi;window.toPlaces=Fo;window.formatSmall=mi;window.invertOOM=Bo;function Pr(e){let n=e.replace(/([A-Z])/g," $1");return n=n.charAt(0).toUpperCase()+n.slice(1),n}function Eo(e){return(e[0]+e.slice(1).replace(/[A-Z]/g,n=>`-${n}`)).toLowerCase()}function Ln(e){return typeof e=="function"}var Oe=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(Oe||{});const jn=Symbol("DoNotCache");function U(e,n){const i=e[n];Ln(i)&&i.length===0&&!i[jn]?e[n]=y(i.bind(e)):Ln(i)&&(e[n]=i.bind(e),e[n][jn]=!0)}function ct(e){return Ln(e)&&!e[jn]&&(e=y(e)),e}const lt=Symbol("Component"),gt=Symbol("GatherProps");let Ro=0;function Et(e="feature-"){return e+Ro++}var $e=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))($e||{});function ve(e){const n=t(e);return n!==2&&n!==!1}function Vt(e){return t(e)===1}function q(e){return e[jn]=!0,e}function xe(e,n,i){e[n]===void 0&&i!=null&&(e[n]=i)}function Tr(e,...n){const i=[],r=s=>{Object.keys(s).forEach(l=>{const m=s[l];m!=null&&typeof m=="object"&&(n.includes(m.type)?i.push(m):!(m instanceof o)&&!De(m)&&r(m))})};return r(e),i}var Ke=window.state=ci({lastTenTicks:[],hasNaN:!1,NaNPath:[],errors:qn([])});const Oo={class:"table"},Nn=ie({__name:"Column",setup(e){const n=y(()=>In[Ie.theme].mergeAdjacent);return(i,r)=>(I(),A("div",Oo,[$("div",{class:Pe(["col",{mergeAdjacent:t(n)}])},[jt(i.$slots,"default")],2)]))}}),Do={class:"table"},$n=ie({__name:"Row",setup(e){const n=y(()=>In[Ie.theme].mergeAdjacent);return(i,r)=>(I(),A("div",Do,[$("div",{class:Pe(["row",{mergeAdjacent:t(n)}])},[jt(i.$slots,"default")],2)]))}});function Di(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fr(e)}function oe(e,n="span"){return typeof e=="function"?ie({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${n}>${e}</${n}>`),ie({template:e})):ie({render:()=>({})}):e}function te(e){if(bt(e))return typeof e=="function"?e():oe(e);const n=e[lt];return a(n,e[gt](),null)}function nn(...e){let n;return a($n,null,Di(n=e.map(te))?n:{default:()=>[n]})}function vi(...e){let n;return a(Nn,null,Di(n=e.map(te))?n:{default:()=>[n]})}function Ft(e){if(bt(e))return typeof e=="function"?e():typeof e=="string"?a(g,null,[e]):a(e,null,null);const n=e[lt];return a(n,e[gt](),null)}function Lo(...e){let n;return a($n,null,Di(n=e.map(Ft))?n:{default:()=>[n]})}function Ci(e,n){return e.reduce((i,r)=>a(g,null,[i,n,r]))}function bt(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[jn]===!0}function xr(e,n){const i=de(null),r=de(void 0);function s(c){i.value||(i.value=setInterval(m,250)),r.value=c}function l(){i.value&&(clearInterval(i.value),i.value=null)}function m(){n&&n.value?n.value():e&&e.value&&e.value(r.value)}return pr(l),{start:s,stop:l,handleHolding:m}}function Li(e,n="div"){const i=ft();return kt(()=>{i.value=oe(ke(e),n)}),i}function Gn(e,n="div"){const i=ft(null);return kt(()=>{const r=ke(e);i.value=r==""||r==null?null:oe(r,n)}),i}function ke(e){return t(t(e))}function ee(...e){return e.includes(Object)||e.push(Object),e}function jo(e){return Object.keys(e).reduce((n,i)=>(n[Eo(i)]=e[i],n),{})}const Vo=ie({__name:"Context",emits:["updateNodes"],setup(e,{emit:n}){var b;const i=de({}),r=new ResizeObserver(c),s=de(null);zn(()=>{const p=s.value;p!=null&&r.observe(p)});let l=!0,m=de((b=s.value)==null?void 0:b.getBoundingClientRect());function c(){l&&(l=!1,sn(()=>{var p;m.value=(p=s.value)==null?void 0:p.getBoundingClientRect(),Object.values(i.value).filter(w=>w).forEach(w=>w.rect=w.element.getBoundingClientRect()),n("updateNodes",i.value),l=!0}))}ut.on("fontsLoaded",c);const d={attributes:!1,childList:!0,subtree:!1};Zn(ji,(p,w)=>{const C=new MutationObserver(()=>f(p));C.observe(w,d),i.value[p]={element:w,observer:C,rect:w.getBoundingClientRect()},c()}),Zn(Vi,p=>{var w;(w=i.value[p])==null||w.observer.disconnect(),i.value[p]=void 0,c()}),Zn(Ui,i),Zn(zi,m);function f(p){const w=i.value[p];w!=null&&(w.rect=w.element.getBoundingClientRect(),n("updateNodes",i.value))}return(p,w)=>(I(),A(g,null,[jt(p.$slots,"default",{},void 0,!0),$("div",{ref_key:"resizeListener",ref:s,class:"resize-listener"},null,512)],64))}});var Ar=fe(Vo,[["__scopeId","data-v-2b1dc1bc"]]);const Uo=["onPointerdown"],zo={class:"modal-wrapper"},Go={class:"modal-container"},Ho={class:"modal-header"},Wo={class:"modal-body"},Yo={class:"modal-footer"},Xo=$("div",{class:"modal-default-flex-grow"},null,-1),fn=ie({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const s=et(e),l=y(()=>t(s.modelValue)||c.value);function m(){i("update:modelValue",!1)}const c=de(!1),d=de(null),f=y(()=>{var b,p;return(p=(b=d.value)==null?void 0:b.nodes)!=null?p:null});return n({isOpen:l,nodes:f}),(b,p)=>(I(),ne(Zr,{to:"#modal-root"},[a(gr,{name:"modal",onBeforeEnter:p[0]||(p[0]=w=>c.value=!0),onAfterLeave:p[1]||(p[1]=w=>c.value=!1)},{default:me(()=>[Ii($("div",qt({class:"modal-mask",onPointerdown:En(m,["self"])},b.$attrs),[$("div",zo,[$("div",Go,[$("div",Ho,[jt(b.$slots,"header",{shown:t(l)},()=>[u(" default header ")])]),$("div",Wo,[a(Ar,{ref_key:"contextRef",ref:d},{default:me(()=>[jt(b.$slots,"body",{shown:t(l)},()=>[u(" default body ")])]),_:3},512)]),$("div",Yo,[jt(b.$slots,"footer",{shown:t(l)},()=>[$("div",{class:"modal-default-footer"},[Xo,$("button",{class:"button modal-default-button",onClick:m}," Close ")])])])])])],16,Uo),[[Qr,e.modelValue]])]),_:3})]))}}),Fr=o.ln(10);function si(e){return e}function xn(e,...n){const i=n.find(r=>G(r));return i==null?(console.error("Could not invert due to no input being a variable"),0):i.invert(e)}function Ko(e,n){return G(n)?n.invert(o.neg(e)):(console.error("Could not invert due to no input being a variable"),0)}function Qo(e,n){return G(n)?n.isIntegrable()?v.neg(n.getIntegralFormula(e)):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function Zo(e){return v.neg(e)}function Jo(e,n,i){return G(n)?n.invert(o.sub(e,Qe(i))):G(i)?i.invert(o.sub(e,Qe(n))):(console.error("Could not invert due to no input being a variable"),0)}function ea(e,n,i){var r,s;if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=n.getIntegralFormula(e);return v.times(i,(r=n.innermostVariable)!=null?r:0).add(l)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=i.getIntegralFormula(e);return v.times(n,(s=i.innermostVariable)!=null?s:0).add(l)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ta(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.add(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.add(r,n)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function na(e,n,i){return G(n)?n.invert(o.add(e,Qe(i))):G(i)?i.invert(o.sub(Qe(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ia(e,n,i){var r,s;if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=n.getIntegralFormula(e);return v.sub(l,v.times(i,(r=n.innermostVariable)!=null?r:0))}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const l=i.getIntegralFormula(e);return v.times(n,(s=i.innermostVariable)!=null?s:0).sub(l)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ra(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.sub(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.sub(r,n)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function sa(e,n,i){return G(n)?n.invert(o.div(e,Qe(i))):G(i)?i.invert(o.div(e,Qe(n))):(console.error("Could not invert due to no input being a variable"),0)}function oa(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.times(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.times(r,n)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function aa(e,n,i){return G(n)?v.div(e,i):G(i)?v.div(e,n):(console.error("Could not apply substitution due to no input being a variable"),v.constant(0))}function la(e,n,i){return G(n)?n.invert(o.mul(e,Qe(i))):G(i)?i.invert(o.div(Qe(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function ua(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.div(r,i)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.div(n,r)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ca(e,n,i){return G(n)?v.mul(e,i):G(i)?v.mul(e,n):(console.error("Could not apply substitution due to no input being a variable"),v.constant(0))}function da(e,n){return G(n)?n.invert(o.recip(e)):(console.error("Could not invert due to no input being a variable"),0)}function ma(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.ln(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function pa(e,n){return G(n)?n.invert(o.pow10(e)):(console.error("Could not invert due to no input being a variable"),0)}function fa(e){return o.ln(e).sub(1).times(e).div(Fr)}function ga(e,n){if(G(n)){const i=Fr.times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function ba(e,n){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e)],evaluate:fa,invert:ga}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function ha(e,n,i){return G(n)?n.invert(o.pow(Qe(i),e)):G(i)?i.invert(o.root(Qe(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function va(e,n){return o.ln(e).sub(1).times(e).div(o.ln(n))}function ya(e,n,i){if(G(n)){const r=o.ln(Qe(i)).times(e);return n.invert(r.div(r.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function _a(e,n,i){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e),i],evaluate:va,invert:ya}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function wa(e,n){return G(n)?n.invert(o.pow(2,e)):(console.error("Could not invert due to no input being a variable"),0)}function ka(e){return o.ln(e).sub(1).times(e).div(o.ln(2))}function Sa(e,n){if(G(n)){const i=o.ln(2).times(e);return n.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ca(e,n){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e)],evaluate:ka,invert:Sa}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function Na(e,n){return G(n)?n.invert(o.exp(e)):(console.error("Could not invert due to no input being a variable"),0)}function qa(e){return o.ln(e).sub(1).times(e)}function Ia(e,n){return G(n)?n.invert(o.div(e,o.div(e,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function $a(e,n){return G(n)?n.isIntegrable()?new v({inputs:[n.getIntegralFormula(e)],evaluate:qa,invert:Ia}):(console.error("Could not integrate due to variable not being integrable"),v.constant(0)):(console.error("Could not integrate due to no input being a variable"),v.constant(0))}function Ma(e,n,i){return G(n)?n.invert(o.root(e,Qe(i))):G(i)?i.invert(o.ln(e).div(o.ln(Qe(n)))):(console.error("Could not invert due to no input being a variable"),0)}function Pa(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e),s=v.add(i,1);return v.pow(r,s).div(s)}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e);return v.pow(n,r).div(v.ln(n))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ta(e,n){return G(n)?n.invert(o.root(e,10)):(console.error("Could not invert due to no input being a variable"),0)}function xa(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.pow10(i).div(v.ln(10))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Aa(e,n,i){return G(n)?n.invert(o.ln(e).div(o.ln(Qe(i)))):G(i)?i.invert(o.root(Qe(n),e)):(console.error("Could not invert due to no input being a variable"),0)}function Fa(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.pow(i,r).div(v.ln(i))}else if(G(i)){if(!i.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=i.getIntegralFormula(e),s=v.add(n,1);return v.pow(r,s).div(s)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ba(e,n,i){return G(n)?n.invert(o.root(e,o.recip(Qe(i)))):G(i)?i.invert(o.ln(Qe(n)).div(o.ln(e))):(console.error("Could not invert due to no input being a variable"),0)}function Ea(e,n,i){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const r=n.getIntegralFormula(e);return v.pow(r,v.recip(i).add(1)).times(i).div(v.add(i,1))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ra(e,n){return G(n)?n.invert(o.ln(e)):(console.error("Could not invert due to no input being a variable"),0)}function Oa(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.exp(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Da(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const r=o.minabs(n,1e308).toNumber();return o.tetrate(e,r,i)}function La(e,n,i,r){return G(n)?n.invert(o.ssqrt(e)):(console.error("Could not invert due to no input being a variable"),0)}function ja(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){const r=o.minabs(n,1e308).toNumber();return o.iteratedexp(e,r,new o(i))}function Va(e,n,i,r){return G(n)?n.invert(o.iteratedlog(e,Math.E,o.minabs(1e308,Qe(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Ua(e,n=10,i=2){const r=o.minabs(i,1e308).toNumber();return o.iteratedlog(e,n,r)}function za(e,n=10){const i=o.minabs(n,1e308).toNumber();return o.slog(e,i)}function Ga(e,n,i){return G(n)?n.invert(o.tetrate(e,o.minabs(1e308,Qe(i)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Ha(e,n,i){const r=o.minabs(n,1e308).toNumber();return o.layeradd(e,r,i)}function Wa(e,n,i,r){return G(n)?n.invert(o.layeradd(e,o.minabs(1e308,Qe(i)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Ya(e,n){return G(n)?n.invert(o.pow(Math.E,e).times(e)):(console.error("Could not invert due to no input being a variable"),0)}function Xa(e,n){return G(n)?n.invert(o.tetrate(e,2)):(console.error("Could not invert due to no input being a variable"),0)}function Ka(e,n,i){const r=o.minabs(n,1e308).toNumber();return o.pentate(e,r,i)}function Qa(e,n){return G(n)?n.invert(o.asin(e)):(console.error("Could not invert due to no input being a variable"),0)}function Za(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cos(i).neg()}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Ja(e,n){return G(n)?n.invert(o.acos(e)):(console.error("Could not invert due to no input being a variable"),0)}function el(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.sin(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function tl(e,n){return G(n)?n.invert(o.atan(e)):(console.error("Could not invert due to no input being a variable"),0)}function nl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cos(i).ln().neg()}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function il(e,n){return G(n)?n.invert(o.sin(e)):(console.error("Could not invert due to no input being a variable"),0)}function rl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.asin(i).times(i).add(v.sqrt(v.sub(1,v.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function sl(e,n){return G(n)?n.invert(o.cos(e)):(console.error("Could not invert due to no input being a variable"),0)}function ol(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.acos(i).times(i).sub(v.sqrt(v.sub(1,v.pow(i,2))))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function al(e,n){return G(n)?n.invert(o.tan(e)):(console.error("Could not invert due to no input being a variable"),0)}function ll(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.atan(i).times(i).sub(v.ln(v.pow(i,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function ul(e,n){return G(n)?n.invert(o.asinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function cl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cosh(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function dl(e,n){return G(n)?n.invert(o.acosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function ml(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.sinh(i)}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function pl(e,n){return G(n)?n.invert(o.atanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function fl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.cosh(i).ln()}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function gl(e,n){return G(n)?n.invert(o.sinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function bl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.asinh(i).times(i).sub(v.pow(i,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function hl(e,n){return G(n)?n.invert(o.cosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function vl(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.acosh(i).times(i).sub(v.add(i,1).sqrt().times(v.sub(i,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function yl(e,n){return G(n)?n.invert(o.tanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function _l(e,n){if(G(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),v.constant(0);const i=n.getIntegralFormula(e);return v.atanh(i).times(i).add(v.sub(1,v.pow(i,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),v.constant(0)}function Mn(e){return(n,i)=>new v({inputs:[n,i],evaluate:e,invert:si})}function G(e){return e instanceof Ye&&e.hasVariable()}function Qe(e,n){return e instanceof Ye?e.evaluate(n):t(e)}function wl(){return v.pow(this,2).div(2)}function kl(){return this}const Je=class{constructor(e){this.negate=this.neg,this.negated=this.neg,this.sgn=this.sign,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mul,this.times=this.mul,this.divide=this.div,this.divideBy=this.div,this.dividedBy=this.div,this.reciprocal=this.recip,this.reciprocate=this.recip,this.logarithm=this.log;let n;"inputs"in e&&(e.inputs=e.inputs.map(i=>typeof i=="object"&&zt in i?i[zt]:i)),"variable"in e?(typeof e.variable=="object"&&zt in e.variable&&(e.variable=e.variable[zt]),n=this.setupVariable(e)):"evaluate"in e?n=this.setupFormula(e):n=this.setupConstant(e),this.inputs=n.inputs,this.internalVariables=n.internalVariables,this.innermostVariable=n.innermostVariable,this.internalEvaluate=n.internalEvaluate,this.internalInvert=n.internalInvert,this.internalIntegrate=n.internalIntegrate,this.internalIntegrateInner=n.internalIntegrateInner,this.applySubstitution=n.applySubstitution}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:wl,internalIntegrateInner:kl,applySubstitution:si}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){var w,C;const{inputs:n,evaluate:i,invert:r,integrate:s,integrateInner:l,applySubstitution:m}=e,c=n.reduce((S,k)=>S+(k instanceof Je?k.internalVariables:0),0),d=n.find(S=>S instanceof Je&&S.hasVariable()),f=c===1?d==null?void 0:d.innermostVariable:void 0,b=(w=d==null?void 0:d.isInvertible())!=null?w:!1,p=(C=d==null?void 0:d.isIntegrable())!=null?C:!1;return{inputs:n,internalEvaluate:i,internalInvert:b?r:void 0,internalIntegrate:p?s:void 0,internalIntegrateInner:l,applySubstitution:m,innermostVariable:f,internalVariables:c}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var n,i,r;return(r=(i=(n=this.internalEvaluate)==null?void 0:n.call(this,...this.inputs.map(s=>Qe(s,e))))!=null?i:this.hasVariable()?e:null)!=null?r:Qe(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((n,i)=>n instanceof Je&&e.inputs[i]instanceof Je?n.equals(e.inputs[i]):!(n instanceof Je)&&!(e.inputs[i]instanceof Je)&&o.eq(t(n),t(e.inputs[i])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new v({inputs:[e]})}static variable(e){return new v({variable:e})}static step(e,n,i){const r=i(v.variable(0)),s=ct(n);function l(c){return o.lt(c,t(s))?c:o.add(r.evaluate(o.sub(c,t(s))),t(s))}function m(c,d){return G(d)&&r.isInvertible()?(o.gt(c,t(s))&&(c=o.add(r.invert(o.sub(c,t(s))),t(s))),d.invert(c)):(console.error("Could not invert due to no input being a variable"),0)}return new v({inputs:[e],evaluate:l,invert:r.isInvertible()&&r.hasVariable()?m:void 0})}static if(e,n,i,r){const s=de(0),l=v.variable(s),m=i(l),c=r==null?void 0:r(l),d=ct(n);function f(p){return t(d)?(s.value=p,m.evaluate()):c?(s.value=p,c.evaluate()):p}function b(p,w){return!G(w)||!m.isInvertible()||c!=null&&!c.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):t(d)?w.invert(m.invert(p)):c?w.invert(c.invert(p)):w.invert(p)}return new v({inputs:[e],evaluate:f,invert:m.isInvertible()&&m.hasVariable()?b:void 0})}static conditional(e,n,i,r){return v.if(e,n,i,r)}static abs(e){return new v({inputs:[e],evaluate:o.abs})}static neg(e){return new v({inputs:[e],evaluate:o.neg,invert:Ko,applySubstitution:Zo,integrate:Qo})}static sign(e){return new v({inputs:[e],evaluate:o.sign})}static round(e){return new v({inputs:[e],evaluate:o.round,invert:xn})}static floor(e){return new v({inputs:[e],evaluate:o.floor,invert:xn})}static ceil(e){return new v({inputs:[e],evaluate:o.ceil,invert:xn})}static trunc(e){return new v({inputs:[e],evaluate:o.trunc,invert:xn})}static add(e,n){return new v({inputs:[e,n],evaluate:o.add,invert:Jo,integrate:ea,integrateInner:ta,applySubstitution:si})}static sub(e,n){return new v({inputs:[e,n],evaluate:o.sub,invert:na,integrate:ia,integrateInner:ra,applySubstitution:si})}static mul(e,n){return new v({inputs:[e,n],evaluate:o.mul,invert:sa,integrate:oa,applySubstitution:aa})}static div(e,n){return new v({inputs:[e,n],evaluate:o.div,invert:la,integrate:ua,applySubstitution:ca})}static recip(e){return new v({inputs:[e],evaluate:o.recip,invert:da,integrate:ma})}static clamp(e,n,i){return new v({inputs:[e,n,i],evaluate:o.clamp,invert:xn})}static pLog10(e){return new v({inputs:[e],evaluate:o.pLog10})}static absLog10(e){return new v({inputs:[e],evaluate:o.absLog10})}static log10(e){return new v({inputs:[e],evaluate:o.log10,invert:pa,integrate:ba})}static log(e,n){return new v({inputs:[e,n],evaluate:o.log,invert:ha,integrate:_a})}static log2(e){return new v({inputs:[e],evaluate:o.log2,invert:wa,integrate:Ca})}static ln(e){return new v({inputs:[e],evaluate:o.ln,invert:Na,integrate:$a})}static pow(e,n){return new v({inputs:[e,n],evaluate:o.pow,invert:Ma,integrate:Pa})}static pow10(e){return new v({inputs:[e],evaluate:o.pow10,invert:Ta,integrate:xa})}static pow_base(e,n){return new v({inputs:[e,n],evaluate:o.pow_base,invert:Aa,integrate:Fa})}static root(e,n){return new v({inputs:[e,n],evaluate:o.root,invert:Ba,integrate:Ea})}static factorial(e){return new v({inputs:[e],evaluate:o.factorial})}static gamma(e){return new v({inputs:[e],evaluate:o.gamma})}static lngamma(e){return new v({inputs:[e],evaluate:o.lngamma})}static exp(e){return new v({inputs:[e],evaluate:o.exp,invert:Ra,integrate:Oa})}static sqr(e){return v.pow(e,2)}static sqrt(e){return v.root(e,2)}static cube(e){return v.pow(e,3)}static cbrt(e){return v.root(e,3)}static tetrate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new v({inputs:[e,n,i],evaluate:Da,invert:La})}static iteratedexp(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new v({inputs:[e,n,i],evaluate:ja,invert:Va})}static iteratedlog(e,n=10,i=1){return new v({inputs:[e,n,i],evaluate:Ua})}static slog(e,n=10){return new v({inputs:[e,n],evaluate:za,invert:Ga})}static layeradd10(e,n){return new v({inputs:[e,n],evaluate:o.layeradd10})}static layeradd(e,n,i=10){return new v({inputs:[e,n,i],evaluate:Ha,invert:Wa})}static lambertw(e){return new v({inputs:[e],evaluate:o.lambertw,invert:Ya})}static ssqrt(e){return new v({inputs:[e],evaluate:o.ssqrt,invert:Xa})}static pentate(e,n=2,i=o.fromComponents_noNormalize(1,0,1)){return new v({inputs:[e,n,i],evaluate:Ka})}static sin(e){return new v({inputs:[e],evaluate:o.sin,invert:il,integrate:Za})}static cos(e){return new v({inputs:[e],evaluate:o.cos,invert:sl,integrate:el})}static tan(e){return new v({inputs:[e],evaluate:o.tan,invert:al,integrate:nl})}static asin(e){return new v({inputs:[e],evaluate:o.asin,invert:Qa,integrate:rl})}static acos(e){return new v({inputs:[e],evaluate:o.acos,invert:Ja,integrate:ol})}static atan(e){return new v({inputs:[e],evaluate:o.atan,invert:tl,integrate:ll})}static sinh(e){return new v({inputs:[e],evaluate:o.sinh,invert:gl,integrate:cl})}static cosh(e){return new v({inputs:[e],evaluate:o.cosh,invert:hl,integrate:ml})}static tanh(e){return new v({inputs:[e],evaluate:o.tanh,invert:yl,integrate:fl})}static asinh(e){return new v({inputs:[e],evaluate:o.asinh,invert:ul,integrate:bl})}static acosh(e){return new v({inputs:[e],evaluate:o.acosh,invert:dl,integrate:vl})}static atanh(e){return new v({inputs:[e],evaluate:o.atanh,invert:pl,integrate:_l})}step(e,n){return v.step(this,e,n)}if(e,n,i){return v.if(this,e,n,i)}conditional(e,n,i){return v.if(this,e,n,i)}abs(){return v.abs(this)}neg(){return v.neg(this)}sign(){return v.sign(this)}round(){return v.round(this)}floor(){return v.floor(this)}ceil(){return v.ceil(this)}trunc(){return v.trunc(this)}add(e){return v.add(this,e)}sub(e){return v.sub(this,e)}mul(e){return v.mul(this,e)}div(e){return v.div(this,e)}recip(){return v.recip(this)}max(e){return v.max(this,e)}min(e){return v.min(this,e)}maxabs(e){return v.maxabs(this,e)}minabs(e){return v.minabs(this,e)}clamp(e,n){return v.clamp(this,e,n)}clampMin(e){return v.clampMin(this,e)}clampMax(e){return v.clampMax(this,e)}pLog10(){return v.pLog10(this)}absLog10(){return v.absLog10(this)}log10(){return v.log10(this)}log(e){return v.log(this,e)}log2(){return v.log2(this)}ln(){return v.ln(this)}pow(e){return v.pow(this,e)}pow10(){return v.pow10(this)}pow_base(e){return v.pow_base(this,e)}root(e){return v.root(this,e)}factorial(){return v.factorial(this)}gamma(){return v.gamma(this)}lngamma(){return v.lngamma(this)}exp(){return v.exp(this)}sqr(){return v.pow(this,2)}sqrt(){return v.root(this,2)}cube(){return v.pow(this,3)}cbrt(){return v.root(this,3)}tetrate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return v.tetrate(this,e,n)}iteratedexp(e=2,n=o.fromComponents_noNormalize(1,0,1)){return v.iteratedexp(this,e,n)}iteratedlog(e=10,n=1){return v.iteratedlog(this,e,n)}slog(e=10){return v.slog(this,e)}layeradd10(e){return v.layeradd10(this,e)}layeradd(e,n){return v.layeradd(this,e,n)}lambertw(){return v.lambertw(this)}ssqrt(){return v.ssqrt(this)}pentate(e=2,n=o.fromComponents_noNormalize(1,0,1)){return v.pentate(this,e,n)}sin(){return v.sin(this)}cos(){return v.cos(this)}tan(){return v.tan(this)}asin(){return v.asin(this)}acos(){return v.acos(this)}atan(){return v.atan(this)}sinh(){return v.sinh(this)}cosh(){return v.cosh(this)}tanh(){return v.tanh(this)}asinh(){return v.asinh(this)}acosh(){return v.acosh(this)}atanh(){return v.atanh(this)}};let Ye=Je;Ye.negate=Je.neg;Ye.negated=Je.neg;Ye.sgn=Je.sign;Ye.plus=Je.add;Ye.subtract=Je.sub;Ye.minus=Je.sub;Ye.multiply=Je.mul;Ye.times=Je.mul;Ye.divide=Je.div;Ye.divideBy=Je.div;Ye.dividedBy=Je.div;Ye.reciprocal=Je.recip;Ye.reciprocate=Je.recip;Ye.max=Mn(o.max);Ye.min=Mn(o.min);Ye.minabs=Mn(o.minabs);Ye.maxabs=Mn(o.maxabs);Ye.clampMin=Mn(o.clampMin);Ye.clampMax=Mn(o.clampMax);Ye.logarithm=Je.log;class v extends Ye{invert(n){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,n,...this.inputs):this.inputs.length===1&&this.hasVariable()?n:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(n){return this.isIntegrable()?this.getIntegralFormula().evaluate(n):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(n){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(n)}calculateConstantOfIntegration(){const n=this.getIntegralFormula().evaluate(1),i=o.add(this.evaluate(0),this.evaluate(1)).div(2);return o.sub(i,n)}getIntegralFormula(n){if(this.integralFormula!=null&&n==null)return this.integralFormula;if(n==null){if(this.applySubstitution==null){if(n=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),v.constant(0);let i=this.internalIntegrate.call(this,n,...this.inputs);n.forEach(r=>i=r(i)),this.integralFormula=i}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),v.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),v.constant(0)):(n.push(i=>this.applySubstitution.call(this,i,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,n,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,n,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),v.constant(0)))}}function Sl(e,n,i=!0,r,s=o.dInf){const l=ct(i),m=ct(r),c=ct(s);return y(()=>{var w,C,S,k;const d=t(c);if(o.eq(d,1))return o.gte(n.value,e.evaluate())?o.dOne:o.dZero;const f=t(l),b=(w=t(m))!=null?w:f?10:0;let p=0;if(o.gt(d,b)){if(!e.isInvertible())return console.error("Cannot calculate max affordable of non-invertible formula with more maxBulkAmount than directSum"),0;if(f){if(!e.isIntegralInvertible())return console.error("Cannot calculate max affordable of formula with non-invertible integral"),0;p=o.floor(e.invertIntegral(o.add(n.value,e.evaluateIntegral()))).sub((C=t(e.innermostVariable))!=null?C:0)}else p=o.floor(e.invert(n.value))}if(p=o.clampMax(p,d),b>0){const B=p;p=o.sub(p,b).clampMin(0);let R;for(f?R=Gt(e,p,!0,0):R=e.evaluate(o.add((S=t(e.innermostVariable))!=null?S:0,p));o.lt(p,d)&&o.lt(p,Number.MAX_SAFE_INTEGER)&&o.add(B,1).gte(p);){const E=e.evaluate(p.add((k=t(e.innermostVariable))!=null?k:0));if(o.add(R,E).lte(n.value))p=p.add(1),R=o.add(R,E);else break}}return p})}function Gt(e,n,i=!0,r){var d;if(o.eq(n,1))return e.evaluate();const s=(d=t(e.innermostVariable))!=null?d:0;let l=o.add(n,s);const m=l;r!=null||(r=i?10:0),l=l.sub(r).clampMin(s);let c=0;if(o.gt(n,r)){if(!e.isInvertible())return console.error("Cannot calculate cost with indirect sum of non-invertible formula"),0;if(i){if(!e.isIntegrable())return console.error("Cannot calculate cost with cumulative cost of non-integrable formula"),0;if(c=o.sub(e.evaluateIntegral(l),e.evaluateIntegral()),m.gt(1e308))return o.add(c,o.sub(m,l).times(e.evaluate(l)))}else if(c=e.evaluate(l),l=l.add(1),m.gt(1e308))return o.sub(m,l).add(1).times(c)}for(let f=l.toNumber();f<m.toNumber();f++)c=o.add(c,e.evaluate(f));return c}const rn=Symbol("PersistentState"),Ut=Symbol("DefaultValue"),ui=Symbol("StackTrace"),Ni=Symbol("Deleted"),zt=Symbol("NonPersistent"),dn=Symbol("SaveDataPath"),Lt=Symbol("SkipPersistence");function Cl(){var e,n;return(n=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(i=>i.trim()).join(`
`))!=null?n:""}function ar(e,n){var i;o.isNaN(n)&&(Ke.hasNaN||(be.autosave=!1,Ke.hasNaN=!0,Ke.NaNPath=e[dn],Ke.NaNPersistent=e),console.error(`Attempted to save NaN value to ${(i=e[dn])==null?void 0:i.join(".")}`)),e[rn].value=n}function qe(e,n=!0){const i=De(e)?e:de(e);De(e)&&(e=e.value);const r=y({get(){return i.value},set(l){n?ar(s,l):s[rn].value=l}});r[Ut]=e;const s={get value(){return i.value},set value(l){n?ar(s,l):s[rn].value=l},__v_isRef:!0,[rn]:i,[Ut]:e,[ui]:Cl(),[Ni]:!1,[zt]:r,[dn]:void 0};return Rt.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",s,`
Created at:
`+s[ui]):kn[Rt[Rt.length-1]].add(s),s}function Nl(e){return e!=null&&typeof e=="object"&&rn in e}function x(e){return!(en in e)&&zt in e?e[zt]:new Proxy(e,{get(n,i){if(i!==rn)return i===Lt?!0:n[i]},set(n,i,r){return n[i]=r,!0},has(n,i){return i===rn?!1:i==Lt?!0:Reflect.has(n,i)}})}ut.on("addLayer",(e,n)=>{const i=[],r=(s,l=[])=>{let m=!1;return Object.keys(s).forEach(c=>{let d=s[c];if(d!=null&&typeof d=="object"){if(d[Lt]===!0)return;if(en in d&&(d=d[en]),Nl(d)){if(m=!0,d[Ni]){console.warn("Deleted persistent ref present in returned object. Ignoring...",d,`
Created at:
`+d[ui]);return}kn[e.id].delete(d);const f=[e.id,...l,c];d[dn]!=null&&JSON.stringify(f)!==JSON.stringify(d[dn])&&console.error(`Persistent ref is being saved to \`${f.join(".")}\` when it's already present at \`${d[dn].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),d[dn]=f;const b=l.reduce((w,C)=>(C in w||(w[C]={}),w[C]),n),p=b[c];b[c]=d[rn],Jr(b)?p!=null?b[c]=p:b[c]=d[Ut]:p!=null?b[c].value=p:b[c].value=d[Ut]}else!(d instanceof o)&&!(d instanceof v)&&!De(d)&&!i.includes(d)&&(typeof d.type=="symbol"&&i.push(d),r(d,[...l,c])&&(Wt(d)&&!Wt(s)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",en in s?s[en]:s,c):m=!0))}}),m};r(e[en]),kn[e.id].forEach(s=>{s[Ni]||console.error(`Created persistent ref in ${e.id} without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+s[ui])}),kn[e.id].clear()});const en=Symbol("ProxyState");function ze(e,n={}){const i=n;let r=!1,s=!1;function l(){return r||(s&&console.error("Cyclical dependency detected. Cannot evaluate lazy proxy."),s=!0,Object.assign(i,e.call(i,i)),r=!0),i}return new Proxy(i,{get(m,c){if(c===en)return l();const d=l()[c];return d!=null&&typeof d=="object"&&zt in d?d[zt]:d},set(m,c,d){return l()[c]=d,!0},has(m,c){return c===en?!0:Reflect.has(l(),c)},ownKeys(){return Reflect.ownKeys(l())},getOwnPropertyDescriptor(m,c){return r||(Object.assign(i,e.call(i,i)),r=!0),Object.getOwnPropertyDescriptor(m,c)}})}const ji=Symbol("RegisterNode"),Vi=Symbol("UnregisterNode"),Ui=Symbol("Nodes"),zi=Symbol("Bounds"),pt=ci({});window.layers=pt;const kn={},Rt=[];function Ze(e,n){return ze(()=>{const i={},r=i.emitter=br();if(i.on=r.on.bind(r),i.emit=r.emit.bind(r),i.nodes=de({}),i.id=e,Rt.push(e),kn[e]=new Set,Object.assign(i,n.call(i,i)),Rt[Rt.length-1]==null||Rt[Rt.length-1]!==e)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${Rt}
Trying to pop ${i.id}`);Rt.pop(),U(i,"color"),U(i,"display"),U(i,"classes"),U(i,"style"),U(i,"name"),xe(i,"name",i.id),U(i,"minWidth"),xe(i,"minWidth",600);const s=i.style;return i.style=y(()=>{var m;let l=t(i.minWidth);return(typeof l=="number"||!Number.isNaN(parseInt(l)))&&(l=l+"px"),[(m=t(s))!=null?m:"",{flexGrow:"",flexShrink:"",width:"",minWidth:l,flexBasis:l,margin:""}]}),i})}function Br(e,n){if(console.info("Adding layer",e.id),pt[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,pt[e.id]);return}xe(n,"layers",{}),n.layers[e.id]==null&&(n.layers[e.id]={}),pt[e.id]=e,ut.emit("addLayer",e,n.layers[e.id])}function ql(e){return pt[e]}function Er(e){console.info("Removing layer",e.id),ut.emit("removeLayer",e),pt[e.id]=void 0}function Il(e){Er(e),Br(e,be)}function $l(e){const n=de(!1);return{openModal:()=>n.value=!0,modal:q(()=>a(fn,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i},{header:()=>a("h2",null,[t(e.name)]),body:t(e.display)}))}}ut.on("update",function(n){Object.values(pt).forEach(i=>{i==null||i.emit("preUpdate",n)}),Object.values(pt).forEach(i=>{i==null||i.emit("update",n)}),Object.values(pt).forEach(i=>{i==null||i.emit("postUpdate",n)})});var Ml=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:ji,UnregisterNodeInjectionKey:Vi,NodesInjectionKey:Ui,BoundsInjectionKey:zi,layers:pt,persistentRefs:kn,addingLayers:Rt,createLayer:Ze,addLayer:Br,getLayer:ql,removeLayer:Er,reloadLayer:Il,setupLayerModal:$l},Symbol.toStringTag,{value:"Module"}));const Pl=ie({components:{Context:Ar,ErrorVue:vr},props:{index:{type:Number,required:!0},display:{type:ee(Object,String,Function),required:!0},name:{type:ee(String),required:!0},color:ee(String),nodes:{type:Object,required:!0}},emits:["setMinimized"],setup(e){const{display:n,index:i}=et(e),r=Li(n),s=y(()=>he.allowGoBack&&i.value>0);function l(){be.tabs.splice(t(e.index),1/0)}function m(d){e.nodes.value=d}const c=de([]);return es((d,f,b)=>(console.warn(`Error caught in "${e.name}" layer`,d,f,b),c.value.push(d instanceof Error?d:new Error(JSON.stringify(d))),!1)),{component:r,showGoBack:s,updateNodes:m,unref:t,goBack:l,errors:c}}});function Tl(e,n,i,r,s,l){const m=Bt("ErrorVue"),c=Bt("Context");return e.errors.length>0?(I(),ne(m,{key:0,errors:e.errors},null,8,["errors"])):(I(),A("div",qt({key:1,class:"layer-container",style:{"--layer-color":e.unref(e.color)}},e.$attrs),[e.showGoBack?(I(),A("button",{key:0,class:"goBack",onClick:n[0]||(n[0]=(...d)=>e.goBack&&e.goBack(...d))},"\u274C")):(I(),A("div",{key:1,class:Pe(["layer-tab",{showGoBack:e.showGoBack}])},[a(c,{onUpdateNodes:e.updateNodes},{default:me(()=>[(I(),ne(Ce(e.component)))]),_:1},8,["onUpdateNodes"])],2))],16))}var xl=fe(Pl,[["render",Tl],["__scopeId","data-v-5840fa16"]]);const Rr=e=>($t("data-v-5bf27016"),e=e(),Mt(),e),Al=Rr(()=>$("h2",null,"Changelog",-1)),Fl=Rr(()=>$("details",{open:""},[$("summary",null,[u("v1.0 Revitalization - "),$("time",null,"2021-09-04")]),u(" Moved everything over to Profectus "),$("ul",null,[$("li",{class:"feature"},"Did everything"),$("li",{class:"fix"},"Had some fun"),$("li",{class:"breaking"},"Removed everything"),$("li",{class:"balancing"},"Created some bugs to fix later")])],-1)),Bl=ie({__name:"Changelog",setup(e,{expose:n}){const i=de(!1);return n({open(){i.value=!0}}),(r,s)=>(I(),ne(fn,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=l=>i.value=l)},{header:me(()=>[Al]),body:me(()=>[Fl]),_:1},8,["modelValue"]))}});var El=fe(Bl,[["__scopeId","data-v-5bf27016"]]),Rl=ie({props:{element:Object,display:{type:ee(Object,String,Function),required:!0},style:ee(Object,String,Array),classes:ee(Object),direction:ee(String),xoffset:ee(String),yoffset:ee(String),pinned:Object},setup(e){const{element:n,display:i,pinned:r}=et(e),s=de(!1),l=y(()=>(ke(r)||s.value)&&m.value),m=Gn(i),c=ft(oe(q(()=>{const b=ke(n);return b==null?"":Ft(b)})));function d(b){const p=r;b.shiftKey&&p&&(p.value=!p.value,b.stopPropagation(),b.preventDefault())}const f=y(()=>ke(r)&&In[Ie.theme].showPin);return{Direction:Oe,isHovered:s,isShown:l,comp:m,elementComp:c,unref:t,togglePinned:d,showPin:f}}});const Ol={key:0,class:"material-icons pinned"};function Dl(e,n,i,r,s,l){return I(),A("div",{class:Pe(["tooltip-container",{shown:e.isShown}]),onMouseenter:n[0]||(n[0]=m=>e.isHovered=!0),onMouseleave:n[1]||(n[1]=m=>e.isHovered=!1),onClickCapture:n[2]||(n[2]=(...m)=>e.togglePinned&&e.togglePinned(...m))},[jt(e.$slots,"default",{},void 0,!0),e.elementComp?(I(),ne(Ce(e.elementComp),{key:0})):J("",!0),a(gr,{name:"fade"},{default:me(()=>{var m;return[e.isShown?(I(),A("div",{key:0,class:Pe(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:Be([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(m=e.unref(e.style))!=null?m:{}])},[e.showPin?(I(),A("span",Ol,"push_pin")):J("",!0),e.comp?(I(),ne(Ce(e.comp),{key:1})):J("",!0)],6)):J("",!0)]}),_:1})],34)}var tt=fe(Rl,[["render",Dl],["__scopeId","data-v-1fb84868"]]);const gn=e=>($t("data-v-10effbe8"),e=e(),Mt(),e),Ll={class:"info-modal-header"},jl=["src","alt"],Vl={class:"info-modal-title"},Ul={key:0},zl={key:0},Gl={key:0},Hl=gn(()=>$("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),Wl=gn(()=>$("br",null,null,-1)),Yl=gn(()=>$("br",null,null,-1)),Xl=["href"],Kl=gn(()=>$("span",{class:"material-icons info-modal-discord"},"discord",-1)),Ql=gn(()=>$("div",null,[$("a",{href:"https://discord.gg/yJ4fjnjU54",class:"info-modal-discord-link",target:"_blank"},[$("span",{class:"material-icons info-modal-discord"},"discord"),u(" Profectus & Friends ")])],-1)),Zl=gn(()=>$("div",null,[$("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[$("span",{class:"material-icons info-modal-discord"},"discord"),u(" The Modding Tree ")])],-1)),Jl=gn(()=>$("br",null,null,-1));var eu=ie({__name:"Info",props:{changelog:null},setup(e,{expose:n}){const i=e,{title:r,logo:s,author:l,discordName:m,discordLink:c,versionNumber:d,versionTitle:f}=he,b=et(i),p=de(!1),w=y(()=>Oi(be.timePlayed)),C=y(()=>oe(q(()=>a(g,null,[Sr.map(te)]))));n({open(){p.value=!0}});function S(){var k;(k=t(b.changelog))==null||k.open()}return(k,B)=>(I(),ne(fn,{modelValue:p.value,"onUpdate:modelValue":B[0]||(B[0]=R=>p.value=R)},{header:me(()=>[$("div",Ll,[t(s)?(I(),A("img",{key:0,class:"info-modal-logo",src:t(s),alt:t(r)},null,8,jl)):J("",!0),$("div",Vl,[$("h2",null,se(t(r)),1),$("h4",null,[u(" v"+se(t(d)),1),t(f)?(I(),A("span",Ul,": "+se(t(f)),1)):J("",!0)])])])]),body:me(({shown:R})=>[R?(I(),A("div",zl,[t(l)?(I(),A("div",Gl,"By "+se(t(l)),1)):J("",!0),Hl,Wl,$("div",{class:"link",onClick:S},"Changelog"),Yl,$("div",null,[t(c)?(I(),A("a",{key:0,href:t(c),class:"info-modal-discord-link",target:"_blank"},[Kl,u(" "+se(t(m)),1)],8,Xl)):J("",!0)]),Ql,Zl,Jl,$("div",null,"Time Played: "+se(t(w)),1),(I(),ne(Ce(t(C))))])):J("",!0)]),_:1},8,["modelValue"]))}});var tu=fe(eu,[["__scopeId","data-v-10effbe8"]]);const nu={class:"field"},iu={key:0,class:"field-title"},Fn=ie({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){var m;const i=e,r=Gn(Qt(i,"title"),"span"),s=de((m=i.options.find(c=>c.value===i.modelValue))!=null?m:null);wt(Qt(i,"modelValue"),c=>{var d;ke(s)!==c&&(s.value=(d=i.options.find(f=>f.value===c))!=null?d:null)});function l(c){n("update:modelValue",c.value)}return(c,d)=>(I(),A("div",nu,[t(r)?(I(),A("span",iu,[(I(),ne(Ce(t(r))))])):J("",!0),a(t(as),{options:e.options,modelValue:s.value,"onUpdate:modelValue":[d[0]||(d[0]=f=>s.value=f),l],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const ru={class:"field"},su=ie({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,r=y(()=>{var l;return oe((l=t(i.title))!=null?l:"<span></span>","span")}),s=y({get(){return!!i.modelValue},set(l){n("update:modelValue",l)}});return(l,m)=>(I(),A("label",ru,[Ii($("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":m[0]||(m[0]=c=>De(s)?s.value=c:null)},null,512),[[ts,t(s)]]),(I(),ne(Ce(t(r))))]))}});var Dt=fe(su,[["__scopeId","data-v-11046116"]]);const ou={class:"header"},au=$("h2",null,"Settings",-1),lu={class:"option-tabs"},uu={key:0},cu={key:1};var du=ie({__name:"Options",setup(e,{expose:n}){const i=de(!1),r=de("behaviour");function s(P){return P==r.value}function l(P){r.value=P}n({isTab:s,setTab:l,save:Ct,open(){i.value=!0}});const m=Object.keys(In).map(P=>({label:Pr(P),value:P})),c=[{label:"Standard",value:Le.standard},{label:"Thousands",value:Le.thousands},{label:"Engineering",value:Le.engineering},{label:"Scientific",value:Le.scientific}],d=c.filter(P=>P.value!==Le.standard),f=y(()=>oe(q(()=>a(g,null,[wr.map(te)])))),{showTPS:b,theme:p,unthrottled:w,alignUnits:C,numberFormat:S,backupNumberFormat:k}=et(Ie),{autosave:B}=et(be),R=y({get(){return be.devSpeed===0},set(P){be.devSpeed=P?0:null}}),E=q(()=>a("span",{class:"option-title"},[u("Unthrottled"),a("desc",null,[u("Allow the game to run as fast as possible. Not battery friendly.")])])),M=q(()=>a("span",{class:"option-title"},[u("Autosave"),a(tt,{display:"Save-specific",direction:Oe.Right},{default:()=>[u("*")]}),a("desc",null,[u("Automatically save the game every second or when the game is closed.")])])),Q=q(()=>a("span",{class:"option-title"},[u("Pause game"),a(tt,{display:"Save-specific",direction:Oe.Right},{default:()=>[u("*")]}),a("desc",null,[u("Stop everything from moving.")])])),_e=q(()=>a("span",{class:"option-title"},[u("Theme"),a("desc",null,[u("How the game looks.")])])),V=q(()=>a("span",{class:"option-title"},[u("Show TPS"),a("desc",null,[u("Show TPS meter at the bottom-left corner of the page.")])])),H=q(()=>a("span",{class:"option-title"},[u("Align modifier units"),a("desc",null,[u("Align numbers to the beginning of the unit in modifier view.")])])),Ae=q(()=>a("span",{class:"option-title"},[u("Number Notation"),a("desc",null,[u("Change how numbers are formatted for display.")])])),h=q(()=>a("span",{class:"option-title"},[u("Backup Number Notation"),a("desc",null,[u("Change how numbers are formatted beyond the limit of Standard Notation")])]));return(P,W)=>(I(),ne(fn,{modelValue:i.value,"onUpdate:modelValue":W[11]||(W[11]=le=>i.value=le)},{header:me(()=>[$("div",ou,[au,$("div",lu,[$("button",{class:Pe({selected:s("behaviour")}),onClick:W[0]||(W[0]=le=>l("behaviour"))},"Behaviour",2),$("button",{class:Pe({selected:s("appearance")}),onClick:W[1]||(W[1]=le=>l("appearance"))},"Appearance",2)])])]),body:me(()=>[s("behaviour")?(I(),A("div",uu,[a(Dt,{title:t(E),modelValue:t(w),"onUpdate:modelValue":W[2]||(W[2]=le=>De(w)?w.value=le:null)},null,8,["title","modelValue"]),t(he).enablePausing?(I(),ne(Dt,{key:0,title:t(Q),modelValue:t(R),"onUpdate:modelValue":W[3]||(W[3]=le=>De(R)?R.value=le:null)},null,8,["title","modelValue"])):J("",!0),a(Dt,{title:t(M),modelValue:t(B),"onUpdate:modelValue":W[4]||(W[4]=le=>De(B)?B.value=le:null)},null,8,["title","modelValue"]),t(B)?J("",!0):(I(),ne(Mi,{key:1,class:"button save-button",onClick:W[5]||(W[5]=le=>t(Ct)())},{default:me(()=>[u("Manually save")]),_:1}))])):J("",!0),s("appearance")?(I(),A("div",cu,[a(Fn,{title:t(_e),options:t(m),modelValue:t(p),"onUpdate:modelValue":W[6]||(W[6]=le=>De(p)?p.value=le:null)},null,8,["title","options","modelValue"]),a(Fn,{title:t(Ae),options:c,modelValue:t(S),"onUpdate:modelValue":W[7]||(W[7]=le=>De(S)?S.value=le:null)},null,8,["title","modelValue"]),t(S)===t(Le).standard?(I(),ne(Fn,{key:0,title:t(h),options:t(d),modelValue:t(k),"onUpdate:modelValue":W[8]||(W[8]=le=>De(k)?k.value=le:null)},null,8,["title","options","modelValue"])):J("",!0),(I(),ne(Ce(t(f)))),a(Dt,{title:t(V),modelValue:t(b),"onUpdate:modelValue":W[9]||(W[9]=le=>De(b)?b.value=le:null)},null,8,["title","modelValue"]),a(Dt,{title:t(H),modelValue:t(C),"onUpdate:modelValue":W[10]||(W[10]=le=>De(C)?C.value=le:null)},null,8,["title","modelValue"])])):J("",!0)]),_:1},8,["modelValue"]))}});const mu=["onSubmit"],pu={class:"field"},fu={key:0,class:"field-title"},gu=["placeholder"],bu=ie({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean},autofocus:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:n}){var d;const i=e,r=Gn(Qt(i,"title"),"span"),s=ft(null);((d=i.autofocus)==null||d)&&zn(()=>{var f;(f=s.value)==null||f.focus()});const l=y({get(){var f;return(f=t(i.modelValue))!=null?f:""},set(f){n("update:modelValue",f)}});function m(){n("submit")}function c(){i.submitOnBlur!==!1?n("submit"):n("cancel")}return(f,b)=>(I(),A("form",{onSubmit:En(m,["prevent"])},[$("div",pu,[t(r)?(I(),A("span",fu,[(I(),ne(Ce(t(r))))])):J("",!0),e.textArea?(I(),ne(t(us),{key:1,modelValue:t(l),"onUpdate:modelValue":b[0]||(b[0]=p=>De(l)?l.value=p:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:c,ref_key:"field",ref:s},null,8,["modelValue","placeholder","maxHeight"])):Ii((I(),A("input",{key:2,type:"text","onUpdate:modelValue":b[1]||(b[1]=p=>De(l)?l.value=p:null),placeholder:e.placeholder,class:Pe({fullWidth:!e.title}),onBlur:c,ref_key:"field",ref:s},null,42,gu)),[[ns,t(l)]])])],40,mu))}});var Gi=fe(bu,[["__scopeId","data-v-7e1eaf88"]]);const hu={key:0},vu=["onClick","disabled"],yu={key:0},_u=["onClick"],wu=ie({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:n}){const r=et(e),s=de(!1);wt(s,c=>{n("confirmingChanged",c)});function l(){if(t(r.skipConfirm)){n("click");return}s.value&&n("click"),s.value=!s.value}function m(){s.value=!1}return(c,d)=>(I(),A("span",{class:Pe(["container",{confirming:s.value}])},[s.value?(I(),A("span",hu,"Are you sure?")):J("",!0),$("button",{onClick:En(l,["stop"]),class:"button danger",disabled:e.disabled},[s.value?(I(),A("span",yu,"Yes")):jt(c.$slots,"default",{key:1},void 0,!0)],8,vu),s.value?(I(),A("button",{key:1,class:"button",onClick:En(m,["stop"])},"No",8,_u)):J("",!0)],2))}});var ku=fe(wu,[["__scopeId","data-v-2f8ef34c"]]);const Zt=e=>($t("data-v-32313015"),e=e(),Mt(),e),Su=Zt(()=>$("div",{class:"handle material-icons"},"drag_handle",-1)),Cu={key:0,class:"actions"},Nu=Zt(()=>$("span",{class:"material-icons"},"content_paste",-1)),qu=Zt(()=>$("span",{class:"material-icons"},"content_copy",-1)),Iu=Zt(()=>$("span",{class:"material-icons"},"edit",-1)),$u=Zt(()=>$("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),Mu={key:1,class:"actions"},Pu=Zt(()=>$("span",{class:"material-icons"},"check",-1)),Tu=Zt(()=>$("span",{class:"material-icons"},"close",-1)),xu={key:2,class:"details"},Au={class:"save-version"},Fu=Zt(()=>$("br",null,null,-1)),Bu={key:0},Eu={key:3,class:"details"},Ru={key:4,class:"details error"},Ou=Zt(()=>$("br",null,null,-1)),Du=ie({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:n}){const i=e,{save:r}=et(i),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),l=de(!1),m=de(!1),c=de("");wt(l,()=>{var p;return c.value=(p=r.value.name)!=null?p:""});const d=y(()=>r.value!=null&&r.value.id===be.id),f=y(()=>{var p;return d.value?be.time:(p=r.value!=null&&r.value.time)!=null?p:0});function b(){n("editName",c.value),l.value=!1}return(p,w)=>(I(),A("div",{class:Pe(["save",{active:t(d)}])},[Su,l.value?(I(),A("div",Mu,[$("button",{onClick:b,class:"button"},[a(tt,{display:"Save",direction:t(Oe).Left,class:"info"},{default:me(()=>[Pu]),_:1},8,["direction"])]),$("button",{onClick:w[5]||(w[5]=C=>l.value=!l.value),class:"button"},[a(tt,{display:"Cancel",direction:t(Oe).Left,class:"info"},{default:me(()=>[Tu]),_:1},8,["direction"])])])):(I(),A("div",Cu,[t(r).error==null&&!m.value?(I(),ne(Mi,{key:0,onClick:w[0]||(w[0]=C=>n("export")),class:"button",left:""},{default:me(()=>[a(tt,{display:"Export",direction:t(Oe).Left,class:"info"},{default:me(()=>[Nu]),_:1},8,["direction"])]),_:1})):J("",!0),t(r).error==null&&!m.value?(I(),A("button",{key:1,onClick:w[1]||(w[1]=C=>n("duplicate")),class:"button"},[a(tt,{display:"Duplicate",direction:t(Oe).Left,class:"info"},{default:me(()=>[qu]),_:1},8,["direction"])])):J("",!0),t(r).error==null&&!m.value?(I(),A("button",{key:2,onClick:w[2]||(w[2]=C=>l.value=!l.value),class:"button"},[a(tt,{display:"Edit Name",direction:t(Oe).Left,class:"info"},{default:me(()=>[Iu]),_:1},8,["direction"])])):J("",!0),a(ku,{disabled:t(d),onClick:w[3]||(w[3]=C=>n("delete")),onConfirmingChanged:w[4]||(w[4]=C=>m.value=C)},{default:me(()=>[a(tt,{display:"Delete",direction:t(Oe).Left,class:"info"},{default:me(()=>[$u]),_:1},8,["direction"])]),_:1},8,["disabled"])])),t(r).error==null&&!l.value?(I(),A("div",xu,[$("button",{class:"button open",onClick:w[6]||(w[6]=C=>n("open"))},[$("h3",null,se(t(r).name),1)]),$("span",Au,"v"+se(t(r).modVersion),1),Fu,t(f)?(I(),A("div",Bu,"Last played "+se(t(s).format(t(f))),1)):J("",!0)])):t(r).error==null&&l.value?(I(),A("div",Eu,[a(Gi,{modelValue:c.value,"onUpdate:modelValue":w[7]||(w[7]=C=>c.value=C),class:"editname",onSubmit:b},null,8,["modelValue"])])):(I(),A("div",Ru,[u(" Error: Failed to load save with id "+se(t(r).id),1),Ou,u(se(t(r).error),1)]))],2))}});var Lu=fe(Du,[["__scopeId","data-v-32313015"]]);const Hi=e=>($t("data-v-2a4275be"),e=e(),Mt(),e),ju=Hi(()=>$("h2",null,"Saves Manager",-1)),Vu={class:"modal-footer"},Uu={class:"field"},zu=Hi(()=>$("span",{class:"field-title"},"Create Save",-1)),Gu={class:"field-buttons"},Hu={class:"footer"},Wu=Hi(()=>$("div",{style:{"flex-grow":"1"}},null,-1)),Yu=ie({__name:"SavesManager",setup(e,{expose:n}){const i=de(!1),r=de(null);n({open(){i.value=!0}});const s=de(!1),l=de(""),m=de(null);wt(l,E=>{E?sn(()=>{try{if(E[0]!=="{")if(E[0]==="e")E=decodeURIComponent(escape(atob(E)));else if(E[0]==="\u1BE1")E=Kt.decompressFromUTF16(E);else{console.warn("Unable to determine preset encoding",E),s.value=!0;return}const M=JSON.parse(E);if(typeof M!="object"){s.value=!0;return}const Q=ri();M.id=Q,Ct(M),l.value="",s.value=!1,Ie.saves.push(Q)}catch{s.value=!0}}):s.value=!1});let c={},d=de(Object.keys(c).reduce((E,M)=>(E.push({label:M.split("/").slice(-1)[0].slice(0,-4),value:c[M]}),E),[]));const f=ci({});function b(E){if(f[E]==null){let M=localStorage.getItem(E);if(M==null)f[E]={error:"Save doesn't exist in localStorage",id:E};else if(M==="dW5kZWZpbmVk")f[E]={error:"Save is undefined",id:E};else try{if(M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=Kt.decompressFromUTF16(M);else return console.warn("Unable to determine preset encoding",M),s.value=!0,f[E]={error:"Unable to determine preset encoding",id:E},f[E];f[E]={...JSON.parse(M),id:E}}catch(Q){f[E]={error:Q,id:E},console.warn(`SavesManager: Failed to load info about save with id ${E}:
${Q}
${M}`)}}return f[E]}wt(i,E=>{E&&Object.keys(f).forEach(M=>delete f[M])});const p=y(()=>Ie.saves.reduce((E,M)=>(E[M]=b(M),E),{}));function w(E){let M;switch(be.id===E?M=$i(be):M=JSON.stringify(p.value[E]),he.exportEncoding){default:console.warn(`Unknown save encoding: ${he.exportEncoding}. Defaulting to lz`);case"lz":M=Kt.compressToUTF16(M);break;case"base64":M=btoa(unescape(encodeURIComponent(M)));break;case"plain":break}const Q=document.createElement("textarea");Q.value=M,document.body.appendChild(Q),Q.select(),Q.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(Q)}function C(E){be.id===E&&Ct();const M={...p.value[E],id:ri()};Ct(M),Ie.saves.push(M.id)}function S(E){Ie.saves=Ie.saves.filter(M=>M!==E),localStorage.removeItem(E),f[E]=void 0}function k(E){p.value[be.id].time=be.time,Ct(),f[be.id]=void 0,cn(p.value[E]),f[E]=void 0}function B(E){if(m.value=E,sn(()=>{m.value=null}),E[0]!=="{")if(E[0]==="e")E=decodeURIComponent(escape(atob(E)));else if(E[0]==="\u1BE1")E=Kt.decompressFromUTF16(E);else{console.warn("Unable to determine preset encoding",E);return}const M=JSON.parse(E);M.id=ri(),Ct(M),Ie.saves.push(M.id),k(M.id)}function R(E,M){const Q=p.value[E];Q!=null&&(Q.name=M,be.id===E?(be.name=M,Ct()):(Ct(Q),f[E]=void 0))}return(E,M)=>(I(),ne(fn,{modelValue:i.value,"onUpdate:modelValue":M[4]||(M[4]=Q=>i.value=Q),ref_key:"modal",ref:r},{header:me(()=>[ju]),body:me(({shown:Q})=>[Q?(I(),ne(t(ls),{key:0,list:t(Ie).saves,handle:".handle",itemKey:_e=>_e},{item:me(({element:_e})=>[a(Lu,{save:t(p)[_e],onOpen:V=>k(_e),onExport:V=>w(_e),onEditName:V=>R(_e,V),onDuplicate:V=>C(_e),onDelete:V=>S(_e)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):J("",!0)]),footer:me(()=>[$("div",Vu,[a(Gi,{modelValue:l.value,"onUpdate:modelValue":M[0]||(M[0]=Q=>l.value=Q),title:"Import Save",placeholder:"Paste your save here!",class:Pe({importingFailed:s.value})},null,8,["modelValue","class"]),$("div",Uu,[zu,$("div",Gu,[$("button",{class:"button",onClick:M[1]||(M[1]=Q=>k(t(_n)().id))},"New Game"),Object.keys(t(d)).length>0?(I(),ne(Fn,{key:0,options:t(d),modelValue:m.value,"onUpdate:modelValue":M[2]||(M[2]=Q=>B(Q)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):J("",!0)])]),$("div",Hu,[Wu,$("button",{class:"button modal-default-button",onClick:M[3]||(M[3]=Q=>i.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var Or=fe(Yu,[["__scopeId","data-v-2a4275be"]]);const Pt=e=>($t("data-v-48016e86"),e=e(),Mt(),e),Xu=["src","alt"],Ku={key:1,class:"title"},Qu={key:2,class:"devspeed"},Zu={key:3,class:"devspeed"},Ju=Pt(()=>$("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),ec={class:"discord"},tc={class:"discord-links"},nc={key:0},ic=["href"],rc=Pt(()=>$("li",null,[$("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),sc=Pt(()=>$("li",null,[$("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),oc={href:"https://forums.moddingtree.com/",target:"_blank"},ac=Pt(()=>$("span",{class:"material-icons"},"forum",-1)),lc=Pt(()=>$("span",{class:"material-icons"},"info",-1)),uc=Pt(()=>$("span",{class:"material-icons"},"library_books",-1)),cc=Pt(()=>$("span",{class:"material-icons"},"settings",-1)),dc=Pt(()=>$("span",{class:"material-icons"},"library_books",-1)),mc=Pt(()=>$("span",{class:"material-icons"},"settings",-1)),pc=Pt(()=>$("span",{class:"material-icons"},"info",-1)),fc={href:"https://forums.moddingtree.com/",target:"_blank"},gc=Pt(()=>$("span",{class:"material-icons"},"forum",-1)),bc={class:"discord"},hc={class:"discord-links"},vc={key:0},yc=["href"],_c=Pt(()=>$("li",null,[$("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),wc=Pt(()=>$("li",null,[$("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),kc=ie({__name:"Nav",setup(e){const n=de(null),i=de(null),r=de(null),s=de(null),{useHeader:l,banner:m,title:c,discordName:d,discordLink:f,versionNumber:b}=he;function p(){window.open(f,"mywindow")}return(w,C)=>(I(),A(g,null,[t(l)?(I(),A("div",qt({key:0,class:"nav"},w.$attrs),[t(m)?(I(),A("img",{key:0,src:t(m),class:"banner",alt:t(c)},null,8,Xu)):(I(),A("div",Ku,se(t(c)),1)),$("div",{onClick:C[0]||(C[0]=S=>{var k;return(k=s.value)==null?void 0:k.open()}),class:"version-container"},[a(tt,{display:"Changelog",direction:t(Oe).Down,class:"version"},{default:me(()=>[$("span",null,"v"+se(t(b)),1)]),_:1},8,["direction"])]),t(be).devSpeed===0?(I(),A("div",Qu,"Game Paused")):t(be).devSpeed&&t(be).devSpeed!==1?(I(),A("div",Zu,"Dev Speed: "+se(t(D)(t(be).devSpeed))+"x",1)):J("",!0),Ju,$("div",ec,[$("span",{onClick:p,class:"material-icons"},"discord"),$("ul",tc,[t(f)?(I(),A("li",nc,[$("a",{href:t(f),target:"_blank"},se(t(d)),9,ic)])):J("",!0),rc,sc])]),$("div",null,[$("a",oc,[a(tt,{display:"Forums",direction:t(Oe).Down,yoffset:"5px"},{default:me(()=>[ac]),_:1},8,["direction"])])]),$("div",{onClick:C[1]||(C[1]=S=>{var k;return(k=n.value)==null?void 0:k.open()})},[a(tt,{display:"Info",direction:t(Oe).Down,class:"info"},{default:me(()=>[lc]),_:1},8,["direction"])]),$("div",{onClick:C[2]||(C[2]=S=>{var k;return(k=i.value)==null?void 0:k.open()})},[a(tt,{display:"Saves",direction:t(Oe).Down,xoffset:"-20px"},{default:me(()=>[uc]),_:1},8,["direction"])]),$("div",{onClick:C[3]||(C[3]=S=>{var k;return(k=r.value)==null?void 0:k.open()})},[a(tt,{display:"Settings",direction:t(Oe).Down,xoffset:"-66px"},{default:me(()=>[cc]),_:1},8,["direction"])])],16)):(I(),A("div",qt({key:1,class:"overlay-nav"},w.$attrs),[$("div",{onClick:C[4]||(C[4]=S=>{var k;return(k=s.value)==null?void 0:k.open()}),class:"version-container"},[a(tt,{display:"Changelog",direction:t(Oe).Right,xoffset:"25%",class:"version"},{default:me(()=>[$("span",null,"v"+se(t(b)),1)]),_:1},8,["direction"])]),$("div",{onClick:C[5]||(C[5]=S=>{var k;return(k=i.value)==null?void 0:k.open()})},[a(tt,{display:"Saves",direction:t(Oe).Right},{default:me(()=>[dc]),_:1},8,["direction"])]),$("div",{onClick:C[6]||(C[6]=S=>{var k;return(k=r.value)==null?void 0:k.open()})},[a(tt,{display:"Settings",direction:t(Oe).Right},{default:me(()=>[mc]),_:1},8,["direction"])]),$("div",{onClick:C[7]||(C[7]=S=>{var k;return(k=n.value)==null?void 0:k.open()})},[a(tt,{display:"Info",direction:t(Oe).Right},{default:me(()=>[pc]),_:1},8,["direction"])]),$("div",null,[$("a",fc,[a(tt,{display:"Forums",direction:t(Oe).Right,xoffset:"7px"},{default:me(()=>[gc]),_:1},8,["direction"])])]),$("div",bc,[$("span",{onClick:p,class:"material-icons"},"discord"),$("ul",hc,[t(f)?(I(),A("li",vc,[$("a",{href:t(f),target:"_blank"},se(t(d)),9,yc)])):J("",!0),_c,wc])])],16)),a(tu,{ref_key:"info",ref:n,changelog:s.value},null,8,["changelog"]),a(Or,{ref_key:"savesManager",ref:i},null,512),a(du,{ref_key:"options",ref:r},null,512),a(El,{ref_key:"changelog",ref:s},null,512)],64))}});var Dr=fe(kc,[["__scopeId","data-v-48016e86"]]);const Sc=["id"],Cc={class:"inner-tab"},Nc=ie({__name:"Game",setup(e){const n=Qt(be,"tabs"),i=y(()=>Object.keys(pt)),r=he.useHeader;function s(l){const{display:m,name:c,color:d,nodes:f}=l;return{display:m,name:c,color:d,nodes:f}}return(l,m)=>(I(),A("div",{class:Pe(["tabs-container",{useHeader:t(r)}])},[(I(!0),A(g,null,Fe(t(n),(c,d)=>{var f,b;return I(),A("div",{key:d,id:c,class:Pe(["tab",t((f=t(pt)[c])==null?void 0:f.classes)]),style:Be(t((b=t(pt)[c])==null?void 0:b.style))},[d===0&&!t(r)?(I(),ne(Dr,{key:0})):J("",!0),$("div",Cc,[t(i).includes(c)?(I(),ne(xl,qt({key:0},s(t(pt)[c]),{index:d}),null,16,["index"])):(I(),ne(Ce(c),{key:1,index:d},null,8,["index"]))])],14,Sc)}),128))],2))}});var qc=fe(Nc,[["__scopeId","data-v-438bb8c8"]]);const Ic=ie({__name:"Tab",props:{display:null},setup(e){const n=e,{display:i}=et(n),r=Li(i);return(s,l)=>(I(),ne(Ce(t(r))))}}),$c=Symbol("Tab");function Ht(e){return ze(n=>{const i=e.call(n,n);return i.id=Et("tab-"),i.type=$c,i[lt]=Ic,i[gt]=function(){const{display:r}=this;return{display:r}},i})}ut.on("setupVue",e=>e.use(cs));function Wi(e="white",n="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${n} ${e}`,zIndex:1}}function Mc(){return Wi("red","20px")}const Pc=ie({props:{visibility:{type:ee(Number,Boolean),required:!0},display:{type:ee(Object,String,Function),required:!0},style:ee(String,Object,Array),classes:ee(Object),glowColor:ee(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:n}){const{display:i,glowColor:r,floating:s}=et(e),l=Li(i),m=y(()=>{const d=ke(r);return d==null||d===""?{}:t(s)?Wi(d):{boxShadow:`0px 9px 5px -6px ${d}`}});function c(){n("selectTab")}return{selectTab:c,component:l,glowColorStyle:m,unref:t,Visibility:$e,isVisible:ve,isHidden:Vt}}});function Tc(e,n,i,r,s,l){var m;return e.isVisible(e.visibility)?(I(),A("button",{key:0,onClick:n[0]||(n[0]=(...c)=>e.selectTab&&e.selectTab(...c)),class:Pe(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:Be([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.glowColorStyle,(m=e.unref(e.style))!=null?m:{}])},[(I(),ne(Ce(e.component)))],6)):J("",!0)}var Lr=fe(Pc,[["render",Tc],["__scopeId","data-v-21427abb"]]);const xc=ie({__name:"Sticky",props:{style:null},setup(e){const n=de("0"),i=new ResizeObserver(s),r=ft(null);function s(){let l=r.value;if(l==null)return;let m=0;for(;l.previousSibling;){const c=l.previousSibling;c.dataset&&"vSticky"in c.dataset&&(m+=c.offsetHeight),l=c}n.value=m+"px"}return sn(s),document.fonts.ready.then(s),zn(()=>{var m;const l=(m=r.value)==null?void 0:m.parentElement;l&&i.observe(l)}),(l,m)=>{var c;return I(),A("div",{class:"sticky",style:Be([(c=e.style)!=null?c:{},{top:n.value}]),ref_key:"element",ref:r,"data-v-sticky":""},[jt(l.$slots,"default",{},void 0,!0)],4)}}});var jr=fe(xc,[["__scopeId","data-v-4627c2ee"]]);const Ac=ie({props:{visibility:{type:ee(Number,Boolean),required:!0},activeTab:{type:ee(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:ee(Object),required:!0},style:ee(String,Object,Array),classes:ee(Object),buttonContainerStyle:ee(String,Object,Array),buttonContainerClasses:ee(Object)},components:{Sticky:jr,TabButton:Lr},setup(e){const{activeTab:n}=et(e),i=y(()=>In[Ie.theme].floatingTabs),r=ft("");kt(()=>{const c=ke(n);if(c==null){r.value="";return}if(bt(c)){r.value=oe(c);return}r.value=oe(t(c.display))});const s=y(()=>{const c=ke(n);return bt(c)||!c?void 0:t(c.classes)}),l=y(()=>{const c=ke(n);return bt(c)||!c?void 0:t(c.style)});function m(c){const{display:d,style:f,classes:b,glowColor:p,visibility:w}=c;return{display:d,style:t(f),classes:b,glowColor:p,visibility:w}}return{floating:i,tabClasses:s,tabStyle:l,Visibility:$e,component:r,gatherButtonProps:m,unref:t,isVisible:ve,isHidden:Vt}}});function Fc(e,n,i,r,s,l){var d,f;const m=Bt("TabButton"),c=Bt("Sticky");return e.isVisible(e.visibility)?(I(),A("div",{key:0,class:Pe(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:Be([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[],(f=e.tabStyle)!=null?f:[]])},[a(c,{class:Pe(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:Be(e.unref(e.buttonContainerStyle))},{default:me(()=>[$("div",{class:Pe(["tab-buttons",{floating:e.floating}])},[(I(!0),A(g,null,Fe(e.unref(e.tabs),(b,p)=>(I(),ne(m,qt({onSelectTab:w=>e.selected.value=p,floating:e.floating,key:p,active:e.unref(b.tab)===e.unref(e.activeTab)},e.gatherButtonProps(b)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?(I(),ne(Ce(e.unref(e.component)),{key:0})):J("",!0)],6)):J("",!0)}var Bc=fe(Ac,[["render",Fc],["__scopeId","data-v-65b34424"]]);const Ec=Symbol("TabButton"),Rc=Symbol("TabFamily");function Hn(e,n){Object.keys(e).length===0&&console.error("Cannot create tab family with 0 tabs");const i=qe(Object.keys(e)[0],!1);return ze(r=>{var m;const s=(m=n==null?void 0:n.call(r,r))!=null?m:{};s.id=Et("tabFamily-"),s.type=Rc,s[lt]=Bc,s.tabs=Object.keys(e).reduce((c,d)=>{const f=e[d]();return f.type=Ec,f[lt]=Lr,U(f,"visibility"),xe(f,"visibility",$e.Visible),U(f,"tab"),U(f,"display"),U(f,"classes"),U(f,"style"),U(f,"glowColor"),c[d]=f,c},{}),s.selected=i,s.activeTab=y(()=>{const c=t(l.tabs);if(i.value in c&&ve(c[i.value].visibility))return t(c[i.value].tab);const d=Object.values(c).find(f=>ve(f.visibility));return d?t(d.tab):null}),U(s,"visibility"),xe(s,"visibility",$e.Visible),U(s,"classes"),U(s,"style"),U(s,"buttonContainerClasses"),U(s,"buttonContainerStyle"),s[gt]=function(){const{visibility:c,activeTab:d,selected:f,tabs:b,style:p,classes:w,buttonContainerClasses:C,buttonContainerStyle:S}=this;return{visibility:c,activeTab:d,selected:f,tabs:b,style:t(p),classes:w,buttonContainerClasses:C,buttonContainerStyle:S}};const l=s;return l})}function nt(e,n="points",i=0,r=void 0){const s=De(e)?e:qe(e);if(s.displayName=n,s.precision=i,s.small=r,!De(e)){const l=s[zt];l.displayName=n,l.precision=i,l.small=r}return s}function Yi(e){const n=qe(e.value);return wt(e,i=>{Ti.value||o.gt(i,n.value)&&(n.value=i)}),n}function Oc(e){const n=qe(e.value);return wt(e,(i,r)=>{Ti.value||o.gt(i,r)&&(n.value=o.add(n.value,o.sub(i,r)))}),n}new o("10^^8");new o("1e100");function pn(e,n){const i=n!=null?n:e.value;return e.small&&o.lt(i,.98)?li(i,void 0,e.small):o.eq(e.precision,0)?mn(e.small?i:o.floor(i)):li(i,e.precision,e.small)}function Dc(e){return ze(n=>{const{addend:i,description:r,enabled:s,smallerIsBetter:l}=e.call(n,n),m=ct(i),c=ct(r),d=s==null?void 0:ct(s);return{apply:f=>o.add(f,t(m)),invert:f=>o.sub(f,t(m)),getFormula:f=>v.add(f,m),enabled:d,description:r==null?void 0:q(()=>a("div",{class:"modifier-container"},[t(c)!=null?a("span",{class:"modifier-description"},[Ft(t(c))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(m),0):o.lt(t(m),0))?"color: var(--danger)":""},[o.gte(t(m),0)?"+":"",mi(t(m))])]))}})}function K(e){return ze(n=>{const{multiplier:i,description:r,enabled:s,smallerIsBetter:l}=e.call(n,n),m=ct(i),c=ct(r),d=s==null?void 0:ct(s);return{apply:f=>o.times(f,t(m)),invert:f=>o.div(f,t(m)),getFormula:f=>v.times(f,m),enabled:d,description:r==null?void 0:q(()=>a("div",{class:"modifier-container"},[t(c)!=null?a("span",{class:"modifier-description"},[Ft(t(c))]):null,a("span",{class:"modifier-amount",style:(l===!0?o.gt(t(m),1):o.lt(t(m),1))?"color: var(--danger)":""},[u("\xD7"),mi(t(m))])]))}})}function Pn(e){return ze(n=>{const{exponent:i,description:r,enabled:s,supportLowNumbers:l,smallerIsBetter:m}=e.call(n,n),c=ct(i),d=ct(r),f=s==null?void 0:ct(s);return{apply:b=>{let p=b;return l&&(p=o.add(p,1)),p=o.pow(p,t(c)),l&&(p=o.sub(p,1)),p},invert:b=>{let p=b;return l&&(p=o.add(p,1)),p=o.root(p,t(c)),l&&(p=o.sub(p,1)),p},getFormula:b=>l?v.add(b,1).pow(c).sub(1):v.pow(b,c),enabled:f,description:r==null?void 0:q(()=>a("div",{class:"modifier-container"},[t(d)!=null?a("span",{class:"modifier-description"},[Ft(t(d)),l?" (+1 effective)":null]):null,a("span",{class:"modifier-amount",style:(m===!0?o.gt(t(c),1):o.lt(t(c),1))?"color: var(--danger)":""},[u("^"),mi(t(c))])]))}})}function It(e){return ze(()=>{const n=e();return{apply:i=>n.filter(r=>t(r.enabled)!==!1).reduce((r,s)=>s.apply(r),i),invert:n.every(i=>i.invert!=null)?i=>n.filter(r=>t(r.enabled)!==!1).reduceRight((r,s)=>s.invert(r),i):void 0,getFormula:n.every(i=>i.getFormula!=null)?i=>n.filter(r=>t(r.enabled)!==!1).reduce((r,s)=>s.getFormula(r),i):void 0,enabled:n.some(i=>i.enabled!=null)?y(()=>n.filter(i=>t(i.enabled)!==!1).length>0):void 0,description:n.some(i=>i.description!=null)?q(()=>a(g,null,[n.filter(i=>t(i.enabled)!==!1).map(i=>t(i.description)).filter(i=>i).map(Ft)])):void 0}})}const Ne=ie({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(n,i)=>(I(),A("div",{style:Be({width:e.width,height:e.height})},null,4))}});function Tn(e,n){return U(n,"display"),U(n,"classes"),U(n,"style"),U(n,"direction"),xe(n,"direction",Oe.Up),U(n,"xoffset"),U(n,"yoffset"),n.pinnable&&(n.pinned=qe(!1,!1)),sn(()=>{const i=e[lt];e[lt]=tt;const r=e[gt].bind(e);e[gt]=function(){const{display:l,classes:m,style:c,direction:d,xoffset:f,yoffset:b,pinned:p}=this;return{element:{[lt]:i,[gt]:r},display:l,classes:m,style:t(c),direction:d,xoffset:f,yoffset:b,pinned:p}}.bind(n)}),n}const Lc={key:0},jc={key:0,class:"mark star"},Vc=["src"],Uc=ie({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(n,i)=>e.mark?(I(),A("div",Lc,[e.mark===!0?(I(),A("div",jc)):(I(),A("img",{key:1,class:"mark",src:e.mark},null,8,Vc))])):J("",!0)}});var Wn=fe(Uc,[["__scopeId","data-v-2207999f"]]);const zc=ie({__name:"Node",props:{id:null},setup(e){const i=et(e),r=ai(ji,()=>{}),s=ai(Vi,()=>{}),l=ft(null),m=y(()=>l.value&&l.value.parentElement);return wt([m,i.id],([c,d],[f,b])=>{f&&s(t(b)),c&&r(d,c)}),pr(()=>s(t(i.id))),(c,d)=>(I(),A("div",{class:"node",ref_key:"node",ref:l},null,512))}});var bn=fe(zc,[["__scopeId","data-v-a48cb382"]]);function j(e){return ze(n=>{var r;const i=e.call(n,n);return i.partialDisplay=s=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[pn(i.resource,i.cost instanceof v?Gt(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),i.display=s=>a("div",null,[t(i.requiresPay)?"Costs: ":"Requires: ",pn(i.resource,i.cost instanceof v?Gt(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost))," ",i.resource.displayName]),U(i,"visibility"),xe(i,"visibility",$e.Visible),U(i,"cost"),U(i,"requiresPay"),xe(i,"requiresPay",!0),U(i,"cumulativeCost"),xe(i,"cumulativeCost",!0),U(i,"maxBulkAmount"),xe(i,"maxBulkAmount",1),U(i,"directSum"),xe(i,"pay",function(s){const l=i.cost instanceof v?Gt(i.cost,s!=null?s:1,t(i.cumulativeCost),t(i.directSum)):t(i.cost);i.resource.value=o.sub(i.resource.value,l).max(0)}),i.canMaximize=y(()=>{var c;if(!(i.cost instanceof v))return!1;const s=t(i.maxBulkAmount);if(o.lte(s,1))return!1;const l=t(i.cumulativeCost),m=(c=t(i.directSum))!=null?c:l?10:0;return o.lte(s,m)?!0:!(!i.cost.isInvertible()||l===!0&&!i.cost.isIntegrable())}),i.cost instanceof v?i.requirementMet=Sl(i.cost,i.resource,(r=i.cumulativeCost)!=null?r:!0,i.directSum,i.maxBulkAmount):i.requirementMet=y(()=>o.gte(i.resource.value,t(i.cost))?1:0),i})}function Xi(e){return ze(()=>({requirementMet:y(()=>ve(e.visibility)),visibility:$e.None,requiresPay:!1}))}function Ot(e,n){return ze(()=>({requirementMet:ct(e),partialDisplay:n==null?void 0:q(()=>Ft(n)),display:n==null?void 0:q(()=>a(g,null,[u("Req: "),Ft(n)])),visibility:n==null?$e.None:$e.Visible,requiresPay:!1}))}function Nt(e){if(Wt(e))return e.every(Nt);const n=t(e.requirementMet);return typeof n=="boolean"?n:o.gt(n,0)}function Vn(e){if(Wt(e))return e.map(Vn).reduce(o.min);const n=t(e.requirementMet);return typeof n=="boolean"?n?o.dInf:0:o.gt(n,1)&&t(e.canMaximize)!==!0?1:n}function We(e,n=1){var i,r;if(Wt(e)&&(e=e.filter(s=>ve(s.visibility)),e.length===1&&(e=e[0])),Wt(e)){e=e.filter(m=>"partialDisplay"in m);const s=e.filter(m=>t(m.requiresPay)),l=e.filter(m=>!t(m.requiresPay));return a(g,null,[s.length>0?a("div",null,[u("Costs:")," ",Ci(s.map(m=>m.partialDisplay(n)),a(g,null,[u(", ")]))]):null,l.length>0?a("div",null,[u("Requires:")," ",Ci(l.map(m=>m.partialDisplay(n)),a(g,null,[u(", ")]))]):null])}return(r=(i=e.display)==null?void 0:i.call(e))!=null?r:a(g,null,null)}function Bn(e,n=1){var i;Wt(e)?e.filter(r=>t(r.requiresPay)).forEach(r=>{var s;return(s=r.pay)==null?void 0:s.call(r,n)}):t(e.requiresPay)&&((i=e.pay)==null||i.call(e,n))}var Gc=ie({props:{display:{type:ee(String,Object,Function),required:!0},visibility:{type:ee(Number,Boolean),required:!0},style:ee(String,Object,Array),classes:ee(Object),requirements:{type:Object,required:!0},canPurchase:{type:ee(Boolean),required:!0},bought:{type:ee(Boolean),required:!0},mark:ee(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:bn,MarkNode:Wn},setup(e){const{display:n,requirements:i,bought:r}=et(e),s=ft("");return kt(()=>{const l=ke(n);if(l==null){s.value="";return}if(bt(l)){s.value=oe(l);return}const m=oe(l.title||"","h3"),c=oe(l.description,"div"),d=oe(l.effect||"");s.value=oe(q(()=>a("span",null,[l.title!=null?a("div",null,[a(m,null,null)]):null,a(c,null,null),l.effect!=null?a("div",null,[u("Currently: "),a(d,null,null)]):null,r.value?null:a(g,null,[a("br",null,null),We(i.value)])])))}),{component:s,unref:t,Visibility:$e,isVisible:ve,isHidden:Vt}}});const Hc=["disabled"];function Wc(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),A("button",{key:0,style:Be([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:{}]),onClick:n[0]||(n[0]=(...f)=>e.purchase&&e.purchase(...f)),class:Pe({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(I(),ne(Ce(e.unref(e.component)),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],14,Hc)):J("",!0)}var Yc=fe(Gc,[["render",Wc],["__scopeId","data-v-67ed4380"]]);const Xc=Symbol("Upgrade");function ce(e,...n){const i=qe(!1,!1),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return ze(s=>{var d,f;const l=e.call(s,s);l.id=Et("upgrade-"),l.type=Xc,l[lt]=Yc;for(const b of n)(d=b.preConstruct)==null||d.call(b,l);l.bought=i,Object.assign(l,r),l.canPurchase=y(()=>!i.value&&Nt(l.requirements)),l.purchase=function(){var p;const b=l;!t(b.canPurchase)||(Bn(l.requirements),i.value=!0,(p=b.onPurchase)==null||p.call(b))};const m=Xi(l);Wt(l.requirements)?l.requirements.unshift(m):l.requirements=[m,l.requirements],U(l,"visibility"),xe(l,"visibility",$e.Visible),U(l,"classes"),U(l,"style"),U(l,"display"),U(l,"mark");for(const b of n)(f=b.postConstruct)==null||f.call(b,l);const c=n.reduce((b,p)=>{var w;return Object.assign(b,(w=p.getGatheredProps)==null?void 0:w.call(p,l))},{});return l[gt]=function(){const{display:b,visibility:p,style:w,classes:C,requirements:S,canPurchase:k,bought:B,mark:R,id:E,purchase:M}=this;return{display:b,visibility:p,style:t(w),classes:C,requirements:S,canPurchase:k,bought:B,mark:R,id:E,purchase:M,...c}},l})}function rt(e,n=1,i=!1){if(!("effect"in e))throw new TypeError(`Upgrade ${e.id} does not have an effect`);return i||t(e.bought)?t(e.effect):n}function Kc(e){const n=ce(()=>({visibility:e.visibility,requirements:e.requirements,display:e.display.title,onPurchase:e.onPurchase}));return Tn(n,{direction:Oe.Up,display:q(()=>a(g,null,[e.display.description,a(Ne,null,null),We(e.requirements)]))}),n}const Se={postConstruct(e){U(e,"effect")}},Yn=ie({__name:"Resource",props:{resource:null,color:null,tag:null,override:null},setup(e){const n=e,i=y(()=>pn(n.resource,n.override));return(r,s)=>{var l;return I(),ne(Ce((l=e.tag)!=null?l:"h2"),{style:Be({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},{default:me(()=>[u(se(t(i)),1)]),_:1},8,["style"])}}});const Qc={class:"main-display"},Zc={key:0},Jc={key:1},Sn=ie({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,stickyStyle:null,effect:null},setup(e){const i=et(e),r=de(null),s=Gn(i.effect),l=y(()=>o.lt(i.resource.value,"1e1000"));return(m,c)=>(I(),ne(jr,{style:Be(e.stickyStyle)},{default:me(()=>{var d,f,b,p;return[$("div",{class:Pe(["main-display-container",(d=e.classes)!=null?d:{}]),style:Be([{height:`${((b=(f=r.value)==null?void 0:f.$el.clientHeight)!=null?b:0)+50}px`},(p=e.style)!=null?p:{}])},[$("div",Qc,[t(l)?(I(),A("span",Zc,"You have ")):J("",!0),a(Yn,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),u(" "+se(e.resource.displayName),1),t(s)?(I(),A("span",Jc,[u(", "),(I(),ne(Ce(t(s)),{ref_key:"effectRef",ref:r},null,512))])):J("",!0)])],6)]}),_:1},8,["style"]))}});const ed={class:"timecube row"},td=ie({__name:"TimecubeUpgrades",props:{upgrades:null},setup(e){const n=e,i=[];for(let b=0;b<t(n.upgrades).length;b+=5)i.push([]);let r=0;for(const b of t(n.upgrades))i[r].push(b),i[r].length>=5&&r++;const s=i.map(b=>b.map((p,w)=>w===0?!1:y(()=>ve(b[w-1].visibility)))),l=i.map(b=>b.map((p,w)=>w>=b.length-1?!1:y(()=>ve(b[w+1].visibility)))),m=i.map(b=>y(()=>b.filter(p=>ve(p.visibility)).length)),c=i.map((b,p)=>b.map(()=>y(()=>p===0?!1:t(m[p])<=t(m[p-1])))),d=i.map((b,p)=>b.map(()=>y(()=>p>=i.length-1?!1:t(m[p])<=t(m[p+1])))),f=i.map((b,p)=>b.map((w,C)=>y(()=>({upgrade:w,classes:{left:t(s[p][C]),right:t(l[p][C]),top:t(c[p][C]),bottom:t(d[p][C])}}))));return(b,p)=>(I(!0),A(g,null,Fe(t(f),w=>(I(),A("div",ed,[(I(!0),A(g,null,Fe(w,C=>(I(),ne(Ce(t(te)(t(C).upgrade)),{classes:t(C).classes},null,8,["classes"]))),256))]))),256))}});var nd=fe(td,[["__scopeId","data-v-46085314"]]),id=ie({props:{display:{type:ee(Object,String,Function),required:!0},visibility:{type:ee(Number,Boolean),required:!0},style:ee(Object,String,Array),classes:ee(Object),onClick:Function,onHold:Function,canClick:{type:ee(Boolean),required:!0},small:Boolean,mark:ee(Boolean,String),id:{type:String,required:!0}},components:{Node:bn,MarkNode:Wn},setup(e){const{display:n,onClick:i,onHold:r}=et(e),s=ft("");kt(()=>{var b;const c=ke(n);if(c==null){s.value="";return}if(bt(c)){s.value=oe(c);return}const d=oe((b=c.title)!=null?b:"","h3"),f=oe(c.description,"div");s.value=oe(q(()=>a("span",null,[c.title!=null?a("div",null,[a(d,null,null)]):null,a(f,null,null)])))});const{start:l,stop:m}=xr(i,r);return{start:l,stop:m,comp:s,Visibility:$e,isVisible:ve,isHidden:Vt,unref:t}}});function rd(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),A("button",{key:0,style:Be([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[]]),onClick:n[0]||(n[0]=(...f)=>e.onClick&&e.onClick(...f)),onMousedown:n[1]||(n[1]=(...f)=>e.start&&e.start(...f)),onMouseleave:n[2]||(n[2]=(...f)=>e.stop&&e.stop(...f)),onMouseup:n[3]||(n[3]=(...f)=>e.stop&&e.stop(...f)),onTouchstartPassive:n[4]||(n[4]=(...f)=>e.start&&e.start(...f)),onTouchendPassive:n[5]||(n[5]=(...f)=>e.stop&&e.stop(...f)),onTouchcancelPassive:n[6]||(n[6]=(...f)=>e.stop&&e.stop(...f)),class:Pe({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(I(),ne(Ce(e.unref(e.comp)),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],38)):J("",!0)}var Vr=fe(id,[["render",rd],["__scopeId","data-v-211328c0"]]);const sd=Symbol("Clickable");function st(e,...n){const i=n.reduce((r,s)=>{var l;return Object.assign(r,(l=s.getPersistentData)==null?void 0:l.call(s))},{});return ze(r=>{var m,c,d;const s=(m=e==null?void 0:e.call(r,r))!=null?m:{};s.id=Et("clickable-"),s.type=sd,s[lt]=Vr;for(const f of n)(c=f.preConstruct)==null||c.call(f,s);if(Object.assign(s,i),U(s,"visibility"),xe(s,"visibility",$e.Visible),U(s,"canClick"),xe(s,"canClick",!0),U(s,"classes"),U(s,"style"),U(s,"mark"),U(s,"display"),s.onClick){const f=s.onClick.bind(s);s.onClick=function(b){t(s.canClick)!==!1&&f(b)}}if(s.onHold){const f=s.onHold.bind(s);s.onHold=function(){t(s.canClick)!==!1&&f()}}for(const f of n)(d=f.postConstruct)==null||d.call(f,s);const l=n.reduce((f,b)=>{var p;return Object.assign(f,(p=b.getGatheredProps)==null?void 0:p.call(b,s))},{});return s[gt]=function(){const{display:f,visibility:b,style:p,classes:w,onClick:C,onHold:S,canClick:k,small:B,mark:R,id:E}=this;return{display:f,visibility:b,style:t(p),classes:w,onClick:C,onHold:S,canClick:k,small:B,mark:R,id:E,...l}},s})}const od=["disabled"],ad={key:0};var ld=ie({__name:"Research",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,research:null},setup(e){const n=e,i=ft("");kt(()=>{var f,b;const s=t(n.display);if(s==null){i.value="";return}if(bt(s)){i.value=oe(s);return}const l=t(n.requirements),m=oe((f=s.title)!=null?f:"","h3"),c=oe(s.description),d=oe((b=s.effect)!=null?b:"");i.value=oe(q(()=>a(g,null,[s.title?a("span",null,[a(m,null,null)]):null,a("span",null,[a(c,null,null)]),s.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,We(l)])))});const r=y(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(s,l)=>(I(),A("button",{style:Be([{visibility:t(Vt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(r)))}%`}]),onClick:l[0]||(l[0]=m=>e.research(!1)),class:Pe({research:!0,hidden:t(Vt)(e.visibility),locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching)&&!t(e.researched),queued:t(e.isResearching),done:t(e.researched)}),disabled:!t(e.canResearch)},[t(ve)(e.visibility)?t(t(i))?(I(),ne(Ce(t(t(i))),{key:1})):J("",!0):(I(),A("div",ad,"???")),a(bn,{id:e.id},null,8,["id"])],14,od))}});var ud=fe(ld,[["__scopeId","data-v-1f627772"]]);const cd=Symbol("Research");function Ki(e,...n){const i=qe(0),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return ze(s=>{var f,b;const l=e.call(s,s);l.id=Et("research-"),l.type=cd,l[lt]=ud;for(const p of n)(f=p.preConstruct)==null||f.call(p,l);l.progress=i,Object.assign(l,r),U(l,"canResearch");const m=l.canResearch;l.canResearch=y(()=>{var p,w;return m!=null&&!t(m)?!1:(w=(p=l.prerequisites)==null?void 0:p.every(C=>t(C.researched)))!=null?w:!0}),U(l,"visibility");const c=l.visibility;l.visibility=y(()=>{var p,w,C;return t(l.researched)?$e.Visible:(w=(p=l.prerequisites)==null?void 0:p.every(S=>t(S.researched)||t(S.canResearch)))==null||w?(C=t(c))!=null?C:$e.Visible:$e.None}),U(l,"display"),U(l,"isResearching"),l.progressPercentage=y(()=>{if(Array.isArray(l.requirements)){let p=o.dZero,w=o.dZero;for(const C of l.requirements){if(!("cost"in C&&"resource"in C))continue;const S=C.cost,k=C.resource;p=p.plus(S instanceof v?Gt(S,1,!1,0):t(S)),w=w.plus(t(k))}return p.gte(0)?p.div(w):0}else{if(!("cost"in l.requirements&&"resource"in l.requirements))return 0;const p=l.requirements.cost,w=l.requirements.resource;return o.div(t(w),p instanceof v?Gt(p,1,!1,0):t(p))}}),l.researched=y(()=>Nt(l.requirements));for(const p of n)(b=p.postConstruct)==null||b.call(p,l);const d=n.reduce((p,w)=>{var C;return Object.assign(p,(C=w.getGatheredProps)==null?void 0:C.call(w,l))},{});return l[gt]=function(){const{visibility:p,display:w,id:C,requirements:S,canResearch:k,research:B,isResearching:R,progress:E,progressPercentage:M,researched:Q}=this;return{visibility:p,display:w,id:C,requirements:S,canResearch:k,research:B,isResearching:R,progress:E,progressPercentage:M,researched:Q,...d}},l})}function at(e,n){return t(e.researched)?t(e.effect):n}const Ur={postConstruct(e){e.amount===void 0&&console.error(`Decorated feature ${e.id} does not contain the required 'amount' property"`),U(e,"bonusAmount"),e.totalAmount===void 0&&(e.totalAmount=y(()=>{var n;return o.add(t((n=e.amount)!=null?n:0),t(e.bonusAmount))}))}},dd=Symbol("Repeatable");function Ue(e,...n){const i=qe(0),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return ze(s=>{var w,C,S;const l=e.call(s,s);l.id=Et("repeatable-"),l.type=dd,l[lt]=Vr;for(const k of n)(w=k.preConstruct)==null||w.call(k,l);l.amount=i,l.amount[Ut]=(C=l.initialAmount)!=null?C:0,Object.assign(l,r);const m={requirementMet:y(()=>o.sub(t(l.limit),l.amount.value)),requiresPay:!1,visibility:$e.None,canMaximize:!0},c=Xi(l);Wt(l.requirements)?(l.requirements.unshift(c),l.requirements.push(m)):l.requirements=[c,l.requirements,m],l.maxed=y(()=>o.gte(l.amount.value,t(l.limit))),U(l,"classes");const d=l.classes;l.classes=y(()=>{const k=t(d)||{};return l.maxed.value&&(k.bought=!0),k}),l.amountToIncrease=y(()=>o.clampMin(Vn(l.requirements),1)),l.canClick=y(()=>Nt(l.requirements));const f=l.onClick;l.onClick=function(k){var E;const B=l;if(!t(B.canClick))return;const R=(E=t(l.amountToIncrease))!=null?E:1;Bn(l.requirements,R),B.amount.value=o.add(B.amount.value,R),f==null||f(k)},U(l,"display");const b=l.display;l.display=q(()=>{var B,R,E;const k=t(b);if(bt(k)){const M=oe(k);return a(M,null,null)}if(k!=null){const M=l,Q=oe((B=k.title)!=null?B:"","h3"),_e=oe((R=k.description)!=null?R:""),V=oe((E=k.effect)!=null?E:"");return a("span",null,[k.title==null?null:a("div",null,[a(Q,null,null)]),k.description==null?null:a(_e,null,null),k.showAmount===!1?null:a("div",null,[a("br",null,null),a(g,null,[u("Amount: "),mn(M.amount.value)]),o.isFinite(t(M.limit))?a(g,null,[u(" / "),mn(t(M.limit))]):void 0]),k.effect==null?null:a("div",null,[a("br",null,null),u("Currently: "),a(V,null,null)]),M.maxed.value?null:a("div",null,[a("br",null,null),We(M.requirements,t(l.amountToIncrease))])])}return""}),U(l,"visibility"),xe(l,"visibility",$e.Visible),U(l,"limit"),xe(l,"limit",o.dInf),U(l,"style"),U(l,"mark"),U(l,"small");for(const k of n)(S=k.postConstruct)==null||S.call(k,l);const p=n.reduce((k,B)=>{var R;return Object.assign(k,(R=B.getGatheredProps)==null?void 0:R.call(B,l))},{});return l[gt]=function(){const{display:k,visibility:B,style:R,classes:E,onClick:M,canClick:Q,small:_e,mark:V,id:H}=this;return{display:k,visibility:B,style:t(R),classes:E,onClick:M,canClick:Q,small:_e,mark:V,id:H,...p}},l})}const md=["disabled"],pd={key:0};var fd=ie({__name:"RepeatableResearch",props:{visibility:null,display:null,id:null,requirements:null,canResearch:null,isResearching:null,progress:null,progressPercentage:null,researched:null,amount:null,limit:null,research:null},setup(e){const n=e,i=ft("");kt(()=>{var f,b;const s=t(n.display);if(s==null){i.value="";return}if(bt(s)){i.value=oe(s);return}const l=n.requirements,m=oe((f=s.title)!=null?f:"","h3"),c=oe(s.description),d=oe((b=s.effect)!=null?b:"");i.value=oe(q(()=>a(g,null,[s.title?a(m,null,null):null,a("span",null,[a(c,null,null)]),s.effect?a("span",null,[u("Currently: "),a(d,null,null)]):null,We(l)])))});const r=y(()=>o.times(t(n.progressPercentage),1.1).minus(.05).times(100));return(s,l)=>t(ve)(e.visibility)?(I(),A("button",{key:0,style:Be([{visibility:t(Vt)(e.visibility)?"hidden":void 0,"--fill-percent":`${t(D)(t(t(r)))}%`}]),onClick:l[0]||(l[0]=m=>e.research(!1)),class:Pe({research:!0,repeatable:!0,locked:!t(e.canResearch),can:t(e.canResearch)&&!t(e.isResearching),queued:t(e.isResearching)}),disabled:!t(e.canResearch)},[t(ve)(e.visibility)?t(t(i))?(I(),ne(Ce(t(t(i))),{key:1})):J("",!0):(I(),A("div",pd,"???")),a(bn,{id:e.id},null,8,["id"])],14,md)):J("",!0)}});var gd=fe(fd,[["__scopeId","data-v-7554ad12"]]);const bd={getPersistentData(){return{amount:qe(0)}},preConstruct(e){if(e[lt]=gd,bt(e.display)||De(e.display)||Ln(e.display))return;const n=e.display.title;e.display.title=q(()=>{var r;const i=oe(n!=null?n:"");return a("h3",null,[u("Repeatable: "),a(i,null,null),u(" "),hd(o.add(t((r=e.amount)!=null?r:0),1))])})},postConstruct(e){U(e,"limit"),xe(e,"limit",3998),e.maxed=y(()=>o.gte(t(e.amount),t(e.limit))),e.researched=y(()=>o.gt(t(e.amount),0));const n=e.onResearch;e.onResearch=()=>{n==null||n(),e.amount.value=o.add(t(e.amount),1),e.progress.value=0}},getGatheredProps(e){return{amount:e.amount}}};function hd(e){const n=[[1,"I"],[4,"IV"],[5,"V"],[9,"IX"],[10,"X"],[40,"XL"],[50,"L"],[90,"XC"],[100,"C"],[400,"CD"],[500,"D"],[900,"CM"],[1e3,"M"]];let i=new o(e).trunc().toNumber();if(i>=4e3)return D(e);if(i<1)return"Nulla";const r=[];for(let s=n.length-1;i>0;s--){for(let l=Math.floor(i/n[s][0]);l>0;l--)r.push(n[s][1]);i%=n[s][0]}return r.join("")}const vd=["x1","y1","x2","y2"],yd=ie({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=e,i=et(n),r=y(()=>{const m=i.startNode.value.rect,c=i.boundingRect.value,d=c?{x:m.x+m.width/2-c.x,y:m.y+m.height/2-c.y}:{x:0,y:0};return i.link.value.offsetStart&&(d.x+=i.link.value.offsetStart.x,d.y+=i.link.value.offsetStart.y),d}),s=y(()=>{const m=i.endNode.value.rect,c=i.boundingRect.value,d=c?{x:m.x+m.width/2-c.x,y:m.y+m.height/2-c.y}:{x:0,y:0};return i.link.value.offsetEnd&&(d.x+=i.link.value.offsetEnd.x,d.y+=i.link.value.offsetEnd.y),d}),l=y(()=>jo(n.link));return(m,c)=>(I(),A("line",qt({"stroke-width":"15px",stroke:"white"},t(l),{x1:t(r).x,y1:t(r).y,x2:t(s).x,y2:t(s).y}),null,16,vd))}});const _d=ie({__name:"Links",props:{links:null},setup(e){var d;const i=Qt(e,"links"),r=de(null),s=ai(Ui,de({})),l=ai(zi,de(void 0)),m=de((d=r.value)==null?void 0:d.getBoundingClientRect());wt(l,()=>{var f;return m.value=(f=r.value)==null?void 0:f.getBoundingClientRect()}),zn(()=>{var f;return m.value=(f=r.value)==null?void 0:f.getBoundingClientRect()});const c=y(()=>{var b,p;const f=s.value;return(p=(b=i.value)==null?void 0:b.filter(w=>{var C,S;return((C=f[w.startNode.id])==null?void 0:C.rect)&&((S=f[w.startNode.id])==null?void 0:S.rect)}))!=null?p:[]});return(f,b)=>(I(),A(g,null,[t(c)?(I(),A("svg",is(qt({key:0},f.$attrs)),[(I(!0),A(g,null,Fe(t(c),(p,w)=>(I(),ne(yd,{key:w,link:p,boundingRect:m.value,startNode:t(s)[p.startNode.id],endNode:t(s)[p.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):J("",!0),$("div",{ref_key:"resizeListener",ref:r,class:"resize-listener"},null,512)],64))}});var zr=fe(_d,[["__scopeId","data-v-063f6d6b"]]);const wd=e=>($t("data-v-4d279c24"),e=e(),Mt(),e),kd={class:"container"},Sd={class:"row research-tree"},Cd={class:"col"},Nd=wd(()=>$("div",{class:"fade"},null,-1)),qd=ie({__name:"ResearchTree",props:{research:null},setup(e){const n=e,i=y(()=>n.research.flatMap(r=>r).flatMap(r=>{var s,l;return(l=(s=r.prerequisites)==null?void 0:s.map(m=>({startNode:{id:r.id},endNode:{id:m.id},stroke:ve(r.visibility)?t(m.researched)?"var(--layer-color)":"white":"var(--locked)","stroke-width":"5px"})))!=null?l:[]}));return(r,s)=>(I(),A("div",kd,[$("div",Sd,[a(Ne,{width:"30px"}),$("div",Cd,[a(Ne,{height:"30px"}),(I(!0),A(g,null,Fe(e.research,l=>(I(),ne($n,null,{default:me(()=>[(I(!0),A(g,null,Fe(l,m=>(I(),A(g,null,[t(ve)(m.visibility)?(I(),ne(Ce(t(te)(m)),{key:0})):J("",!0)],64))),256))]),_:2},1024))),256)),a(Ne,{height:"30px"}),a(zr,{links:t(t(i))},null,8,["links"])]),a(Ne,{width:"30px"})]),Nd]))}});var Id=fe(qd,[["__scopeId","data-v-4d279c24"]]);const $d=["disabled"],Md={key:0},Pd={key:1},Td=ie({__name:"ResearchQueueSlot",props:{node:null,name:null,index:null},setup(e){const n=e,i=y(()=>n.node!==void 0),r=y(()=>{var l,m;return o.times((m=t((l=n.node)==null?void 0:l.progressPercentage))!=null?m:0,1.1).minus(.05).times(100)}),s=()=>t(i)?Wd(n.node):{};return(l,m)=>{var c;return I(),A("button",{disabled:!t(i),class:Pe({queue:!0,can:t(i)}),style:Be([{"--fill-percent":`${t(D)(t(t(r)))}%`}]),onClick:s},[t(i)?(I(),A("span",Md,[(I(),ne(Ce(t(oe)((c=t(e.name))!=null?c:""))))])):(I(),A("span",Pd,"Research Slot "+se(t(e.index)+1),1))],14,$d)}}});var lr=fe(Td,[["__scopeId","data-v-82f051e2"]]);const xd={key:0},Ad=ie({__name:"ResearchQueue",props:{queue:null,parallel:{default:1}},setup(e){const n=e,i=[ae.research,ae.repeatables].flatMap(l=>Object.values(l)),r=y(()=>t(n.queue).map(l=>i.find(m=>m.id===l)));function s(l){const m=t(r)[l];if(m!==void 0)return bt(m.display)||De(m.display)||Ln(m.display)?m.id:m.display.title}return(l,m)=>(I(),ne(Nn,null,{default:me(()=>[(I(!0),A(g,null,Fe(t(r),(c,d)=>(I(),A(g,{key:c?c.id:`empty-${d}`},[d===t(e.parallel)?(I(),A("h3",xd,"Next Up:")):J("",!0),c?(I(),ne(lr,{key:2,node:c,name:s(d),index:d},null,8,["node","name","index"])):(I(),ne(lr,{key:1,index:d},null,8,["index"]))],64))),128))]),_:1}))}});var Fd=fe(Ad,[["__scopeId","data-v-5504435e"]]);const Bd={class:"timesquare"},Ed={class:"timesquare-buy-buttons"};var Rd=ie({__name:"TimesquareComponent",props:{square:null,buy:null,buyNext:null,buyMax:null},setup(e){return(n,i)=>(I(),A("div",Bd,[(I(),ne(Ce(t(te)(e.square)))),$("div",Ed,[(I(),ne(Ce(t(te)(e.buy)))),(I(),ne(Ce(t(te)(e.buyNext)))),(I(),ne(Ce(t(te)(e.buyMax))))])]))}});var Od=fe(Rd,[["__scopeId","data-v-6de3c974"]]);const Dd=Symbol("Reset");function Qi(e){return ze(n=>{const i=e.call(n,n);return i.id=Et("reset-"),i.type=Dd,i.reset=function(){var s;const r=l=>{if(l!=null&&typeof l=="object"&&!(l instanceof o)&&!(l instanceof v)){if(Lt in l&&l[Lt]===!0)return;if(Ut in l){const m=l;m.value=m[Ut]}else!(l instanceof o)&&!De(l)&&Object.values(l).forEach(m=>r(m))}};t(i.thingsToReset).forEach(r),ut.emit("reset",i),(s=i.onReset)==null||s.call(i)},U(i,"thingsToReset"),i})}const ei={};ut.on("removeLayer",e=>{var n;(n=ei[e.id])==null||n.call(ei),ei[e.id]=void 0});var Ld=ie({__name:"TimelineComponent",props:{id:null,sides:null,active:null,next:null,score:null,onClick:null},setup(e){const n=e,i=n.sides.map(l=>l[0].toUpperCase()+l.slice(1)),r=y(()=>o.add(t(n.score),1).log10().dividedBy(10)),s={[n.sides[0]]:y(()=>t(r).times(He.scoreMultipliers[n.sides[0]])),[n.sides[1]]:y(()=>t(r).times(He.scoreMultipliers[n.sides[1]]))};return(l,m)=>(I(),A("button",{onClick:m[0]||(m[0]=(...c)=>e.onClick&&e.onClick(...c)),class:Pe({feature:!0,timeline:!0,active:t(e.active),next:t(e.next)})},[$("h2",null,se(t(i)[0])+" "+se(t(i)[1]),1),$("div",null,"Amount: "+se(t(D)(t(e.score))),1),$("div",null,se(t(i)[0])+": +"+se(t(D)(t(s[e.sides[0]]).times(100)))+"%",1),$("div",null,se(t(i)[1])+": +"+se(t(D)(t(s[e.sides[1]]).times(100)))+"%",1)],2))}});var jd=fe(Ld,[["__scopeId","data-v-d0106a2c"]]);const Vd=Symbol("Timeline");function xt(e){const n=qe(!1),i=qe(!1),r=qe(0);return ze(()=>{const s=e;return s.id=Et("timeline-"),s.type=Vd,s[lt]=jd,s.active=n,s.next=i,s.score=r,s.onClick=()=>{i.value=!i.value},s[gt]=function(){const{id:l,sides:m,active:c,next:d,score:f,onClick:b}=this;return{id:l,sides:m,active:c,next:d,score:f,onClick:b}},s})}const Ud="timeline",He=Ze(Ud,function(){const e={topLeft:xt({sides:[Y.TOP,Y.LEFT]}),topFront:xt({sides:[Y.TOP,Y.FRONT]}),topBack:xt({sides:[Y.TOP,Y.BACK]}),topRight:xt({sides:[Y.TOP,Y.RIGHT]}),frontLeft:xt({sides:[Y.FRONT,Y.LEFT]}),frontRight:xt({sides:[Y.FRONT,Y.RIGHT]}),backLeft:xt({sides:[Y.BACK,Y.LEFT]}),backRight:xt({sides:[Y.BACK,Y.RIGHT]}),bottomLeft:xt({sides:[Y.BOTTOM,Y.LEFT]}),bottomFront:xt({sides:[Y.BOTTOM,Y.FRONT]}),bottomBack:xt({sides:[Y.BOTTOM,Y.BACK]}),bottomRight:xt({sides:[Y.BOTTOM,Y.RIGHT]})},n={[Y.FRONT]:[e.topFront,e.frontLeft,e.frontRight,e.bottomFront],[Y.RIGHT]:[e.topRight,e.frontRight,e.backRight,e.bottomRight],[Y.TOP]:[e.topLeft,e.topFront,e.topBack,e.topRight],[Y.BACK]:[e.topBack,e.backLeft,e.backRight,e.bottomBack],[Y.LEFT]:[e.topLeft,e.frontLeft,e.backLeft,e.bottomLeft],[Y.BOTTOM]:[e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight]},i=Object.fromEntries(Object.entries(n).map(([S,k])=>[S,y(()=>k.filter(B=>t(B.active)).length)])),r=Object.fromEntries(Object.entries(n).map(([S,k])=>[S,y(()=>k.filter(B=>t(B.next)).length)])),s=y(()=>Object.values(i).some(S=>t(S)>0)),l={[Y.FRONT]:100,[Y.RIGHT]:.01,[Y.TOP]:1,[Y.BACK]:1,[Y.LEFT]:1e3,[Y.BOTTOM]:1},m=Object.fromEntries(Object.entries(n).map(([S,k])=>[S,y(()=>k.reduce((B,R)=>B.plus(t(R.score)),o.dZero))])),c=Object.fromEntries(Object.entries(m).map(([S,k])=>[S,y(()=>t(k).times(l[S]).plus(1))])),d={[Y.FRONT]:[1,1e8,1e80,"1e800","1e8000"],[Y.RIGHT]:[1,1e12,1e120,"1e1200","1e12000"],[Y.TOP]:[1,1e3,1e30,1e300,"1e3000"],[Y.BACK]:[1,1e6,1e60,"1e600","1e6000"],[Y.LEFT]:[1,100,1e20,1e200,"1e2000"],[Y.BOTTOM]:[1,1e5,1e50,"1e500","1e5000"]},f=Object.fromEntries(Object.entries(i).map(([S,k])=>[S,y(()=>t(d[S])[t(k)])]));Object.fromEntries(Object.entries(r).map(([S,k])=>[S,y(()=>t(d[S])[t(k)])]));const b=It(()=>[K(()=>({multiplier(){return[t(F.pion.pions),t(F.spinor.spinors)].map(S=>o.add(S,1).log10()).reduce((S,k)=>S.plus(k)).dividedBy(10)},description:q(()=>a(g,null,[u("1/10th of the magnitude of "),F.pion.pions.displayName,u(" and "),F.spinor.spinors.displayName]))})),K(()=>({multiplier(){return[N.protoversal,N.infinitesimal,N.subspatial,N.subplanck,N.quantum].map(S=>o.add(t(_[S].amount),1).log10()).reduce((S,k)=>S.plus(k),o.dZero).dividedBy(50)},description:q(()=>a(g,null,[u("1/50th of the magnitude of all types of Foam")]))})),K(()=>({multiplier(){return o.add(t(L.accelerons),1).log10()},description:q(()=>a(g,null,[u("The magnitude of "),L.accelerons.displayName]))})),K(()=>({multiplier(){return o.add(t(ue.buildings.buildings.storage.effect),10).log10().log10().times(5)},description:q(()=>a(g,null,[u("5x the magnitude"),a("sup",null,[u("2")]),u(" of Stored "),ue.inflatons.displayName]))})),K(()=>({multiplier(){return o.add(t(z.timecubes),1).log10()},description:q(()=>a(g,null,[u("The magnitude of "),z.timecubes.displayName]))})),Pn(()=>({exponent(){return Object.values(e).filter(S=>t(S.active)).length/2},description:q(()=>a(g,null,[u("Number of active Timelines")]))}))]),p=y(()=>b.apply(1e-4)),w=st(()=>({display(){return Object.values(e).some(S=>t(S.next))?"Enter Timeline":Object.values(e).some(S=>t(S.active))?"Exit Timeline":"Enter Timeline"},canClick(){return Object.values(e).some(S=>t(S.next)||t(S.active))},onClick(){const S=new o(t(p));for(const k of Object.values(e))!t(k.active)||S.gt(t(k.score))&&(k.score.value=S);C.reset(),_.protoversal.upgrades.reform.amount.value=o.dOne,ue.inflatons.value=o.dOne;for(const k of Object.values(e))k.active.value=t(k.next)}})),C=Qi(()=>({thingsToReset(){return[F.skyrmions,F.pion,F.spinor,_[N.protoversal],_[N.infinitesimal],_[N.subspatial],_[N.subplanck],_[N.quantum],L.accelerons,L.totalAccelerons,L.upgrades.acceleration,L.upgrades.fluctuation,L.upgrades.conversion,L.upgrades.translation,L.upgrades.alacrity,z.timecubes,ue.inflatons,ue.buildings.buildings,ue.buildings.maxSize,ue.inflating,ue.upgrades.moreFome,ue.coreResearch.repeatables.buildingSize]}}));return{timelines:e,scores:m,buffs:c,nerfs:f,depths:i,scoreMultipliers:l,inTimeline:s,display:q(()=>a(g,null,[te(w),a(Ne,null,null),nn(e.topLeft,e.topFront,e.topBack,e.topRight),nn(e.frontLeft,e.frontRight,e.backLeft,e.backRight),nn(e.bottomLeft,e.bottomFront,e.bottomBack,e.bottomRight)]))}}),zd=Symbol("Timesquare");function hn(e,n){return ze(i=>{const{display:r,buyAmount:s,baseCost:l,resource:m,effect:c}=n.call(i,i),d=ct(l),f=ct(s),b=y(()=>o.dOne.plus(t(z.upgrades.title.bought)?t(He.scores[e]):0).reciprocate().times(t(d))),p=(()=>{const w={buyAmount:f},C={buyAmount:y(()=>{const k=t(i.square.amount),B=o.clampMin(k,1).log10().floor().pow10();return o.div(k,B).floor().plus(1).times(B).minus(k)})},S={buyAmount:y(()=>{const k=t(i.square.amount),B=o.add(k,1).times(k).div(2).times(t(b));return o.clampMin(t(m),1).plus(B).div(t(b)).times(8).plus(1).sqrt().minus(1).div(2).floor().minus(k)})};for(const k of[w,C,S])k.cost=j(()=>({cost(){const B=t(i.square.amount),R=o.add(B,t(k.buyAmount)),E=R.plus(1).times(R).div(2),M=o.add(B,1).times(B).div(2);return E.minus(M).times(t(b))},resource:m}));return{buy:w,buyNext:C,buyMax:S}})();return i.square=Ue(()=>({requirements:Ot(!1),display:r,effect:c}),Se),i.buy=st(()=>({canClick:()=>Nt(p.buy.cost),display:{title:"Buy",description:q(()=>a(g,null,[u("+"),D(t(p.buy.buyAmount)),u(": "),Z(t(p.buy.cost.cost)),u(" "),m.displayName]))},onClick(){const w=t(p.buy.buyAmount);Bn(p.buy.cost),i.square.amount.value=o.add(t(i.square.amount),w)}})),i.buyNext=st(()=>({canClick:()=>Nt(p.buyNext.cost),display:{title:"Buy Next",description:q(()=>a(g,null,[u("+"),D(t(p.buyNext.buyAmount)),u(": "),Z(t(p.buyNext.cost.cost)),u(" "),m.displayName]))},onClick(){const w=t(p.buyNext.buyAmount);Bn(p.buyNext.cost),i.square.amount.value=o.add(t(i.square.amount),w)}})),i.buyMax=st(()=>({canClick:()=>Nt(p.buyMax.cost),display:{title:"Buy Max",description:q(()=>a(g,null,[u("+"),D(t(p.buyMax.buyAmount)),u(": "),Z(t(p.buyMax.cost.cost)),u(" "),m.displayName]))},onClick(){const w=t(p.buyMax.buyAmount);Bn(p.buyMax.cost),i.square.amount.value=o.add(t(i.square.amount),w)}})),i.type=zd,i[lt]=Od,i[gt]=function(){const{square:w,buy:C,buyNext:S,buyMax:k}=this;return{square:w,buy:C,buyNext:S,buyMax:k}},i})}const Gd="timesquare",yi=Ze(Gd,function(){const e=qe(1),n=y(()=>o.clampMin(t(e),1).log10().floor().minus(1).pow10()),i=y(()=>o.gt(t(e),1)),r={minHeight:"30px",width:"50px"},s={timesTen:st(()=>({display:"x10",onClick(){e.value=o.times(t(e),10)},style:r})),plusTen:st(()=>({display:q(()=>a(g,null,[u("+"),Z(t(n).times(10))])),onClick(){e.value=t(n).times(10).plus(t(e))},style:r})),plusOne:st(()=>({canClick(){return o.gte(t(e),10)},display:q(()=>a(g,null,[u("+"),Z(t(n))])),onClick(){e.value=t(n).plus(t(e))},style:r})),minusOne:st(()=>({canClick:i,display:q(()=>a(g,null,[u("-"),Z(t(n))])),onClick(){e.value=o.minus(t(e),t(n)).clampMin(1)},style:r})),minusTen:st(()=>({canClick:i,display:q(()=>a(g,null,[u("-"),Z(t(n).times(10))])),onClick(){e.value=o.minus(t(e),t(n).times(10)).clampMin(1)},style:r})),overTen:st(()=>({canClick:i,display:"/10",onClick(){e.value=o.div(t(e),10).clampMin(1)},style:r}))},l={[Y.FRONT]:hn(Y.FRONT,c=>({display:{title:q(()=>a(g,null,[u("Front")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect).minus(1).times(100)),u("% "),z.timecubes.displayName]))},effect(){return o.pow(t(c.square.amount),.45).times(rt(z.upgrades.turn)).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.RIGHT]:hn(Y.RIGHT,c=>({display:{title:q(()=>a(g,null,[u("Right")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect)),u("x Entropic Loop build speed")]))},effect(){return o.pow(t(c.square.amount),.7).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.TOP]:hn(Y.TOP,c=>({display:{title:q(()=>a(g,null,[u("Top")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect).minus(1).times(100)),u("% increased Universe diameter")]))},effect(){return o.pow(t(c.square.amount),.15).dividedBy(15).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.BACK]:hn(Y.BACK,c=>({display:{title:q(()=>a(g,null,[u("Back")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect).minus(1).times(100)),u("% "),L.accelerons.displayName,u(" effect")]))},effect(){return o.pow(t(c.square.amount),.2).dividedBy(5).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.LEFT]:hn(Y.LEFT,c=>({display:{title:q(()=>a(g,null,[u("Left")])),effect:q(()=>a(g,null,[u("1/"),D(t(c.square.effect)),u("x Subspatial Construction cost")]))},effect(){return o.pow(t(c.square.amount),.5).plus(1)},resource:x(z.timecubes),baseCost:1e6,buyAmount:e})),[Y.BOTTOM]:hn(Y.BOTTOM,c=>({display:{title:q(()=>a(g,null,[u("Bottom")])),effect:q(()=>a(g,null,[u("+"),D(t(c.square.effect)),u(" effective Entropic Enhancements")]))},effect(){return o.pow(t(c.square.amount),.1).times(rt(z.upgrades.tall))},resource:x(z.timecubes),baseCost:1e6,buyAmount:e}))},m=de("1");return wt(m,c=>{if(c===""){e.value=o.dOne;return}if(!o.isNaN(c)){if(o.lt(c,1)){e.value=o.dOne;return}e.value=o.floor(c)}}),{buyAmount:e,squares:l,display:q(()=>a(g,null,[a($n,null,{default:()=>[te(s.overTen),te(s.minusTen),te(s.minusOne),a(Gi,{style:{width:"fit-content"},"onUpdate:modelValue":c=>m.value=c,modelValue:m.value,autofocus:!1},null),te(s.plusOne),te(s.plusTen),te(s.timesTen)]}),a(Ne,null,null),nn(l.front,l.right,l.top),nn(l.back,l.left,l.bottom)]))}});let Y=function(e){return e.FRONT="front",e.RIGHT="right",e.TOP="top",e.BACK="back",e.LEFT="left",e.BOTTOM="bottom",e}({});const Hd="coreResearch",ae=Ze(Hd,function(){const e=(()=>{const d=St(()=>({cost:75,display:{title:"Branon Induction Phases",description:"Quintuple the effect of M-field Condensers"},effect:5})),f=At(()=>({cost:500,display:{title:"Inflaton Containment Strategies",description:"Allow construction of Inflaton Containment Units"},prerequisites:[M]})),b=St(()=>({cost:1500,display:{title:"Enhanced Isolation Protocols",description:"Improve the Inflaton Containment Unit's storage capabilities"},effect:1,prerequisites:[k]})),p=At(()=>({cost:6e3,display:{title:"Inflationary Tolerances",description:"Allow stored Inflatons to inflate to fill your storage"},prerequisites:[k,b]})),w=At(()=>({cost:25e3,display:{title:"Secondary Isolation Standards",description:"M-field Condensers no longer reduce the effect of Stored Inflatons"},prerequisites:[C]})),C=At(()=>({cost:15e3,display:{title:"Active Restoration Protocols",description:"Allow the construction of Active Redistribution Centers"},prerequisites:[Ee,b]})),S=St(()=>({cost:25e3,display:{title:"Macroscale Synergies",description:"Increase subspace building size tenfold, and their potency by twice as much"},effect:{size:10,effect:2},prerequisites:[P,le,C],onResearch(){for(const Yt of Object.values(Ge.buildings))Yt.amount.value=0}})),k=At(()=>({cost:750,display:{title:"Superstructural Stability Patterns",description:"Enable individual building respecs"},prerequisites:[f]})),B=At(()=>({cost:1e5,display:{title:"Mechanized Superscale Subsystems",description:"Automatically build subspace buildings, and building them no longer consumes Foam"},prerequisites:[w,Te]})),R=St(()=>({cost:100,display:{title:"Banach-Tarski Point Manipulation",description:"You can stabilize the universe at double the size"},effect:2,prerequisites:[d]})),E=St(()=>({cost:750,display:{title:"Von Neumann Transformation",description:"Double the size of the universe, again"},effect:2,prerequisites:[V]})),M=At(()=>({cost:100,display:{title:"Subspatial Binding Constants",description:"Reduce the cost scaling of Quantum Flux Analyzers"},prerequisites:[d]})),Q=y(()=>o.times(t(n.analysis.effect),1.8)),_e=St(Yt=>({cost:1500,display:{title:"Distributed Analysis Framework",description:q(()=>a("span",null,[u("Transform 10% of your Quantum Flux Analyzers into networking nodes, increasing Research Point gain by up to "),D(t(Q)),u("x")])),effect:q(()=>a(g,null,[D(t(Yt.effect))]))},effect(){return o.pow(1.1,t(Ge.buildings.lab.amount)).clampMax(t(Q))},prerequisites:[R,M]})),V=St(()=>({cost:500,display:{title:"Counter-Inflational Cycles",description:"Gain up to 1e6x more Foam, based on your current Stored Inflatons"},effect:1e6,prerequisites:[R]})),H=St(()=>({cost:1500,display:{title:"Scatter-Field Repulsion",description:"Retain up to 1e12x more Foam, based on your current Stored Inflatons"},effect:1e12,prerequisites:[h,W]})),Ae=St(()=>({cost:9e3,display:{title:"Scalar Flux Reduction",description:"Retain up to 1e12x more Foam yet again, based on your current Stored Inflatons"},effect:1e12,prerequisites:[P,le]})),h=St(()=>({cost:750,display:{title:"Quantum Phasor Coherence",description:"Halve the effect of inflation on Quantum Foam"},effect:.5,prerequisites:[V]})),P=St(()=>({cost:6e3,display:{title:"Aggressive Flow Diffusion",description:"Halve the effect of inflation on Quantum Foam, again"},effect:.5,prerequisites:[h,H]})),W=At(()=>({cost:750,display:{title:"Quantum Inflationo-dynamics",description:"Unlock two more Inflaton upgrades"},prerequisites:[f]})),le=At(()=>({cost:6e3,display:{title:"Infinite Expansion Theories",description:"Unlock two repeatable researches"},prerequisites:[E]})),Me=At(()=>({cost:1e5,display:{title:"Sustainable Expansion Hypothesis",description:"Unlock three more repeatable research projects"},prerequisites:[Ae,S]})),Ee=St(()=>({cost:1e4,display:{title:"Scheduled Itemization",description:"You can queue up to 2 additional researches"},effect:2,prerequisites:[_e]})),Tt=St(()=>({cost:1e5,display:{title:"Static Proposal Induction",description:"Increase the research queue size by another 2 researches"},effect:2,prerequisites:[Ee,le]})),Te=At(()=>({cost:25e3,display:{title:"Instantaneous Limit Testing",description:"Beginning Inflation instantly expands the universe to the limit of your M-field Condensers' safe operation"},prerequisites:[C,p]})),it=At(()=>({cost:75e4,display:{title:"Spatial Mastery",description:q(()=>a("span",null,[u("Unlock "),ye.isFirstBranch(ht)?L.accelerons.displayName:ye.strings.displayName]))},prerequisites:[Me,Tt,B]}));return{quintupleCondenser:d,doubleSize:R,cheaperLabs:M,fomeGain:V,researchBoost:_e,storage:f,halfQuantum:h,quadrupleSize:E,upgrades:W,respecs:k,moreFomeGain:H,queueTwo:Ee,improvedStorage:b,quarterQuantum:P,repeatableUnlock:le,inflationResearch:C,autofillStorage:p,evenMoreFomeGain:Ae,biggerBuildings:S,isolatedStorage:w,instantInflation:Te,moreRepeatables:Me,queueFour:Tt,autobuild:B,mastery:it}})(),n=(()=>{const d=An(C=>({visibility:y(()=>t(e.repeatableUnlock.researched)?$e.Visible:$e.Hidden),display:{title:"Eternal Inflation",description:"Double the size of your universe",effect:q(()=>a(g,null,[Z(t(C.effect)),u("x")]))},cost(){return o.pow(4,t(C.amount)).times(12e3).dividedBy(t(F.spinor.upgrades.nu.effect))},effect(){return o.pow(2,t(C.amount))}})),f=An(C=>({visibility:e.repeatableUnlock.researched,display:{title:"Perpetual Testing",description:"Increase Distributed Analysis Framework's maximum bonus by 80%",effect:q(()=>a(g,null,[Z(t(C.effect)),u("x")]))},cost(){return o.pow(8,t(C.amount)).times(15e3).dividedBy(t(F.spinor.upgrades.nu.effect))},effect(){return o.pow(1.8,t(C.amount))}})),b=An(C=>({visibility:e.moreRepeatables.researched,display:{title:"Subspatial Construction",description:"Increase Subspace building size tenfold, and their potency by twice as much",effect:q(()=>a(g,null,[Z(t(C.effect).size),u("x, "),Z(o.times(t(C.effect).size,t(C.effect).effect)),u("x")]))},cost(){return o.pow(200,t(C.amount)).times(15e4).dividedBy(t(F.spinor.upgrades.nu.effect)).div(t(z.getTimesquareEffect(Y.LEFT)))},effect(){return{size:o.pow(10,t(C.amount)),effect:o.pow(2,t(C.amount))}},canResearch(){const S=t(Cn);for(const k of Object.values(Ge.buildings))if(S.times(10).gt(t(k.amount)))return!1;return!0},onResearch(){for(const S of Object.values(Ge.buildings))S.amount.value=0}})),p=An(C=>({visibility:e.moreRepeatables.researched,display:{title:"Efficient Design",description:"Decrease Subspace building cost scaling by 1.5x",effect:q(()=>a(g,null,[u("1/"),D(t(C.effect)),u("x")]))},cost(){return o.pow(3,t(C.amount)).times(12e4).dividedBy(t(F.spinor.upgrades.nu.effect))},effect(){return o.pow(1.5,t(C.amount))}})),w=An(C=>({visibility:e.moreRepeatables.researched,display:{title:"Inflational Dynamics",description:"Retain up to 1e6x more Foam",effect:q(()=>a(g,null,[Z(t(C.effect)),u("x")]))},cost(){return o.pow(5,t(C.amount)).times(16e4).dividedBy(t(F.spinor.upgrades.nu.effect))},effect(){return o.pow(1e6,t(C.amount))}}));return{universeSize:d,analysis:f,buildingSize:b,buildingCost:p,fome:w}})(),i=y(()=>1+at(e.queueTwo,0)+at(e.queueFour,0)),r=y(()=>1),s=qe([]),l=y(()=>o.times(t(Ge.buildings.lab.effect),at(e.researchBoost,1)).times(t(F.spinor.upgrades.nu.effect))),m=y(()=>t(l).minus(t(Ge.buildings.tuner.effect).cost).clampMin(0)),c=qe(!1);return ue.on("preUpdate",d=>{if(t(s).length<=0)return;const f=o.times(t(m),d);for(const b of t(s).slice(0,t(r))){const p=[e,n].flatMap(w=>Object.values(w)).find(w=>w.id===b);p!==void 0&&(p.progress.value=f.plus(p.progress.value))}}),ue.on("update",()=>{if(!!t(c)){if(t(s).length>=t(r)){if(!t(n.buildingSize.canResearch)||t(s).some(d=>d===n.buildingSize.id)||t(s).length>=t(i))return;s.value=[n.buildingSize.id,...t(s)].map(d=>[e,n].flatMap(f=>Object.values(f)).find(f=>f.id===d)).filter(d=>d!==void 0).sort((d,f)=>o.compare(t(d.requirements.cost),t(f.requirements.cost))).map(d=>d.id);return}Object.values(n).filter(d=>o.gte(t(d.amount),1)).filter(d=>!t(d.isResearching)).filter(d=>t(d.canResearch)).sort((d,f)=>o.compare(t(d.requirements.cost),t(f.requirements.cost))).slice(0,t(r)-t(s).length).forEach(d=>d.research(!0))}}),ue.on("postUpdate",()=>{s.value=t(s).filter(d=>{var b;const f=[e,n].flatMap(p=>Object.values(p)).find(p=>p.id===d);return f===void 0?!1:o.gte(t(f.progressPercentage),1)?((b=f.onResearch)==null||b.call(f),!1):!0})}),{research:e,repeatables:n,queueLength:i,parallelResearchCount:r,researchQueue:s,researchGain:l,totalResearchGain:m,autoResearching:c,display:q(()=>a(g,null,[a("div",null,[u("Your buildings are producing "),Z(t(m)),u(" Research Points")]),a("div",{class:"row",style:{flexFlow:"row-reverse nowrap",alignItems:"flex-start",justifyContent:"space-evenly"}},[a(Nn,null,{default:()=>[a(Fd,{parallel:r,queue:y(()=>Array.from({...t(s),length:Math.max(t(s).length,t(i))}))},null),t(e.repeatableUnlock.researched)?a(g,null,[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Repeatable Research:")]),a(Dt,{modelValue:c.value,"onUpdate:modelValue":d=>c.value=d,style:{marginTop:0}},null),a(Ne,null,null)]):void 0]}),a(Id,{research:[[e.quintupleCondenser],[e.doubleSize,e.cheaperLabs],[e.fomeGain,e.researchBoost,e.storage],[e.halfQuantum,e.quadrupleSize,e.upgrades,e.respecs],[e.moreFomeGain,e.queueTwo,e.improvedStorage],[e.quarterQuantum,e.repeatableUnlock,e.inflationResearch,e.autofillStorage],[e.evenMoreFomeGain,e.biggerBuildings,e.isolatedStorage,e.instantInflation],[e.moreRepeatables,e.queueFour,e.autobuild],[e.mastery]]},null),a(Nn,null,{default:()=>[...Object.values(n).map(te).map(d=>a("div",{style:{margin:"var(--feature-margin) 0px"}},[d]))]})])]))}});function Wd(e){ae.researchQueue.value=t(ae.researchQueue).filter(n=>n!==e.id)}const Yd=y(()=>[ae.research,ae.repeatables].flatMap(e=>Object.values(e)));function Zi(e=!1){if(e||t(ae.researchQueue).length<t(ae.queueLength)){const n=t(Yd).find(i=>i.id===this.id);n&&t(ae.researchQueue).push(n.id)}}function Ji(){return t(ae.researchQueue).some(e=>e===this.id)}function At(e){return Ki(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:m,onResearch:c}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:j(()=>({resource:x(nt(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:m,onResearch:c,research:Zi,isResearching:Ji}})}function St(e){return Ki(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:m,onResearch:c,effect:d}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:j(()=>({resource:x(nt(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:m,onResearch:c,research:Zi,isResearching:Ji,effect:d}},Se)}function An(e){return Ki(n=>{const{visibility:i,prerequisites:r,cost:s,display:l,canResearch:m,onResearch:c,effect:d,limit:f}=e.call(n,n);return{visibility:i,prerequisites:r,requirements:j(()=>({resource:x(nt(x(n.progress),"Research Points")),cost:s})),display:l,canResearch:m,onResearch:c,research:Zi,isResearching:Ji,effect:d,limit:f}},Se,bd)}function ti(e){return Ue(n=>{var m;const{effect:i,cost:r,display:s,size:l}=e.call(n,n);return(m=r.free)!=null||(r.free=ae.research.autobuild.researched),{bonusAmount(){return o.times(t(this.amount),t(F.spinor.upgrades.rho.effect))},visibility:s.visibility,requirements:[Ot(Kd(l!=null?l:1)),j(()=>({cost(){const c=t(r.multiplier),d=new o(t(r.base)),f=o.div(t(n.amount),at(ae.repeatables.buildingCost,1)).div(t(F.pion.upgrades.rho.effect)),b=t(Cn);return t(ae.research.autobuild.researched)?d.pow(f).times(c):d.pow(b).minus(1).times(c).times(d.pow(f)).dividedBy(d.minus(1))},resource:x(r.resource),requiresPay:()=>!t(r.free),cumulativeCost:!1,maxBulkAmount:Cn}))],onClick(){n.amount.value=t(Cn).minus(1).plus(t(n.amount))},effect(){return i(Qd(this))},display:q(()=>{var p;const c=oe(s.title,"h3"),d=oe(s.description),f=oe(s.effect),b=n;return a("span",null,[a("div",null,[a(c,null,null)]),a(d,null,null),a("div",null,[a("br",null,null),a("b",null,[u("Size:")]),u(" "),Un(o.times(t(b.amount),(p=b.size)!=null?p:1),0)]),a("div",null,[a("br",null,null),a("b",null,[u("Currently:")]),u(" "),a(f,null,null)]),a("div",null,[a("br",null,null),We(b.requirements)])])}),style:Xd,size:l}},Se,Ur)}const Xd=y(()=>({width:"250px",minHeight:"150px",borderBottomLeftRadius:t(ae.research.respecs.researched)?0:"var(--border-radius)",borderBottomRightRadius:t(ae.research.respecs.researched)?0:"var(--border-radius)"})),Cn=y(()=>o.times(at(ae.research.biggerBuildings,{size:1,effect:1}).size,at(ae.repeatables.buildingSize,{size:1,effect:1}).size));function Kd(e){return y(()=>o.minus(t(Ge.maxSize),t(Ge.usedSize)).gte(t(Cn).times(e)))}function Qd(e){var n;return o.times(t(e.totalAmount),(n=e.size)!=null?n:1).times(at(ae.research.biggerBuildings,{size:1,effect:1}).effect).times(t(ae.repeatables.buildingSize.effect).effect)}function Un(e,n){return e=new o(e),e.lt(6187e7)?a(g,null,[D(e,n),u("\u2113"),a("sub",null,[u("P")])]):(e=e.dividedBy(6187e7),e.lt(1e3)?`${D(e,n)}ym`:e.lt(1e6)?`${D(e.dividedBy(1e3),n)}zm`:e.lt(1e9)?`${D(e.dividedBy(1e6),n)}am`:e.lt(1e12)?`${D(e.dividedBy(1e9),n)}fm`:e.lt(1e15)?`${D(e.dividedBy(1e12),n)}pm`:e.lt(1e18)?`${D(e.dividedBy(1e15),n)}nm`:e.lt(1e21)?`${D(e.dividedBy(1e18),n)}\u03BCm`:e.lt(1e24)?`${D(e.dividedBy(1e21),n)}mm`:e.lt(1e27)?`${D(e.dividedBy(1e24),n)}m`:e.lt(1e30)?`${D(e.dividedBy(1e27),n)}km`:e.lt(1e33)?`${D(e.dividedBy(1e30),n)}Mm`:e.lt(1e36)?`${D(e.dividedBy(1e33),n)}Gm`:e.lt(1e39)?`${D(e.dividedBy(1e36),n)}Tm`:e.lt(1e42)?`${D(e.dividedBy(1e39),n)}Pm`:e.lt(9461e39)?`${D(e.dividedBy(1e42),n)}ly`:e.lt(3086e40)?`${D(e.dividedBy(9461e39),n)}pc`:e.lt(3086e43)?`${D(e.dividedBy(3086e40),n)}kcp`:e.lt(3086e46)?`${D(e.dividedBy(3086e43),n)}Mpc`:`${D(e.dividedBy(3086e46),n)}Gpc`)}const Zd="buildings",Ge=Ze(Zd,function(){const e=(()=>{const f=ti(C=>({effect(S){return o.times(S,at(ae.research.quintupleCondenser,1)).pow_base(.975)},cost:{resource:x(_[N.subspatial].amount),base:1.1,multiplier:y(()=>ye.isFirstBranch(ht)?1e30:1e82)},display:{visibility:x(ue.upgrades.subspaceBuildings.bought),title:"M-Field Condenser",description:"Slightly reduce the loss of resources to Inflation",effect:q(()=>a(g,null,[vt(t(C.effect))]))}})),b=ti(()=>({effect(C){return(t(ae.research.researchBoost.researched)?o.times(t(ae.research.researchBoost.effect),.9):o.dOne).times(C).times(t(F.pion.upgrades.nu.effect))},cost:{resource:x(_[N.subspatial].amount),base:y(()=>t(ae.research.cheaperLabs.researched)?1.5:15),multiplier:y(()=>ye.isFirstBranch(ht)?1e30:1e82)},display:{visibility:x(ue.upgrades.research.bought),title:"Quantum Flux Analyzer",description:"Study fluctuations in the quantum field",effect:q(()=>a(g,null,[u("+"),Z(t(ae.researchGain)),u(" research points/s")]))}})),p=ti(C=>({effect(S){return o.times(S,at(ae.research.improvedStorage,1/3)).pow_base(500)},cost:{resource:x(_[N.quantum].amount),base:1.2,multiplier:y(()=>ye.isFirstBranch(ht)?1e15:1e48)},display:{visibility:ae.research.storage.researched,title:"Inflaton Containment Unit",description:"Specialized storage facilities designed to keep Inflatons separated and inert",effect:q(()=>a(g,null,[u("Safely store up to "),Z(t(C.effect)),u(" Inflatons")]))},size:3})),w=ti(C=>({effect(S){let k=o.times(S,.01).plus(1),B=new o(S),R=t(ae.researchGain);return B.gt(R)?{gain:k.times(R).dividedBy(B),cost:R}:{gain:k,cost:B}},cost:{resource:x(_[N.subspatial].amount),base:1.5,multiplier:y(()=>ye.isFirstBranch(ht)?1e40:1e92)},display:{visibility:ae.research.inflationResearch.researched,title:"Active Redistribution Center",description:"Tune your M-field Condensers with continuous analysis of inflation patterns",effect:q(()=>a(g,null,[D(t(C.effect).gain),u("x"),a("br",null,null),a("b",null,[u("Consumes:")]),u(" "),D(t(C.effect).cost),u(" Research/s")]))}}));return{condenser:f,lab:b,storage:p,tuner:w}})(),n=nt(y(()=>{if(o.lt(t(ue.inflatons),1))return o.dZero;let f=o.clampMin(t(ue.inflatons),2).log2().log2().times(at(ae.research.doubleSize,1)).times(at(ae.research.quadrupleSize,1)).times(at(ae.repeatables.universeSize,1));const b=6187e7;return f.gt(b)&&(f=f.pow(.1).times(o.dOne.minus(.1).pow_base(b))),f.times(t(z.getTimesquareEffect(Y.TOP))).div(t(He.nerfs[Y.TOP])).times(t(He.buffs[Y.TOP]))})),i=Yi(n),r=y(()=>Object.values(e).map(f=>{var b;return o.times(t(f.amount),(b=f.size)!=null?b:1)}).reduce((f,b)=>f.plus(b),o.dZero)),s={width:"125px",minHeight:"25px",borderRadius:0},l=Object.fromEntries(Object.entries(e).map(([f,b])=>[f,{one:st(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell One"},onClick(){b.amount.value=o.minus(b.amount.value,t(Cn)).clampMin(0)},style:{...s,borderBottomLeftRadius:"var(--border-radius)"}})),all:st(()=>({visibility:b.visibility,canClick(){return o.gt(t(b.amount),0)},display:{description:"Sell All"},onClick(){b.amount.value=o.dZero},style:{...s,borderBottomRightRadius:"var(--border-radius)"}}))}])),m=st(()=>({canClick(){return Object.values(e).some(f=>o.gt(t(f.amount),0))},display:{description:"Sell All"},onClick(){for(const f of Object.values(e))f.amount.value=o.dZero},style:{...s,borderRadius:"var(--border-radius)"}})),c=qe(!1);ue.on("update",()=>{if(!!t(c))for(const f of Object.values(e))!ve(f.visibility)||!t(f.canClick)||f.onClick()});const d=Object.fromEntries(Object.entries(e).map(([f,b])=>[f,q(()=>ve(b.visibility)?a("div",{class:"col mergeAdjacent"},[te(b),t(ae.research.respecs.researched)?a("div",{class:"row mergeAdjacent"},[te(l[f].one),te(l[f].all)]):void 0]):a("span",null,null))]));return{buildings:e,currentSize:n,maxSize:i,usedSize:r,autoBuilding:c,display:q(()=>a(g,null,[a("div",null,[u("Your buildings are taking up "),Un(t(r),0),u(" / "),Un(o.floor(t(i)),0)]),a(Ne,null,null),nn(...Object.values(d)),a(Ne,null,null),t(ae.research.autobuild.researched)?a(g,null,[a(Nn,null,{default:()=>[a("span",{style:{fontSize:"12px"}},[u("Enable Auto-Building Construction")]),a(Dt,{modelValue:c.value,"onUpdate:modelValue":f=>c.value=f,style:{marginTop:0}},null)]})]):void 0,te(m)]))}}),ht="inflaton",ue=Ze(ht,function(){const e="Inflatons",n="#ff5e13",i=y(()=>t(ye.milestones[1].earned)||ye.isFirstBranch(ht)||t(L.upgrades.mastery.bought)?!0:t(_[N.quantum].upgrades.condense.bought)),r=nt(0,e),s=j(()=>({resource:x(_[N.quantum].amount),cost:()=>ye.isFirstBranch(ht)?1e9:1e50,requiresPay:!1})),l=st(()=>({canClick:()=>Nt(s),display:q(()=>a(g,null,[u("1 "),r.displayName,a("br",null,null),a("br",null,null),We(s)])),onClick(){r.value=o.dOne,ye.isFirstBranch(ht)&&(ye.branchOrder.value=ht)},style:{width:"fit-content",minHeight:"60px"},visibility:()=>o.eq(t(r),0)})),m=st(()=>({display:q(()=>t(f)?a(g,null,[u("DISPERSE")]):a(g,null,[u("INFLATE")])),onClick(){t(f)?d():c()},style:{width:"150px",minHeight:"60px"},visibility:()=>o.gte(t(r),1)}));function c(){f.value=!0,r.value=t(ae.research.instantInflation.researched)?o.reciprocate(t(Ge.buildings.condenser.effect)).dividedBy(10).pow10():o.add(t(r),1)}function d(){f.value=!1,r.value=o.min(t(r),t(Ge.buildings.storage.effect))}const f=qe(!1),b=y(()=>{let M=o.clampMin(t(r),1).log10();return(t(f)||!t(ae.research.isolatedStorage.researched))&&(M=M.times(t(Ge.buildings.condenser.effect))),M.pow_base(2).clampMin(1)}),p=y(()=>t(b).dividedBy(at(ae.research.fomeGain,1)).dividedBy(at(ae.research.moreFomeGain,1)).dividedBy(at(ae.research.evenMoreFomeGain,1)).dividedBy(at(ae.repeatables.fome,1)).clampMin(1)),w={pion:y(()=>o.div(t(b),rt(z.upgrades.tower)).clampMin(1)),spinor:y(()=>o.div(t(b),rt(z.upgrades.tower)).clampMin(1)),[N.protoversal]:p,[N.infinitesimal]:p,[N.subspatial]:p,[N.subplanck]:p,[N.quantum]:y(()=>o.times(t(p),at(ae.research.halfQuantum,1)).times(at(ae.research.quarterQuantum,1)).clampMin(1)),acceleron:b,timecube:b},C=y(()=>{let Q=o.clampMin(t(r),1).log10().plus(1).dividedBy(10).pow_base(2).times(t(r));return Q.layer>=3?o.fromComponents(Q.sign,Q.layer,Q.mag*1.000000000000001):Q}),S=It(()=>[K(()=>({multiplier:ae.research.fomeGain.effect,enabled:ae.research.fomeGain.researched,description:q(()=>a(g,null,[u("["),e,u("] research.fomeGain")]))})),K(()=>({multiplier:ae.research.moreFomeGain.effect,enabled:ae.research.moreFomeGain.researched,description:q(()=>a(g,null,[u("["),e,u("] research.moreFomeGain")]))})),K(()=>({multiplier:ae.research.evenMoreFomeGain.effect,enabled:ae.research.evenMoreFomeGain.researched,description:q(()=>a(g,null,[u("["),e,u("] research.evenMoreFomeGain")]))})),K(()=>({multiplier:ae.repeatables.fome.effect,enabled:()=>o.gt(t(ae.repeatables.fome.amount),0),description:q(()=>a(g,null,[u("["),e,u("] repeatables.fome ("),D(t(ae.repeatables.fome.amount)),u(")")]))}))]),k=y(()=>t(f)?o.dOne:o.clampMax(S.apply(o.dOne),t(b))),B=(()=>{const M=ce(()=>({display:{title:"Subspatial Field Stabilizers",description:"<br />Allow the creation of Subspatial Structures<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?5e5:5e46,resource:_[N.quantum].amount})),visibility(){return t(this.bought)||t(ye.milestones[1].earned)||o.gte(t(Ge.maxSize),6)},style:{width:"250px"}})),Q=ce(()=>({display:{title:"Quantum Field Investigations",description:"<br />Stabilization isn't enough. Maybe the constant bubbling of the quantum field may hold the secret to sustaining inflation<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?1e6:1e47,resource:_[N.quantum].amount})),visibility(){return t(this.bought)||t(ye.milestones[1].earned)||t(M.bought)&&o.gte(t(Ge.maxSize),7)},style:{width:"250px"}})),_e=ce(()=>({display:{title:"Dynamic Inflational Formation",description:"<br />Generate more Foam based on the size of your universe<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?1e25:1e58,resource:_[N.quantum].amount})),visibility(){return t(this.bought)||t(ae.research.upgrades.researched)},style:{width:"250px"}})),V=ce(()=>({display:{title:"Micro-Inflational Subsystems",description:"<br />Gain a new Pion and Spinor Upgrade<br />"},requirements:j(()=>({cost:()=>ye.isFirstBranch(ht)?1e27:1e60,resource:_[N.quantum].amount})),visibility(){return t(this.bought)||t(ae.research.upgrades.researched)},style:{width:"250px"}}));return{subspaceBuildings:M,research:Q,moreFome:_e,skyrmionUpgrades:V}})();this.on("preUpdate",()=>{if(!!t(f)){for(const[M,Q]of[[F.pion.pions,w.pion],[F.spinor.spinors,w.spinor],[_[N.protoversal].amount,w[N.protoversal]],[_[N.infinitesimal].amount,w[N.infinitesimal]],[_[N.subspatial].amount,w[N.subspatial]],[_[N.subplanck].amount,w[N.subplanck]],[_[N.quantum].amount,w[N.quantum]],[L.accelerons,w.acceleron],[z.timecubes,w.timecube]])M.value=o.divide(M.value,Q.value);[F.pion.pions,F.spinor.spinors,...Object.values(N).map(M=>_[M].amount)].some(M=>o.lt(t(M),1))&&d()}}),this.on("postUpdate",M=>{let Q=!1;t(f)&&(Q=!0),t(ae.research.autofillStorage.researched)&&o.lt(t(r),t(Ge.buildings.storage.effect))&&(Q=!0),Q?r.value=t(C).times(M).plus(t(r)):o.gt(t(r),t(Ge.buildings.storage.effect))&&(r.value=t(Ge.buildings.storage.effect))});const R=q(()=>a(g,null,[a(Sn,{resource:r,color:n,stickyStyle:{background:"unset"}},null),a("div",{style:{marginTop:"-20px",fontSize:"12px"}},[t(f)?a(g,null,[u("Runaway inflation is dividing all other resources by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Z(t(b))])]):a(g,null,[t(ae.research.fomeGain.researched)?a(g,null,[u("Inflaton resonance is increasing Foam generation by "),a("span",{style:{color:n,textShadow:`${n} 0px 0px 10px`}},[Z(t(k))])]):void 0])]),te(m),te(l),o.gt(t(r),0)&&o.gt(t(Ge.maxSize),0)?a("div",null,[u("You have managed to stabilize the universe at a diameter of "),Un(t(Ge.maxSize)),t(f)&&o.lt(t(Ge.currentSize),t(Ge.maxSize))?a(g,null,[u(" ("),Un(t(Ge.currentSize)),u(")")]):void 0]):void 0,a(Ne,null,null)])),E=Hn({buildings:()=>({display:"Structures",tab:Ht(()=>({display:q(()=>a(g,null,[te(R),o.gt(t(r),0)?a(g,null,[t(B.subspaceBuildings.bought)?te(Ge.display):void 0,a(Ne,null,null),nn(B.moreFome,B.subspaceBuildings,B.research,B.skyrmionUpgrades)]):void 0]))}))}),research:()=>({display:"Research",tab:Ht(()=>({display:q(()=>a(g,null,[te(R),te(ae.display)]))}))})});return{id:ht,name:e,color:n,unlocked:i,inflatons:r,inflating:f,fomeBonus:k,upgrades:B,tabs:E,tabStyle:{"--bought":"#b14e24"},display:q(()=>a(g,null,[t(B.research.bought)?te(E):te(t(E.tabs.buildings.tab))])),buildings:Ge,coreResearch:ae}});var Jd=ie({props:{visibility:{type:ee(Number,Boolean),required:!0},display:ee(Object,String,Function),earned:{type:ee(Boolean),required:!0},requirements:ee(Object,Array),image:ee(String),style:ee(String,Object,Array),classes:ee(Object),mark:ee(Boolean,String),small:ee(Boolean),id:{type:String,required:!0}},components:{Node:bn,MarkNode:Wn},setup(e){const{display:n,requirements:i,earned:r}=et(e),s=ft("");return kt(()=>{const l=ke(n);if(l==null){s.value="";return}if(bt(l)){s.value=oe(l);return}const m=oe(l.requirement?l.requirement:q(()=>{var f;return We((f=ke(i))!=null?f:[])}),"h3"),c=oe(l.effect||"","b"),d=ke(r)?oe(l.optionsDisplay||"","span"):"";s.value=oe(q(()=>a("span",null,[a(m,null,null),l.effect!=null?a("div",null,[a(c,null,null)]):null,l.optionsDisplay!=null?a("div",{class:"equal-spaced"},[a(d,null,null)]):null])))}),{comp:s,unref:t,Visibility:$e,isVisible:ve,isHidden:Vt}}});function em(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),A("div",{key:0,style:Be([{visibility:e.isHidden(e.visibility)?"hidden":void 0,backgroundImage:e.earned&&e.image&&`url(${e.image})`||""},(d=e.unref(e.style))!=null?d:[]]),class:Pe({feature:!0,achievement:!0,locked:!e.unref(e.earned),done:e.unref(e.earned),small:e.unref(e.small),...e.unref(e.classes)})},[e.comp?(I(),ne(Ce(e.comp),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],6)):J("",!0)}var tm=fe(Jd,[["render",em],["__scopeId","data-v-78143a58"]]);const nm=hr(),im=Symbol("Achievement");let yn=function(e){return e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none",e}({});function mt(e,...n){const i=qe(!1,!1),r=n.reduce((s,l)=>{var m;return Object.assign(s,(m=l.getPersistentData)==null?void 0:m.call(l))},{});return ze(s=>{var d,f,b;const l=(d=e==null?void 0:e.call(s,s))!=null?d:{};l.id=Et("achievement-"),l.type=im,l[lt]=tm;for(const p of n)(f=p.preConstruct)==null||f.call(p,l);l.earned=i,l.complete=function(){var w,C;if(i.value)return;i.value=!0;const p=l;if((w=p.onComplete)==null||w.call(p),p.display!=null&&t(p.showPopups)===!0){const S=t(p.display);let k;bt(S)?k=oe(S):S.requirement!=null?k=oe(S.requirement):k=We((C=p.requirements)!=null?C:[]),nm.info(a("div",null,[a("h3",null,[u("Achievement earned!")]),a("div",null,[a(k,null,null)])]))}},Object.assign(l,r),U(l,"visibility"),xe(l,"visibility",$e.Visible);const m=l.visibility;l.visibility=rs(()=>{const p=t(l.display);switch(Ie.msDisplay){default:case yn.All:return t(m);case yn.Configurable:return t(l.earned)&&!(p!=null&&typeof p=="object"&&"optionsDisplay"in p)?$e.None:t(m);case yn.Incomplete:return t(l.earned)?$e.None:t(m);case yn.None:return $e.None}}),U(l,"display"),U(l,"mark"),U(l,"small"),U(l,"image"),U(l,"style"),U(l,"classes"),U(l,"showPopups"),xe(l,"showPopups",!0);for(const p of n)(b=p.postConstruct)==null||b.call(p,l);const c=n.reduce((p,w)=>{var C;return Object.assign(p,(C=w.getGatheredProps)==null?void 0:C.call(w,l))},{});if(l[gt]=function(){const{visibility:p,display:w,requirements:C,earned:S,image:k,style:B,classes:R,mark:E,small:M,id:Q}=this;return{visibility:p,display:w,requirements:C,earned:S,image:k,style:t(B),classes:R,mark:E,small:M,id:Q,...c}},l.requirements){const p=l,w=[Xi(p),Ot(()=>!p.earned.value),...Wt(l.requirements)?l.requirements:[l.requirements]];kt(()=>{Ie.active===be.id&&Nt(w)&&p.complete()})}return l})}ut.on("loadSettings",e=>{xe(e,"msDisplay",yn.All)});const rm=Object.values(yn).map(e=>({label:Pr(e),value:e}));kr(q(()=>a(Fn,{title:q(()=>a("span",{class:"option-title"},[u("Show achievements"),a("desc",null,[u("Select which achievements to display based on criterias.")])])),options:rm,"onUpdate:modelValue":e=>Ie.msDisplay=e,modelValue:Ie.msDisplay},null)));const ye=Ze("entangled",()=>{const e="Entangled Strings",n="#9a4500",i=y(()=>t(S[1].earned)||t(L.upgrades.mastery.bought)&&t(ue.coreResearch.research.mastery.researched)),r=nt(0,"Entangled Strings"),s=qe("",!1);function l(k){return t(S[1].earned)?!0:["",k].includes(t(s))}const m="160px",c=(()=>{const k=y(()=>[B,R,E,M,Q].filter(_e=>t(_e.bought)).length+2),B=ce(()=>({requirements:j(()=>({resource:x(r),cost:k,requiresPay:!1})),visibility:S[2].earned,display:{title:"Grasp the Void",description:"You have long since extracted all you can from your Skyrmions, but new insights show there may be yet more to gain"},style:{width:m,height:m}})),R=ce(()=>({requirements:j(()=>({resource:x(r),cost:k,requiresPay:!1})),visibility:S[2].earned,display:{title:"Architectural Renaissance (TBD)",description:"Look to the past, and see what glories the future may hold"},style:{width:m,height:m}})),E=ce(()=>({requirements:j(()=>({resource:x(r),cost:k,requiresPay:!1})),visibility:S[2].earned,display:{title:"Tetradimensional Engineering (TBD)",description:"Application of structural ideas gained from Entropic Loops may give rise to a powerful new sector of exploration and progress"},style:{width:m,height:m}})),M=ce(()=>({requirements:j(()=>({resource:x(r),cost:k,requiresPay:!1})),visibility:S[2].earned,display:{title:"Enigmatic Engineering",description:"Time Cubes seem helpful, but limited in power. Maybe your newfound mastery over space and time can reveal more of their secrets"},style:{width:m,height:m}})),Q=ce(()=>({requirements:j(()=>({resource:x(r),cost:k,requiresPay:!1})),visibility:S[2].earned,display:{title:"Technological Ascendency (TBD)",description:"You have shown mastery over space and time, at least individually. Together, though, there are more secrets to unlock"},style:{width:m,height:m}}));return{skyrmion:B,fome:R,acceleron:E,timecube:M,inflaton:Q}})(),d=y(()=>Object.values(c).filter(k=>k.bought.value).length),f=y(()=>(t(c.skyrmion.bought)?1:0)+(t(c.fome.bought)?2:0)+(t(c.acceleron.bought)?4:0)+(t(c.timecube.bought)?8:0)+(t(c.inflaton.bought)?16:0)),b=y(()=>o.lte(r.value,1)?!0:o.lte(r.value,d.value+1)),p={expansion:Ot(b),acceleron:j(()=>({resource:x(L.accelerons),cost(){const k=(()=>o.eq(t(r),0)?1e19:[1e29,15e40,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,25e40,1e64,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(f)])();return o.times(k,t(F.pion.upgrades.xi.effect))}})),inflaton:j(()=>({resource:x(ue.inflatons),cost(){const k=(()=>o.eq(t(r),0)?o.pow10(8e3):[o.pow10(18e3),o.pow10(85e11),o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.pow10(37e4),o.pow10(45e16),o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(f)])();return o.times(k,t(F.spinor.upgrades.xi.effect))}})),timecube:j(()=>({resource:nt(y(()=>Object.values(z.timelines.timelines).map(k=>t(k.score)).reduce((k,B)=>k.plus(B),o.dZero))),cost(){return t(c.timecube.bought)?[o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,1e4,5e6,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf,o.dInf][t(f)]:0},visibility:x(c.timecube.bought)}))},w=st(()=>({canClick(){return Nt(Object.values(p))},onClick(){r.value=o.add(t(r.value),1),sn(()=>{const k=(t(S[3].earned)?[ue.coreResearch.research.queueTwo,ue.coreResearch.research.queueFour]:[]).filter(B=>t(B.researched));C.reset(),t(S[2].earned)&&(_.protoversal.upgrades.reform.amount.value=o.dOne);for(const B of k)B.researched.value=!0;F.skyrmions.value=t(L.achievements.skyrmion.earned)?10:1})},display:"<h2>Condense reality into 1 Entangled String</h2>",style:{width:m,height:m}})),C=Qi(()=>({thingsToReset(){const k=[F.skyrmions,F.pion,F.spinor,_.protoversal,_.infinitesimal,_.subspatial,_.subplanck,_.quantum,L.accelerons,L.bestAccelerons,L.totalAccelerons,L.time,L.upgrades,L.loops,z,ue.inflatons,ue.inflating,ue.upgrades,ue.buildings,ue.coreResearch];return t(S[2].earned)||k.push(F.upgrades,_.achievements),k}})),S={1:mt(()=>({requirements:j(()=>({resource:x(r),cost:1})),display:{requirement:`1 ${r.displayName}`,effect:`${L.accelerons.displayName} and ${ue.inflatons.displayName} no longer inflate each other's costs`},small:!1})),2:mt(()=>({requirements:j(()=>({resource:x(r),cost:2})),display:{requirement:`2 ${r.displayName}`,effect:q(()=>a(g,null,[u("Unlock expansions to previous content"),a("br",null,null),u("Keep Skyrmion upgrades and Foam milestones")]))},small:!1})),3:mt(()=>({requirements:j(()=>({resource:x(r),cost:3})),display:{requirement:`3 ${r.displayName}`,effect:"Keep all parallel research and research queue researches"},small:!1})),7:mt(()=>({requirements:j(()=>({resource:x(r),cost:7})),display:{requirement:`7 ${r.displayName}`,effect:"Unlock Fundamental Particles"},small:!1}))};return{name:e,color:n,unlocked:i,strings:r,expansions:c,milestones:S,display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),a($n,null,{default:()=>[vi(c.skyrmion,c.fome),a(Nn,null,{default:()=>[te(w),a(Ne,{height:m},null),te(c.acceleron)]}),vi(c.inflaton,c.timecube)]}),a(Ne,null,null),a("div",null,[u("The next "),r.displayName,u(" requires:")]),a(Ne,null,null),a("div",{style:{color:L.color}},[L.accelerons.displayName,u(": "),D(t(p.acceleron.resource)),u(" / "),D(t(p.acceleron.cost))]),a("div",{style:{color:ue.color}},[u("Stored "),ue.inflatons.displayName,u(": "),D(t(p.inflaton.resource)),u(" / "),D(t(p.inflaton.cost))]),ve(p.timecube.visibility)?a("div",{style:{color:z.color}},[u("Total Timeline Score: "),D(t(p.timecube.resource)),u(" / "),D(t(p.timecube.cost))]):void 0,a(Ne,null,null),vi(...Object.values(S))])),branchOrder:s,isFirstBranch:l}}),sm="timecube",z=Ze(sm,function(){const e="Time Cubes",n="#f037ea",i=y(()=>t(ye.milestones[1].earned)||t(L.loops.loops.timecube.built)),r=nt(0,"Time Cubes"),s=Yi(r),l=(()=>{const c=ce(it=>({display:{title:"Tile",description:"log10(Accelerons) increases Time Cube gain",effect:q(()=>a(g,null,[D(t(it.effect)),u("x")]))},requirements:j(()=>({resource:x(r),cost:1})),effect(){return o.max(t(L.accelerons),0).plus(1).log10()}}),Se),d=ce(it=>({visibility(){return t(this.bought)||t(c.bought)},display:{title:"Time",description:"log10(Best Time Cubes) increases Acceleron effect",effect:q(()=>a(g,null,[D(t(it.effect)),u("x")]))},requirements:j(()=>({resource:x(r),cost:2})),effect(){return o.max(t(s),0).plus(1).log10().plus(1)}}),Se),f=ce(it=>({visibility(){return t(this.bought)||t(d.bought)},display:{title:"Tier",description:"Each upgrade in this row gives a free level of every Foam Boost",effect:q(()=>a(g,null,[u("+"),Z(t(it.effect)),u(" free levels")]))},requirements:j(()=>({resource:x(r),cost:3})),effect(){return[c,d,this,b,p].filter(Yt=>t(Yt.bought)).length}}),Se),b=ce(()=>({visibility(){return t(this.bought)||t(f.bought)},display:{title:"Tilt",description:"Entropic Expansion is 50% stronger"},requirements:j(()=>({resource:x(r),cost:10})),effect:1.5}),Se),p=ce(()=>({visibility(){return t(this.bought)||t(b.bought)},display:{title:"Tiny",description:"Unlock another Entropic Loop"},requirements:j(()=>({resource:x(r),cost:25}))})),w=ce(()=>({visibility(){return t(this.bought)||t(p.bought)},display:()=>({title:"Twice",description:`${t(E.bought)?"Triple":"Double"} maximum entropy`}),requirements:j(()=>({resource:x(r),cost:2500})),effect(){return t(E.bought)?3:2}}),Se),C=ce(()=>({visibility(){return t(this.bought)||t(w.bought)},display:{title:"Twist",description:"You may select an additional first row Entropic Enhancement"},requirements:j(()=>({resource:x(r),cost:4e8}))})),S=ce(()=>({visibility(){return t(this.bought)||t(C.bought)},display:{title:"Ten",description:"Increase Entropic Loop build speed by 10,000x"},requirements:j(()=>({resource:x(r),cost:5e8})),effect:1e4}),Se),k=ce(()=>({visibility(){return t(this.bought)||t(S.bought)},display:{title:"Twirl",description:"You may select an additional fourth row Entropic Enhancement"},requirements:j(()=>({resource:x(r),cost:125e7}))})),B=ce(()=>({visibility(){return t(this.bought)||t(k.bought)},display:{title:"Tetrate",description:"Unlock the fourth column of Entropic Enhancements"},requirements:j(()=>({resource:x(r),cost:5e9}))})),R=ce(()=>({visibility(){return t(this.bought)||t(ye.expansions.timecube.bought)},display:{title:"Tesselate",description:"Unlock Time Squares"},requirements:j(()=>({resource:x(r),cost:1e6}))})),E=ce(()=>({visibility(){return t(this.bought)||t(R.bought)},display:{title:"Triple",description:"Change <b>Twice</b> from double to triple"},requirements:j(()=>({resource:x(r),cost:1e11}))})),M=ce(()=>({visibility(){return t(this.bought)||t(R.bought)},display:{title:"Turn",description:"Front squares are 50% stronger"},requirements:j(()=>({resource:x(r),cost:1e12})),effect:1.5})),Q=ce(()=>({visibility(){return t(this.bought)||t(E.bought)&&t(M.bought)},display:{title:"Tall",description:"Bottom squares are 50% stronger"},requirements:j(()=>({resource:x(r),cost:2e12})),effect:1.5})),_e=ce(()=>({visibility(){return t(this.bought)||t(E.bought)&&t(M.bought)},display:{title:"Tour",description:"Double the Acceleron effect"},requirements:j(()=>({resource:x(r),cost:5e12})),effect:2})),V=ce(()=>({visibility(){return t(this.bought)||t(_e.bought)},display:{title:"Tactics",description:"Unlock Timelines"},requirements:j(()=>({resource:x(r),cost:1e13}))})),H=ce(()=>({visibility(){return t(this.bought)||t(V.bought)},display:{title:"Tower",description:"While in at least one Top timeline, Foam retainment applies to Pions and Spinors as well"},requirements:j(()=>({resource:x(r),cost:1e16}))})),Ae=ce(()=>({visibility(){return t(this.bought)||t(V.bought)},display:{title:"Title",description:"Best timeline scores also increase their corresponding Time Square gain"},requirements:j(()=>({resource:x(r),cost:1e17}))})),h=ce(()=>({visibility(){return t(this.bought)||t(Ae.bought)&&t(H.bought)},display:{title:"Tempo",description:"The first entropic loop always produces at least one Acceleron"},requirements:j(()=>({resource:x(r),cost:1e18}))})),P={[N.protoversal]:1e46,[N.infinitesimal]:3e38,[N.subspatial]:1e31,[N.subplanck]:3e23,[N.quantum]:1e16},W=ce(()=>({visibility(){return t(this.bought)||t(Ae.bought)&&t(H.bought)},display:{title:"Toil",description:"While in at least one Left timeline, Foam gain is massively increased based on how little of that Foam you have"},requirements:j(()=>({resource:x(r),cost:1e19})),effect(){return Object.fromEntries(Object.entries(P).map(([it,Yt])=>[it,o.minus(Math.E/Math.PI,o.div(t(_[it].amount),Yt)).pow10().times(15).plus(1)]))}})),le=ce(it=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Me=ce(it=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Ee=ce(it=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Tt=ce(it=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))})),Te=ce(it=>({visibility(){return!1},display:{description:"X"},requirements:j(()=>({resource:x(r),cost:o.dInf}))}));return{tile:c,time:d,tier:f,tilt:b,tiny:p,twice:w,twist:C,ten:S,twirl:k,tetrate:B,tesselate:R,triple:E,turn:M,tall:Q,tour:_e,tactics:V,tower:H,title:Ae,tempo:h,toil:W,a:le,b:Me,c:Ee,d:Tt,e:Te}})(),m=Hn({cubes:()=>({display:"Time Cubes",tab:Ht(()=>({display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),a(nd,{upgrades:Object.values(l)},null)]))}))}),squares:()=>({display:"Time Squares",tab:Ht(()=>({display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),te(t(yi.display))]))}))}),lines:()=>({display:"Timelines",unlocked:x(l.tactics.bought),tab:Ht(()=>({display:q(()=>a(g,null,[a(Sn,{resource:r,color:n},null),te(t(He.display))]))}))})});return{name:e,color:n,unlocked:i,timecubes:r,bestTimecubes:s,upgrades:l,tabs:m,display:q(()=>a(g,null,[t(l.tesselate.bought)?te(m):te(t(m.tabs.cubes.tab))])),timesquares:yi,timelines:He,getTimesquareEffect(c){return yi.squares[c].square.effect}}}),om=["stroke-width","cx","cy","r"],am=["stroke","stroke-width","stroke-dasharray","cx","cy","r"],Gr=ie({__name:"Loop",props:{color:null,width:null,radius:null,offset:null,angle:null},setup(e){const n=e,i=y(()=>n.radius*Math.PI*2),r=y(()=>t(i)*n.angle/360),s=y(()=>n.radius+n.width/2),l=y(()=>`${t(r)}, ${t(i)}`),m=y(()=>`rotate(${n.offset}deg)`);return(c,d)=>(I(),A(g,null,[$("circle",{stroke:"#242526","stroke-width":e.width/2,cx:t(s),cy:t(s),r:e.radius},null,8,om),e.angle>0?(I(),A("circle",{key:0,stroke:e.color,"stroke-width":e.width,"stroke-dasharray":t(l),cx:t(s),cy:t(s),r:e.radius,"stroke-linecap":"round",style:Be({transitionDuration:"0s",transform:t(m),transformOrigin:`${t(s)}px ${t(s)}px`})},null,12,am)):J("",!0)],64))}}),lm=Symbol("Loop");function vn(e,...n){const i=qe(0),r=qe(0),s=qe(!1),l=n.reduce((m,c)=>{var d;return Object.assign(m,(d=c.getPersistentData)==null?void 0:d.call(c))},{});return ze(m=>{var f,b;const c=e.call(m,m);c.id=Et("loop-"),c.type=lm,c[lt]=Gr;for(const p of n)(f=p.preConstruct)==null||f.call(p,c);c.triggerProgress=i,c.buildProgress=r,c.built=s,Object.assign(c,l),wt(c.buildProgress,p=>{o.gte(p,t(c.buildRequirement))&&(s.value=!0)}),U(c,"visibility"),U(c,"buildRequirement"),U(c,"triggerRequirement"),U(c,"display"),U(c,"effect");for(const p of n)(b=p.postConstruct)==null||b.call(p,c);const d=n.reduce((p,w)=>{var C;return Object.assign(p,(C=w.getGatheredProps)==null?void 0:C.call(w,c))},{});return c[gt]=function(){const{visibility:p,display:w,buildProgress:C,buildRequirement:S,built:k,triggerProgress:B,triggerRequirement:R}=this;return{visibility:p,display:w,buildProgress:C,buildRequirement:S,built:k,triggerProgress:B,triggerRequirement:R,...d}},c})}const _i={getPersistentData(){return{value:qe(0)}},getGatheredProps(e){return{value:e.value}}};const um=["transform"],cm=ie({__name:"Loops",props:{radius:null,loops:null,buildButton:null},setup(e){const n=e,i=n.radius*2,r=n.loops.map((f,b,p)=>b===p.length-1?y(()=>ve(f.visibility)?n.radius-t(f.display).width/2:n.radius):y(()=>ve(f.visibility)?t(r[b+1])-t(p[b+1].display).width/2-t(f.display).width/2:t(r[b+1]))),s=n.loops.map((f,b,p)=>b===p.length-1?y(()=>0):y(()=>{const w=p[b],C=p[b+1],S=t(s[b+1]),k=ve(C.visibility)?t(C.display).width/2:0,B=ve(w.visibility)?t(w.display).width/2:0;return S+k+B})),l=n.loops.map(f=>y(()=>t(f.built)?o.div(t(f.triggerProgress),t(f.triggerRequirement)):o.div(t(f.buildProgress),t(f.buildRequirement)))),m=n.loops.map(f=>y(()=>o.times(t(L.time),t(L.timeMult)).div(t(f.triggerRequirement)).toNumber()%360)),c=n.loops.map((f,b)=>y(()=>t(l[b]).times(360).toNumber()%360)),d=n.loops.map((f,b)=>({id:f.id,visibility:f.visibility,color:y(()=>t(t(f.display).color)),width:y(()=>t(f.display).width),radius:r[b],offset:m[b],angle:c[b],translation:y(()=>{const p=t(s[b]);return`translate(${p},${p})`})}));return(f,b)=>(I(),A("div",{class:"loop-container",style:Be({width:`${i}px`,height:`${i}px`})},[(I(),A("svg",{height:i,width:i},[(I(!0),A(g,null,Fe(t(d).filter(p=>t(ve)(p.visibility)).reverse(),p=>(I(),A("g",{key:p.id,fill:"none",transform:t(p.translation)},[t(ve)(p.visibility)&&!t(Vt)(p.visibility)?(I(),ne(Gr,{key:0,color:t(p.color),width:t(p.width),radius:t(p.radius),offset:t(p.offset),angle:t(p.angle)},null,8,["color","width","radius","offset","angle"])):J("",!0)],8,um))),128))])),e.buildButton?(I(),ne(Ce(t(te)(t(e.buildButton))),{key:0})):J("",!0)],4))}}),dm=e=>($t("data-v-761e0687"),e=e(),Mt(),e),mm=dm(()=>$("div",null,"Hover for Current Effects",-1));var pm=ie({__name:"LoopDescriptions",props:{loops:null},setup(e){const n=e,i=y(()=>n.loops.filter(s=>t(s.built)).map(s=>Ft(t(s.display).description))),r=q(()=>Ci(t(i),a(g,null,[a("br",null,null)])));return(s,l)=>t(t(i)).length>0?(I(),ne(tt,{key:0,display:t(r),direction:t(Oe).Up},{default:me(()=>[mm]),_:1},8,["display","direction"])):J("",!0)}});var fm=fe(pm,[["__scopeId","data-v-761e0687"]]),gm=ie({props:{active:{type:ee(Boolean),required:!0},maxed:{type:ee(Boolean),required:!0},canComplete:{type:ee(Boolean),required:!0},display:ee(String,Object,Function),requirements:ee(Object,Array),visibility:{type:ee(Number,Boolean),required:!0},style:ee(String,Object,Array),classes:ee(Object),completed:{type:ee(Boolean),required:!0},canStart:{type:ee(Boolean),required:!0},mark:ee(Boolean,String),id:{type:String,required:!0},toggle:{type:Function,required:!0}},components:{MarkNode:Wn,Node:bn},setup(e){const{active:n,maxed:i,canComplete:r,display:s,requirements:l}=et(e),m=y(()=>n.value?r.value?"Finish":"Exit Early":i.value?"Completed":"Start"),c=ft(""),d=y(()=>{const f=ke(n),b=ke(r);return f?b?Mc():Wi():{}});return kt(()=>{const f=ke(s);if(f==null){c.value="";return}if(bt(f)){c.value=oe(f);return}const b=oe(f.title||"","h3"),p=oe(f.description,"div"),w=oe(f.goal!=null?f.goal:q(()=>{var k;return We((k=ke(l))!=null?k:[])}),"h3"),C=oe(f.reward||""),S=oe(f.effect||"");c.value=oe(q(()=>a("span",null,[f.title!=null?a("div",null,[a(b,null,null)]):null,a(p,null,null),a("div",null,[a("br",null,null),u("Goal: "),a(w,null,null)]),f.reward!=null?a("div",null,[a("br",null,null),u("Reward: "),a(C,null,null)]):null,f.effect!=null?a("div",null,[u("Currently: "),a(S,null,null)]):null])))}),{buttonText:m,notifyStyle:d,comp:c,Visibility:$e,isVisible:ve,isHidden:Vt,unref:t}}});const bm=["disabled"];function hm(e,n,i,r,s,l){var d;const m=Bt("MarkNode"),c=Bt("Node");return e.isVisible(e.visibility)?(I(),A("div",{key:0,style:Be([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.notifyStyle,(d=e.unref(e.style))!=null?d:{}]),class:Pe({feature:!0,challenge:!0,done:e.unref(e.completed),canStart:e.unref(e.canStart)&&!e.unref(e.maxed),maxed:e.unref(e.maxed),...e.unref(e.classes)})},[$("button",{class:"toggleChallenge",onClick:n[0]||(n[0]=(...f)=>e.toggle&&e.toggle(...f)),disabled:!e.unref(e.canStart)||e.unref(e.maxed)},se(e.buttonText),9,bm),e.unref(e.comp)?(I(),ne(Ce(e.unref(e.comp)),{key:0})):J("",!0),a(m,{mark:e.unref(e.mark)},null,8,["mark"]),a(c,{id:e.id},null,8,["id"])],6)):J("",!0)}var vm=fe(gm,[["render",hm],["__scopeId","data-v-ec73ff4c"]]);const ym=Symbol("Challenge");function _m(e,...n){const i=qe(0),r=qe(!1,!1),s=n.reduce((l,m)=>{var c;return Object.assign(l,(c=m.getPersistentData)==null?void 0:c.call(m))},{});return ze(l=>{var f,b;const m=e.call(l,l);m.id=Et("challenge-"),m.type=ym,m[lt]=vm;for(const p of n)(f=p.preConstruct)==null||f.call(p,m);m.completions=i,m.active=r,Object.assign(m,s),m.completed=y(()=>o.gt(m.completions.value,0)),m.maxed=y(()=>o.gte(m.completions.value,t(m.completionLimit))),m.toggle=function(){var w,C,S,k,B;const p=m;if(p.active.value){if(o.gt(t(p.canComplete),0)&&!p.maxed.value){const R=t(p.canComplete);p.completions.value=o.min(o.add(p.completions.value,R),t(p.completionLimit)),(w=p.onComplete)==null||w.call(p)}p.active.value=!1,(C=p.onExit)==null||C.call(p),(S=p.reset)==null||S.reset()}else t(p.canStart)&&ve(p.visibility)&&!p.maxed.value&&((k=p.reset)==null||k.reset(),p.active.value=!0,(B=p.onEnter)==null||B.call(p))},m.canComplete=y(()=>Vn(m.requirements)),m.complete=function(p){var S,k,B;const w=m,C=t(w.canComplete);w.active.value&&o.gt(C,0)&&!w.maxed.value&&(w.completions.value=o.min(o.add(w.completions.value,C),t(w.completionLimit)),(S=w.onComplete)==null||S.call(w),p!==!0&&(w.active.value=!1,(k=w.onExit)==null||k.call(w),(B=w.reset)==null||B.reset()))},U(m,"visibility"),xe(m,"visibility",$e.Visible);const c=m.visibility;m.visibility=y(()=>Ie.hideChallenges===!0&&t(m.maxed)?$e.None:t(c)),m.mark==null&&(m.mark=y(()=>o.gt(t(m.completionLimit),1)&&!!t(m.maxed))),U(m,"canStart"),xe(m,"canStart",!0),U(m,"completionLimit"),xe(m,"completionLimit",1),U(m,"mark"),U(m,"classes"),U(m,"style"),U(m,"display"),m.reset!=null&&ut.on("reset",p=>{p===m.reset&&m.active.value&&m.toggle()});for(const p of n)(b=p.postConstruct)==null||b.call(p,m);const d=n.reduce((p,w)=>{var C;return Object.assign(p,(C=w.getGatheredProps)==null?void 0:C.call(w,m))},{});return m[gt]=function(){const{active:p,maxed:w,canComplete:C,display:S,visibility:k,style:B,classes:R,completed:E,canStart:M,mark:Q,id:_e,toggle:V,requirements:H}=this;return{active:p,maxed:w,canComplete:C,display:S,visibility:k,style:t(B),classes:R,completed:E,canStart:M,mark:Q,id:_e,toggle:V,requirements:H,...d}},m})}ut.on("loadSettings",e=>{xe(e,"hideChallenges",!1)});kr(q(()=>a(Dt,{title:q(()=>a("span",{class:"option-title"},[u("Hide maxed challenges"),a("desc",null,[u("Hide challenges that have been fully completed.")])])),"onUpdate:modelValue":e=>Ie.hideChallenges=e,modelValue:Ie.hideChallenges},null)));function Hr(e){e.effect===void 0&&(e.effect=i=>i),e.display.effect===void 0&&(e.display.effect=i=>`${vt(i)}x`);const n=Ue(i=>{var r;return{visibility:e.visibility,requirements:e.requirements,display:e.display.name,effect:()=>e.effect(t(i.totalAmount)),bonusAmount:(r=e.bonusAmount)!=null?r:0}},Se,Ur);return Tn(n,{direction:Oe.Down,yoffset:"var(--upgrade-width)",display:q(()=>{const i=t(n.bonusAmount);let r;o.gt(i,0)&&(r=a(g,null,[u("+"),Z(t(n.bonusAmount))]));const s=e.display.effect(t(n.effect));return a(g,null,[e.display.description,a("br",null,null),u("Amount: "),Z(t(n.amount)),r,a("br",null,null),u("Currently: "),s,a("br",null,null),We(n.requirements)])})}),n}const wm={class:"spinor-container"},km={class:"spinor-grid"},Sm=ie({__name:"Spinor",setup(e){const n=Ve.upgrades,i={alpha:{row:1,col:1},beta:{row:2,col:3},gamma:{row:3,col:1},delta:{row:4,col:3},epsilon:{row:5,col:1},zeta:{row:3,col:5},eta:{row:5,col:5},theta:{row:6,col:3},iota:{row:7,col:1},kappa:{row:4,col:7},lambda:{row:6,col:7},mu:{row:7,col:5},nu:{row:8,col:3},xi:{row:8,col:7},pi:{row:9,col:5},rho:{row:10,col:7}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(I(),A("div",wm,[$("ul",km,[(I(!0),A(g,null,Fe(t(n),(m,c)=>(I(),A(g,{key:c},[t(m.visibility)!==t($e).None?(I(),A("li",qt({key:0,class:"spinor-upgrade"},s.$attrs,{style:r(c)}),[(I(),ne(Ce(t(te)(m))))],16)):J("",!0)],64))),128))])]))}});var Cm=fe(Sm,[["__scopeId","data-v-41962e7a"]]);const Nm=Symbol("Boost");function je(e){const n=qe(0);return ze(i=>{const r=e.call(i,i);return r.id=Et("boost-"),r.type=Nm,r.amount=n,U(r,"display"),U(r,"effect"),r.bonus===void 0&&(r.bonus=0),U(r,"bonus"),r.total=y(()=>o.add(t(r.amount),t(r.bonus))),r})}function pe(e,n){return t(_[e].boosts[n].effect)}const qm="spinor",Ve=Ze(qm,function(){const e="Spinors",n=nt(0,e,void 0,!0),i=It(()=>[...F.production,K(()=>({multiplier:ot.upgrades.gamma.effect,enabled:()=>o.gt(t(ot.upgrades.gamma.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03B3 ("),D(t(ot.upgrades.gamma.totalAmount)),u(")")]))})),K(()=>({multiplier:ot.upgrades.mu.effect,enabled:()=>o.gt(t(ot.upgrades.mu.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03BC ("),D(t(ot.upgrades.mu.totalAmount)),u(")")]))}))]),r=y(()=>i.apply(t(F.totalSkyrmions).times(.01)));F.on("preUpdate",f=>{const b=t(L.timeMult).times(f);n.value=b.times(t(r)).plus(n.value)});const s=y(()=>Object.values(c).map(f=>t(f.amount)).reduce((f,b)=>f.plus(b),o.dZero)),l=y(()=>t(s).minus(pe(N.subspatial,2))),m=y(()=>{const f=t(re.challenge.active)?t(re.upgradeCount):t(ot.upgradeCount),b=f.times(.2).times(t(ot.upgrades.beta.effect)).plus(1),p=f.times(.25).times(pe(N.quantum,2));return b.pow(p)}),c=(()=>{const f=d({cost(h){return h.pow_base(1.2).times(.1).if(()=>o.gt(h.evaluate(),25),P=>P.times(P.pow_base(7.9)).times(342e-25)).if(()=>o.gt(h.evaluate(),90),P=>P.times(P.pow_base(19.75)).times(208e-106)).times(pe(N.infinitesimal,2))},shouldAutobuy:x(F.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Gain 50% more Skyrmions")])},effect:h=>o.pow(1.5,h),bonusAmount:_[N.protoversal].boosts[2].effect}),b=d({cost(h){return h.pow_base(1.3).times(.1).if(()=>o.gt(h.evaluate(),15),P=>P.times(P.pow_base(7.7)).times(6e-14)).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(29.25)).times(1e-39)).plus(.9)},shouldAutobuy:x(F.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Pion upgrade cost by 10%")]),effect:h=>`Pion upgrade cost nerf reduced to ${vt(o.times(h,100))}%`},effect:h=>o.pow(.9,h),bonusAmount:_[N.protoversal].boosts[3].effect}),p=d({cost(h){return h.pow_base(1.7).times(.1).if(()=>o.gt(h.evaluate(),10),P=>P.times(P.pow_base(7.35)).times(268e-11)).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(29.4)).times(89e-75)).plus(4.9).times(pe(N.infinitesimal,5))},shouldAutobuy:x(F.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Pions")])},effect:h=>o.pow(1.75,h),bonusAmount:_[N.protoversal].boosts[4].effect}),w=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.protoversal].boosts[1].total),0),cost(h){return h.pow_base(6).times(30).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(37.5)).times(27e-72))},shouldAutobuy:x(F.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Boost 1 effect")])},effect:h=>o.pow(1.7,h),bonusAmount:_[N.subplanck].boosts[2].effect}),C=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.infinitesimal].upgrades.reform.amount),0),cost(h){return h.pow_base(5).times(50).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(28.8)).times(177e-67))},shouldAutobuy:x(F.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Infinitesimal Foam gain by 50% per order of magnitude of Protoversal Foam")])},effect:h=>o.max(t(_[N.protoversal].amount),0).plus(1).log10().times(h).times(.5).plus(1),bonusAmount:()=>o.add(pe(N.subplanck,3),t(ot.upgrades.eta.effect))}),S=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.subspatial].upgrades.reform.amount),0),cost(h){return h.pow_base(5.5).times(5e3).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(35.64)).times(1e-68))},shouldAutobuy:x(F.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Pion and Spinor gain by 30% per order of magnitude of Subspatial Foam")])},effect:h=>o.max(t(_[N.subspatial].amount),0).plus(1).log10().times(h).times(.3).plus(1),bonusAmount:_[N.subplanck].boosts[4].effect}),k=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.protoversal].upgrades.reform.amount),1),cost(h){return h.pow_base(5).times(3e5).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(28.8)).times(177e-66))},shouldAutobuy:x(F.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain 120% increased Foam generation")])},effect:h=>o.times(h,1.2).plus(1),bonusAmount:_[N.subplanck].boosts[5].effect}),B=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.subplanck].upgrades.reform.amount),0),cost(h){return h.pow_base(6.5).times(7e5).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(26)).times(545e-36))},shouldAutobuy:x(F.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Subspatial Foam gain by 30% per order of magnitude of Protoversal and Infinitesimal Foam")])},effect:h=>o.add(o.max(t(_[N.protoversal].amount),0).plus(1).log10(),o.max(t(_[N.infinitesimal].amount),0).plus(1).log10()).times(h).times(.3).plus(1),bonusAmount:_[N.quantum].boosts[2].effect}),R=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.protoversal].upgrades.reform.amount),2),cost(h){return h.pow_base(7.5).times(4e8).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(30)).times(595e-50))},shouldAutobuy:x(F.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Pions increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:h=>o.max(t(ot.pions),0).plus(1).log10().times(h).times(.02).plus(1),bonusAmount:_[N.quantum].boosts[4].effect}),E=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.infinitesimal].upgrades.reform.amount),1),cost(h){return h.pow_base(7).times(5e9).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(26)).times(145e-45))},shouldAutobuy:x(F.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Increase Subplanck Boost 1 effect by 40% per order of magnitude of Subplanck Foam")])},effect:h=>o.max(t(_[N.subplanck].amount),0).plus(1).log10().times(h).times(.4).plus(1),bonusAmount:_[N.quantum].boosts[4].effect}),M=d({visibility:()=>t(re.challenge.active)||t(L.upgrades.skyrmion.bought),cost(h){return h.pow_base(5).times(7e10).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(20)).times(1e-35))},shouldAutobuy:x(F.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("ln(Best Accelerons) increases Pion and Spinor gain")])},effect:h=>o.max(t(L.bestAccelerons),0).plus(1).ln().times(h).plus(1)}),Q=d({visibility:()=>t(re.challenge.active)||t(ue.upgrades.skyrmionUpgrades.bought),cost(h){return h.pow_base(5).times(7e10).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(20)).times(1e-35))},shouldAutobuy:x(F.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Pions per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:h=>o.clamp(t(ue.inflatons),1,t(ue.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(h)}),_e=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.nu.bought),cost(h){return h.pow_base(150).times(1e50)},shouldAutobuy:x(F.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Add "),vt(25e-5),u(" to a repeatable research cost divider per order of magnitude of Spinors")]),effect:h=>`/${vt(h)}x`},effect:h=>o.clampMin(t(n),0).plus(1).log10().times(h).times(25e-5).plus(1)}),V=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.xi.bought),cost(h){return h.pow_base(135).times(1e50)},shouldAutobuy:x(F.upgrades.xi.bought),display:{name:"\u03C0",description:a(g,null,[u("Decrease the magnitude of the Entangled String Inflaton requirement by 5%")]),effect:h=>`${vt(h)}x`},effect:h=>o.pow_base(.95,h)}),H=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.pi.bought),cost(h){return h.pow_base(160).times(1e50)},shouldAutobuy:x(F.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Pion and Spinor gain by 0.25% per total "),Re.entropy.displayName])},effect:h=>o.times(h,.0025).times(t(Re.maxEntropy)).plus(1)}),Ae=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.rho.bought),cost(h){return h.pow_base(175).times(1e50)},shouldAutobuy:x(F.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Increase effective Subspace building count by 0.1%")]),effect:h=>`${D(o.times(h,100),1)}%`},effect:h=>o.times(h,.001)});return{alpha:f,beta:b,gamma:p,delta:w,epsilon:C,zeta:S,eta:k,theta:B,iota:R,kappa:E,lambda:M,mu:Q,nu:_e,xi:V,pi:H,rho:Ae}})();return{name:e,spinors:n,upgradeCount:l,upgrades:c,display:q(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-start"},[a("div",{class:"col",style:"align-items: flex-start"},[a("div",null,[u("You have "),a(Yn,{resource:n,color:t(re.challenge.active)?re.color:F.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),pn(n,r.value),u("/s)")]),a("div",{style:"font-size: 12px"},[u("Your Pion upgrades are increasing Spinor upgrade costs by "),vt(t(m).minus(1).times(100)),u("%")]),a(Ne,null,null),a(Cm,null,null)])]))};function d(f){const{visibility:b,cost:p,shouldAutobuy:w,display:C,effect:S,bonusAmount:k}=f,B=Hr({visibility:b,display:C,bonusAmount:k,effect:S,requirements:j(()=>({resource:x(n),cost:()=>p(v.variable(B.amount)).times(m).evaluate(),requiresPay:()=>!t(w),canMaximize:!1}))});return F.on("update",()=>{t(re.challenge.active)||t(w)&&Nt(B.requirements)&&B.onClick()}),B}});const Im={class:"pion-container"},$m={class:"pion-grid"},Mm=ie({__name:"Pion",setup(e){const n=ot.upgrades,i={alpha:{row:1,col:7},beta:{row:2,col:5},gamma:{row:3,col:7},delta:{row:4,col:5},epsilon:{row:5,col:7},zeta:{row:3,col:3},eta:{row:5,col:3},theta:{row:6,col:5},iota:{row:7,col:7},kappa:{row:4,col:1},lambda:{row:6,col:1},mu:{row:7,col:3},nu:{row:8,col:5},xi:{row:8,col:1},pi:{row:9,col:3},rho:{row:10,col:1}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(I(),A("div",Im,[$("ul",$m,[(I(!0),A(g,null,Fe(t(n),(m,c)=>(I(),A(g,{key:c},[t(m.visibility)!==t($e).None?(I(),A("li",qt({key:0,class:"pion-upgrade"},s.$attrs,{style:r(c)}),[(I(),ne(Ce(t(te)(m))))],16)):J("",!0)],64))),128))])]))}});var Pm=fe(Mm,[["__scopeId","data-v-4a683717"]]);const Tm="pion",ot=Ze(Tm,function(){const e="Pions",n=nt(0,e,void 0,!0),i=It(()=>[...F.production,K(()=>({multiplier:Ve.upgrades.gamma.effect,enabled:()=>o.gt(t(Ve.upgrades.gamma.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Spinor Upgrade \u03B3 ("),D(t(Ve.upgrades.gamma.totalAmount)),u(")")]))})),K(()=>({multiplier:Ve.upgrades.mu.effect,enabled:()=>o.gt(t(Ve.upgrades.mu.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Spinor Upgrade \u03BC ("),D(t(Ve.upgrades.mu.totalAmount)),u(")")]))}))]),r=y(()=>i.apply(t(F.totalSkyrmions).times(.01)));F.on("preUpdate",f=>{const b=t(L.timeMult).times(f);n.value=b.times(t(r)).plus(n.value)});const s=y(()=>Object.values(c).map(f=>t(f.amount)).reduce((f,b)=>f.plus(b),o.dZero)),l=y(()=>t(s).minus(pe(N.subspatial,2))),m=y(()=>{const f=t(re.challenge.active)?t(re.upgradeCount):t(Ve.upgradeCount),b=f.times(.2).times(t(Ve.upgrades.beta.effect)).plus(1),p=f.times(.25).times(pe(N.quantum,2));return b.pow(p)}),c=(()=>{const f=d({cost(h){return h.pow_base(1.2).times(.1).if(()=>o.gt(h.evaluate(),25),P=>P.times(P.pow_base(7.9)).times(342e-25)).if(()=>o.gt(h.evaluate(),90),P=>P.times(P.pow_base(19.75)).times(208e-106)).times(pe(N.infinitesimal,2))},shouldAutobuy:x(F.upgrades.alpha.bought),display:{name:"\u03B1",description:a(g,null,[u("Gain 50% more Pions and Spinors")])},effect:h=>o.pow(1.5,h),bonusAmount:_[N.protoversal].boosts[2].effect}),b=d({cost(h){return h.pow_base(1.3).times(.1).if(()=>o.gt(h.evaluate(),15),P=>P.times(P.pow_base(7.7)).times(6e-14)).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(29.25)).times(1e-39)).plus(.9)},shouldAutobuy:x(F.upgrades.beta.bought),display:{name:"\u03B2",description:a(g,null,[u("Reduce the nerf to Spinor upgrade cost by 10%")]),effect:h=>`Spinor upgrade cost nerf reduced to ${vt(o.times(h,100))}%`},effect:h=>o.pow(.9,h),bonusAmount:_[N.protoversal].boosts[3].effect}),p=d({cost(h){return h.pow_base(1.7).times(.1).if(()=>o.gt(h.evaluate(),10),P=>P.times(P.pow_base(7.35)).times(268e-11)).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(29.4)).times(89e-75)).plus(4.9).times(pe(N.infinitesimal,5))},shouldAutobuy:x(F.upgrades.gamma.bought),display:{name:"\u03B3",description:a(g,null,[u("Gain 75% more Spinors")])},effect:h=>o.pow(1.75,h),bonusAmount:_[N.protoversal].boosts[4].effect}),w=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.protoversal].boosts[1].total),0),cost(h){return h.pow_base(6).times(30).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(37.5)).times(27e-72))},shouldAutobuy:x(F.upgrades.delta.bought),display:{name:"\u03B4",description:a(g,null,[u("Gain 70% more Protoversal Foam from Skyrmions")])},effect:h=>o.pow(h,1.7),bonusAmount:_[N.subplanck].boosts[2].effect}),C=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.infinitesimal].upgrades.reform.amount),0),cost(h){return h.pow_base(5).times(50).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(28.8)).times(177e-67))},shouldAutobuy:x(F.upgrades.epsilon.bought),display:{name:"\u03B5",description:a(g,null,[u("Increase Protoversal Foam gain by 50% per order of magnitude of Infinitesimal Foam")])},effect:h=>o.max(t(_[N.infinitesimal].amount),0).plus(1).log10().times(h).times(.5).plus(1),bonusAmount:_[N.subplanck].boosts[3].effect}),S=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.subspatial].upgrades.reform.amount),0),cost(h){return h.pow_base(5.5).times(5e3).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(35.64)).times(1e-68))},shouldAutobuy:x(F.upgrades.zeta.bought),display:{name:"\u03B6",description:a(g,null,[u("Increase Subspatial Foam gain by 5% per Skyrmion")])},effect:h=>t(F.totalSkyrmions).times(h).times(.05).plus(1),bonusAmount:_[N.subplanck].boosts[4].effect}),k=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.protoversal].upgrades.reform.amount),1),cost(h){return h.pow_base(5).times(3e5).if(()=>o.gt(h.evaluate(),60),P=>P.times(P.pow_base(28.8)).times(177e-66))},shouldAutobuy:x(F.upgrades.eta.bought),display:{name:"\u03B7",description:a(g,null,[u("Gain a free level of "),a("b",null,[u("Spinor Upgrade \u03B5")])]),effect:h=>`${D(h)} free levels`},bonusAmount:_[N.subplanck].boosts[5].effect}),B=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.subplanck].upgrades.reform.amount),0),cost(h){return h.pow_base(6.5).times(7e5).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(26)).times(545e-36))},shouldAutobuy:x(F.upgrades.theta.bought),display:{name:"\u03B8",description:a(g,null,[u("Increase Protoversal Foam gain by 100% per order of magnitude of Subspatial Foam")])},effect:h=>o.max(t(_[N.subspatial].amount),0).plus(1).log10().times(h).plus(1),bonusAmount:_[N.quantum].boosts[2].effect}),R=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.protoversal].upgrades.reform.amount),2),cost(h){return h.pow_base(7.5).times(4e8).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(30)).times(595e-50))},shouldAutobuy:x(F.upgrades.iota.bought),display:{name:"\u03B9",description:a(g,null,[u("Your Spinors increase Infinitesimal Foam generation by 2% per order of magnitude")])},effect:h=>o.max(t(Ve.spinors),0).plus(1).log10().times(h).times(.02).plus(1),bonusAmount:_[N.quantum].boosts[4].effect}),E=d({visibility:()=>t(re.challenge.active)||o.gt(t(_[N.infinitesimal].upgrades.reform.amount),1),cost(h){return h.pow_base(7).times(5e9).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(26)).times(145e-45))},shouldAutobuy:x(F.upgrades.kappa.bought),display:{name:"\u03BA",description:a(g,null,[u("Protoversal Boost 1 levels each increase other Foam Boost 1 effects by 30%")])},effect:h=>o.times(t(_[N.protoversal].boosts[1].total),h).times(.3).plus(1),bonusAmount:_[N.quantum].boosts[4].effect}),M=d({visibility:()=>t(re.challenge.active)||t(L.upgrades.skyrmion.bought),cost(h){return h.pow(1.1).pow_base(5).times(700).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow(1.1).pow_base(20)).times(7e-17))},shouldAutobuy:x(F.upgrades.lambda.bought),display:{name:"\u03BB",description:a(g,null,[u("Double the Infinitesimal Foam Boost 1 effect")])},effect:h=>o.pow(2,h)}),Q=d({visibility:()=>t(re.challenge.active)||t(ue.upgrades.skyrmionUpgrades.bought),cost(h){return h.pow_base(5).times(7e10).if(()=>o.gt(h.evaluate(),45),P=>P.times(P.pow_base(20)).times(1e-35))},shouldAutobuy:x(F.upgrades.mu.bought),display:{name:"\u03BC",description:a(g,null,[u("Gain 2% more Spinors per order of magnitude"),a("sup",null,[u("2")]),u(" of stored Inflatons")])},effect:h=>o.clamp(t(ue.inflatons),1,t(ue.buildings.buildings.storage.effect)).plus(9).log10().log10().times(.02).plus(1).pow(h)}),_e=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.nu.bought),cost(h){return h.pow_base(150).times(1e50)},shouldAutobuy:x(F.upgrades.nu.bought),display:{name:"\u03BD",description:a(g,null,[u("Increase research speed by "),vt(25e-5),u("x per order of magnitude of Pions")]),effect:h=>`${vt(h)}x`},effect:h=>o.clampMin(t(n),0).plus(1).log10().times(h).times(25e-5).plus(1)}),V=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.xi.bought),cost(h){return h.pow_base(135).times(1e50)},shouldAutobuy:x(F.upgrades.xi.bought),display:{name:"\u03C0",description:a(g,null,[u("Decrease the Entangled String Acceleron requirement by 5%")]),effect:h=>`${vt(h)}x`},effect:h=>o.pow_base(.95,h)}),H=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.pi.bought),cost(h){return h.pow_base(160).times(1e50)},shouldAutobuy:x(F.upgrades.pi.bought),display:{name:"\u03C0",description:a(g,null,[u("Increase Entropic Loop construction speed by 5% per completed Entropic Loop")])},effect:h=>o.times(h,.05).times(t(L.loops.numBuiltLoops))}),Ae=d({visibility:()=>t(re.challenge.active)||t(F.upgrades.rho.bought),cost(h){return h.pow_base(175).times(1e50)},shouldAutobuy:x(F.upgrades.rho.bought),display:{name:"\u03C1",description:a(g,null,[u("Decrease Subspace building cost scaling by 1.1x")])},effect:h=>o.pow(1.1,h)});return{alpha:f,beta:b,gamma:p,delta:w,epsilon:C,zeta:S,eta:k,theta:B,iota:R,kappa:E,lambda:M,mu:Q,nu:_e,xi:V,pi:H,rho:Ae}})();return{name:e,pions:n,upgradeCount:l,upgrades:c,display:q(()=>a("div",{class:"table",style:"width: 530px; align-items: flex-end"},[a("div",{class:"col",style:"align-items: flex-end"},[a("div",null,[u("You have "),a(Yn,{resource:n,color:t(re.challenge.active)?re.color:F.color,tag:"h3"},null),u(" "),n.displayName,u(" (+"),pn(n,r.value),u("/s)")]),a("div",{style:"font-size: 12px"},[u("Your Spinor upgrades are increasing Pion upgrade costs by "),vt(t(m).minus(1).times(100)),u("%")]),a(Ne,null,null),a(Pm,null,null)])]))};function d(f){const{visibility:b,cost:p,shouldAutobuy:w,display:C,effect:S,bonusAmount:k}=f,B=Hr({visibility:b,display:C,bonusAmount:k,effect:S,requirements:j(()=>({resource:x(n),cost:()=>p(v.variable(B.amount)).times(m).evaluate(),requiresPay:()=>!t(w),canMaximize:!1}))});return F.on("update",()=>{t(re.challenge.active)||t(w)&&Nt(B.requirements)&&B.onClick()}),B}});function dt(e){if(e==null||typeof e!="object"||e instanceof o||e instanceof v||Lt in e&&e[Lt]===!0)return;if(Ut in e)return qe(e[Ut]);if(De(e))return;const n={};for(const[i,r]of Object.entries(e)){if(["requirements","tabs","prerequisites"].includes(i))continue;let s=dt(r);s!==void 0&&(n[i]=s)}if(Object.keys(n).length!==0)return n}function qi(e,n){if(!(e==null||n==null)&&!(typeof e!="object"||typeof n!="object")&&!(e instanceof o||n instanceof o)&&!(e instanceof v||n instanceof v)&&!(Lt in e&&e[Lt]===!0)&&!(Lt in n&&n[Lt]===!0)){if(Ut in n){const i=e,r=n,s=i.value;i.value=r.value,r.value=s;return}if(!De(e)&&!De(n))for(const i in n)qi(e[i],n[i])}}const xm="abyss",re=Ze(xm,function(){const e="#ff0000",n=_m(l=>({style:{border:0,borderRadius:0,clipPath:"polygon(75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%, 25% 0%)",marginHorizontal:"50px",width:"250px",minWidth:"250px",minHeight:"250px",boxShadow:"0"},requirements:j(()=>({cost:()=>o.add(t(l.completions),1),resource:r})),completionLimit:4,onEnter(){qi(pt,s)},onExit(){qi(pt,s)}})),i=y(()=>o.add(t(ot.upgradeCount),t(Ve.upgradeCount)).times(.75)),r=nt(y(()=>[F.upgrades.nu,F.upgrades.xi,F.upgrades.pi,F.upgrades.rho].filter(l=>t(l.bought)).length),"Abyssal Skyrmion Upgrades");wt(r,l=>n.completions.value=o.max(t(n.completions),l));const s=(()=>({skyrmion:{conversion:{amount:qe(1)},pion:dt(F.pion),spinor:dt(F.spinor)},fome:{protoversal:dt(_.protoversal),infinitesimal:dt(_.infinitesimal),subspatial:dt(_.subspatial),subplanck:dt(_.subplanck),quantum:dt(_.quantum)},acceleron:{accelerons:dt(L.accelerons),bestAccelerons:dt(L.bestAccelerons),totalAccelerons:dt(L.totalAccelerons),entropy:dt(L.entropy),loops:dt(L.loops),upgrades:dt(L.upgrades)},timecube:dt(z),inflaton:dt(ue)}))();return{color:e,challenge:n,upgradeCount:i,abyssUpgradeCount:r,swapData:s,display:q(()=>a(g,null,[te(n)]))}}),Am="loops",Xe=Ze(Am,function(){const e=qe(!1),n=st(()=>({visibility:x(L.upgrades.superstructures.bought),canClick(){return t(b)!==void 0},onClick(){e.value=!t(e)},display:q(()=>a("h3",null,[t(e)?"Halt":"Begin",a("br",null,null),u("Construction")])),style(){return{borderRadius:"50%",borderColor:t(this.canClick)?"var(--layer-color)":"var(--locked)",backgroundColor:"#0000",color:t(this.canClick)?"var(--layer-color)":"var(--locked)"}}})),i=It(()=>[K(()=>({multiplier:Re.enhancements.construction.effect,enabled:x(Re.enhancements.construction.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Construction")]))})),K(()=>({multiplier:z.upgrades.ten.effect,enabled:x(z.upgrades.ten.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Ten")]))})),K(()=>({multiplier:F.pion.upgrades.pi.effect,enabled:()=>o.gt(t(F.pion.upgrades.pi.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03C0 ("),D(t(F.pion.upgrades.pi.totalAmount)),u(")")]))})),K(()=>({multiplier:z.getTimesquareEffect(Y.RIGHT),enabled:()=>o.gt(t(z.timesquares.squares[Y.RIGHT].square.amount),0),description:q(()=>a(g,null,[u("["),z.name,u("] Right Time Squares")]))}))]),r=y(()=>i.apply(t(L.timeMult))),s=It(()=>[K(()=>({multiplier:Re.enhancements.development.effect,enabled:x(Re.enhancements.development.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Development")])),smallerIsBetter:!0}))]),l=y(()=>s.apply(1)),m=y(()=>{const p=t(b);return p===void 0?o.dZero:o.minus(t(p.buildRequirement),t(p.buildProgress))}),c=y(()=>t(m).times(t(l)));L.on("update",p=>{if(!t(e))return;const w=t(b);if(w===void 0){e.value=!1;return}const C=t(m),S=o.div(t(L.accelerons),t(l)),k=o.times(t(r),p).clampMax(C).clampMax(S);w.buildProgress.value=k.plus(t(w.buildProgress)).clampMax(t(w.buildRequirement)),L.accelerons.value=o.subtract(t(L.accelerons),k.times(t(l))).clampMin(0),t(w.built)&&(e.value=!1)}),L.on("preUpdate",p=>{if(t(e))return;const w=t(L.timeMult).times(p);for(const C of Object.values(d).filter(S=>t(S.built))){C.triggerProgress.value=w.plus(t(C.triggerProgress));const S=o.divide(t(C.triggerProgress),t(C.triggerRequirement)).floor();S.gte(1)&&(C.triggerProgress.value=o.sub(t(C.triggerProgress),S.times(t(C.triggerRequirement))),C.trigger(S))}});const d=(()=>{const p=vn(R=>({visibility:x(L.upgrades.superstructures.bought),buildRequirement:new o(60),triggerRequirement:o.dOne,display:{color:y(()=>t(re.challenge.active)?re.color:L.color),width:10,description:q(()=>a(g,null,[u("Every second, gain "),a("span",{style:{color:t(t(R.display).color)}},[vt(t(R.effect).times(100),1),u("%")]),u(" of your Acceleron gain. Currently: "),a("span",{style:{color:t(t(R.display).color)}},[D(o.times(t(L.conversion.currentGain),t(L.timeMult)).times(t(R.effect)).div(t(R.triggerRequirement)))]),u(" Accelerons/s")]))},effect(){return o.add(.001,rt(Re.enhancements.acceleration,0)).div(t(He.nerfs[Y.RIGHT])).times(t(He.buffs[Y.RIGHT]))},trigger(E){let M=new o(t(L.conversion.currentGain));M=M.times(t(R.effect)),M=M.times(E),t(z.upgrades.tempo.bought)&&(M=M.clampMin(1)),L.accelerons.value=o.add(t(L.accelerons),M)}})),w=vn(R=>({visibility(){return t(R.built)||t(p.built)},buildRequirement:new o(360),triggerRequirement:new o(60),display:()=>({color:y(()=>t(re.challenge.active)?re.color:F.color),width:10,description:q(()=>a(g,null,[u("Every minute, gain "),a("span",{style:{color:t(t(R.display).color)}},[vt(t(R.effect))]),u(" minutes of Foam and Skyrmion production. Currently: "),a("span",{style:{color:t(t(R.display).color)}},[D(o.times(t(R.effect),t(L.timeMult)).div(t(R.triggerRequirement)))]),u(" minutes/s")]))}),effect(){return o.plus(1,rt(Re.enhancements.expansion,0)).div(t(He.nerfs[Y.RIGHT])).times(t(He.buffs[Y.RIGHT]))},trigger(E){const M=new o(t(this.triggerRequirement)).times(t(R.effect)).times(E);F.pion.pions.value=M.times(t(1)).plus(t(F.pion.pions)),F.spinor.spinors.value=M.times(t(1)).plus(t(F.spinor.spinors)),Object.values(N).forEach(Q=>_[Q].amount.value=M.times(t(_[Q].production)).plus(t(_[Q].amount)))}})),C=vn(R=>({visibility(){return t(this.built)||t(w.built)},buildRequirement:new o(600),triggerRequirement:new o(3600),display:{color:y(()=>t(re.challenge.active)?re.color:z.color),width:10,description:q(()=>a(g,null,[u("Every hour, gain "),a("span",{style:{color:t(t(R.display).color)}},[D(t(R.effect))]),u(" Time Cubes. Currently: "),a("span",{style:{color:t(t(R.display).color)}},[D(o.times(t(R.effect),t(L.timeMult)).div(t(R.triggerRequirement)))]),u(" Time Cubes/s")]))},effect(){return new o(rt(z.upgrades.tile)).times(rt(L.upgrades.conversion)).times(rt(Re.enhancements.tesselation)).times(t(z.getTimesquareEffect(Y.FRONT))).div(t(He.nerfs[Y.RIGHT])).times(t(He.buffs[Y.RIGHT])).div(t(He.nerfs[Y.FRONT])).times(t(He.buffs[Y.FRONT]))},trigger(E){z.timecubes.value=t(R.effect).times(E).plus(t(z.timecubes))}})),S=vn(R=>({visibility(){return t(this.built)||t(L.upgrades.tetration.bought)||t(z.upgrades.tiny.bought)},buildRequirement:new o(25e4),triggerRequirement:new o(86400),display:{color:y(()=>t(re.challenge.active)?re.color:_.color),width:10,description:q(()=>a(g,null,[u("Every day, gain a decaying boost to Foam production. Currently: "),a("span",{style:{color:t(t(R.display).color)}},[D(t(R.value))]),u("x")]))},effect(){return new o(1e6)},trigger(E){this.value.value=t(R.effect).div(o.div(t(He.nerfs[Y.RIGHT]),t(He.buffs[Y.RIGHT]))).times(E)}}),_i),k=vn(R=>({visibility(){return t(this.built)||t(L.upgrades.tetration.bought)&&t(S.built)},buildRequirement:new o(1e11),triggerRequirement:new o(31536e3),display:{color:y(()=>t(re.challenge.active)?re.color:L.color),width:10,description:q(()=>a(g,null,[u("Every year, gain a decaying boost to Acceleron production. Currently: "),a("span",{style:{color:t(t(R.display).color)}},[D(t(R.value))]),u("x")]))},effect(){return new o(1e3)},trigger(E){this.value.value=t(R.effect).div(o.div(t(He.nerfs[Y.RIGHT]),t(He.buffs[Y.RIGHT]))).times(E)}}),_i),B=vn(R=>({visibility(){return t(this.built)||t(L.upgrades.tetration.bought)&&t(z.upgrades.tiny.bought)&&t(k.built)},buildRequirement:new o(4e17),triggerRequirement:new o(31536e4),display:{color:y(()=>t(re.challenge.active)?re.color:F.color),width:10,description:q(()=>a(g,null,[u("Every decade, gain a decaying boost to Pion and Spinor production. Currently: "),a("span",{style:{color:t(t(R.display).color)}},[D(t(R.value))]),u("x")]))},effect(){return new o(1e9)},trigger(E){this.value.value=t(R.effect).div(o.div(t(He.nerfs[Y.RIGHT]),t(He.buffs[Y.RIGHT]))).times(E)}}),_i);return{acceleron:p,instantProd:w,timecube:C,tempFome:S,tempAcceleron:k,tempSkyrmion:B}})(),f=y(()=>Object.values(d).filter(p=>t(p.built)).length),b=y(()=>Object.values(d).find(p=>ve(p.visibility)&&!t(p.built)));return L.on("postUpdate",p=>{const w=o.pow(.2,p);for(const C of[d.tempFome,d.tempAcceleron,d.tempSkyrmion])o.lte(t(C.value),t(C.effect))&&(C.value.value=w.times(t(C.value)).clampMin(1))}),{isBuilding:e,loops:d,numBuiltLoops:f,upperDisplay:q(()=>{var p,w,C,S;return a(g,null,[t(b)===void 0?a(Ne,{height:"50px"},null):a(g,null,[a(Ne,{height:"18px"},null),a("div",{style:{fontSize:"12px",color:"var(--link)"}},[u("Construction Progress: "),Z(t((w=(p=t(b))==null?void 0:p.buildProgress)!=null?w:0)),u(" / "),Z(t((S=(C=t(b))==null?void 0:C.buildRequirement)!=null?S:0)),a("br",null,null),u("Construction will consume "),Z(t(c)),u(" "),L.accelerons.displayName])])])}),lowerDisplay:q(()=>a(g,null,[a(cm,{radius:175,loops:Object.values(d),buildButton:n},null),a(Ne,null,null),a(fm,{loops:Object.values(d)},null)])),display:"This page intentionally left blank"}});const Fm={class:"enhancementRow"},Bm=ie({__name:"Enhancements",props:{rows:null},setup(e){const n=e,i=[1,2,3,4].map(r=>({limit:Re.enhancementLimits[r],count:Re.enhancementCounts[r],row:t(n.rows)[r]}));return(r,s)=>(I(!0),A(g,null,Fe(t(i),(l,m)=>(I(),A("div",Fm,[l.row.some(c=>t(ve)(c.visibility))?(I(),ne($n,{key:0},{default:me(()=>[$("div",{class:Pe({bought:t(l.count)>=t(l.limit)})},[$("span",null,"Row "+se(m+1)+": "+se(t(l.count))+"/"+se(t(l.limit)),1)],2),(I(!0),A(g,null,Fe(l.row,c=>(I(),A(g,null,[t(ve)(c.visibility)?(I(),ne(Ce(t(te)(c)),{key:0})):J("",!0)],64))),256))]),_:2},1024)):J("",!0)]))),256))}});var Em=fe(Bm,[["__scopeId","data-v-83e9ae4a"]]);const Rm="entropy",Re=Ze(Rm,function(){const n=nt(0,"Entropy"),i=It(()=>[Dc(()=>({addend:Xe.numBuiltLoops,description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Loops")]))})),K(()=>({multiplier:z.upgrades.twice.effect,enabled:x(z.upgrades.twice.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Twice")]))}))]),r=y(()=>i.apply(0));wt(r,S=>{const k=Object.values(p).filter(B=>t(B.bought));for(const B of k)B.bought.value=!1;n.value=S;for(const B of k)B.purchase()});const s={1:["expansion","construction","dilation","contraction"],2:["formation","development","acceleration","entrenchment"],3:["extension","configuration","invention","inversion"],4:["tesselation","amplification","rotation","entitlement"]},l={1:y(()=>1+(t(z.upgrades.twist.bought)?1:0)),2:y(()=>1+(t(p.entrenchment.bought)?1:0)),3:y(()=>1),4:y(()=>1+(t(z.upgrades.twirl.bought)?1:0))},m=Object.fromEntries(Object.entries(s).map(([S,k])=>[Number(S),y(()=>k.map(B=>p[B]).filter(B=>t(B.bought)).length)])),c=y(()=>Object.values(m).map(S=>t(S)).reduce((S,k)=>S+k)),d=y(()=>o.add(t(c),t(z.getTimesquareEffect(Y.BOTTOM)))),f=y(()=>ni(t(d))),b=y(()=>ni(t(c)).round()),p=(()=>{const S=C(()=>({row:1,visibility:Xe.loops.acceleron.built,display:{title:"Entropic Expansion",description:"Increase the second Entropic Loop effect based on purchased Entropic Enhancements",effect:Ee=>`+${D(Ee)} minutes`},effect:()=>t(f).pow(.9).times(rt(z.upgrades.tilt))})),k=C(()=>({row:1,visibility:Xe.loops.acceleron.built,display:{title:"Entropic Construction",description:"Entropic Loops build faster based on purchased Entropic Enhancements"},effect:()=>t(f).pow(.9).pow10()})),B=C(()=>({row:1,visibility:Xe.loops.acceleron.built,display:{title:"Entropic Dilation",description:"Increase time speed based on purchased Entropic Enhancements"},effect:()=>t(f).pow(.8).plus(1)})),R=C(()=>({row:1,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Contraction",description:"Increase Acceleron gain based on number of purchased Entropic Enhancements"},effect:()=>t(f).pow(.9)})),E=C(()=>({row:2,visibility:Xe.loops.instantProd.built,display:{title:"Entropic Formation",description:"Increase Foam gain based on best Accelerons"},effect:()=>ni(o.clampMin(t(L.bestAccelerons),0).plus(1).log10().floor()).pow(2.5).plus(1)})),M=C(()=>({row:2,visibility:Xe.loops.instantProd.built,display:{title:"Entropic Development",description:"Decrease Entropic Loop construction cost based on purchased Entropic Enhancements"},effect:()=>t(f).pow_base(.7)})),Q=C(()=>({row:2,visibility:Xe.loops.instantProd.built,display:{title:"Entropic Acceleration",description:"Increase the first Entropic Loop effect based on completed Entropic Loops",effect:Ee=>`+${D(o.times(Ee,100),1)}% of your Acceleron reset gain`},effect:()=>o.times(t(Xe.numBuiltLoops),.001)})),_e=C(()=>({row:2,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Entrenchment",description:"You may select an additional second row Entropic Enhancement"}})),V=C(()=>({row:3,visibility:Xe.loops.timecube.built,display:{title:"Entropic Extension",description:"Increase Infinitesimal Foam gain based on purchased Entropic Enhancements"},effect:()=>t(f).pow(2).plus(1)})),H=C(()=>({row:3,visibility:Xe.loops.timecube.built,display:{title:"Entropic Configuration",description:"Increase Subspatial Foam gain based on purchased Entropic Enhancements"},effect:()=>t(f).pow(1.75).plus(1)})),Ae=C(()=>({row:3,visibility:Xe.loops.timecube.built,display:{title:"Entropic Invention",description:"Increase Subplanck Foam gain based on purchased Entropic Enhancements"},effect:()=>t(f).pow(1.5).plus(1)})),h=C(()=>({row:3,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Inversion",description:"Increase Acceleron gain based on Quantum Foam"},effect:()=>o.max(t(_[N.quantum].amount),0).plus(1).log10().plus(1)})),P=C(()=>({row:4,visibility:Xe.loops.tempFome.built,display:{title:"Entropic Tesselation",description:"Increase Time Cube gain based on best Accelerons"},effect:()=>o.max(t(L.bestAccelerons),0).plus(1).log10().plus(1)})),W=C(()=>({row:4,visibility:Xe.loops.tempFome.built,display:{title:"Entropic Amplification",description:"Skyrmions are cheaper based on best Time Cubes"},effect:()=>ni(o.max(t(z.bestTimecubes),0).plus(1).log10().floor()).pow_base(.9)})),le=C(()=>({row:4,visibility:Xe.loops.tempFome.built,display:{title:"Entropic Rotation",description:"Increase Acceleron gain based on best Time Cubes"},effect:()=>o.max(t(z.bestTimecubes),0).plus(1).log10().plus(1)})),Me=C(()=>({row:4,visibility:x(z.upgrades.tetrate.bought),display:{title:"Entropic Entitlement",description:"Each purchased Entropic Enhancement gives 0.1 free levels to each Foam Boost",effect:Ee=>`${D(Ee,1)} free levels`},effect:()=>t(d).times(.1)}));return{expansion:S,construction:k,dilation:B,contraction:R,formation:E,development:M,acceleration:Q,entrenchment:_e,extension:V,configuration:H,invention:Ae,inversion:h,tesselation:P,amplification:W,rotation:le,entitlement:Me}})(),w=st(()=>({canClick(){return t(c)>0},onClick(){for(const S of Object.values(p))S.bought.value=!1;n.value=t(r)},display:{description:"Reset Enhancements"},style:{minHeight:"30px",width:"100px"}}));return{entropy:n,maxEntropy:r,enhancements:p,enhancementCounts:m,enhancementLimits:l,display:q(()=>a(g,null,[a(Ne,null,null),u("Entropy: "),Z(t(n)),u(" / "),Z(t(r)),a("br",null,null),u("Next Enhancement: "),Z(t(b)),u(" "),n.displayName,a(Ne,null,null),te(w),a(Ne,null,null),a(Em,{rows:Object.keys(s).reduce((S,k)=>(S[k]=s[k].map(B=>p[B]),S),{})},null)]))};function C(S){var E;const k=S.call({},{});U(k,"visibility"),U(k,"effect");const B=(E=k.display.effect)!=null?E:M=>`${D(M)}x`,R=ce(()=>({requirements:[j(()=>({cost:b,resource:x(n)})),Ot(()=>t(m[k.row])<t(l[k.row]))],visibility(){var M;return t(this.bought)||t((M=k.visibility)!=null?M:!0)},display:k.display.title,effect:k.effect}),Se);return Tn(R,{display:q(()=>{const M=oe(k.display.description,"div"),Q=k.effect?oe(q(()=>a(g,null,[B(t(R.effect))]))):void 0;return a(g,null,[a(M,null,null),Q?a("div",null,[u("Currently: "),a(Q,null,null)]):void 0])})}),R}}),Wr=o.sqrt(5),Om=Wr.plus(1).div(2);function ni(e){const n=Om.pow(e),i=o.times(e,Math.PI).cos();return n.minus(i.dividedBy(n)).dividedBy(Wr)}const Dm=ie({props:{radius:{type:ee(Number),required:!0},width:{type:ee(Number),required:!0},distance:{type:ee(Number),required:!0},top:{type:ee(Number),required:!0},right:{type:ee(Array),required:!0},bottom:{type:ee(Number),required:!0},left:{type:ee(Array),required:!0}},setup(e){const{radius:n,width:i,distance:r,top:s,right:l,bottom:m,left:c}=et(e),d={global:{margin:5,border:2},upgrade:{width:250,height:125},line:{x:8,y:32,radius:y(()=>t(S)+ke(i))}},f={left:y(()=>ke(c).filter(V=>ve(V.visibility)).length),right:y(()=>ke(l).filter(V=>ve(V.visibility)).length)},b={top:y(()=>ke(s)),right:y(()=>ke(l).length),bottom:y(()=>ke(m)),left:y(()=>ke(c).length)},p=y(()=>Object.values(b).map(V=>t(V)).reduce((V,H)=>V+H)),w=y(()=>2*Math.PI/t(p)),C=y(()=>ke(n)),S=y(()=>ke(n)+ke(i)),k=y(()=>t(C)*t(w)-(d.global.margin+d.global.border)),B=y(()=>t(S)*t(w)-(d.global.margin+d.global.border)),R=y(()=>t(k)/t(C)),E=y(()=>t(B)/t(S)),M={left:ke(c).map((V,H,Ae)=>({base:{index:(()=>H===0?y(()=>0):y(()=>t(M.left[H-1].base.index)+(ve(Ae[H-1].visibility)?1:0)))(),angle:y(()=>Math.PI-t(w)*(t(M.left[H].base.index)-t(f.left)/2+.5))},ring:{points:y(()=>{let h=t(M.left[H].base.angle),P=[h-t(R)/2,t(C)],W=[h+t(R)/2,t(C)],le=[h-t(E)/2,t(S)],Me=[h+t(E)/2,t(S)];return[P,W,Me,le].map(([Ee,Tt])=>[Math.cos(Ee)*Tt,Math.sin(Ee)*Tt])}),bounds:y(()=>{let h=t(M.left[H].ring.points),P={minX:Math.min(...h.map(W=>W[0])),maxX:Math.max(...h.map(W=>W[0])),minY:Math.min(...h.map(W=>W[1])),maxY:Math.max(...h.map(W=>W[1]))};return Math.sign(P.minY)!==Math.sign(P.maxY)&&(P.minX=Math.min(-t(S),P.minX)),P}),size:y(()=>{let h=t(M.left[H].ring.bounds);return{width:h.maxX-h.minX+d.global.border,height:h.maxY-h.minY+d.global.border}}),position:y(()=>{let h=t(M.left[H].ring.bounds);return{top:`${h.minY-d.global.border/2}px`,left:`${h.minX-d.global.border/2}px`}}),path:y(()=>{let h=t(C),P=t(S),W=t(M.left[H].ring.points),le=t(M.left[H].ring.bounds),Me=W.map(Ee=>[Ee[0]-le.minX+d.global.border/2,Ee[1]-le.minY+d.global.border/2]);return[`M ${Me[0][0]} ${Me[0][1]}`,`A ${h} ${h} 0 0 1 ${Me[1][0]} ${Me[1][1]}`,`L ${Me[2][0]} ${Me[2][1]}`,`A ${P} ${P} 0 0 0 ${Me[3][0]} ${Me[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:V,render:te(V),id:V.id,color:y(()=>t(V.bought)?"var(--bought)":t(V.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:y(()=>{let h=t(M.left[H].base.angle);if(h===0)return t(S);let P=(Math.PI-h)/t(w);return(d.upgrade.height+d.global.margin)*P/Math.sin(h)}),offset:y(()=>{let h=t(M.left[H].base.angle),P=t(M.left[H].upgrade.distance),W=Math.cos(h)*P,le=Math.cos(h)*t(S);return{x:Math.min(W-le,-ke(r))+le-d.upgrade.width/2,y:Math.sin(h)*P}}),position:y(()=>{let h=t(M.left[H].upgrade.offset);return{top:`${h.y-d.upgrade.height/2}px`,left:`${h.x-d.upgrade.width/2}px`}})},line:{height:y(()=>{let h=t(M.left[H].base.angle),P=(Math.PI-h)/t(w);return(d.upgrade.height+d.global.margin)*P+d.line.y-d.upgrade.height/2}),angle:y(()=>{let h=t(d.line.radius),P=t(M.left[H].line.height),W=Math.PI-Math.asin(P/h);return Math.min(t(M.left[H].base.angle)+t(E)/2,W)}),radius:y(()=>{let h=t(M.left[H].line.height),P=t(M.left[H].line.angle);return h/Math.sin(P)}),points:y(()=>{let h=t(M.left[H].line.angle),P=t(M.left[H].line.height),W=t(M.left[H].line.radius);return[[t(M.left[H].upgrade.offset).x-d.upgrade.width/2+d.line.x,P],[Math.cos(h)*W,P],[Math.cos(h)*t(S),Math.sin(h)*t(S)]]}),bounds:y(()=>{let h=t(M.left[H].line.points);return{minX:Math.min(...h.map(P=>P[0])),maxX:Math.max(...h.map(P=>P[0])),minY:Math.min(...h.map(P=>P[1])),maxY:Math.max(...h.map(P=>P[1]))}}),size:y(()=>{let h=t(M.left[H].line.bounds);return{width:h.maxX-h.minX+d.global.border,height:h.maxY-h.minY+d.global.border}}),position:y(()=>{let h=t(M.left[H].line.bounds);return{top:`${h.minY-d.global.border/2}px`,left:`${h.minX-d.global.border/2}px`}}),path:y(()=>{let h=t(M.left[H].line.points),P=t(M.left[H].line.bounds),W=h.map(le=>[le[0]-P.minX+d.global.border/2,le[1]-P.minY+d.global.border/2]);return[`M ${W[0][0]} ${W[0][1]}`,`L ${W[1][0]} ${W[1][1]}`,`L ${W[2][0]} ${W[2][1]}`].join(" ")})}})),right:ke(l).map((V,H,Ae)=>({base:{index:(()=>H===0?y(()=>0):y(()=>t(M.right[H-1].base.index)+(ve(Ae[H-1].visibility)?1:0)))(),angle:y(()=>t(w)*(t(M.right[H].base.index)-t(f.right)/2+.5))},ring:{points:y(()=>{let h=t(M.right[H].base.angle),P=[h-t(R)/2,t(C)],W=[h+t(R)/2,t(C)],le=[h-t(E)/2,t(S)],Me=[h+t(E)/2,t(S)];return[P,W,Me,le].map(([Ee,Tt])=>[Math.cos(Ee)*Tt,Math.sin(Ee)*Tt])}),bounds:y(()=>{let h=t(M.right[H].ring.points),P={minX:Math.min(...h.map(W=>W[0])),maxX:Math.max(...h.map(W=>W[0])),minY:Math.min(...h.map(W=>W[1])),maxY:Math.max(...h.map(W=>W[1]))};return Math.sign(P.minY)!==Math.sign(P.maxY)&&(P.maxX=Math.max(t(S),P.maxX)),P}),size:y(()=>{let h=t(M.right[H].ring.bounds);return{width:h.maxX-h.minX+d.global.border,height:h.maxY-h.minY+d.global.border}}),position:y(()=>{let h=t(M.right[H].ring.bounds);return{top:`${h.minY-d.global.border/2}px`,left:`${h.minX-d.global.border/2}px`}}),path:y(()=>{let h=t(C),P=t(S),W=t(M.right[H].ring.points),le=t(M.right[H].ring.bounds),Me=W.map(Ee=>[Ee[0]-le.minX+d.global.border/2,Ee[1]-le.minY+d.global.border/2]);return[`M ${Me[0][0]} ${Me[0][1]}`,`A ${h} ${h} 0 0 1 ${Me[1][0]} ${Me[1][1]}`,`L ${Me[2][0]} ${Me[2][1]}`,`A ${P} ${P} 0 0 0 ${Me[3][0]} ${Me[3][1]}`,"Z"].join(" ")})},upgrade:{upgrade:V,render:te(V),id:V.id,color:y(()=>t(V.bought)?"var(--bought)":t(V.canPurchase)?"var(--layer-color)":"var(--locked)"),distance:y(()=>{let h=t(M.right[H].base.angle);if(h===0)return t(S);let P=h/t(w);return(d.upgrade.height+d.global.margin)*P/Math.sin(h)}),offset:y(()=>{let h=t(M.right[H].base.angle),P=t(M.right[H].upgrade.distance),W=Math.cos(h)*P,le=Math.cos(h)*t(S);return{x:Math.max(W-le,ke(r))+le+d.upgrade.width/2,y:Math.sin(h)*P}}),position:y(()=>{let h=t(M.right[H].upgrade.offset);return{top:`${h.y-d.upgrade.height/2}px`,left:`${h.x-d.upgrade.width/2}px`}})},line:{height:y(()=>{let P=t(M.right[H].base.angle)/t(w);return(d.upgrade.height+d.global.margin)*P+d.line.y-d.upgrade.height/2}),angle:y(()=>{let h=t(d.line.radius),P=t(M.right[H].line.height),W=Math.asin(P/h);return Math.max(t(M.right[H].base.angle)-t(E)/2,W)}),radius:y(()=>{let h=t(M.right[H].line.height),P=t(M.right[H].line.angle);return h/Math.sin(P)}),points:y(()=>{let h=t(M.right[H].line.angle),P=t(M.right[H].line.height),W=t(M.right[H].line.radius);return[[t(M.right[H].upgrade.offset).x+d.upgrade.width/2-d.line.x,P],[Math.cos(h)*W,P],[Math.cos(h)*t(S),Math.sin(h)*t(S)]]}),bounds:y(()=>{let h=t(M.right[H].line.points);return{minX:Math.min(...h.map(P=>P[0])),maxX:Math.max(...h.map(P=>P[0])),minY:Math.min(...h.map(P=>P[1])),maxY:Math.max(...h.map(P=>P[1]))}}),size:y(()=>{let h=t(M.right[H].line.bounds);return{width:h.maxX-h.minX+d.global.border,height:h.maxY-h.minY+d.global.border}}),position:y(()=>{let h=t(M.right[H].line.bounds);return{top:`${h.minY-d.global.border/2}px`,left:`${h.minX-d.global.border/2}px`}}),path:y(()=>{let h=t(M.right[H].line.points),P=t(M.right[H].line.bounds),W=h.map(le=>[le[0]-P.minX+d.global.border/2,le[1]-P.minY+d.global.border/2]);return[`M ${W[0][0]} ${W[0][1]}`,`L ${W[1][0]} ${W[1][1]}`,`L ${W[2][0]} ${W[2][1]}`].join(" ")})}}))};function Q(V){var H,Ae;((H=document.getElementById(`${V}-ring`))==null?void 0:H.children[1].children[1].children[0]).beginElement(),(Ae=document.getElementById(`${V}-upgrade`))==null||Ae.children[0].classList.add("hover")}function _e(V){var H,Ae;((H=document.getElementById(`${V}-ring`))==null?void 0:H.children[1].children[1].children[1]).beginElement(),(Ae=document.getElementById(`${V}-upgrade`))==null||Ae.children[0].classList.remove("hover")}return{render:te,unref:t,isVisible:ve,onMouseEnter:Q,onMouseLeave:_e,upgradeData:M,values:d}}}),Yr=e=>($t("data-v-37038660"),e=e(),Mt(),e),Lm=["width","height","id","onMouseenter","onMouseleave","onClick"],jm=["d","stroke","stroke-width"],Vm=["id"],Um=ss('<feOffset dx="0" dy="0" data-v-37038660></feOffset><feGaussianBlur stdDeviation="0" result="offset-blur" data-v-37038660><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="6" dur="0.5s" begin="indefinite" data-v-37038660></animate><animate attributeName="stdDeviation" restart="whenNotActive" fill="freeze" to="0" dur="0.5s" begin="indefinite" data-v-37038660></animate></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse" data-v-37038660></feComposite>',3),zm=["flood-color"],Gm=Yr(()=>$("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"},null,-1)),Hm=Yr(()=>$("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"},null,-1)),Wm=["width","height"],Ym=["d","stroke","stroke-width"],Xm=["id"];function Km(e,n,i,r,s,l){return I(),A("div",{class:"ring-container",style:Be({top:`${e.unref(e.radius)}px`})},[(I(!0),A(g,null,Fe(e.upgradeData,(m,c)=>(I(),A(g,null,[(I(!0),A(g,null,Fe(e.unref(m),d=>(I(),A(g,{key:d.upgrade.id},[e.isVisible(d.upgrade.upgrade.visibility)?(I(),A("svg",{key:0,width:e.unref(d.ring.size).width,height:e.unref(d.ring.size).height,style:Be({...e.unref(d.ring.position),"--shadow-id":`url(#${d.upgrade.id}-shadow)`}),class:"ring-segment",id:`${d.upgrade.id}-ring`,onMouseenter:f=>e.onMouseEnter(d.upgrade.id),onMouseleave:f=>e.onMouseLeave(d.upgrade.id),onClick:d.upgrade.upgrade.purchase},[$("path",{d:e.unref(d.ring.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"var(--background)",class:Pe({can:e.unref(d.upgrade.upgrade.canPurchase)})},null,10,jm),$("filter",{id:`${d.upgrade.id}-shadow`},[Um,$("feFlood",{"flood-color":e.unref(d.upgrade.color),"flood-opacity":"1",result:"color"},null,8,zm),Gm,Hm],8,Vm)],44,Lm)):J("",!0),e.isVisible(d.upgrade.upgrade.visibility)?(I(),A("svg",{key:1,width:e.unref(d.line.size).width,height:e.unref(d.line.size).height,style:Be(e.unref(d.line.position)),class:"ring-line"},[$("path",{d:e.unref(d.line.path),stroke:e.unref(d.upgrade.color),"stroke-width":`${e.values.global.border}px`,fill:"none"},null,8,Ym)],12,Wm)):J("",!0),$("div",{id:`${d.upgrade.id}-upgrade`},[(I(),ne(Ce(d.upgrade.render),{style:Be({...e.unref(d.upgrade.position),width:e.values.upgrade.width,minHeight:e.values.upgrade.height}),class:Pe(["ring-upgrade",c]),onMouseenter:f=>e.onMouseEnter(d.upgrade.id),onMouseleave:f=>e.onMouseLeave(d.upgrade.id)},null,40,["style","class","onMouseenter","onMouseleave"]))],8,Xm)],64))),128))],64))),256))],4)}var Qm=fe(Dm,[["render",Km],["__scopeId","data-v-37038660"]]);function Zm(e,...n){return ze(i=>{var s,l;const r=e.call(i,i);for(const m of n)(s=m.preConstruct)==null||s.call(m,r);r.formula=r.formula(v.variable(r.baseResource)),r.currentGain==null&&(r.currentGain=y(()=>{let m=o.floor(r.formula.evaluate(r.baseResource.value)).max(0);return t(r.buyMax)===!1&&(m=m.min(1)),m})),r.actualGain==null&&(r.actualGain=r.currentGain),r.currentAt==null&&(r.currentAt=y(()=>r.formula.invert(o.floor(t(r.currentGain))))),r.nextAt==null&&(r.nextAt=y(()=>r.formula.invert(o.floor(t(r.currentGain)).add(1)))),r.convert==null&&(r.convert=function(){var c;const m=t(r.currentGain);r.gainResource.value=o.add(r.gainResource.value,m),r.spend(m),(c=r.onConvert)==null||c.call(r,m)}),r.spend==null&&(r.spend=function(){r.baseResource.value=0}),U(r,"currentGain"),U(r,"actualGain"),U(r,"currentAt"),U(r,"nextAt"),U(r,"buyMax"),xe(r,"buyMax",!0);for(const m of n)(l=m.postConstruct)==null||l.call(m,r);return r})}function Jm(e){return Zm(e)}ie({props:{nodes:{type:ee(Array),required:!0},leftSideNodes:ee(Array),rightSideNodes:ee(Array),branches:ee(Array)},components:{Links:zr},setup(e){const{nodes:n,leftSideNodes:i,rightSideNodes:r}=et(e),s=ft();kt(()=>{const c=ke(n);s.value=oe(q(()=>a(g,null,[c.map(d=>a("span",{class:"row tree-row",style:"margin: 50px auto;"},[d.map(Ft)]))])))});const l=ft();kt(()=>{const c=ke(i);l.value=c?oe(q(()=>a("span",{class:"left-side-nodes small"},[c.map(Ft)]))):""});const m=ft();return kt(()=>{const c=ke(r);m.value=c?oe(q(()=>a("span",{class:"side-nodes small"},[c.map(Ft)]))):""}),{unref:t,nodesComp:s,leftNodesComp:l,rightNodesComp:m}}});ie({props:{display:ee(Object,String,Function),visibility:{type:ee(Number,Boolean),required:!0},style:ee(String,Object,Array),classes:ee(Object),onClick:Function,onHold:Function,color:ee(String),glowColor:ee(String),canClick:{type:ee(Boolean),required:!0},mark:ee(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:Wn,Node:bn},setup(e){const{onClick:n,onHold:i,display:r}=et(e),s=Gn(r),{start:l,stop:m}=xr(n,i);return{start:l,stop:m,comp:s,unref:t,Visibility:$e,isCoercableComponent:bt,isVisible:ve,isHidden:Vt}}});function ep(e){return st(n=>{const i=e.call(n,n);U(i,"showNextAt"),xe(i,"showNextAt",!0),xe(i,"minimumGain",1),i.resetDescription==null?i.resetDescription=y(()=>o.lt(i.conversion.gainResource.value,1e3)?"Reset for ":""):U(i,"resetDescription"),i.display==null&&(i.display=q(()=>a("span",null,[t(i.resetDescription),a("b",null,[pn(i.conversion.gainResource,o.max(t(i.conversion.actualGain),t(i.minimumGain)))])," ",i.conversion.gainResource.displayName,t(i.showNextAt)!=null?a("div",null,[a("br",null,null),t(i.conversion.buyMax)?"Next:":"Req:"," ",pn(i.conversion.baseResource,!t(i.conversion.buyMax)&&o.gte(t(i.conversion.actualGain),1)?t(i.conversion.currentAt):t(i.conversion.nextAt))," ",i.conversion.baseResource.displayName]):null]))),i.canClick==null&&(i.canClick=y(()=>o.gte(t(i.conversion.actualGain),t(i.minimumGain))));const r=i.onClick;return i.onClick=function(s){t(i.canClick)!==!1&&(i.conversion.convert(),i.resetTime&&(i.resetTime.value=i.resetTime[Ut]),r==null||r(s))},i})}const ln="acceleron",L=Ze(ln,function(){const e="Accelerons",n="#0f52ba",i=y(()=>t(ye.milestones[1].earned)||ye.isFirstBranch(ln)||t(ue.coreResearch.research.mastery.researched)?!0:t(_[N.quantum].upgrades.condense.bought)),r=nt(0,e),s=Yi(r),l=Oc(r),m=Jm(()=>({formula:V=>V.times(rt(R.translation)).times(rt(R.fluctuation)).dividedBy(y(()=>ye.isFirstBranch(ln)?1e9:1e80)).pow(y(()=>ye.isFirstBranch(ln)?.1:.05)),baseResource:x(_[N.quantum].amount),gainResource:x(r),onConvert(){ye.isFirstBranch(ln)&&(ye.branchOrder.value=ln)}})),c=Qi(()=>({thingsToReset(){const V=[F.skyrmions,F.pion,F.spinor,_.protoversal.amount,_.protoversal.upgrades.condense,_.protoversal.upgrades.reform,_.infinitesimal.amount,_.infinitesimal.upgrades.condense,_.infinitesimal.upgrades.reform,_.subspatial.amount,_.subspatial.upgrades.condense,_.subspatial.upgrades.reform,_.subplanck.amount,_.subplanck.upgrades.condense,_.subplanck.upgrades.reform,_.quantum.amount,_.quantum.upgrades.condense,_.quantum.upgrades.reform];return t(B.protoversal.earned)||V.push(_.protoversal),t(B.infinitesimal.earned)||V.push(_.infinitesimal),t(B.subspatial.earned)||V.push(_.subspatial),t(B.subplanck.earned)||V.push(_.subplanck),t(B.quantum.earned)||V.push(_.quantum),V},onReset(){_.protoversal.upgrades.reform.amount.value=o.dOne,t(B.skyrmion.earned)&&(F.skyrmions.value=o.dTen)}})),d=ep(()=>({conversion:m,style:{width:"fit-content",padding:"5px 10px",minHeight:"60px"},onClick(){c.reset(),F.skyrmions.value=t(B.skyrmion.earned)?10:1}})),f=y(()=>{let V=o.max(t(s),0).plus(1);return V.gte(1e12)?V.log10().times(5e5/6):V.sqrt()}),b=It(()=>[K(()=>({multiplier:z.upgrades.time.effect,enabled:x(z.upgrades.time.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Time")]))})),K(()=>({multiplier:Re.enhancements.dilation.effect,enabled:x(Re.enhancements.dilation.bought),description:q(()=>a(g,null,[u("["),e,u("] Entropic Dilation")]))})),K(()=>({multiplier:z.getTimesquareEffect(Y.BACK),enabled:()=>o.gt(t(z.timesquares.squares[Y.BACK].square.amount),0),description:q(()=>a(g,null,[u("["),z.name,u("] Back Time Squares ("),Z(o.dZero),u(")")]))})),K(()=>({multiplier:2,enabled:z.upgrades.tour.bought,description:q(()=>a(g,null,[u("["),z.name,u("] Tour")]))})),K(()=>({multiplier:z.timelines.nerfs[Y.BACK],enabled:()=>t(z.timelines.depths[Y.BACK])>0,description:q(()=>a(g,null,[u("["),z.name,u("] Active Back Timeline Effect")]))})),K(()=>({multiplier:z.timelines.buffs[Y.BACK],enabled:()=>t(z.timelines.scores[Y.BACK]).gt(0),description:q(()=>a(g,null,[u("["),z.name,u("] Passive Back Timeline Bonus")]))}))]),p=y(()=>new o(b.apply(t(f)))),w=qe(0);this.on("preUpdate",V=>{w.value=o.add(t(w),V)});const C=nt(x(l)),S={fontSize:"48px",fontWeight:"normal"},k=V=>y(()=>({background:"#0000002F",border:`solid ${t(V.earned)?"var(--bought)":"var(--layer-color)"} 2px`,borderRadius:0,color:t(V.earned)?"var(--bought)":"var(--layer-color)"})),B={protoversal:mt(V=>({display:q(()=>a("span",{style:S},[u("P")])),requirements:j(()=>({resource:x(C),cost:1})),small:!0,style:k(V),tooltip:{requirement:a(g,null,[u("1 Acceleron")]),effect:a(g,null,[u("Keep Protoversal Boosts and Size Upgrades on Acceleron reset"),a("br",null,null),u("Keep Foam Achievements on Acceleron reset")])}})),infinitesimal:mt(V=>({display:q(()=>a("span",{style:S},[u("I")])),requirements:j(()=>({resource:x(C),cost:2})),small:!0,style:k(V),tooltip:{requirement:a(g,null,[u("2 "),r.displayName]),effect:a(g,null,[u("Keep Infinitesimal Boosts and Size Upgrades on Acceleron reset")])}})),subspatial:mt(V=>({display:q(()=>a("span",{style:S},[u("Ss")])),requirements:j(()=>({resource:x(C),cost:3})),small:!0,style:k(V),tooltip:{requirement:a(g,null,[u("3 "),r.displayName]),effect:a(g,null,[u("Keep Subspatial Boosts and Size Upgrades on Acceleron reset")])}})),skyrmion:mt(V=>({display:q(()=>a("span",{style:S},[u("S")])),requirements:j(()=>({resource:x(C),cost:5})),small:!0,style:k(V),tooltip:{requirement:a(g,null,[u("5 "),r.displayName]),effect:a(g,null,[u("Start with 10 Skyrmions on Acceleron reset")])}})),subplanck:mt(V=>({display:q(()=>a("span",{style:S},[u("Sp")])),requirements:j(()=>({resource:x(C),cost:7})),small:!0,style:k(V),tooltip:{requirement:a(g,null,[u("7 "),r.displayName]),effect:a(g,null,[u("Keep Subplanck Boosts and Size Upgrades on Acceleron reset")])}})),quantum:mt(V=>({display:q(()=>a("span",{style:S},[u("Q")])),requirements:j(()=>({resource:x(C),cost:10})),small:!0,style:k(V),tooltip:{requirement:a(g,null,[u("10 "),r.displayName]),effect:a(g,null,[u("Keep Protoversal Boosts and Size Upgrades on Acceleron reset")])}}))};for(const V of Object.values(B))Tn(V,{display:q(()=>a(g,null,[a("h3",null,[V.tooltip.requirement]),a("br",null,null),V.tooltip.effect]))});const R=(()=>{const V=ce(Te=>({visibility(){return t(this.bought)||o.gte(t(l),4)},display:q(()=>a(g,null,[a("h3",null,[u("Minute Acceleration")]),a("br",null,null),a("br",null,null),u("Time speed massively multiplies Foam generation"),a("br",null,null),a("br",null,null),u("Currently: "),D(rt(Te,void 0,!0)),u("x"),a("br",null,null),We(Te.requirements)])),effect(){return t(p).abs().sqrt().times(1e3)},requirements:j(()=>({cost:1,resource:x(r)}))}),Se),H=ce(Te=>({visibility(){return t(this.bought)||t(V.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Quantum Translation")]),a("br",null,null),a("br",null,null),u("Each Foam re-formation increases Acceleron gain by 100%"),a("br",null,null),a("br",null,null),u("Currently: "),Z(rt(Te,void 0,!0)),u("x"),a("br",null,null),We(Te.requirements)])),effect(){return Object.values(N).map(it=>t(_[it].upgrades.reform.amount)).reduce((it,Yt)=>it.plus(Yt),o.dZero)},requirements:j(()=>({cost:5,resource:x(r)}))}),Se),Ae=ce(Te=>({visibility(){return t(this.bought)||t(V.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Superpositional Acceleration")]),a("br",null,null),a("br",null,null),u("Gain a new Pion upgrade"),a("br",null,null),u("Gain a new Spinor upgrade"),a("br",null,null),a("br",null,null),a("br",null,null),We(Te.requirements)])),requirements:j(()=>({cost:25,resource:x(r)}))})),h=ce(Te=>({visibility(){return t(this.bought)||t(Ae.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Quasi-temporal Superstructures")]),a("br",null,null),a("br",null,null),u("Consume the past to build the future"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),We(Te.requirements)])),requirements:j(()=>({cost:50,resource:x(r)}))})),P=ce(Te=>({visibility(){return t(this.bought)||t(Xe.loops.acceleron.built)},display:q(()=>a(g,null,[a("h3",null,[u("Temporal Fluctuation")]),a("br",null,null),a("br",null,null),u("Each Entropic Loop multiplies Acceleron gain"),a("br",null,null),a("br",null,null),u("Currently: "),Z(rt(Te,void 0,!0)),u("x"),a("br",null,null),We(Te.requirements)])),effect(){return t(Xe.numBuiltLoops)+1},requirements:j(()=>({cost:new o(100),resource:x(r)}))}),Se),W=ce(Te=>({visibility(){return t(this.bought)||t(Xe.loops.instantProd.built)},display:q(()=>a(g,null,[a("h3",null,[u("Unstable Expansion")]),a("br",null,null),a("br",null,null),u("Unlock Entropic Enhancements"),a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),We(Te.requirements)])),requirements:j(()=>({cost:new o(300),resource:x(r)}))})),le=ce(Te=>({visibility(){return t(this.bought)||t(Xe.loops.timecube.built)},display:q(()=>a(g,null,[a("h3",null,[u("Stability Conversion")]),a("br",null,null),a("br",null,null),u("Each Entropic Loop multiplies Time Cube gain"),a("br",null,null),a("br",null,null),u("Currently: "),Z(rt(Te,void 0,!0)),u("x"),a("br",null,null),We(Te.requirements)])),effect(){return t(Xe.numBuiltLoops)+1},requirements:j(()=>({cost:new o(15e4),resource:x(r)}))}),Se),Me=ce(Te=>({visibility(){return t(this.bought)||t(le.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Subspatial Alacrity")]),a("br",null,null),a("br",null,null),u("Increase Subspatial Foam gain by "),Z(rt(Te,void 0,!0)),u("x"),a("br",null,null),a("br",null,null),a("br",null,null),We(Te.requirements)])),effect:1e4,requirements:j(()=>({cost:2e6,resource:x(r)}))})),Ee=ce(Te=>({visibility(){return t(this.bought)||t(Me.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Cubic Tetration")]),a("br",null,null),a("br",null,null),u("Remove the ability to Acceleron reset"),a("br",null,null),u("Unlock two additional Entropic Loops"),a("br",null,null),a("br",null,null),a("br",null,null),We(Te.requirements)])),requirements:j(()=>({cost:1e8,resource:x(r)}))})),Tt=ce(Te=>({visibility(){return t(this.bought)||t(Ee.bought)},display:q(()=>a(g,null,[a("h3",null,[u("Temporal Mastery")]),a("br",null,null),a("br",null,null),u("Unlock "),ye.isFirstBranch(ln)?ue.inflatons.displayName:ye.strings.displayName,a("br",null,null),a("br",null,null),a("br",null,null),a("br",null,null),We(Te.requirements)])),requirements:j(()=>({cost:1e19,resource:x(r)}))}));return{acceleration:V,translation:H,skyrmion:Ae,superstructures:h,fluctuation:P,expansion:W,conversion:le,alacrity:Me,tetration:Ee,mastery:Tt}})(),E=[R.acceleration,R.fluctuation,R.tetration,R.conversion,R.skyrmion],M=[R.translation,R.expansion,R.mastery,R.alacrity,R.superstructures],Q=q(()=>a(g,null,[a(Sn,{resource:r,color:n,effect:q(()=>a(g,null,[u("which are causing time to go "),D(t(p)),u("x faster"),a("br",null,null),u("For every second in real time, "),a("pre",{style:{display:"inline"}},[Ri(t(p))]),u(" passes")]))},null)])),_e=Hn({loops:()=>({display:"Entropic Loops",tab:Ht(()=>({display:q(()=>a(g,null,[te(Q),t(R.tetration.bought)?a(Ne,{height:"70px"},null):te(d),te(Xe.upperDisplay),a(Qm,{radius:192,width:60,distance:150,top:4,right:M,bottom:4,left:E},null),a(Ne,null,null),te(Xe.lowerDisplay),a(Ne,null,null),a(Ne,null,null),nn(...Object.values(B))]))}))}),enhancements:()=>({display:"Entropic Enhancements",tab:Ht(()=>({display:q(()=>a(g,null,[te(Q),te(Re.display)]))}))})});return{name:e,color:n,accelerons:r,bestAccelerons:s,totalAccelerons:l,conversion:m,timeMult:p,time:w,upgrades:R,achievements:B,tabs:_e,display:q(()=>a(g,null,[t(R.expansion.bought)?te(_e):te(t(_e.tabs.loops.tab))])),unlocked:i,loops:Xe,entropy:Re}}),tp="protoversal",un=Ze(tp,function(){const e=nt(0,"Protoversal Foam"),n=It(()=>[..._.production,K(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Protoversal Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),K(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Protoversal Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),K(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Protoversal Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),K(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:q(()=>a(g,null,[u("["),_.name,u("] Protoversal Boost 1 ("),Z(t(c[1].total)),u(")")]))})),K(()=>({multiplier:F.pion.upgrades.delta.effect,enabled:()=>o.gt(t(F.pion.upgrades.delta.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03B4 ("),Z(t(F.pion.upgrades.delta.totalAmount)),u(")")]))})),K(()=>({multiplier:F.pion.upgrades.epsilon.effect,enabled:()=>o.gt(t(F.pion.upgrades.epsilon.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03B5 ("),Z(t(F.pion.upgrades.epsilon.totalAmount)),u(")")]))})),K(()=>({multiplier:F.pion.upgrades.theta.effect,enabled:()=>o.gt(t(F.pion.upgrades.theta.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03B8 ("),Z(t(F.pion.upgrades.theta.totalAmount)),u(")")]))})),Pn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),_.name,u("] Protoversal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),K(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Protoversal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),..._.timelineProduction,K(()=>({multiplier:()=>t(z.upgrades.toil.effect)[N.protoversal],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(F.totalSkyrmions).times(.01)));_.on("preUpdate",d=>{if(!t(_.unlocked)||o.eq(t(s.reform.amount),0))return;const f=t(L.timeMult).times(d);e.value=f.times(t(i)).plus(e.value)});const r=y(()=>t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:Ue(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(4).times(2),requiresPay:()=>!t(_.achievements[N.protoversal].earned)})),display:_t(N.protoversal,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.protoversal].earned)}),onClick:()=>yt(N.protoversal)}),Se),[X.width]:Ue(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(6).times(5),requiresPay:()=>!t(_.achievements[N.protoversal].earned)})),display:_t(N.protoversal,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.protoversal].earned)}),onClick:()=>yt(N.protoversal)}),Se),[X.depth]:Ue(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(_.achievements[N.protoversal].earned)})),display:_t(N.protoversal,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.protoversal].earned)}),onClick:()=>yt(N.protoversal)}),Se),condense:ce(d=>({visibility:()=>!t(d.bought),requirements:j(()=>({resource:x(e),cost:1e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){_.infinitesimal.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(_.achievements.reform.earned)})})),reform:Ue(d=>({visibility:x(s.condense.bought),requirements:j(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(_.achievements.reform.earned)})),display:Kn(N.protoversal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(_.achievements.reform.earned)})}),Se)};_.on("update",()=>{if(t(_.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(_.achievements[N.protoversal].earned))for(const d of Object.values(X))t(s[d].canClick)&&s[d].onClick()});const l=y(()=>t(_.globalBoostBonus).plus(pe(N.quantum,5)).plus(pe(N.subspatial,3))),m=y(()=>t(l).plus(pe(N.protoversal,5))),c={index:qe(1),1:je(d=>({display:()=>`Multiply the generation of Protoversal Foam by ${D(pe(N.protoversal,1))}`,effect:()=>new o(t(d.total)).times(t(F.pion.upgrades.kappa.effect)).times(t(F.spinor.upgrades.delta.effect)).plus(1),bonus:m})),2:je(d=>({display:()=>`Gain ${D(pe(N.protoversal,2))} bonus Pion and Spinor Upgrade \u03B1 levels`,effect:()=>new o(t(d.total)),bonus:m})),3:je(d=>({display:()=>`Gain ${D(pe(N.protoversal,3))} bonus Pion and Spinor Upgrade \u03B2 levels`,effect:()=>o.sqrt(t(d.total)),bonus:m})),4:je(d=>({display:()=>`Gain ${D(pe(N.protoversal,4))} bonus Pion and Spinor Upgrade \u03B3 levels`,effect:()=>new o(t(d.total)),bonus:m})),5:je(d=>({display:()=>`Add ${D(pe(N.protoversal,5))} levels to all above boosts`,effect:()=>o.times(t(d.total),.1),bonus:l}))};return{amount:e,upgrades:s,boosts:c,production:i,display:"This page intentionally left blank"}});const np={class:"fome-grid"},ip={key:0},rp=["innerHTML"],sp=ie({__name:"Fome",setup(e){function n(i){return`You have ${D(t(_[i].amount))} ${_[i].amount.displayName}${o.gt(t(_[i].upgrades.reform.amount),1)?`<sup>${Z(t(_[i].upgrades.reform.amount))}</sup>`:""}`}return(i,r)=>(I(),A("div",np,[(I(!0),A(g,null,Fe(Object.values(t(N)).slice().reverse(),s=>(I(),A(g,{key:s},[t(t(L).unlocked)||t(t(ue).unlocked)||t(t(ye).unlocked)||t(o).gt(t(t(_)[s].upgrades.reform.amount),0)?(I(),A("div",ip,[$("div",{innerHTML:n(s),style:{"white-space":"nowrap"}},null,8,rp),$("div",null,"+"+se(t(D)(t(t(_)[s].production)))+"/s",1)])):J("",!0),(I(!0),A(g,null,Fe(Object.keys(t(_)[s].upgrades),l=>(I(),ne(Ce(t(te)(t(_)[s].upgrades[l]))))),256))],64))),128))]))}});var op=fe(sp,[["__scopeId","data-v-53718422"]]);const Xn=e=>($t("data-v-149b6b3a"),e=e(),Mt(),e),ap={style:{display:"grid",gridTemplateColumns:"repeat(7, auto)",width:"fit-content",margin:"auto","padding-left":"150px"}},lp=Xn(()=>$("div",null,"[",-1)),up=Xn(()=>$("div",null,"+",-1)),cp=Xn(()=>$("div",null,null,-1)),dp=Xn(()=>$("div",null,null,-1)),mp=Xn(()=>$("div",null,"]:",-1)),pp=ie({__name:"FomeBoost",setup(e){const n=Object.fromEntries(Object.values(N).map(i=>[i,Object.fromEntries(Object.values([1,2,3,4,5]).map(r=>[r,t(_[i].boosts[r].display)]))]));return(i,r)=>(I(),A("div",ap,[(I(!0),A(g,null,Fe(t(n),(s,l)=>(I(),A(g,{key:l},[(I(),A(g,null,Fe(7,m=>a(Ne,{"num-labels":7,key:m})),64)),(I(!0),A(g,null,Fe(s,(m,c)=>{var d,f;return I(),A(g,{key:l+"-"+c},[t(o).gt(t(t(_)[l].boosts[c].total),0)?(I(),A(g,{key:0},[$("div",null,se(t(_)[l].amount.displayName.split(" ")[0])+" Boost "+se(c),1),lp,$("div",null,se(t(Z)(t(t(_)[l].boosts[c].amount))),1),t(o).gt(t((d=t(_)[l].boosts[c].bonus)!=null?d:0),0)?(I(),A(g,{key:0},[up,$("div",null,se(t(D)(t((f=t(_)[l].boosts[c].bonus)!=null?f:0))),1)],64)):(I(),A(g,{key:1},[cp,dp],64)),mp,$("div",null,se(m),1)],64)):(I(),A(g,{key:1},Fe(7,b=>$("div",{"num-labels":7,key:b})),64))],64)}),128))],64))),128))]))}});var fp=fe(pp,[["__scopeId","data-v-149b6b3a"]]);function tn(e){return ze(n=>{const i=e.call(n,n);return U(i,"fomeType"),i.partialDisplay=r=>a("span",{style:t(i.requirementMet)?"":"color: var(--danger)"},[_[t(i.fomeType)].amount.displayName,a("sup",null,[mn(o.floor(i.cost instanceof v?Gt(i.cost,r!=null?r:1,!1):t(i.cost)))])]),i.display=r=>a("div",null,[u("Requires: "),_[t(i.fomeType)].amount.displayName,a("sup",null,[mn(o.floor(i.cost instanceof v?Gt(i.cost,r!=null?r:1,!1):t(i.cost)))])]),i.visibility=$e.Visible,i.requiresPay=!1,U(i,"cost"),i.requirementMet=y(()=>i.cost instanceof v?o.gte(_[t(i.fomeType)].upgrades.reform.amount.value,i.cost.evaluate()):o.gte(_[t(i.fomeType)].upgrades.reform.amount.value,t(i.cost))),i})}const gp="infinitesimal",ur=Ze(gp,function(){const e=nt(0,"Infinitesimal Foam"),n=It(()=>[..._.production,K(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Infinitesimal Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),K(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Infinitesimal Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),K(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Infinitesimal Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),K(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:q(()=>a(g,null,[u("["),_.name,u("] Infinitesimal Boost 1 ("),Z(t(m[1].total)),u(")")]))})),K(()=>({multiplier:F.pion.upgrades.iota.effect,enabled:()=>o.gt(t(F.pion.upgrades.iota.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03B9 ("),Z(t(F.pion.upgrades.iota.totalAmount)),u(")")]))})),K(()=>({multiplier:F.spinor.upgrades.epsilon.effect,enabled:()=>o.gt(t(F.spinor.upgrades.epsilon.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Spinor Upgrade \u03B5 ("),Z(t(F.spinor.upgrades.epsilon.totalAmount)),u(")")]))})),K(()=>({multiplier:F.spinor.upgrades.iota.effect,enabled:()=>o.gt(t(F.spinor.upgrades.iota.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Spinor Upgrade \u03B9 ("),Z(t(F.spinor.upgrades.iota.totalAmount)),u(")")]))})),K(()=>({multiplier:Re.enhancements.extension.effect,enabled:x(Re.enhancements.extension.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Extension")]))})),Pn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),_.name,u("] Infinitesimal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),K(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Infinitesimal Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),..._.timelineProduction,K(()=>({multiplier:()=>t(z.upgrades.toil.effect)[N.infinitesimal],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(F.totalSkyrmions).times(.01)));_.on("preUpdate",c=>{if(!t(_.unlocked)||o.eq(t(s.reform.amount),0))return;const d=t(L.timeMult).times(c);e.value=d.times(t(i)).plus(e.value)});const r=y(()=>t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(5).times(6),requiresPay:()=>!t(_.achievements[N.infinitesimal].earned)})),display:_t(N.infinitesimal,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.infinitesimal].earned)}),onClick:()=>yt(N.infinitesimal)}),Se),[X.width]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(7).times(10),requiresPay:()=>!t(_.achievements[N.infinitesimal].earned)})),display:_t(N.infinitesimal,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.infinitesimal].earned)}),onClick:()=>yt(N.infinitesimal)}),Se),[X.depth]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(_.achievements[N.infinitesimal].earned)})),display:_t(N.infinitesimal,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.infinitesimal].earned)}),onClick:()=>yt(N.infinitesimal)}),Se),condense:ce(c=>({visibility:()=>!t(c.bought)&&(t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||t(_[N.protoversal].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:2e4})),display:{description:`Condense your ${e.displayName}`},onPurchase(){_.subspatial.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(_.achievements.reform.earned)})})),reform:Ue(c=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(c.amount),3).max(2).pow_base(t(c.amount)).plus(1).times(5).pow10().dividedBy(5),requiresPay:()=>!t(_.achievements.reform.earned)})),tn(()=>({fomeType:N.protoversal,cost:v.variable(c.amount).plus(2)}))],display:Kn(N.infinitesimal),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(_.achievements.reform.earned)})}),Se)};_.on("update",()=>{if(t(_.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(_.achievements[N.infinitesimal].earned))for(const c of Object.values(X))t(s[c].canClick)&&s[c].onClick()});const l=y(()=>t(_.globalBoostBonus).plus(pe(N.quantum,5)).plus(pe(N.subspatial,3))),m={index:qe(1),1:je(c=>({display:()=>`Multiply the generation of Infinitesimal Foam by ${D(pe(N.infinitesimal,1))}`,effect:()=>new o(t(c.total)).times(t(F.pion.upgrades.lambda.effect)).plus(1),bonus:l})),2:je(c=>({display:()=>`Increase Pion and Spinor gain by ${D(o.minus(pe(N.infinitesimal,2),1).times(100))}%`,effect:()=>o.times(t(c.total),.5).plus(1),bonus:l})),3:je(c=>({display:()=>`Reduce Pion and Spinor \u03B1 costs by ${D(o.sub(1,pe(N.infinitesimal,3)).times(100))}%`,effect:()=>o.pow(.8,t(c.total)),bonus:l})),4:je(c=>({display:()=>`Increase Skyrmion gain by ${D(o.minus(pe(N.infinitesimal,4),1).times(100))}%`,effect:()=>o.times(t(c.total),.5).plus(1),bonus:l})),5:je(c=>({display:()=>`Reduce Pion and Spinor Upgrade \u03B3 costs by ${D(o.sub(1,pe(N.infinitesimal,5)).times(100))}%`,effect:()=>o.pow(.8,t(c.total)),bonus:l}))};return{amount:e,upgrades:s,boosts:m,production:i,display:"This page intentionally left blank"}}),bp="subspatial",cr=Ze(bp,function(){const e=nt(0,"Subspatial Foam"),n=It(()=>[..._.production,K(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subspatial Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),K(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subspatial Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),K(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subspatial Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),K(()=>({multiplier:c[1].effect,enabled:()=>o.gt(t(c[1].total),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subspatial Boost 1 ("),Z(t(c[1].total)),u(")")]))})),K(()=>({multiplier:F.pion.upgrades.zeta.effect,enabled:()=>o.gt(t(F.pion.upgrades.zeta.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Pion Upgrade \u03B6 ("),Z(t(F.pion.upgrades.zeta.totalAmount)),u(")")]))})),K(()=>({multiplier:F.spinor.upgrades.theta.effect,enabled:()=>o.gt(t(F.spinor.upgrades.theta.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Spinor Upgrade \u03B8 ("),Z(t(F.spinor.upgrades.theta.totalAmount)),u(")")]))})),K(()=>({multiplier:L.upgrades.alacrity.effect,enabled:t(L.upgrades.alacrity.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Subspatial Alacrity")]))})),K(()=>({multiplier:Re.enhancements.configuration.effect,enabled:x(Re.enhancements.configuration.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Configuration")]))})),Pn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),_.name,u("] Subspatial Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),K(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subspatial Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),..._.timelineProduction,K(()=>({multiplier:()=>t(z.upgrades.toil.effect)[N.subspatial],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(F.totalSkyrmions).times(.01)));_.on("preUpdate",d=>{if(!t(_.unlocked)||o.eq(t(s.reform.amount),0))return;const f=t(L.timeMult).times(d);e.value=f.times(t(i)).plus(e.value)});const r=y(()=>t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:Ue(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(6).times(10),requiresPay:()=>!t(_.achievements[N.subspatial].earned)})),display:_t(N.subspatial,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.subspatial].earned)}),onClick:()=>yt(N.subspatial)}),Se),[X.width]:Ue(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(8).times(18),requiresPay:()=>!t(_.achievements[N.subspatial].earned)})),display:_t(N.subspatial,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.subspatial].earned)}),onClick:()=>yt(N.subspatial)}),Se),[X.depth]:Ue(d=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(d.amount),1.15).pow_base(10).times(60),requiresPay:()=>!t(_.achievements[N.subspatial].earned)})),display:_t(N.subspatial,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.subspatial].earned)}),onClick:()=>yt(N.subspatial)}),Se),condense:ce(d=>({visibility:()=>!t(d.bought)&&(t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||t(_[N.infinitesimal].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:4e5})),display:{description:`Condense your ${e.displayName}`},onPurchase(){_.subplanck.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(_.achievements.reform.earned)})})),reform:Ue(d=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(d.amount),3).max(2).pow_base(t(d.amount)).plus(1).times(6).pow10().dividedBy(2.5),requiresPay:()=>!t(_.achievements.reform.earned)})),tn(()=>({fomeType:N.infinitesimal,cost:v.variable(d.amount).plus(2)}))],display:Kn(N.subspatial),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(_.achievements.reform.earned)})}),Se)};_.on("update",()=>{if(t(_.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(_.achievements[N.subspatial].earned))for(const d of Object.values(X))t(s[d].canClick)&&s[d].onClick()});const l=y(()=>t(_.globalBoostBonus).plus(pe(N.quantum,5))),m=y(()=>t(l).plus(pe(N.subspatial,3))),c={index:qe(1),1:je(d=>({display:()=>`Multiply the generation of Subspatial Foam by ${D(pe(N.subspatial,1))}`,effect:()=>new o(t(d.total)).times(t(F.spinor.upgrades.kappa.effect)),bonus:m})),2:je(d=>({display:()=>`The Pion and Spinor nerfs act as if you had ${D(pe(N.subspatial,2))} fewer upgrades`,effect:()=>new o(t(d.total)),bonus:m})),3:je(d=>({display:()=>`Add ${D(pe(N.subspatial,3))} levels to all above boosts`,effect:()=>o.times(t(d.total),.1),bonus:l})),4:je(d=>({display:()=>`Increase effective Skyrmion count by ${D(pe(N.subspatial,4))}`,effect:()=>new o(t(d.total)),bonus:l})),5:je(d=>({display:()=>`Pion and Spinor upgrades cost as if you had ${D(pe(N.subspatial,5))} fewer`,effect:()=>o.times(t(d.total),.25),bonus:l}))};return{amount:e,upgrades:s,boosts:c,production:i,display:"This page intentionally left blank"}}),hp="subplanck",dr=Ze(hp,function(){const e=nt(0,"Subplanck Foam"),n=It(()=>[..._.production,K(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subplanck Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),K(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subplanck Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),K(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subplanck Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),K(()=>({multiplier:m[1].effect,enabled:()=>o.gt(t(m[1].total),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subplanck Boost 1 ("),Z(t(m[1].total)),u(")")]))})),K(()=>({multiplier:Re.enhancements.invention.effect,enabled:x(Re.enhancements.invention.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Invention")]))})),Pn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),_.name,u("] Subplanck Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),K(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Subplanck Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),..._.timelineProduction,K(()=>({multiplier:()=>t(z.upgrades.toil.effect)[N.subplanck],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(F.totalSkyrmions).times(.01)));_.on("preUpdate",c=>{if(!t(_.unlocked)||o.eq(t(s.reform.amount),0))return;const d=t(L.timeMult).times(c);e.value=d.times(t(i)).plus(e.value)});const r=y(()=>t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(7).times(15),requiresPay:()=>!t(_.achievements[N.subplanck].earned)})),display:_t(N.subplanck,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.subplanck].earned)}),onClick:()=>yt(N.subplanck)}),Se),[X.width]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(9).times(25),requiresPay:()=>!t(_.achievements[N.subplanck].earned)})),display:_t(N.subplanck,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.subplanck].earned)}),onClick:()=>yt(N.subplanck)}),Se),[X.depth]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(11).times(90),requiresPay:()=>!t(_.achievements[N.subplanck].earned)})),display:_t(N.subplanck,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.subplanck].earned)}),onClick:()=>yt(N.subplanck)}),Se),condense:ce(c=>({visibility:()=>!t(c.bought)&&(t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||t(_[N.subspatial].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:2e5})),display:{description:`Condense your ${e.displayName}`},onPurchase(){_.quantum.upgrades.reform.amount.value=o.dOne},classes:()=>({auto:t(_.achievements.reform.earned)})})),reform:Ue(c=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(c.amount),3).max(2).pow_base(t(c.amount)).plus(1).times(5).pow10().times(2),requiresPay:()=>!t(_.achievements.reform.earned)})),tn(()=>({fomeType:N.subspatial,cost:v.variable(c.amount).plus(2)}))],display:Kn(N.subplanck),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(_.achievements.reform.earned)})}),Se)};_.on("update",()=>{if(t(_.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(_.achievements[N.subplanck].earned))for(const c of Object.values(X))t(s[c].canClick)&&s[c].onClick()});const l=y(()=>t(_.globalBoostBonus).plus(pe(N.quantum,5))),m={index:qe(1),1:je(c=>({display:()=>`Multiply the generation of Subplanck Foam by ${D(pe(N.subplanck,1))}`,effect:()=>new o(t(c.total)),bonus:l})),2:je(c=>({display:()=>`Gain ${D(pe(N.subplanck,2))} bonus Pion and Spinor Upgrade \u03B4 levels`,effect:()=>o.times(t(c.total),.5),bonus:l})),3:je(c=>({display:()=>`Gain ${D(pe(N.subplanck,3))} bonus Pion and Spinor Upgrade \u03B5 levels`,effect:()=>o.times(t(c.total),.5),bonus:l})),4:je(c=>({display:()=>`Gain ${D(pe(N.subplanck,4))} bonus Pion and Spinor Upgrade \u03B6 levels`,effect:()=>o.times(t(c.total),.5),bonus:l})),5:je(c=>({display:()=>`Gain ${D(pe(N.subplanck,5))} bonus Pion and Spinor Upgrade \u03B7 levels`,effect:()=>o.times(t(c.total),.5),bonus:l}))};return{amount:e,upgrades:s,boosts:m,production:i,display:"This page intentionally left blank"}}),vp="quantum",Xt=Ze(vp,function(){const e=nt(0,"Quantum Foam"),n=It(()=>[..._.production,K(()=>({multiplier:s[X.height].effect,enabled:()=>o.gt(t(s[X.height].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Quantum Foam Height ("),Z(t(s[X.height].amount)),u(")")]))})),K(()=>({multiplier:s[X.width].effect,enabled:()=>o.gt(t(s[X.width].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Quantum Foam Width ("),Z(t(s[X.width].amount)),u(")")]))})),K(()=>({multiplier:s[X.depth].effect,enabled:()=>o.gt(t(s[X.depth].amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Quantum Foam Depth ("),Z(t(s[X.depth].amount)),u(")")]))})),Pn(()=>({exponent:s.reform.effect,enabled:()=>o.gt(t(s.reform.amount),1),description:q(()=>a(g,null,[u("["),_.name,u("] Quantum Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),K(()=>({multiplier:0,enabled:()=>o.eq(t(s.reform.amount),0),description:q(()=>a(g,null,[u("["),_.name,u("] Quantum Foam"),a("sup",null,[Z(t(s.reform.amount))])]))})),..._.timelineProduction,K(()=>({multiplier:()=>t(z.upgrades.toil.effect)[N.quantum],enabled:()=>t(z.upgrades.toil.bought)&&t(z.timelines.inTimeline),description:q(()=>a(g,null,[u("["),z.name,u("] Toil")]))}))]),i=y(()=>n.apply(t(F.totalSkyrmions).times(.01)));_.on("preUpdate",c=>{if(!t(_.unlocked)||o.eq(t(s.reform.amount),0))return;const d=t(L.timeMult).times(c);e.value=d.times(t(i)).plus(e.value)});const r=y(()=>t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||o.gt(t(s.reform.amount),0)),s={[X.height]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(8).times(20),requiresPay:()=>!t(_.achievements[N.quantum].earned)})),display:_t(N.quantum,X.height),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.quantum].earned)}),onClick:()=>yt(N.quantum)}),Se),[X.width]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(10).times(30),requiresPay:()=>!t(_.achievements[N.quantum].earned)})),display:_t(N.quantum,X.width),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.quantum].earned)}),onClick:()=>yt(N.quantum)}),Se),[X.depth]:Ue(c=>({visibility:r,requirements:j(()=>({resource:x(e),cost:()=>o.pow(t(c.amount),1.15).pow_base(12).times(100),requiresPay:()=>!t(_.achievements[N.quantum].earned)})),display:_t(N.quantum,X.depth),effect(){return o.add(t(this.amount),1)},classes:()=>({auto:t(_.achievements[N.quantum].earned)}),onClick:()=>yt(N.quantum)}),Se),condense:ce(c=>({visibility:()=>!t(c.bought)&&(t(L.unlocked)||t(ue.unlocked)||t(ye.unlocked)||t(_[N.subplanck].upgrades.condense.bought)),requirements:j(()=>({resource:x(e),cost:1e5})),display:{description:`Condense your ${e.displayName}`},classes:()=>({auto:t(_.achievements.reform.earned)})})),reform:Ue(c=>({visibility:x(s.condense.bought),requirements:[j(()=>({resource:x(e),cost:()=>o.minus(t(c.amount),3).max(2).pow_base(t(c.amount)).plus(1).times(4).pow10(),requiresPay:()=>!t(_.achievements.reform.earned)})),tn(()=>({fomeType:N.subplanck,cost:v.variable(c.amount).plus(2)}))],display:Kn(N.quantum),effect(){return o.cbrt(t(this.amount))},classes:()=>({auto:t(_.achievements.reform.earned)})}),Se)};_.on("update",()=>{if(t(_.achievements.reform.earned)&&(!t(s.condense.bought)&&t(s.condense.canPurchase)&&s.condense.purchase(),t(s.reform.canClick)&&s.reform.onClick()),t(_.achievements[N.quantum].earned))for(const c of Object.values(X))t(s[c].canClick)&&s[c].onClick()});const l=y(()=>t(_.globalBoostBonus).plus(pe(N.quantum,5))),m={index:qe(1),1:je(c=>({display:()=>`Multiply the generation of all Foam types by ${D(pe(N.quantum,1))}`,effect:()=>o.times(t(c.total),t(F.pion.upgrades.kappa.effect)).sqr().plus(1),bonus:l})),2:je(c=>({display:()=>`Reduce the Pion and Spinor cost nerf exponent by ${D(o.sub(1,pe(N.quantum,2)).times(100))}%`,effect:()=>o.pow(.975,o.gt(t(c.total),16)?o.ln(t(c.total)).times(o.ln(2).recip().times(4)):t(c.total)),bonus:l})),3:je(c=>({display:()=>`Multiply the generation of all Foam types again by ${D(pe(N.quantum,3))}x`,effect:()=>o.times(o.gt(t(c.total),16)?o.sqrt(t(c.total)).times(4):t(c.total),o.sqrt(pe(N.quantum,1))).dividedBy(10).plus(1),bonus:l})),4:je(c=>({display:()=>`Gain ${D(pe(N.quantum,4))} bonus Pion and Spinor Upgrade \u03B8, \u03B9, and \u03BA levels`,effect:()=>o.times(t(c.total),.25),bonus:l})),5:je(c=>({display:()=>`Add ${D(pe(N.quantum,5))} bonus levels to all above boosts`,effect:()=>o.times(t(c.total),.1),bonus:_.globalBoostBonus}))};return{amount:e,upgrades:s,boosts:m,production:i,display:"This page intentionally left blank"}});let N=function(e){return e.protoversal="protoversal",e.infinitesimal="infinitesimal",e.subspatial="subspatial",e.subplanck="subplanck",e.quantum="quantum",e}({}),X=function(e){return e.height="height",e.width="width",e.depth="depth",e}({});function yt(e){const n=_[e].boosts.index,i=_[e].boosts[t(n)].amount;i.value=o.add(t(i),1),n.value=t(n)===5?1:t(n)+1}function _t(e,n){let i;switch(n){case X.height:i="Height";break;case X.width:i="Width";break;case X.depth:i="Depth";break}return q(()=>a(g,null,[a("h3",null,[u("Enlarge "),_[e].amount.displayName,u(" "),i,u(" by 1m")]),a("br",null,null),a("br",null,null),u("Current "),i,u(": "),D(t(_[e].upgrades[n].amount)),u("m"),a("br",null,null),a("br",null,null),We(_[e].upgrades[n].requirements)]))}function Kn(e){return q(()=>a(g,null,[u("Re-form your "),_[e].amount.displayName,a("br",null,null),a("br",null,null),u("Amount: "),Z(t(_[e].upgrades.reform.amount)),a("br",null,null),a("br",null,null),We(_[e].upgrades.reform.requirements)]))}const yp="fome",_=Ze(yp,function(){const e="Quantum Foam",n="#ffffff",i=y(()=>t(ye.milestones[1].earned)||t(F.upgrades.fome.bought)),r=y(()=>o.gt(t(Xt.upgrades.reform.amount),0)?N.quantum:o.gt(t(dr.upgrades.reform.amount),0)?N.subplanck:o.gt(t(cr.upgrades.reform.amount),0)?N.subspatial:o.gt(t(ur.upgrades.reform.amount),0)?N.infinitesimal:N.protoversal),s=[K(()=>({multiplier:F.spinor.upgrades.eta.effect,enabled:()=>o.gt(t(F.spinor.upgrades.eta.totalAmount),0),description:q(()=>a(g,null,[u("["),F.name,u("] Spinor Upgrade \u03B7 ("),Z(t(F.spinor.upgrades.eta.totalAmount)),u(")")]))})),K(()=>({multiplier:L.upgrades.acceleration.effect,enabled:x(L.upgrades.acceleration.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Acceleration")]))})),K(()=>({multiplier:Re.enhancements.invention.effect,enabled:x(Re.enhancements.invention.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Invention")]))})),K(()=>({multiplier:L.loops.loops.tempFome.value,enabled:L.loops.loops.tempFome.built,description:q(()=>a(g,null,[u("["),L.name,u("] Acceleron Loop #4")]))})),K(()=>({multiplier:Re.enhancements.formation.effect,enabled:x(Re.enhancements.formation.bought),description:q(()=>a(g,null,[u("["),L.name,u("] Entropic Formation")]))})),K(()=>({multiplier:ue.fomeBonus,enabled:()=>o.gt(t(ue.inflatons),0),description:q(()=>a(g,null,[u("["),ue.name,u("]")]))})),K(()=>({multiplier:o.dOne,enabled:!1,description:q(()=>a(g,null,[u("["),ue.name,u("] Inflaton Upgrade 21")]))})),K(()=>({multiplier:Xt.boosts[1].effect,enabled:()=>o.gt(t(Xt.boosts[1].total),0),description:q(()=>a(g,null,[u("["),e,u("] Quantum Boost 1 ("),Z(t(Xt.boosts[1].total)),u(")")]))})),K(()=>({multiplier:Xt.boosts[3].effect,enabled:()=>o.gt(t(Xt.boosts[3].total),0),description:q(()=>a(g,null,[u("["),e,u("] Quantum Boost 3 ("),Z(t(Xt.boosts[3].total)),u(")")]))}))],l=[K(()=>({multiplier:He.buffs[Y.LEFT],enabled:x(z.upgrades.tactics.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Passive Left Timeline Bonus")]))})),K(()=>({multiplier:()=>o.reciprocate(t(He.nerfs[Y.LEFT])),enabled:x(z.upgrades.tactics.bought),description:q(()=>a(g,null,[u("["),z.name,u("] Active Left Timeline Effect")]))}))],m=y(()=>o.add(rt(Re.enhancements.entitlement,0),rt(z.upgrades.tier,0))),c={fontSize:"48px",fontWeight:"normal",color:"var(--feature-foreground)"},d={[N.protoversal]:mt(()=>({display:q(()=>a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Protoversal Foam")]),effect:a(g,null,[u("Unlock the Pion and Spinor Buy All button"),a("br",null,null),u("Automatically enlarge your Protoversal Foam")])}})),[N.infinitesimal]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("3")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),3)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("3")])]),effect:a(g,null,[u("Automatically enlarge your Infinitesimal Foam")])}})),[N.subspatial]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("4")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),4)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("4")])]),effect:a(g,null,[u("Automatically enlarge your Subspatial Foam")])}})),[N.subplanck]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("5")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),5)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("5")])]),effect:a(g,null,[u("Automatically enlarge your Subplanck Foam")])}})),[N.quantum]:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("P"),a("sup",{style:{fontWeight:"normal"}},[u("6")])])])),requirements:Ot(()=>o.gte(t(un.upgrades.reform.amount),6)),tooltip:{requirement:a(g,null,[u("Obtain Protoversal Foam"),a("sup",null,[u("6")])]),effect:a(g,null,[u("Automatically enlarge your Quantum Foam")])}})),reform:mt(()=>({display:q(()=>a(g,null,[a("span",{style:c},[u("Q"),a("sup",{style:{fontWeight:"normal"}},[u("2")])])])),requirements:Ot(()=>o.gte(t(Xt.upgrades.reform.amount),2)),tooltip:{requirement:a(g,null,[u("Re-form your Quantum Foam")]),effect:a(g,null,[u("Automatically re-form your Foam")])}}))};for(const b of Object.values(d))Tn(b,{display:q(()=>a(g,null,[a("h3",null,[b.tooltip.requirement]),a("br",null,null),b.tooltip.effect]))});const f=Hn({main:()=>({display:"Foam",tab:Ht(()=>({display:q(()=>a(g,null,[a("div",null,[u("You have "),a(Yn,{resource:_[t(r)].amount,color:n},null),u(" "),_[t(r)].amount.displayName,o.gt(t(_[t(r)].upgrades.reform.amount),1)?a("sup",null,[Z(t(_[t(r)].upgrades.reform.amount))]):void 0]),a(Ne,null,null),a(op,null,null),a(Ne,{height:"8px"},null),Lo(...Object.values(d))]))}))}),boosts:()=>({display:"Boosts",tab:Ht(()=>({display:q(()=>a(fp,null,null))}))})});return{name:e,color:n,unlocked:i,production:s,timelineProduction:l,globalBoostBonus:m,achievements:d,display:q(()=>a(g,null,[o.gt(t(un.boosts[1].total),0)?te(f):te(t(f.tabs.main.tab))])),tabStyle:{"--bought":"#929aa9"},tabs:f,[N.protoversal]:un,[N.infinitesimal]:ur,[N.subspatial]:cr,[N.subplanck]:dr,[N.quantum]:Xt}});const _p={class:"skyrmion-container"},wp={class:"skyrmion-grid"},kp=ie({__name:"Skyrmion",setup(e){const n=F.upgrades,i={fome:{row:2,col:7},autoGain:{row:2,col:11},alpha:{row:3,col:5},beta:{row:3,col:9},gamma:{row:3,col:13},delta:{row:4,col:3},epsilon:{row:4,col:7},zeta:{row:4,col:11},eta:{row:4,col:15},theta:{row:5,col:1},iota:{row:5,col:5},kappa:{row:5,col:9},lambda:{row:5,col:13},mu:{row:5,col:17},nu:{row:6,col:3},xi:{row:6,col:7},pi:{row:6,col:11},rho:{row:6,col:15}};function r(s){return{"--row":i[s].row,"--col":i[s].col}}return(s,l)=>(I(),A("div",_p,[$("ul",wp,[$("li",qt({class:"skyrmion-upgrade reset"},s.$attrs),[jt(s.$slots,"default",{},void 0,!0)],16),(I(!0),A(g,null,Fe(t(t(n)),(m,c)=>(I(),A(g,{key:c},[t(m.visibility)!==t($e).None?(I(),A("li",qt({key:0,class:"skyrmion-upgrade"},s.$attrs,{style:r(c)}),[(I(),ne(Ce(t(te)(m))))],16)):J("",!0)],64))),128))])]))}});var Sp=fe(kp,[["__scopeId","data-v-3a223863"]]);function Cp(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fr(e)}const Np="skyrmion",F=Ze(Np,function(){const e="Skyrmions",n="#37d7ff",i=f=>v.variable(f).pow10().dividedBy(_.infinitesimal.boosts[4].effect).dividedBy(Ve.upgrades.alpha.effect),r=Ue(f=>({initialAmount:1,requirements:[j(()=>({resource:x(ot.pions),requiresPay:()=>!t(c.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:i(f.amount)})),j(()=>({resource:x(Ve.spinors),requiresPay:()=>!t(c.autoGain.bought),cumulativeCost:!0,maxBulkAmount:10,cost:i(f.amount)}))],style:{paddingHorizontal:"20px"},display:q(()=>{const b=i(f.amount),p=o.clampMin(Vn(r.requirements),1),w=Gt(b,o.clampMin(p,1),!0);return a(g,null,[a("h3",null,[u("Convert "),D(w),u(" Pions and Spinors to "),Z(p),u(" Skyrmions")])])})}));Tn(r,{direction:Oe.Up,display:q(()=>{const f=i(r.amount),b=Vn(r.requirements),p=Gt(f,o.add(b,1),!0);return a(g,null,[u("Next at "),D(p),u(" Pions and Spinors")])})}),this.on("update",()=>{t(c.autoGain.bought)&&Nt(r.requirements)&&r.onClick()});const s=nt(r.amount,e),l=y(()=>o.add(t(s),pe(N.subspatial,4))),m=[K(()=>({multiplier:ot.upgrades.alpha.effect,enabled:()=>o.gt(t(ot.upgrades.alpha.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Pion Upgrade \u03B1 ("),D(t(ot.upgrades.alpha.totalAmount)),u(")")]))})),K(()=>({multiplier:Ve.upgrades.zeta.effect,enabled:()=>o.gt(t(Ve.upgrades.zeta.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03B6 ("),D(t(Ve.upgrades.zeta.totalAmount)),u(")")]))})),K(()=>({multiplier:Ve.upgrades.lambda.effect,enabled:()=>o.gt(t(Ve.upgrades.lambda.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03BB ("),D(t(Ve.upgrades.lambda.totalAmount)),u(")")]))})),K(()=>({multiplier:Ve.upgrades.pi.effect,enabled:()=>o.gt(t(Ve.upgrades.pi.totalAmount),0),description:q(()=>a(g,null,[u("["),e,u("] Spinor Upgrade \u03C0 ("),D(t(Ve.upgrades.pi.totalAmount)),u(")")]))}))],c={fome:d({display:{title:"Condensation",description:a(g,null,[u("Begin Foam generation")])},cost:10,onPurchase(){_.protoversal.upgrades.reform.amount.value=o.dOne}}),autoGain:d({display:{title:"Reformation",description:a(g,null,[u("Automatically gain Skyrmions; they don't cost Pions or Spinors")])},cost:16}),alpha:d({visibility(){return t(this.bought)||o.gte(t(s),20)},display:{title:"Alteration",description:a(g,null,[u("Autobuy \u03B1 upgrades"),a("br",null,null),u("\u03B1 upgrades no longer consume Pions or Spinors")])},cost:24}),beta:d({visibility(){return t(this.bought)||o.gte(t(s),25)},display:{title:"Benediction",description:a(g,null,[u("Autobuy \u03B2 upgrades"),a("br",null,null),u("\u03B2 upgrades no longer consume Pions or Spinors")])},cost:28}),gamma:d({visibility(){return t(this.bought)||o.gte(t(s),30)},display:{title:"Consolidation",description:a(g,null,[u("Autobuy \u03B3 upgrades"),a("br",null,null),u("\u03B3 upgrades no longer consume Pions or Spinors")])},cost:32}),delta:d({visibility(){return t(this.bought)||o.gte(t(s),35)},display:{title:"Diversification",description:a(g,null,[u("Autobuy \u03B4 upgrades"),a("br",null,null),u("\u03B4 upgrades no longer consume Pions or Spinors")])},cost:36}),epsilon:d({visibility(){return t(this.bought)||o.gte(t(s),40)},display:{title:"Encapsulation",description:a(g,null,[u("Autobuy \u03B5 upgrades"),a("br",null,null),u("\u03B5 upgrades no longer consume Pions or Spinors")])},cost:42}),zeta:d({visibility(){return t(this.bought)||o.gte(t(s),45)},display:{title:"Fabrication",description:a(g,null,[u("Autobuy \u03B6 upgrades"),a("br",null,null),u("\u03B6 upgrades no longer consume Pions or Spinors")])},cost:48}),eta:d({visibility(){return t(this.bought)||o.gte(t(s),50)},display:{title:"Germination",description:a(g,null,[u("Autobuy \u03B7 upgrades"),a("br",null,null),u("\u03B7 upgrades no longer consume Pions or Spinors")])},cost:52}),theta:d({visibility(){return t(this.bought)||o.gte(t(s),55)},display:{title:"Hesitation",description:a(g,null,[u("Autobuy \u03B8 upgrades"),a("br",null,null),u("\u03B8 upgrades no longer consume Pions or Spinors")])},cost:56}),iota:d({visibility(){return t(this.bought)||o.gte(t(s),60)},display:{title:"Immitation",description:a(g,null,[u("Autobuy \u03B9 upgrades"),a("br",null,null),u("\u03B9 upgrades no longer consume Pions or Spinors")])},cost:64}),kappa:d({visibility(){return t(this.bought)||o.gte(t(s),65)},display:{title:"Juxtaposition",description:a(g,null,[u("Autobuy \u03BA upgrades"),a("br",null,null),u("\u03BA upgrades no longer consume Pions or Spinors")])},cost:69}),lambda:d({visibility(){return t(this.bought)||o.gte(t(s),70)},display:{title:"Lateralization",description:a(g,null,[u("Autobuy \u03BB upgrades"),a("br",null,null),u("\u03BB upgrades no longer consume Pions or Spinors")])},cost:72}),mu:d({visibility(){return t(this.bought)||o.gte(t(s),75)},display:{title:"Materialization",description:a(g,null,[u("Autobuy \u03BC upgrades"),a("br",null,null),u("\u03BC upgrades no longer consume Pions or Spinors")])},cost:92}),nu:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Neutralization",description:a(g,null,[u("Autobuy \u03BD upgrades"),a("br",null,null),u("\u03BD upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>[N.infinitesimal,N.subspatial,N.subplanck,N.quantum][t(re.abyssUpgradeCount)],cost:2}))}),xi:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Externalization",description:a(g,null,[u("Autobuy \u03BE upgrades"),a("br",null,null),u("\u03BE upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>[N.infinitesimal,N.subspatial,N.subplanck,N.quantum][t(re.abyssUpgradeCount)],cost:2}))}),pi:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Prioritization",description:a(g,null,[u("Autobuy \u03C0 upgrades"),a("br",null,null),u("\u03C0 upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>[N.infinitesimal,N.subspatial,N.subplanck,N.quantum][t(re.abyssUpgradeCount)],cost:2}))}),rho:d({visibility(){return t(this.bought)||t(re.challenge.active)},display:{title:"Obfuscation",description:a(g,null,[u("Autobuy \u03C1 upgrades"),a("br",null,null),u("\u03C1 upgrades no longer consume Pions or Spinors")])},requirement:tn(()=>({fomeType:()=>[N.infinitesimal,N.subspatial,N.subplanck,N.quantum][t(re.abyssUpgradeCount)],cost:2}))})};return{name:e,color:n,conversion:r,skyrmions:s,totalSkyrmions:l,production:m,upgrades:c,display:q(()=>{let f;return a(g,null,[u("You have "),a(Yn,{resource:s,color:n,tag:"h2"},null),u(" "),s.displayName,o.gt(pe(N.subspatial,4),0)?a(g,null,[a("br",null,null),u("Your "),_.subspatial.amount.displayName,u(" is granting an additional "),a("h3",{style:{color:n,textShadow:`0px 0px 10px ${n}`}},[D(pe(N.subspatial,4))]),u(" "),s.displayName]):a(Ne,{height:"25px"},null),a(Ne,null,null),a("div",{class:"row",style:{flexFlow:"row nowrap"}},[te(ot.display),t(ye.expansions.skyrmion.bought)?te(re.challenge):a(Ne,{width:"250px",height:"250px"},null),te(Ve.display)]),a(Ne,null,null),a(Sp,null,Cp(f=te(r))?f:{default:()=>[f]})])}),pion:ot,spinor:Ve,abyss:re};function d(f){const{visibility:b,cost:p,requirement:w,display:C,onPurchase:S}=f;return Kc({visibility:b,requirements:w!=null?w:j(()=>({cost:p,resource:x(s),requiresPay:!1})),display:C,onPurchase:S})}});const Xr=e=>($t("data-v-5e2d38ce"),e=e(),Mt(),e),qp=Xr(()=>$("div",{class:"key"},"Ctrl",-1)),Ip=Xr(()=>$("div",{class:"key"},"Shift",-1)),$p={class:"key"},Mp=ie({__name:"Hotkey",props:{hotkey:null},setup(e){const n=e;let i="",r=!1,s=!1,l=!1;return kt(()=>{i=n.hotkey.key,r=i.startsWith("ctrl+"),r&&(i=i.slice(5)),s=i.startsWith("shift+"),s&&(i=i.slice(6)),l=i.length==1&&i.toLowerCase()!=i.toUpperCase(),l&&(i=i.toUpperCase())}),(m,c)=>(I(),A(g,null,[t(r)?(I(),A(g,{key:0},[qp,u("+")],64)):J("",!0),t(s)?(I(),A(g,{key:1},[Ip,u("+")],64)):J("",!0),$("div",$p,se(t(i)),1)],64))}});var Pp=fe(Mp,[["__scopeId","data-v-5e2d38ce"]]);const pi=ci({}),er=Symbol("Hotkey"),mr=[")","!","@","#","$","%","^","&","*","("];function ii(e){return ze(n=>{const i=e.call(n,n);return i.type=er,U(i,"enabled"),xe(i,"enabled",!0),U(i,"description"),i})}ut.on("addLayer",e=>{Tr(e,er).forEach(n=>{pi[n.key]=n})});ut.on("removeLayer",e=>{Tr(e,er).forEach(n=>{pi[n.key]=void 0})});document.onkeydown=function(e){var r;if(((r=e.target)==null?void 0:r.tagName)==="INPUT"||tr.value&&!be.keepGoing)return;let n=e.key;mr.includes(n)?n="shift+"+mr.indexOf(n):e.shiftKey&&(n="shift+"+n),e.ctrlKey&&(n="ctrl+"+n);const i=pi[n];i&&t(i.enabled)&&(e.preventDefault(),i.onPress())};ho(q(()=>{const e=Object.values(pi).filter(n=>t(n==null?void 0:n.enabled));return e.length===0?"":a("div",null,[a("br",null,null),a("h4",null,[u("Hotkeys")]),a("div",{style:"column-count: 2"},[e.map(n=>a("div",null,[a(Pp,{hotkey:n},null),u(" "),n==null?void 0:n.description]))])])}));const Tp="root",oi=[F,_,L,z,ue,ye],Kr=Ze(Tp,()=>{const e=Hn(Object.fromEntries(oi.map(i=>[i.name,()=>({display:i.name,tab:Ht(()=>({style:y(()=>({"--layer-color":t(re.challenge.active)?t(re.color):t(i.color),...t(i.tabStyle)})),display:q(()=>a(g,null,[a("div",null,[te(t(i.display))])]))})),visibility:"unlocked"in i?()=>{var r;return t((r=i.unlocked)!=null?r:!0)}:!0})]))),n={left:ii(()=>({key:"ArrowLeft",description:"Previous Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=Object.entries(e.tabs).filter(([l,m])=>ve(m.visibility)).map(([l,m])=>l);if(r.length<=0)return;const s=r.indexOf(i);switch(s){case-1:break;case 0:e.selected.value=r.at(-1);break;default:e.selected.value=r[s-1];break}}})),right:ii(()=>({key:"ArrowRight",description:"Next Tab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=Object.entries(e.tabs).filter(([l,m])=>ve(m.visibility)).map(([l,m])=>l);if(r.length<=0)return;const s=r.indexOf(i);switch(s){case-1:break;case r.length-1:e.selected.value=r[0];break;default:e.selected.value=r[s+1];break}}})),shiftLeft:ii(()=>({key:"shift+ArrowLeft",description:"Previous Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=oi.find(d=>d.name===i);if(r===void 0||!("tabs"in r))return;const s=r.tabs,l=s.selected.value;if(l===void 0)return;const m=Object.entries(s.tabs).filter(([d,f])=>ve(f.visibility)).map(([d,f])=>d);if(m.length<=0)return;const c=m.indexOf(l);switch(c){case-1:break;case 0:s.selected.value=m.at(-1);break;default:s.selected.value=m[c-1];break}}})),shiftRight:ii(()=>({key:"shift+ArrowRight",description:"Next Subtab",onPress(){const i=e.selected.value;if(i===void 0)return;const r=oi.find(d=>d.name===i);if(r===void 0||!("tabs"in r))return;const s=r.tabs,l=s.selected.value;if(l===void 0)return;const m=Object.entries(s.tabs).filter(([d,f])=>ve(f.visibility)).map(([d,f])=>d);if(m.length<=0)return;const c=m.indexOf(l);switch(c){case-1:break;case m.length-1:s.selected.value=m[0];break;default:s.selected.value=m[c+1];break}}}))};return{name:"Root",minWidth:300,display:q(()=>t(_.unlocked)?a(g,null,[te(e)]):a("div",{style:{"--layer-color":t(F.color)}},[te(t(e.tabs[F.name].tab))])),hotkeys:n,tabs:e}}),xp=e=>[...Object.values(oi),Kr],tr=y(()=>!1);function Ap(e,n){}var Fp=Object.freeze(Object.defineProperty({__proto__:null,root:Kr,getInitialLayers:xp,hasWon:tr,fixOldSave:Ap},Symbol.toStringTag,{value:"Module"}));const Qn=e=>($t("data-v-4a50ce42"),e=e(),Mt(),e),Bp={class:"game-over-modal-header"},Ep=["src","alt"],Rp={class:"game-over-modal-title"},Op=Qn(()=>$("h2",null,"Congratulations!",-1)),Dp={key:0},Lp=Qn(()=>$("br",null,null,-1)),jp=Qn(()=>$("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),Vp=Qn(()=>$("br",null,null,-1)),Up=["href"],zp=Qn(()=>$("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),Gp=ie({__name:"GameOverScreen",setup(e){const{title:n,logo:i,discordName:r,discordLink:s,versionNumber:l,versionTitle:m}=he,c=y(()=>Oi(be.timePlayed)),d=y(()=>tr.value&&!be.keepGoing),f=Qt(be,"autosave");function b(){be.keepGoing=!0}function p(){cn(_n())}return(w,C)=>(I(),ne(fn,{"model-value":t(d)},{header:me(()=>[$("div",Bp,[t(i)?(I(),A("img",{key:0,class:"game-over-modal-logo",src:t(i),alt:t(n)},null,8,Ep)):J("",!0),$("div",Rp,[Op,$("h4",null,"You've beaten "+se(t(n))+" v"+se(t(l))+": "+se(t(m)),1)])])]),body:me(({shown:S})=>[S?(I(),A("div",Dp,[$("div",null,"It took you "+se(t(c))+" to beat the game.",1),Lp,jp,Vp,$("div",null,[$("a",{href:t(s),class:"game-over-modal-discord-link"},[zp,u(" "+se(t(r)),1)],8,Up)]),a(Dt,{title:"Autosave",modelValue:t(f),"onUpdate:modelValue":C[0]||(C[0]=k=>De(f)?f.value=k:null)},null,8,["modelValue"])])):J("",!0)]),footer:me(()=>[$("div",{class:"game-over-footer"},[$("button",{onClick:b,class:"button"},"Keep Going"),$("button",{onClick:p,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var Hp=fe(Gp,[["__scopeId","data-v-4a50ce42"]]);const fi=e=>($t("data-v-d3bb0716"),e=e(),Mt(),e),Wp=fi(()=>$("div",{class:"nan-modal-header"},[$("h2",null,"NaN value detected!")],-1)),Yp={key:0},Xp=fi(()=>$("br",null,null,-1)),Kp=["href"],Qp=fi(()=>$("span",{class:"material-icons nan-modal-discord"},"discord",-1)),Zp=fi(()=>$("br",null,null,-1)),Jp={class:"nan-footer"},ef=ie({__name:"NaNScreen",setup(e){const{discordName:n,discordLink:i}=he,r=de(!0),s=de(!0),l=Qt(Ke,"hasNaN"),m=de(null);wt(l,w=>{w?(r.value=be.autosave,s.value=be.devSpeed===0):(be.autosave=r.value,be.devSpeed=s.value?0:null)});const c=y(()=>{var w;return(w=Ke.NaNPath)==null?void 0:w.join(".")}),d=y(()=>Ke.NaNPersistent!=null?Ke.NaNPersistent.value:null);function f(){Ke.NaNPersistent!=null&&(Ke.NaNPersistent.value=new o(0),Ke.hasNaN=!1)}function b(){Ke.NaNPersistent&&(Ke.NaNPersistent.value=new o(1),Ke.hasNaN=!1)}function p(){Ke.NaNPersistent&&(Ke.NaNPersistent.value=new o(NaN),Ke.hasNaN=!1)}return(w,C)=>(I(),A(g,null,[a(fn,qt({modelValue:t(l),"onUpdate:modelValue":C[4]||(C[4]=S=>De(l)?l.value=S:null)},w.$attrs),{header:me(()=>[Wp]),body:me(()=>[$("div",null,[u(' Attempted to assign "'+se(t(c))+'" to NaN',1),t(d)?(I(),A("span",Yp,se(" ")+"(previously "+se(t(li)(t(d)))+")",1)):J("",!0),u(". Auto-saving has been "+se(r.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),Xp,$("div",null,[$("a",{href:t(i)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[Qp,u(" "+se(t(n)||"Profectus & Friends"),1)],8,Kp)]),Zp,a(Dt,{title:"Autosave",modelValue:r.value,"onUpdate:modelValue":C[0]||(C[0]=S=>r.value=S)},null,8,["modelValue"]),t(he).enablePausing?(I(),ne(Dt,{key:0,title:"Pause game",modelValue:s.value,"onUpdate:modelValue":C[1]||(C[1]=S=>s.value=S)},null,8,["modelValue"])):J("",!0)]),footer:me(()=>[$("div",Jp,[$("button",{onClick:C[2]||(C[2]=S=>{var k;return(k=m.value)==null?void 0:k.open()}),class:"button"},"Open Saves Manager"),$("button",{onClick:f,class:"button"},"Set to 0"),$("button",{onClick:b,class:"button"},"Set to 1"),t(d)&&t(o).neq(t(d),0)&&t(o).neq(t(d),1)?(I(),A("button",{key:0,onClick:C[3]||(C[3]=S=>l.value=!1),class:"button"}," Set to previous ")):J("",!0),$("button",{onClick:p,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),a(Or,{ref_key:"savesManager",ref:m},null,512)],64))}});var tf=fe(ef,[["__scopeId","data-v-d3bb0716"]]);const nf={key:0,class:"tpsDisplay"},rf=ie({__name:"TPS",setup(e){const n=y(()=>o.div(Ke.lastTenTicks.length,Ke.lastTenTicks.reduce((i,r)=>i+r,0)));return(i,r)=>t(n).isNan()?J("",!0):(I(),A("div",nf,"TPS: "+se(t(mn)(t(n))),1))}});var sf=fe(rf,[["__scopeId","data-v-89b89152"]]);var of=ie({__name:"App",setup(e){const n=he.useHeader,i=y(()=>In[Ie.theme].variables),r=Qt(Ie,"showTPS"),s=Qt(Ke,"errors"),l=y(()=>oe(q(()=>a(g,null,[vo.map(te)]))));return(m,c)=>t(s).length>0?(I(),A("div",{key:0,class:"error-container",style:Be(t(i))},[a(vr,{errors:t(s)},null,8,["errors"])],4)):(I(),A(g,{key:1},[$("div",{id:"modal-root",style:Be(t(i))},null,4),$("div",{class:Pe(["app",{useHeader:t(n)}]),style:Be(t(i))},[t(n)?(I(),ne(Dr,{key:0})):J("",!0),a(qc),t(t(r))?(I(),ne(sf,{key:1})):J("",!0),a(Hp),a(tf),(I(),ne(Ce(t(l))))],6)],64))}});var af=fe(of,[["__scopeId","data-v-bf4e22ac"]]);function lf(e={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:m}=e;let c,d,f,b;const p=async(C=!0)=>{await f,C&&(c==null||c.addEventListener("controlling",S=>{S.isUpdate&&window.location.reload()})),await(b==null?void 0:b())};async function w(){if("serviceWorker"in navigator){const{Workbox:C,messageSW:S}=await Rn(()=>import("./workbox-window.4a8794bb.js"),[]);b=async()=>{d&&d.waiting&&await S(d.waiting,{type:"SKIP_WAITING"})},c=new C("./sw.js",{scope:"./",type:"classic"}),c.addEventListener("activated",k=>{k.isUpdate||r==null||r()});{const k=()=>{i==null||i()};c.addEventListener("waiting",k),c.addEventListener("externalwaiting",k)}c.register({immediate:n}).then(k=>{d=k,l?l("./sw.js",k):s==null||s(k)}).catch(k=>{m==null||m(k)})}}return f=w(),p}function uf(e={}){const{immediate:n=!0,onNeedRefresh:i,onOfflineReady:r,onRegistered:s,onRegisteredSW:l,onRegisterError:m}=e,c=de(!1),d=de(!1);return{updateServiceWorker:lf({immediate:n,onNeedRefresh(){c.value=!0,i==null||i()},onOfflineReady(){d.value=!0,r==null||r()},onRegistered:s,onRegisteredSW:l,onRegisterError:m}),offlineReady:d,needRefresh:c}}const nr=console.error;console.error=function(...e){nr(...e)};window.onerror=function(e,n,i,r,s){return Ke.errors.push(s instanceof Error?s:new Error(JSON.stringify(s))),nr(s),!0};window.onunhandledrejection=function(e){Ke.errors.push(e.reason instanceof Error?e.reason:new Error(JSON.stringify(e.reason))),nr(e.reason)};document.title=he.title;window.projInfo=he;he.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await fo();const{globalBus:e}=await Rn(()=>Promise.resolve().then(function(){return mo}),void 0),{startGameLoop:n}=await Rn(()=>import("./gameLoop.4937ea0b.js"),["assets/gameLoop.4937ea0b.js","assets/@fontsource.f66d05e7.css","assets/vue.7234e199.js","assets/lz-string.bfbf8ec3.js","assets/@vue.6b211d3c.js","assets/nanoevents.1080beb7.js","assets/vue-next-select.1947c758.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.60c57c44.js","assets/sortablejs.93acc2fb.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-toastification.00c27ea8.js","assets/vue-toastification.4b5f8ac8.css"]),i=window.vue=os(af);i.config.errorHandler=function(r,s,l){console.error(r,l,s)},e.emit("setupVue",i),i.mount("#app"),sn(()=>{const r=hr(),{updateServiceWorker:s}=uf({onNeedRefresh(){r.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){s()}})},onOfflineReady(){r.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(l){l&&setInterval(()=>l.update(),60*60*1e3)}})}),n()});export{o as D,Rn as _,Ke as a,he as b,Fp as c,ut as g,Ti as l,be as p,Ie as s};
